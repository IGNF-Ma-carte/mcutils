var e=globalThis,t={},s={},a=e.parcelRequire8969;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var a=s[e];delete s[e];var l={id:e,exports:{}};return t[e]=l,a.call(l.exports,l,l.exports),l.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},e.parcelRequire8969=a),(0,a.register)("agEcb",function(e,t){function s(t){return e.exports=s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports});var l=a("gXJm2");a("cvawf");var n=a("kbFhP"),i=a("kkNxo"),o=a("bS8Lk"),r=a("fP3gd");a("ikA7k"),a("eKonl"),a("egZgD"),a("kYFpn"),a("8lx5x"),a("1Phln");var c=a("h1ihb"),u=a("iQyfo");const p=c.default.prototype.defs||c.default.defs,h=p.glyphs,d=p.fonts;let f={};Object.keys(h).forEach(e=>{h[e].theme&&(f[h[e].theme.split(",")]=!0)}),delete f.FontAwesome,delete f.evilz,f=Object.keys(f).sort();const m="MC@RecentGlyphs";class g extends r.default{constructor(e){(e=e||{}).position||(e.position="fixed"),e.className="popup-symbol",super(e),this._elt.symbol=(0,u.default).create("I",{parent:this.element}),this.setValue(e.symbol||"ign-form-poi"),this.input.addEventListener("change",()=>{this.setValue()});let t=(0,u.default).create("INPUT",{type:"search",placeholder:"Rechercher un symbol...",parent:this._elt.popup});this.on("change:visible",()=>{setTimeout(()=>t.focus(),100)});let s=(0,u.default).create("DIV",{className:"filter",parent:this._elt.popup}),a=(0,u.default).create("SELECT",{parent:s});(0,u.default).create("OPTION",{html:"toutes les polices",value:"",parent:a}),Object.keys(d).forEach(e=>{(0,u.default).create("OPTION",{html:e,parent:a})});let l=(0,u.default).create("SELECT",{parent:s});(0,u.default).create("OPTION",{html:"tous les thèmes",value:"",parent:l}),f.forEach(e=>{(0,u.default).create("OPTION",{html:e,parent:l})});let n=(e,t)=>{h[e]&&(0,u.default).create("LI",{html:h[e].char,"data-id":e,title:h[e].name,style:{"font-family":h[e].font},click:()=>{this.setValue(e),this.collapse(!0)},parent:t})};(0,u.default).create("H2",{html:"Récents",parent:this._elt.popup});let i=(0,u.default).create("UL",{className:"recent",parent:this._elt.popup}),o=[];try{(o=localStorage.getItem(m).split(",")).forEach(e=>n(e,i))}catch(e){}this.on("select",e=>{let t=o.indexOf(e.value);t>=0&&o.splice(t,1),o.unshift(e.value),o.length>10&&o.pop();try{localStorage.setItem(m,o.join(","))}catch(e){}i.innerHTML="",o.forEach(e=>n(e,i))}),(0,u.default).create("H2",{html:"Symboles",parent:this._elt.popup});let r=(0,u.default).create("UL",{parent:this._elt.popup});Object.keys(h).forEach(e=>n(e,r)),window.popup=this;let c=(function(e){let s=new RegExp(t.value),n=l.value,i=a.value;r.querySelectorAll("li").forEach(e=>{let t=h[e.dataset.id];(s.test(t.search)||s.test(t.name))&&(!n||n===t.theme)&&(!i||i===t.font)?e.style.display="":e.style.display="none"}),("change"===e.type||"search"===e.type)&&this.collapse(!1)}).bind(this);(0,u.default).addListener(t,["change","keyup","search"],c),l.addEventListener("change",c),a.addEventListener("change",c)}}g.prototype.setValue=function(e){if(e&&!h[e])return!1;if(this.input.value!==e){if(e&&(this.input.value=e),this._elt.symbol.className="fa "+this.input.value,!h[this.input.value])return!1;this.dispatchEvent({type:"select",value:this.input.value})}return!0};var y=a("a10XN"),u=(a("iQyfo"),a("iQyfo")),v=a("9LKAN"),E=class extends v.default{constructor(e){switch(super(e=e||{}),this._content=(0,u.default).create("DIV"),(e.hidden||e.disabled)&&(e.hover=!0),this.element=(0,u.default).create("DIV",{html:this._content,className:"ol-input-popup"+(e.hover?" ol-hover":"")}),this.set("hideOnClick",!1!==e.hideOnClick),e.className&&this.element.classList.add(e.className),e.fixed&&(this.element.classList.add("ol-fixed"),this.set("hideOnClick",!1)),e.align){case"middle":this.set("hideOnClick",!1);case"rigth":this.element.classList.add("ol-"+e.align)}var t=this.input;t.parentNode&&t.parentNode.insertBefore(this.element,t),this.element.appendChild(t);var s=this.popup=(0,u.default).create("UL",{className:"ol-popup",parent:this.element}),a=[];e.options.forEach(e=>{a.push({value:e.value,element:(0,u.default).create("LI",{html:e.html,title:e.title||e.value,className:"ol-option",on:{pointerdown:(function(){this.setValue(e.value),this.get("hideOnClick")&&(s.style.display="none",setTimeout(function(){s.style.display=""},200))}).bind(this)},parent:this.popup})})}),this.input.addEventListener("change",(function(){var e,t=this.input.value;a.forEach(function(s){s.value==t?(s.element.classList.add("ol-selected"),e=s.element):s.element.classList.remove("ol-selected")}),this.dispatchEvent({type:"change:value",value:this.getValue()}),this._content.innerHTML=e?e.innerHTML:""}).bind(this));var l=new Event("change");setTimeout((function(){this.input.dispatchEvent(l)}).bind(this))}},b=class extends E{constructor(e){(e=e||{}).options=[],(e.size||[0,2,3,5,8,13,21,34,55]).forEach(function(t){e.options.push({value:t,html:(0,u.default).create("DIV",{className:"ol-option-"+t,style:{fontSize:t?t+"px":void 0}})})}),super(e),this._content.remove(),this.element.classList.add("ol-size")}getValue(){return parseFloat(super.getValue())}},u=a("iQyfo"),S=class extends E{constructor(e){(e=e||{}).options=[],(e.size||[0,1,2,3,5,10,15,20]).forEach(function(t){e.options.push({value:t,html:(0,u.default).create("DIV",{className:"ol-option-"+t,style:{height:t||void 0}})})}),super(e),this._content.remove(),this.element.classList.add("ol-width")}getValue(){return parseFloat(super.getValue())}},u=a("iQyfo"),r=a("fP3gd");class k extends r.default{constructor(e){(e=e||{}).hidden=!1,super(e),this.element.classList.add("ol-dash"),this.input.pattern="[0-9,.]*",this.input.type="text";let t=[],s=["","5,5","0,5","5,5,0,5","10,5","10,5,0,5"];s.forEach(e=>{t.push((0,u.default).create("DIV",{html:(0,u.default).create("DIV",{className:"ol-option-"+(e.replace(/,/g,"-")||"0")}),click:()=>{this.setValue(e),this.collapse(!0)},parent:this._elt.popup}))});let a=(0,u.default).create("CANVAS");this.element.append(a),a.width=50,a.height=2;let l=a.getContext("2d");l.lineWidth=3,l.lineCap="butt",this.element.append(a),this.input.addEventListener("change",()=>{setTimeout(()=>{t.forEach((e,t)=>{e.className=this.input.value===s[t]?"selected":""});let e=0,a=0,n=this.input.value.split(",");for(n.length%2&&n.push(0),l.clearRect(0,0,100,100),l.beginPath(),l.moveTo(0,0);a<50;)e%2?(a+=parseFloat(n[e%n.length]),l.moveTo(a,0)):(a+=(parseFloat(n[e%n.length])||1)+1,l.lineTo(a,0)),e++;l.stroke()})}),this.setValue(this.input.value)}}var r=a("fP3gd"),L=a("3yg5q"),u=a("iQyfo");const x=Object.keys(L.default.prototype.patterns||L.default.patterns);x.unshift("");const w={size:"Taille",spacing:"Espacement",angle:"Angle",offset:"Décalage",scale:"Echelle"};class N extends r.default{constructor(e){(e=e||{}).position||(e.position="fixed"),e.className="popup-pattern",super(e),this._elt.pattern=(0,u.default).create("DIV",{className:"ol-vignet",parent:this.element});let t=(0,u.default).create("UL",{parent:this._elt.popup});x.forEach(e=>{let s=new L.default({pattern:e});(0,u.default).create("LI",{title:e,className:e||"none",style:{backgroundImage:e?'url("'+s.getImage().toDataURL()+'")':""},click:()=>{this.setPattern(e)},parent:t})});let s=(0,u.default).create("DIV",{className:"parameters",parent:this._elt.popup});(0,u.default).create("P",{html:"Paramètres :",className:"param-title",parent:s});let a=this.getOptions();Object.keys(w).forEach(e=>{if((0,u.default).create("LABEL",{html:w[e],className:e,parent:s}),"angle"===e){let t=(0,u.default).createCheck({type:"checkbox",className:e+" small",parent:s});t.addEventListener("change",()=>{this.setAngle(t.checked?1:0),t.nextSibling.value=t.checked?1:0})}(0,u.default).create("INPUT",{type:"number",className:e,value:a[e],min:0,step:"scale"===e?.1:0,change:t=>{this.set(e,parseFloat(t.target.value)),"angle"===e&&(t.target.previousSibling.querySelector("input").checked=0!=t.target.value),this.setValue()},parent:s})}),(0,u.default).create("BUTTON",{html:"OK",className:"button button-colored",click:()=>{this.collapse(!0)},parent:s})}}N.prototype.setPattern=function(e){0>x.indexOf(e)||(this.set("pattern",e),this.element.dataset.pattern=e,this.element.querySelectorAll("li").forEach(e=>delete e.dataset.selected),this.element.querySelector("li."+(e||"none")).dataset.selected="",this.setValue())},N.prototype.setSize=function(e){this.set("size",e),this.element.querySelector("input.size").value=e,this.setValue()},N.prototype.setSpacing=function(e){this.set("spacing",e),this.element.querySelector("input.spacing").value=e,this.setValue()},N.prototype.setAngle=function(e){this.set("angle",e),this.element.querySelector('.ol-ext-check.angle input[type="checkbox"]').checked=0!=e,this.element.querySelector('input[type="number"].angle').value=e,this.setValue()},N.prototype.setOffset=function(e){this.set("offset",e),this.element.querySelector("input.offset").value=e,this.setValue()},N.prototype.setScale=function(e){this.set("scale",e),this.element.querySelector("input.scale").value=e,this.setValue()},N.prototype.getOptions=function(){let e={pattern:this.get("pattern")||"",size:this.get("size")||5,spacing:this.get("spacing")||10,angle:this.get("angle")||0,offset:this.get("offset")||0,scale:this.get("scale")||1};return"hatch"!==e.pattern&&(e.angle=e.angle>0?1:0),e},N.prototype.setValue=function(e){if(e){if("string"==typeof e){let t=e.split("-");e={pattern:t[0]||"",size:t[1]||5,spacing:t[2]||10,angle:t[3]||0,offset:t[4]||0,scale:t[5]||1}}this.setPattern(e.pattern),this.setSize(e.size),this.setSpacing(e.spacing),this.setAngle(e.angle),this.setOffset(e.offset),this.setScale(e.scale)}let t=this.getOptions();if(e="",Object.keys(t).forEach(s=>e+=(e?"-":"")+t[s]),this.input.value!==e){this.input.value=e;let s=new L.default(t);this._elt.pattern.style.backgroundImage=t.pattern?'url("'+s.getImage().toDataURL()+'")':"",t.type="change",this.dispatchEvent(t)}};var q=a("3FmSU");(0,l.default).setApp("macarte","Ma carte"),(0,l.default).setInputPlaceholder(),(0,l.default).on(["header:menu","header:mega","header:title"],console.log),(0,l.default).on(["header:list"],console.log),(0,l.default).on(["menu:list"],console.log),new q.default({type:"info",message:"Les flash messages permettent d'informer les utilisateurs sur ce qui se passe..."}),document.querySelector(".flashMessage").addEventListener("click",()=>{let e=[{type:"info",message:"Les flash messages permettent d'informer les utilisateurs sur ce qui se passe..."},{type:"success",message:"Tout c'est passé correctement, vous pouvez continuer à travailler..."},{type:"error",message:"Oops ! Une erreur est survenue, faites attention à ce que vous faites !"},{type:"warning",message:"C'est pas encore parfait mais on y travaille..."}],t=Math.trunc(Math.random()*e.length);console.log(t),new q.default(e[t])}),document.querySelector(".message").addEventListener("click",()=>{(0,i.default).showMessage("Affichage d'un message...")}),document.querySelector(".alert").addEventListener("click",()=>{(0,i.default).showAlert("Une erreur s'est produite...")}),document.querySelector(".E404").addEventListener("click",()=>{(0,i.default).show404("Une erreur est survenue","message d'erreur")}),document.querySelector(".notification").addEventListener("click",()=>{(0,o.default).show("Quelque chose s'est produit...")}),document.querySelector(".progress").addEventListener("click",()=>{(0,i.default).show({title:"Patientez...",buttons:{ok:"ok"}}),(0,i.default).setContentMessage("80%"),(0,i.default).setProgress(8,10,'<i class="fi-location"> 8 sur 10 adresses traitées</i> - <i class="fi-clock"> Temps restant : 1 mn 30 s</i>')}),new g({input:document.querySelector(".symbol"),position:"fixed"}),new y.default({input:document.querySelector(".color"),position:"fixed"}),new b({input:document.querySelector(".size")}),new S({input:document.querySelector(".width")}),new k({input:document.querySelector(".dash")}),new N({input:document.querySelector(".pattern")});const O=document.querySelector("ul.accordion");(0,l.default).createAccordionElement(O,{title:"Titre",isTitle:!0}),(0,l.default).createAccordionElement(O,{title:"Accordéon dynamique",expended:!1,name:"accordion-1",content:"Inséré avec <code>charte.createAccordionElement</code>"}),(0,l.default).createAccordionElement(O,{title:"Accordion button",name:"accordion-1",content:null,click:()=>(0,n.default).showMessage("Vous avez cliqué sur l'accordéon..")}),(0,l.default).initAccordion(document.querySelector("ul.accordion")),(0,l.default).initTabList(document.querySelector('[data-role="tabs"]')),(0,l.default).setCarousel(),window.charte=l.default,window.dialog=n.default,window.dialogMessage=i.default,window.notification=o.default;