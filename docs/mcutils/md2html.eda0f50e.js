function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n=globalThis,a={},i={},s=n.parcelRequire8969;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},n.parcelRequire8969=s);var l=s.register;l("hgFwk",function(t,n){e(t.exports,"showHelp",()=>u),e(t.exports,"default",()=>d);var a=s("6od7S"),i=s("kOWwI"),l=s("l956U"),r=s("iQyfo");s("4k2SX");let o=new a.default({className:"md",closeBox:!0,target:document.body});function u(e,t){t=t||{},o.show({title:t.title||"",content:(0,l.default)(e,t.mdOptions),className:"help",buttons:t.buttons||["ok"],onButton:t.onButton}),o.element.classList.remove("large"),o.element.classList.remove("medium"),o.element.classList.remove("small"),(t.className||"").split(" ").forEach(e=>{o.element.classList.add(e||"large")}),(0,l.default).renderWidget(o.element)}o.setMap(i.default),o.on("hide",()=>o.setContent("none")),o.on("show",()=>o.getContentElement().scrollTop=0);var d=function(e,t,n){n=n||"","I"===e.tagName?(e.classList.add("mc-help"),e.title=n.title||"aide..."):e=(0,r.default).create("I",{className:"mc-help",title:n.title||"aide...",parent:e}),e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),u(t,n)})}}),l("agEcb",function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),l("kMG75",function(t,n){let a;e(t.exports,"default",()=>o);var i=s("fnScq"),l=s("iQyfo");class r extends i.default{constructor(e,t){super(),t=t||{},this.set("full",!!t.full),this.api=e;let n=this.element=(0,l.default).create("DIV",{className:"author-list",parent:t.target}),a=this.searchInput=(0,l.default).create("INPUT",{type:"text",className:"author",placeholder:"chercher un membre...",parent:n});(0,l.default).create("I",{className:"loading",parent:n});let i=(0,l.default).create("UL",{className:"autocomplete",parent:n});a.addEventListener("keyup",()=>{this.autocompleteAuthor(a.value,i)}),a.addEventListener("focus",()=>{i.style.display="block"}),a.addEventListener("focusout",()=>{setTimeout(()=>i.style.display="none",200)})}}r.prototype.setUser=function(e){this.searchInput.value=e},r.prototype.autocompleteAuthor=function(e,t){e!==this._currentSearch&&(this._currentSearch=e,a&&clearTimeout(a),this.element.dataset.loading="",a=setTimeout(()=>{if(!e){t.innerHTML="",delete this.element.dataset.loading;return}this.get("full")?this.api.getUsers(e,e=>{delete this.element.dataset.loading,t.innerHTML="",e&&e.forEach&&e.forEach(e=>{let n=(0,l.default).create("LI",{text:e.public_name,className:"full",click:()=>{this.dispatchEvent({type:"select",user:e})},parent:t});e.profile_picture&&(0,l.default).create("IMG",{src:e.profile_picture,parent:n})})}):this.api.searchMapUsers({public_name:e},e=>{delete this.element.dataset.loading,t.innerHTML="",e&&e.forEach&&e.forEach(e=>{(0,l.default).create("LI",{html:e,click:()=>{this.dispatchEvent({type:"select",public_name:e})},parent:t})})})},500))};var o=r});var r=s("gXJm2"),o=s("iQyfo"),u=s("l956U"),d=s("jmRXz"),o=s("iQyfo"),c=s("fnScq"),u=s("l956U"),p=s("a10XN"),f=s("lqNjm"),m=s("DW21e"),h=s("hgFwk"),g=s("6od7S"),b=s("kOWwI"),v=`
<label>Url du <span class="media">m\xe9dia</span><span class="link">lien</span> :</label>
<input class="durl" type="url" placeholder="https://" list="twitterURL" />
<label class="mdalt">Texte alternatif :</label>
<input type="text" class="mdalt" />
<label class="mdpop">Texte au survol :</label>
<input type="text" class="mdpop" />
<datalist id="twitterURL">
  <option value="https://twitter.com/_USER_/status/_ID_">Afficher un tweet</option>
  <option value="https://twitter.com/_USER_/timeline">Timeline d'un utilisateur</option>
  <option value="https://twitter.com/_USER_/timeline/_ID_">Afficher une timeline</option>
  <option value="https://twitter.com/_USER_/timegrid/_ID_">Afficher une grille</option>
</datalist>
<i class="twitter">
  Rechercher <a href="https://tweetdeck.twitter.com/" target="_blank">vos timelines</a>.
</i>
<label class="mdimgsize">Taille du m\xe9dia :</label>
<label class="twitter">Nombre de tweets / afficher l'image du tweet :</label>
<input class="width" type="number" min="0" placeholder="auto" />
<span class="mdimgsize"> x </span>
<br class="twitter"/>
<span class="twitter">Largeur du m\xe9dia:</span>
<input class="height" type="number" min="0" placeholder="auto" />
<label class="fullscreen ol-ext-check ol-ext-checkbox small"><input class="fullscreen" type="checkbox"><span></span>lien plein \xe9cran au clic</label>
`,w=["fa-smile-o","fa-meh-o","fa-frown-o","fa-eye","fa-heart","fa-times","fa-star","fa-tag","fa-map-o","fa-map-marker","fa-wheelchair","fa-car","fa-anchor","fa-camera","fa-clock-o","fa-coffee","fa-gear","fa-calendar","fa-eye","fa-circle","fa-play","fa-pause","fa-comment","fa-comments","fa-download","fa-envelope","fa-reply","fa-share","fa-rss","fa-wifi","fa-bluetooth-b","fa-retweet","fa-book","fa-bookmark","fa-warning","fa-file-o","fa-file-photo-o","fa-folder","fa-lock","fa-unlock","fa-mobile","fa-paint-brush","fa-pencil","fa-phone","fa-shopping-cart","fa-thumbs-up","fa-user","fa-volume-up","fa-ban","fa-chain","fa-external-link","fa-pie-chart","fa-check","fa-square-o","fa-check-square-o"],x=`
<label>Code HTML embarqu\xe9 :</label>
<textarea class="dtextarea" placeholder="<blockcode>" rows="5" cols="50"></textarea>
<label class="mdimgsize">Taille du m\xe9dia :</label>
<input class="width" type="number" min="0" placeholder="auto" />
<span class="mdimgsize"> x </span>
<input class="height" type="number" min="0" placeholder="auto" />
`;s("gIJof");var y={};y="Ma carte utilise le [Markdown](https://fr.wikipedia.org/wiki/Markdown) pour formater le texte et le présenter à l'utilisateur.    \nLa syntaxe Markdown est très intuitive et est basé sur l'utilisation de balises.\nLa syntaxe a été étendue pour permettre des affichages spécifique et la gestion d'attributs.\n\n## Gras et italique\n\nPour écrire en gras et en italique il suffit d’utiliser les **étoiles**, appelées aussi **astérisques**, une seule pour l'italique et deux pour la gras (trois pour le gras italique). Pour souligner un texte, on utilise deux **tirets bas**. Pour barrer un texte, on utilise deux **tildes**.\nIl est possible d'échapper le caratère \\\\* avec un \\\\ ou en utilisant `&#42;`.\n[++ :fa-code:fw: Code ++]\n```md\nun texte en *italique*\nun text en **gras**\nun text en ***gras et italique***\nun text __souligné__\nun text ~~barré~~\nun astérix en gras : **\\\\***\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nun texte en *italique*\nun text en **gras**\nun text en ***gras et italique***\nun text __souligné__\nun text ~~barré~~\nun astérix en gras : **\\\\***\n[----]\n\n## Exposants et autre\n\nLa syntaxe `^&lpar;texte)` permet de mettre du texte en exposant et `^&lpar;_texte)` pour du texte en indice.\nOn utilise trois signes moins ou plus pour afficher une séparation horizontale.\nOn peut utiliser la syntaxe **`<kbd>`** pour afficher un caractère clavier.\n\n[++ :fa-code:fw: Code ++]\n```txt\n1^(er) exposant\nformule du glucose (C^(_6)H^(_12)O^(_6))\n-----\nCopier: <kbd Ctrl>+<kbd C>\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n1^(er) exposant\nformule du glucose (C^(_6)H^(_12)O^(_6))\n-----\nCopier: <kbd Ctrl>+<kbd C>\n[----]\n\n## Titres\n\nPour rédiger un titre avec Markdown, on utilise le **dièse**. \nUtilisze **`&lt;br&gt;`** pour forcer un saut de ligne.\n[++ :fa-code:fw: Code ++]\n```md\n#  Titre 1\n## Titre 2<br>sur 2 lignes\n###  Titre 3\n#### Titre 4\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n#  Titre 1\n## Titre 2<br>sur 2 lignes\n###  Titre 3\n#### Titre 4\n[----]\n\n## Hyper-liens\n\nMa carte reconnait les liens et les rend automatiquement cliquable.\nOn peut utiliser la syntaxe complète pour nommer un lien :\n`[Nom du lien]&lpar;&#104;ttps://example.com/ titre de lien optionnel)`. \nOn peut aussi créer des liens vers un mail (mailto://) ou un numéro de téléphone (tel://).\n[++ :fa-code:fw: Code ++]\n```md\nUn lien automatique https://geoservice.ign.fr\nUn lien vers [Géoservice](https://geoservice.ign.fr les services de l'IGN)\nLien vers un mail mailto:toto.dupont@ign.fr\nEnvoyer un mail : [Toto](mailto:toto.dupont@ign.fr)\nTéléphone: (tel:0143988000)\n[Appeler la maintenance](tel:+33143988000)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nUn lien automatique https://geoservice.ign.fr\nUn lien vers [Géoservice](https://geoservice.ign.fr les services de l'IGN)\nLien vers un mail mailto:toto.dupont@ign.fr\nEnvoyer un mail : [Toto](mailto:toto.dupont@ign.fr)\nTéléphone: (tel:0143988000)\n[Appeler la maintenance](tel:+33143988000)\n[----]\n\n### Liens spécifiques\n\nIl est possible de créer des liens pour se déplacer sur une carte avec la syntaxe `[Nom du lien](app://moveTo?{lon},{lat},{zoom} titre du lien optionnel)` \nDans ce cas la dernière carte ouverte se centrera sur les coordonnées en longitude et latiture fournies dans le lien (lon, lat). Si le zoom est fourni, il sera utilisé pour ajuster celui de la carte.\nIl est également possible d'utiliser app://flyTo pour aller à une coordonnée en mode survol.\n[++ :fa-code:fw: Code ++]\n```md\n[Aller à Paris](app://moveTo?2.351828,48.856578,9 Aller à Paris)\n[Voler à Paris](app://flyTo?2.351828,48.856578,9 Aller à Paris)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n[Aller à Paris](app://moveTo?2.351828,48.856578,9 Aller à Paris)\n[Voler à Paris](app://flyTo?2.351828,48.856578,9 Aller à Paris)\n[----]\n\n#### Changer d'étape\nDans une carte narrative en mode étape, vous pouvez aller à une étape en utilisant la syntaxe `[Nom du lien]&lpar;app://stepTo?{numero_etape} titre du lien optionnel)`.\nIl est également possible de passer à l'étape suivante (`app://stepTo?next`), précédente (`app://stepTo?prev`) ou la première (`app://stepTo?first`) ou la denière (`app://stepTo?last`).\n⚠️ les étapes commence à 0 (`app://stepTo?1` va à l'étape 2).\n💡 il est également possible d'aller à une étape nommée (`app://stepTo?nom_etape`) ou nom_etape est le titre de l'étape, mais le nom ne doit pas contenir de caractères spéciaux (accent, etc.), seulement des lettres, des chiffres et `+`,`-`,`_`.\n💡 vous pouvez également renvoyer à la table des matières (`app://stepTo?toc`) (toc = table of content)\n[++ :fa-code:fw: Code ++]\n```md\n[Aller au 6](app://stepTo?5 Aller à l'étape 6)\n[Aller à la fin](app://stepTo?last Aller la dernière étape)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n[Aller au 6](app://stepTo?5 Aller à l'étape 6)\n[Aller à la fin](app://stepTo?last Aller la dernière étape)\n[----]\n\n#### Changer d'onglet\nDans une carte narrative en mode onglet, vous pouvez changer d'onglet en utilisant la syntaxe `[Nom du lien]&lpar;app://tabTo?{numero_onglet} titre du lien optionnel)`.\nNB: la numérotation des onglet commence à 0 (le premier onglet est donc le 0).\nVous pouvez également indiquer l'identifiant de la carte plutôt que le numéro de l'onglet (l'identifiant de la carte est le numéro unique à 5 caractères indiqué dans l'url de visualisation de la carte).\n[++ :fa-code:fw: Code ++]\n```md\n[Aller à l'onglet 3](app://tabTo?2 onglet 3)\n[Changer d'onglet](app://tabTo?mq0piZ)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n[Aller à l'onglet 3](app://tabTo?2 onglet 3)\n[Changer d'onglet](app://tabTo?mq0piZ)\n[----]\n\n#### Description au survol\n\nDans le même esprit, on peut générer un lien sur la page pour juste afficher une information au survol en utilisant `#` comme url.\n\n[++ :fa-code:fw: Code ++]\n```md\n[:fa-info-circle: Description au survol](# un texte d'information)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n[:fa-info-circle: Description au survol](# un texte d'information)\n[----]\n\n## Code\n\nPour écrire un morceau de code dans un texte, Markdown l’identifie au moyen du caractère **apostrophe inversée**. Trois apostrophes inversées au début et à la fin du bloc permettent une coloration syntaxique selon le langage mis en préfixe.\n[++ :fa-code:fw: Code ++]\n```md\nUn morceau de `code` dans une ligne\n&grave;``javascript\n for (var i = 0, i<10, i++) {\n  console.log(i);\n };\n&grave;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nUn morceau de `code` dans une ligne\n```javascript\nfor (var i = 0, i<10, i++) {\n  console.log(i);\n};\n```\n[----]\n\n## Alignement\n\nIl est possible d'aligner le texte en ajoutant un `|` en début de ligne puis :\n* à gauche un signe supérieur (`|>`)\n* à droite un signe inférieur (`|<`) \n* ou au center une tablulation (`|&#8633;`)\n[++ :fa-code:fw: Code ++]\n```md\n|< Aligné à gauche\n|	Aligné au centre\n|> Aligné à droite\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n|< Aligné à gauche\n|	Aligné au centre\n|> Aligné à droite\n[----]\n\nPour aligner un titre au centre, il faut ajouter une tabulation après le `#` :\n[++ :fa-code:fw: Code ++]\n```md\n###	Titre centré\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n###	Titre centré\n[----]\n\n#### Alignement des images\n\nIl est également possible d'aligner les images par rapport au texte.\n[++ :fa-code:fw: Code ++]\n```md\nImage centrée\n|	![squirrel](https://tinyurl.com/2pfk2s5y x100)\n|<![squirrel](https://tinyurl.com/2pfk2s5y x100)\n|>![squirrel](https://tinyurl.com/2pfk2s5y x100)\nImages alignés à gauche ou à droite \navec le texte entre les deux.\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nImage centrée\n|	![squirrel](https://tinyurl.com/2pfk2s5y x100)\n|<![squirrel](https://tinyurl.com/2pfk2s5y x100)\n|>![squirrel](https://tinyurl.com/2pfk2s5y x100)\nImages alignés à gauche ou à droite \navec le texte entre les deux.\n[----]\n\n## Blocs Markdown\n\nVous pouvez créer des blocs Markdown avec une classe CSS particulière (cela peut être utile pour appliquer un style particulier à un bloc). \n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``mdblock classname\n## Titre\nLorem ipsum dolor sit amet, consectetur adipiscing elit. \n&#96;``\n```\n[----]";var k={};k="## Les listes\n\nUn caractère * en début de ligne permet de créer une liste.\nIl est possible de faire des sous-listes en les décallant du début de la ligne.\n[++ :fa-code:fw: Code ++]\n```md\n* *item1*\n* **item2**\n  * sous-item1\n  * sous-item2\n* item3\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n* *item1*\n* **item2**\n  * sous-item1\n  * sous-item2\n* item3\n[----]\n\n### Listes ordonnées\n\nPour créer une liste numérotée, il vous suffira d’inscrire un chiffre suivi d’un point.\n[++ :fa-code:fw: Code ++]\n```md\n1. item1\n2. item2\n3. item3\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n1. item1\n2. item2\n3. item3\n[----]\n\n### Listes à cocher\n\nUtilisez des crochets [ ] pour créer des listes à coche ou [x] pour cocher les cases.\n[++ :fa-code:fw: Code ++]\n```md\n- [ ] Case non cochée\n- [x] Case cochée\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n- [ ] Case non cochée\n- [x] Case cochée\n[----]\n\n### Tableaux\n\nUtilisés 4 **-** ou plus avec des séparateurs **|** pour ajouter un tableau.\nUne tablulation en début de cellule permet de centrer celle-ci ou un signe supérieur pour aligner à droite.\n[++ :fa-code:fw: Code ++]\n```md\n| **Entête**            |	Seconde colonne            |\n| --------------------- | -------------------------- |\n| Cellule 1             |	`cellule 2`<br>*(centrée)* |\n| ~~Première colonne~~  |> Colonne 2<br>*(à droite)* |\n|	[un lien](https://www.ign.fr) |	Une image<br>![squirrel](https://tinyurl.com/2pfk2s5y x100) |\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n| **Entête**            |	Seconde colonne            |\n| --------------------- | -------------------------- |\n| Cellule 1             |	`cellule 2`<br>*(centrée)* |\n| ~~Première colonne~~  |> Colonne 2<br>*(à droite)* |\n|	[un lien](https://www.ign.fr) |	Une image<br>![squirrel](https://tinyurl.com/2pfk2s5y x100) |\n[----]\n\n### blocs dépliants\n\nOn peut ajouter des blocs dépliants au clique sur leur titre en les encadrant par des `[-- titre --]` et `[----]`.\nEn utilisant la syntaxe `[++ titre ++]` le bloc est déplié par défaut.\n[++ :fa-code:fw: Code ++]\n```md\n[-- Titre cliquable --]\nContenu masqué au démarrage, **dévoilé** lors du clic !\n[----]\n\n[++#### Titre cliquable ++]\nContenu affiché au démarrage, **masqué** lors du clic !\n[----]\n```\n[----]\n\n\n[-- Titre cliquable --]\nContenu masqué au démarrage, **dévoilé** lors du clic !\n[----]\n\n\n[++#### Titre cliquable ++]\nContenu affiché au démarrage, **masqué** lors du clic !\n[----]";var T={};T="## Les Médias\n\nLa syntaxe permettant d'insérer un média est semblable à celle des liens. On commence cependant par insérer un point d’exclamation. Suivent ensuite des crochets pour un texte alternatif, puis l’URL du média entre parenthèses. \nLa description est facultative mais vivement recommandée.\nOn peut de manière facultative ajouter la largeur et la hauteur du média avec un signe x entre les deux. Si l'une l'autre des valeur n'est pas fournie, le media est redimentionner de manière proportionnelle.\n```md\n![texte alternatif](url_du_media lxh)\n```\n\n### Les image\n\nLorsque l'url du média est une image celle ci va s'afficher dans le texte.\n[++ :fa-code:fw: Code ++]\n```md\nUne image : \n![une image](https://tinyurl.com/2pfk2s5y)\nUne image (en petit): \n![une image](https://tinyurl.com/2pfk2s5y 20x)\nUne image (en petit): \n![une image](https://tinyurl.com/2pfk2s5y x20)\nUne image redimentionnée en x, en y, déformée : \n!(https://tinyurl.com/2pfk2s5y 50x) !(https://tinyurl.com/2pfk2s5y x50) !(https://tinyurl.com/2pfk2s5y 50x50)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nUne image : \n![une image](https://tinyurl.com/2pfk2s5y)\nUne image redimentionnée en x, en y, déformée : \n!(https://tinyurl.com/2pfk2s5y 50x) !(https://tinyurl.com/2pfk2s5y x50) !(https://tinyurl.com/2pfk2s5y 50x50)\n[----]\n\n### Image en plein écrans\n\nVous pouvez ajouter un lien pour afficher une image en plein écran au clic, en utilisant l'url \n`app://fullscreen`.\n\n[++ :fa-code:fw: Code ++]\n```md\n[![Gerbille gourmande](https://tinyurl.com/2pfk2s5y 200)](app://fullscreen)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n[![Gerbille gourmande](https://tinyurl.com/2pfk2s5y 200)](app://fullscreen)\n[----]\n\n## Les sons\n\nSi le média est un son (extension mp3) il s'affiche sous forme de barre de lecture audio.\nOn peut de manière facultative ajouter la largeur et la hauteur du média avec un signe x entre les deux et un attribut `autoplay` pour lancer le démarrage automatique de lecture.\n```md\n![texte alternatif](url_du_media lxh autoplay)\n```\n[++ :fa-code:fw: Code ++]\n```md\n![Little pleasures 1N72](https://www.freesound.org/data/previews/350/350572_2244250-lq.mp3)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n![Little pleasures 1N72](https://www.freesound.org/data/previews/350/350572_2244250-lq.mp3)\n[----]\n\n### Les vidéos\n\nSi vous avez une url de vidéo. On peut généralement récupérer les url dans les liens de partage sur les sites proposant des vidéos.\nOn peut de manière facultative ajouter la largeur et la hauteur du média avec un signe x entre les deux.\nL'attribut `autoplay` pour lancer le démarrage automatique de lecture est également disponible pour les fichiers au format mp4.\n[++ :fa-code:fw: Code ++]\n```md\n###### Video Youtube :\n> !(https://youtu.be/YIPcOSNwVjw?list=PL3fKQzhbIJQkLWW_v0PQ1cymbGq7qkSlQ)\n\n###### Video Dailymotion\n> !(http://dai.ly/x4vg0c)\n\n###### Video Vimeo\n> !(https://vimeo.com/30601900)\n\n###### Video au format mp4:\n> ![sample video](http://www.w3schools.com/html/mov_bbb.mp4 x200) \n> Video courtesy of [Big Buck Bunny](http://www.bigbuckbunny.org/).\n\n###### Vidéo INA :\n> !(https://player.ina.fr/player/embed/PUB3372530001/1/1b0bd203fbcd702f9bc9b10ac3d0fc21)\n\n###### Vidéo INA jalon:\n> !(InaEdu04527)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n###### Video Youtube :\n> !(https://youtu.be/YIPcOSNwVjw?list=PL3fKQzhbIJQkLWW_v0PQ1cymbGq7qkSlQ)\n\n###### Video Dailymotion\n> !(http://dai.ly/x4vg0c)\n\n###### Video Vimeo\n> !(https://vimeo.com/30601900)\n\n###### Video au format mp4:\n> ![sample video](http://www.w3schools.com/html/mov_bbb.mp4 x200) \n> Video courtesy of [Big Buck Bunny](http://www.bigbuckbunny.org/).\n\n###### Vidéo INA :\n> !(https://player.ina.fr/player/embed/PUB3372530001/1/1b0bd203fbcd702f9bc9b10ac3d0fc21)\n[----]\n\n### Icones\n\nVous pouvez ajouter des icones à vos textes en utilisant la syntaxe `:nom-de-l-icone:`\nIl est également possible d'ajouter des options et une couleur de manière optionnelle : `:nom-de-l-icone:options:couleur:`\nLes options peuvent concerner la taille de l'icone (2x,3x, 4x) ou son alignement (left / right)\nUne liste d'icones est disponible [ici :fa-external-link:](https://fontawesome.com/v4.7/icons/).\n[++ :fa-code:fw: Code ++]\n```md\nUne icone en fonction de sa taille :\n:fa-smile-o:  :fa-smile-o:2x: :fa-smile-o:3x: :fa-smile-o:4x: :fa-smile-o:5x:\n\nUne taille fixe (fw = fixed width) pour des listes\n:fa-car:2x fw: en voiture\n:ign-panneau-zone_pieton:2x fw: à pied\n:ign-transport-avion:2x fw: en avion\n\nDes icones en couleur :\n:fa-map:3x:red: :fa-map:3x:#369:\n\n:fa-car:3x left: Une icone alignée\nà gauche du texte\n\n:fa-gear:2x right: Une icone alignée à droite du texte...\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nUne icone en fonction de sa taille :\n:fa-smile-o:  :fa-smile-o:2x: :fa-smile-o:3x: :fa-smile-o:4x: :fa-smile-o:5x:\n\nUne taille fixe (fw = fixed width) pour des listes\n:fa-car:2x fw: en voiture\n:ign-panneau-zone_pieton:2x fw: à pied\n:ign-transport-avion:2x fw: en avion\n\nDes icones en couleur :\n:fa-map:3x:red: :fa-map:3x:#369:\n\n:fa-car:3x left: Une icone alignée\nà gauche du texte\n\n:fa-gear:2x right: Une icone alignée à droite du texte...\n[----]\n\n## Les médias sociaux\n\nUne URL de média social permet d'afficher celui-ci.\n\n### Partage Twitter \n\nPour partager une page avec Twitter, indiquer le texte du partage entre [] et l'url de partage Twitter.\n[++ :fa-code:fw: Code ++]\n```md\n![Partager ma carte](https://twitter.com/share)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n![Partager ma carte](https://twitter.com/share)\n[----]\n\nIl est également possible d'afficher les tweets d'un utilisateur ou ses timelines.\n[++ :fa-code:fw: Code ++]\n```md\n#### Tweet d'un utilisateur :\n!(https://twitter.com/jmviglino/status/1022836760827580416)\n\nPour afficher les images du tweet, ajouter 1 et pour limiter la largeur utiliser le second argument x400 \n!(https://twitter.com/jmviglino/status/1022836760827580416 1x400)\n\n#### Afficher la timeline d'un utilisateur (2 tweets et une largeur de 400) :\n!(https://twitter.com/ignfrance/timeline 2x400)\n\n#### Afficher une timeline spécifique (2 tweets et une largeur de 400) :\n!(https://twitter.com/TwitterDev/timelines/539487832448843776 2x400)\n\n#### Afficher la timeline dans une grille (3 tweets) :\n!(https://twitter.com/TwitterDev/timegrid/539487832448843776 3)\n```\n[----]\n[-- :fa-desktop:fw: Résultat --]\n#### Tweet d'un utilisateur :\n!(https://twitter.com/jmviglino/status/1022836760827580416)\n\nPour afficher les images du tweet, ajouter 1 et pour limiter la largeur utiliser le second argument x400 \n!(https://twitter.com/jmviglino/status/1022836760827580416 1x400)\n\n#### Afficher la timeline d'un utilisateur (2 tweets et une largeur de 400) :\n!(https://twitter.com/ignfrance/timeline 2x400)\n\n#### Afficher une timeline spécifique (2 tweets et une largeur de 400) :\n!(https://twitter.com/TwitterDev/timelines/539487832448843776 2x400)\n\n#### Afficher la timeline dans une grille (3 tweets) :\n!(https://twitter.com/TwitterDev/timegrid/539487832448843776 3)\n[----]\n\n### Partage Mastodon\n\nPour afficher un message de Mastondon sous la forme :\n`!&#40;mastodon://[instance]/@[utilisateur]/[id] [largeur]x[hauteur])`.\n[++ :fa-code:fw: Code ++]\n```md\n![](mastodon://mapstodon.space/@jmviglino/109375903773183958 x300)\n```\n[----]\n[-- :fa-desktop:fw: Résultat --]\n![](mastodon://mapstodon.space/@jmviglino/109375903773183958 x300)\n[----]\n\n\n### Partage Facebook\n\nPour ajouter un bouton de like facebook sur la page, il faut utiliser l'url de like facebook.\n[++ :fa-code:fw: Code ++]\n```md\n![Partager ma carte](https://www.facebook.com/like)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n![Partager ma carte](https://www.facebook.com/like)\n[----]\n\nIl est également possible de partager des contenus facebook :\n[++ :fa-code:fw: Code ++]\n```md\n### Facebook d'un utilisateur\n!(https://www.facebook.com/ignfr/ 400x400)\n\n### Afficher une publication\n!(https://www.facebook.com/ignfr/posts/1795674127148746 300x300)\n```\n[----]\n[-- :fa-desktop:fw: Résultat --]\n### Facebook d'un utilisateur\n!(https://www.facebook.com/ignfr/ 400x400)\n\n### Afficher une publication\n!(https://www.facebook.com/ignfr/posts/1795674127148746 300x300)\n[----]\n";var _={};_="## Les attributs\n\nLe format markdown est étendu pour afficher des attributs fournis lors d'une sélection par exemple.\nDans les exemples ci-dessous, les attributs suivant sont fournis\n| attributs | valeurs |\n| --------- | ------- |\n%ATTRIBUTES%\n\nPour afficher un attribut, il suffit de le mettre entre deux `%`.\n[++ :fa-code:fw: Code ++]\n```md\n%name%\n%address%\n%cp% %commune%\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n%name%\n%address%\n%cp% %commune%\n[----]\n\n#### Liste des attributs\n\nIl est possible d'afficher la liste des attributs disponibles sur un objet à l'aide de : `&percnt;ATTRIBUTES%`\n\n[++ :fa-code:fw: Code ++]\n```md\n%ATTRIBUTES%\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n%ATTRIBUTES%\n[----]\n\n\n#### Attibuts calculés\n\nLorsqu'un objet est sélectionné, les attributs `%COORD%` (coordonées) et `%COORDMS%` (coordonnes en degré, minutes, secondes) de l'objet sont disponibles, ainsi que `%LENGTH%` pour une ligne et `%AREA%` pour un polygone.\n\n#### Attributs liens\n\nSi votre attribut est un lien avec des caractères spéciaux, vous pouvez les échapper en utilisant la fonction `URL[%attr%]`.\nSi votre attribut est destiné à être inclue comme composant d'une url (URICompoenent), vous pouvez `URI[%attr%]`.\n\n[++ :fa-code:fw: Code ++]\n```md\nUn caractère ',' est illégal. La fin du lien ne sera pas pris en compte, il faut utiliser `URL[%attr%']`.\n- [ ] %img% \n- [x] URL[%img%]\n- [x] !(URL[%img%] 200)\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nUn caractère ',' est illégal. La fin du lien ne sera pas pris en compte, il faut utiliser `URL[%attr%']`.\n- [ ] %img% \n- [x] URL[%img%]\n- [x] !(URL[%img%] 200)\n[----]\n\n### Code HTML\n\nLe code HTML dans les attributs est échappé. Si vous voulez le supprimer, vous devez utiliser `HTML[%attr%]`.\n\n[++ :fa-code:fw: Code ++]\n```md\n1. %html% \n2. HTML[%html%]\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n1. %html% \n2. HTML[%html%]\n[----]\n\n### Affichage conditionnel\n\nIl est possible de conditionner l'affichage à la présence (ou non) d'un attribut.\nPour cela, il suffit de mettre l'attribut entre double parenthèses `&lpar;(&percnt;attr&percnt;))`.\nDans ce cas, l'ensemble de l'expression entre parenthèses s'affiche ou non suivant la valeur de l'attribut.\n\n[++ :fa-code:fw: Code ++]\n```md\n1. name : ((l'attribut %name% est défini (et s'affiche).))\n2. nom : ((l'attribut %nom% n'est pas défini (et ne s'affiche pas).))\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n1. name : ((l'attribut %name% est défini (et s'affiche).))\n2. nom : ((l'attribut %nom% n'est pas défini (et ne s'affiche pas).))\n[----]\n\n#### Affichage alternatif\n\nIl est possible d'ajouter un texte alternatif qui s'affichera en lieu et place si l'attribut n'est pas défini en l'ajoutant dans les parenthèses après une double barre : `||`\n[++ :fa-code:fw: Code ++]\n```md\n1. ((name = %name% (défini) || `name` n'est pas défini ))\n2. ((nom = %nom% (défini)   || `nom` n'est pas défini  ))\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n1. ((name = %name% (défini) || `name` n'est pas défini ))\n2. ((nom = %nom% (défini)   || `nom` n'est pas défini  ))\n[----]\n\n#### Conditions multiple\n\nLes condition peuvent s'ajouter entre elles lorsqu'elles sont entre les parenthèses.\n[++ :fa-code:fw: Code ++]\n```md\n1. ((%name% et %commune% sont définis.))\n2. ((%name% et %ville% sont définis.))\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n1. ((%name% et %commune% sont définis.))\n2. ((%name% et %ville% sont définis.))\n[----]\n\n#### Tests conditionnels\n\nIl est possible de tester l'existence d'une valeur sans l'afficher en utilisant `&lpar;(?&percnt;attr&percnt;` ou `&lpar;(!&percnt;attr&percnt;`.\n\n[++ :fa-code:fw: Code ++]\n```md\n1. ((?%name% L'attribut `name` est défini. )) ((!%name% L'attribut `name` n'est pas défini. ))\n2. ((?%nom% L'attribut `nom` est défini. )) ((!%nom% L'attribut `nom` n'est pas défini. ))\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n1. ((?%name% L'attribut `name` est défini. )) ((!%name% L'attribut `name` n'est pas défini. ))\n2. ((?%nom% L'attribut `nom` est défini. )) ((!%nom% L'attribut `nom` n'est pas défini. ))\n[----]\n\n### Caractères d'échappement\n\nUtilisez `&amp;lpar;`, `&amp;rpar;`  ou `&amp;percnt;` pour échapper les caractères (`(`, `)` ou `%`) dans votre code.\n\n## Afficher la fiche d'un objet\n\nIl est également possible d'afficher la fiche d'un objet lorsqu'il est sélectionné (dans le volet d'une narration) grâce au widget `FeatureSelect`.\nVous pouvez préciser la couche pour laquelle on affiche le contenu de la fiche en précisant son numéro (`layerId`).\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``FeatureSelect\nlayerId: 2\n&#96;``\n```\n[----]\n\nVous pouvez préciser **une condition** sur l'objet sélectionné en indiquant le nom de l'attribut sur lequel on conditionne (`attr`), un opérateur (`op`) et une valeur à tester (`value`).\nLes opérateurs sont les opérateur d'égalité (`=`: égale, `!=`: différent), de supériorité (`<`, `<=`, `>`, `>=`), d'inclusion (`contain`: contient, `!contain`: ne contient pas) ou une expression régulière (`regexp`, `!regexp`).\nIl est possible de préciser si la comparaison est sensible à la case (`matchCase`).\n\nVous pouvez alors utiliser une bloc `---INFO` pour préciser l'affichage de l'objet. Utilisez un bloc `---INFO ok` qui s'affichera si la condition est respectée ou `---INFO nok` dans le cas contraire. Ces blocs peuvent eux-même contenir du Markdown et faire référence aux attributs de l'objet sélectionné.\n\nPar exemple, pour vérifier qu'on a bien cliqué sur la \"Loire\".\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``FeatureSelect\nlayerId: 2\nattr: nom\nop: contain\nvalue: Loire\nmatchCase: 1\n---INFO\nLe nom de la sélection : %nom% (va toujours s'afficher)\n---INFO ok\nTexte en cas de condition respectée : le nom de l'objet (%nom%) contient \"Loire\"\n---INFO nok\nTexte en cas de non respect de la condition : le nom ne contient pas \"Loire\"\n&#96;``\n```\n[----]\n\n\n```hidden\nVous pouvez préciser comment on affiche la fiche avec le paramètre `display` (none : jamais, all : toujours, layer : pour la couche, condition : si respecte la condition)\nEnfin, si vous préciser un QCM, cela va permettre de décompter la réponse comme un QCM (valide si respecte la condition) ou pas.\n[-- :fa-code:fw: Code --]\n ```md\n&#96;``FeatureSelect\nlayerId: 2\ndisplay: layer\nattr: nom\nop: contain\nvalue: Loire\nmatchCase: 1\nQCM: Loire\n---INFO ok\nTexte en cas de bonne réponse\n---INFO nok\nTexte en cas de mauvaise réponse\n&#96;``\n ```\n[----]\n```\n\n";var C={};C='L\'ajout de widgets se fait en encadrant le code entre trois `&#96;&#96;&#96;`\n\n## Diaporama\n\nVous pouvez ajouter un diaporama à partir d\'image en utilisant `&#96;&#96;&#96;diaporama`.\nPour chaque image, indiquez un `titre` et l\'url de l\'image (`img`).\nUne ligne `rotate: true` permettra de revenir au début lorsqu\'on arrive à la fin du diaporama.\nAjoutez `fullscreen: true` pour autoriser l\'affichage du diaporama en grand dans la fenêtre du navigateur.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``diaporama\ntitle: Odyssée © François-Louis Schmied\nimg: https://upload.wikimedia.org/wikipedia/commons/c/c4/Schmied_illustration_Odyss%C3%A9e-CompBibliophilesAutoClubFrance-1932vol4p169.png\ntitle: Jeanne Paquin Gown © George Barbier (1882 - 1932)\nimg: https://upload.wikimedia.org/wikipedia/commons/6/6e/Paquin3.jpg\ntitle: Restauration de la Bibliothèque nationale © BnF\nimg: https://upload.wikimedia.org/wikipedia/commons/6/6d/Bibliotheque_nationale_boul.jpg\nbackgroundColor: rgba(0,0,0,0.5)\nrotate: true\nfullscreen: true\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```diaporama\ntitle: Odyssée © François-Louis Schmied\nimg: https://upload.wikimedia.org/wikipedia/commons/c/c4/Schmied_illustration_Odyss%C3%A9e-CompBibliophilesAutoClubFrance-1932vol4p169.png\ntitle: Jeanne Paquin Gown © George Barbier (1882 - 1932)\nimg: https://upload.wikimedia.org/wikipedia/commons/6/6e/Paquin3.jpg\ntitle: Restauration de la Bibliothèque nationale © BnF\nimg: https://upload.wikimedia.org/wikipedia/commons/6/6d/Bibliotheque_nationale_boul.jpg\nbackgroundColor: rgba(0,0,0,0.5)\nrotate: true\nfullscreen: true\n```\n[----]\n\n## Comparateur d\'images\n\nVous pouvez ajouter un comparateur d\'images sur votre page en utilisant `&#96;&#96;&#96;imageSlider`.\nOn peut préciser la taille des images (sous la forme `largeur`x`hauteur`). Si la largeur ou la hauteur n\'est pas précisée elle sera calculée par rapport à l\'autre dimension.\nIl faut lui fournir deux images à afficher. Il est préférable que les deux images aient la même taille.\nAjoutez `fullscreen: true` pour autoriser l\'affichage du diaporama en grand dans la fenêtre du navigateur.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``imageSlider\nimg1: https://data.geopf.fr/wmts?layer=ORTHOIMAGERY.ORTHOPHOTOS&style=normal&tilematrixset=PM&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fjpeg&TileMatrix=16&TileCol=33209&TileRow=22549\nimg2: https://data.geopf.fr/wmts?layer=ORTHOIMAGERY.ORTHOPHOTOS2006-2010&style=normal&tilematrixset=PM&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fjpeg&TileMatrix=16&TileCol=33209&TileRow=22549\nfullscreen: true\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```imageSlider\nimg1: https://data.geopf.fr/wmts?layer=ORTHOIMAGERY.ORTHOPHOTOS&style=normal&tilematrixset=PM&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fjpeg&TileMatrix=16&TileCol=33209&TileRow=22549\nimg2: https://data.geopf.fr/wmts?layer=ORTHOIMAGERY.ORTHOPHOTOS2006-2010&style=normal&tilematrixset=PM&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fjpeg&TileMatrix=16&TileCol=33209&TileRow=22549\nfullscreen: true\n```\n[----]\n\n## Calendrier\n\nVous pouvez ajouter un calendrier en précisant des jours et des horaires d\'ouverture par exemple.\nTrois possibilité s\'offrent à vous, soit préciser les jours de la semaine ouvrable, soit proposer une liste de jours ouverts, soit définir les dates d\'ouverture sous forme de JSON.\n\n[-- :fa-code:fw: Jours de la semaine --]\n```md\n&#96;``calendar\nMon: 9h-12h\nTue: 9h-12h 14h-18h\nWed: \nThu: 9h-12h 14h-18h\nFri: 14h-18h\nSat: 9h-18h\nSun: \n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```calendar\nMon: 9h-12h\nTue: 9h-12h 14h-18h\nWed: \nThu: 9h-12h 14h-18h\nFri: 14h-18h\nSat: 9h-18h\nSun: \n```\n[----]\n\n[-- :fa-code:fw: Code par dates --]\n```md\n&#96;``calendar\nopen: 2023-09-19 Journée Internationale du Parler Pirate\nopen: 2023-09-21 Journée Internationale de la paix\nopen: 2023-10-20 Journée mondiale de la statistique\nopen: 2023-12-25 Journée mondiale des Kdo\n&#96;``\n```\n[----]\n[-- :fa-desktop:fw: Résultat --]\n```calendar\nopen: 2023-09-19 Journée Internationale du Parler Pirate\nopen: 2023-09-21 Journée Internationale de la paix\nopen: 2023-10-20 Journée mondiale de la statistique\nopen: 2023-12-25 Journée mondiale des Kdo\n```\n[----]\n\n[-- :fa-code:fw: Code en JSON --]\n```md\nListe de dates\n&#96;``calendar\ndates: { "years": { "2023": { "9": { "19": "Journée Internationale du Parler Pirate" }, "12": { "25": "C\'est Noël" }}}}\n&#96;``\nOuvertures dans la semaine\n&#96;``calendar\ndates: { "week": { "Mon": "9h-12h", "Tue": "9h-12h 14h-18h", "Thu": "9h-12h 14h-18h", "Fri": "14h-18h", "Sat": "9h-18h" }}\n&#96;``\n```\n[----]\n[-- :fa-desktop:fw: Résultat --]\nListe de dates\n```calendar\ndates: { "years": { "2023": { "9": { "19": "Journée Internationale du Parler Pirate" }, "12": { "25": "C\'est Noël" }}}}\n```\nOuvertures dans la semaine\n```calendar\ndates: { "week": { "Mon": "9h-12h", "Tue": "9h-12h 14h-18h", "Thu": "9h-12h 14h-18h", "Fri": "14h-18h", "Sat": "9h-18h" }}\n```\n[----]\n\n## Les diagrammes\n\nPour afficher des **diagrammes** sur une page, il faut commencer la ligne par `&#96;&#96;&#96;chart` pour démarrer un bloc diagramme et terminer le bloc avec une ligne `&#96;&#96;&#96;`. \nIl faut ensuite préciser le type de diagramme que l\'on veut `line`, `bar`, `hbar`, `pie`, `doughnut` ou `donut`, `radar` ou `polar`. \nOn peut ensuite préciser la taille du diagramme (sous la forme `largeur`x`hauteur`) et la méthode de centrage (`left`, `right` ou `center`).\nIl faut lui fournir des données à afficher en commençant une ligne par `data:` et une suite de valeurs séparées par un point-virgule (`;`).\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart pie x200 center\ndata:   3;1;5\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart pie x200 center\ndata:   3;1;5\n```\n[----]\n\n### Personnalisation\n\nVous pouvez définir vos propres couleurs (`colors:`) au [format du web](https://fr.wikipedia.org/wiki/Couleur_du_Web) :\n* soit avec une couleur nommée (`red`, `green`, etc.), \n* soit au format hexadecimal (`#ff0000` ou `#0f0`) \n* Soit au format rgb (`rgb(255,0,0)`) ou hsl avec la variante rgba (`rgba(255,0,0,.5)`).\n\nIl est également possible de définir :\n* le titre du diagramme (`title`)\n* le titre des données (`data-title`)\n* l\'affichage d\'une légende et sa position (`top`, `left`, `bottom` ou `right`)\n* le titre de la légende (`legend-title`)\n* la couleur du fond du widget (`backgroundColor`)\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart donut x200 center\ntitle:  Titre\ndata-title:  Données\ndata:   3;1;5\nlabels: rouge; bleu; jaune\ncolors: red; #0A0; rgba(255,255,0,.5)\nlegend: right\nlegend-title: Légende\nbackgroundColor: #eef\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart donut x200 center\ntitle:  Titre\ndata-title:  Données\ndata:   3;1;5\nlabels: rouge; bleu; jaune\ncolors: red; #00A; rgba(255,255,0,.5)\nlegend: right\nlegend-title: Légende\nbackgroundColor: #eef\n```\n[----]\n\nPar défaut l\'axe des ordonnées commence à zéro.\nIl est possible de définir la valeur min et max des ordonnées (`min:` et `max:`).\nUtilisez `min: auto` pour un calcul automatique en fonction des données fournies. \n`xlabel:` et `ylabel:` permettent de définir un label pour les axes du graphique.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart line x200 center\ntitle:  Titre\ndata-title:  Données\ndata:   3;1;5\nlabels: rouge; bleu; jaune\nlegend: right\nmin: -1\nmax: 6\nxlabel: couleurs\nylabel: valeurs\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart line x200 center\ntitle:  Titre\ndata-title:  Données\ndata:   3;1;5\nlabels: rouge; bleu; jaune\nlegend: right\nmin: -1\nmax: 6\nxlabel: couleurs\nylabel: valeurs\n```\n[----]\n\n### Utilisation d\'attributs\n\nVous pouvez utiliser les attributs les attributs fournis (si disponibles sur l\'objet sélectionné), avec la syntaxe (`%attr%`). Si les labels ne sont pas précisé, le nom des attributs sera utilisé en lieu et place.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart bar x200 center\ndata-title: Données\ndata:   %valeur_1%; %valeur_2%; %valeur_3%; %valeur_4%; %valeur_5%\nlegend: right\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart bar x200 center\ndata-title: Données\ndata:   %valeur_1%; %valeur_2%; %valeur_3%; %valeur_4%; %valeur_5%\nlegend: right\n```\n[----]\n\n### Jeux multiples\n\nPour afficher plusieurs jeux de données sur le même graphe, il suffit d\'ajouter plusieurs `data:` (et `data-title:` correspondant).\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart line x200 center\nlabels: rouge; bleu; jaune\n----\ndata-title:  Données 1\ndata:   3;1;5\n----\ndata-title:  Données 2\ndata:   1;3;6\n----\ndata-title:  Données 3\ndata:   2;4;3\n----\nlegend: right\nxlabel: couleurs\nylabel: valeurs\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart line x200 center\nlabels: rouge; bleu; jaune\n----\ndata-title:  Données 1\ndata:   3;1;5\n----\ndata-title:  Données 2\ndata:   1;3;6\n----\ndata-title:  Données 3\ndata:   2;4;3\n----\nlegend: right\nxlabel: couleurs\nylabel: valeurs\n```\n[----]\n\nIl est possible de mixer les types de diagrammes (lorsqu\'ils sont compatibles, par exemple des barres et des lignes) sur un même graphique en précisant le `data-type:` des données.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart line x200 center\nlabels: rouge; bleu; jaune\n----\ndata-title:  Données 1\ndata-type:  bar\ndata:   3;1;5\n----\ndata-title:  Données 2\ndata-type:  line\ndata:   1;3;6\n----\ndata-title:  Données 3\ndata:   2;4;3\n----\nlegend: right\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart line x200 center\nlabels: rouge; bleu; jaune\n----\ndata-title:  Données 1\ndata-type:  bar\ndata:   3;1;5\n----\ndata-title:  Données 2\ndata-type:  line\ndata:   1;3;6\n----\ndata-title:  Données 3\ndata:   2;4;3\n----\nlegend: right\n```\n[----]\n\n### Barres d\'erreur\n\nIl est possible d\'ajouter des barres d\'erreur pour visualiser les erreurs sur une donnée.\nPour cela, `data-error` indique la liste des erreurs sur les valeurs séparées par des points-virgules (`;`).\nSi l\'erreur n\'est pas symétrique, indiquez l\'erreur min et max séparée par une virgule (`,`).\nNB : les erreurs ne s\'appliquent qu\'aux diagrammes en barre.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart bar x200 center\ndata-title: Symétriques \ndata:   %valeur_1%; %valeur_2%; %valeur_3%; %valeur_4%; %valeur_5%\ndata-error: 1;2;1.5;1;0.5\n\ndata-title: Asymétriques\ndata:   %valeur_2%; %valeur_3%; %valeur_4%; %valeur_5%; %valeur_1%\ndata-error: 1,1;1,1.5;1,2;0.5,1;1,0.5\n\nlegend: right\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart bar x200 center\ndata-title: symétriques \ndata:   %valeur_1%; %valeur_2%; %valeur_3%; %valeur_4%; %valeur_5%\ndata-error: 1;2;1.5;1;0.5\n\ndata-title: Asymétriques\ndata:   %valeur_2%; %valeur_3%; %valeur_4%; %valeur_5%; %valeur_1%\ndata-error: 1,1;1,1.5;1,2;0.5,1;1,0.5\n\nlegend: right\n```\n[----]\n\n### Couleurs et thèmes\n\nPlusieurs thèmes couleur sont disponibles pour les diagrammes (`standard`, `classic`, `hue`, `excel`).\nIls sont également fournis en couleur pleine (`standard-2`, `classic-2`, `hue-2`, `excel-2`).\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``chart pie 150x150\ntitle: standard\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\n&#96;``\n&#96;``chart pie 150x150 \ntitle: standard-2\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: standard-2\n&#96;``\n&#96;``chart pie 150x150 \ntitle: classic\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: classic\n&#96;``\n&#96;``chart pie 150x150 \ntitle: hue\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: hue\n&#96;``\n&#96;``chart pie 150x150 \ntitle: excel\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: excel\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```chart pie 150x150 \ntitle: standard\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\n```\n```chart pie 150x150 \ntitle: standard-2\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: standard-2\n```\n```chart pie 150x150 \ntitle: classic\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: classic\n```\n```chart pie 150x150 \ntitle: hue\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: hue\n```\n```chart pie 150x150 \ntitle: excel\ndata: 1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1;1\ntheme: excel\n```\n[----]\n\n## Codes\n\nIl est possible d\'afficher des blocs de code sur avec coloration syntaxique selon le langage mis en préfixe.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``javascript\nvar val = 1;\n// Fontion de test\nfunction test(param) {\n  return param === val;\n}\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```javascript\nvar val = 1;\n// Fontion de test\nfunction test(param) {\n  return param === val;\n}\n```\n[----]\n';var q={};q="## Jeux et QCM\n\nIl est possible de proposer des widgets QCM dans une carte.\nUn QMC est composé d'une partie question qui énumère les question réponses possibles et une partie réponse qui s'affichera en fonction de la réponse choisie. Il est également possible de déclencher des actions lorsque la réponse est choisie (déplacer la carte, changer d'étape, etc.).\n\n### Le questionnaire\n\nChaque QCM a un nom, ce qui permet de vérifier qu'il a (ou non) déjà été répondu et de décompter les bonnes réponses sur la carte.\nUtilisez un nom différent pour chaque QCM.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``QCM nomQCM\nQ: la question\n[ ] une première réponse\n[x] la **bonne** réponse\n[ ] la dernière réponse\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```QCM nomQCM\nQ: la question\n[ ] une première réponse\n[x] la **bonne** réponse\n[ ] la dernière réponse\n```\n[----]\n\n### Les blocs réponses\n\nIl est possible de proposer des blocs réponses qui vont s'afficher en fonction des choix de l'utilisateur.\nCes blocs commencent par `---REP` et ce sont :\n- des blocs d'information (info) qui seront tout le temps affiché (pour aider l'utilisateur)\n- des blocs qui s'afficheront en cas de bonne réponse (ok) \n- des blocs qui s'afficheront en cas de mauvaise réponse (nok) \n- et des blocs qui s'afficheront à chaque réponse.\n\n[++ :fa-code:fw: Code ++]\n```md\n&#96;``QCM qcm2\nQ: la question\n[ ] une première réponse\n[x] la **bonne** réponse\n[ ] la dernière réponse\n---REP info\n*Choisissez la bonne réponse !*\n---REP\nCe bloc s'affiche quelque soit la réponse.\n---REP ok\n:fa-smile-o:2x left: Ce bloc s'affiche en cas de bonne réponse.\n---REP nok\n:fa-bomb:2x left: Ce bloc s'affiche en cas de mauvaise réponse.\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\n```QCM qcm2\nQ: la question\n[ ] une première réponse\n[x] la **bonne** réponse\n[ ] la dernière réponse\n---REP info\n*Choisissez la bonne réponse !*\n---REP\nCe bloc s'affiche quelque soit la réponse.\n---REP ok\n:fa-smile-o:2x left: Ce bloc s'affiche en cas de bonne réponse.\n---REP nok\n:fa-bomb:2x left: Ce bloc s'affiche en cas de mauvaise réponse.\n```\n[----]\n\n### Les déclencheurs et les décomptes.\n\nIl est possible de compter le nombre de questions répondues (&percnt;md:QCM&percnt;) et de bonnes réponses (&percnt;md:QCMok&percnt;).\nNB : une fois un QCM répondu il ne sera pas décompté une seconde fois (et c'est la première réponse qui fait foi).\nOn peut également ajouter des déclencheurs (voir le paragraphe sur les liens spécifiques) pour faire une action sur la carte, au travers de l'option `actions`. Le lien commence par `app://`.\n\n[++ :fa-code:fw: Code ++]\n```md\nNombre de questionnaires réalisés : **%md:QCM%**\nNombre de bonne réponses : **%md:QCMok%**\n&#96;``QCM qcm3\nQ: la question\n[ ] une première réponse\n[x] la **bonne** réponse\n[ ] la dernière réponse\n# Se déplacer à Paris lorsqu'on a répondu\naction: app://moveTo?2.351828,48.856578,9\n# Changer d'étape\naction: app://stepTo?next\n&#96;``\n```\n[----]\n[++ :fa-desktop:fw: Résultat ++]\nNombre de questionnaires réalisés : **%md:QCM%**\nNombre de bonne réponses : **%md:QCMok%**\n```QCM qcm3\nQ: la question\n[ ] une première réponse\n[x] la **bonne** réponse\n[ ] la dernière réponse\n# Se déplacer à Paris lorsqu'on a répondu\naction: app://moveTo?2.351828,48.856578,9\n# Changer d'étape\naction: app://stepTo?next\n```\n[----]";const L=new g.default({className:"md fullMD",closeBox:!0,target:document.body});L.setMap(b.default);const S=new g.default({className:"mdedit",closeBox:!0,target:document.body});S.setMap(b.default);class R extends c.default{constructor(e){if(super(e=e||{}),this.input=e.input,"TEXTAREA"!==e.input.tagName)throw"Bad element tag for MD "+e.input.tagName;this.input.dataset.markdown="",this.output=e.output||(0,o.default).create("DIV"),this.data=e.data||{},this.params={shiftTitle:e.shiftTitle,edugeo:e.edugeo},this.hit=0,this.input.addEventListener("keydown",e=>{switch(e.keyCode){case 9:if(e.shiftKey){let e=this.input.value,t=this.input.selectionStart,n=e.lastIndexOf("\n",t-1)+1;"	"===e.substr(n,1)?(this.input.value=E(e,n,1),this.input.selectionStart=this.input.selectionEnd=t-1):"  *"===e.substr(n,3)&&(this.input.value=E(e,n,2),this.input.selectionStart=this.input.selectionEnd=t-2)}else this.edit({val:"	",type:"insert"});e.preventDefault();break;case 46:if(e.shiftKey){let e=this.input.value,t=this.input.selectionStart,n=e.lastIndexOf("\n",t-1)+1,a=e.indexOf("\n",t)+1;0===a&&(a=this.input.value.length),navigator.clipboard.writeText(e.substr(n,a-n)),this.input.value=E(e,n,a-n),this.input.selectionStart=this.input.selectionEnd=n}}}),this.set("scrolling",e.scrolling);let t,n=!1,a,i=!1;this.input.addEventListener("scroll",()=>{!this.get("scrolling")||this._tout||i||(n=!0,this.output.scrollTop=this.input.scrollTop/(this.input.scrollHeight-this.input.clientHeight)*(this.output.scrollHeight-this.output.clientHeight),clearTimeout(t),t=setTimeout(()=>n=!1,100))}),this.output.addEventListener("scroll",()=>{this.get("scrolling")&&!n&&(i=!0,this.input.scrollTop=this.output.scrollTop/(this.output.scrollHeight-this.output.clientHeight)*(this.input.scrollHeight-this.input.clientHeight),clearTimeout(a),a=setTimeout(()=>i=!1,100))}),this.input.addEventListener("keyup",e=>{this._testul(e,"* ")||this._testul(e,"  * ")||this._testul(e,"1. ")||this._testul(e,"    ")||this._testul(e,">")||this._testul(e,"	")}),this.input.addEventListener("keydown",e=>{switch(e.key){case"[":this.wrap("[]",e);break;case"{":this.wrap("{}",e);break;case"(":this.wrap("()",e);break;case"'":case"`":case'"':this.input.selectionStart===this.input.selectionEnd&&this.charAt(this.input.selectionStart-1)===e.key||(this.charAt()===e.key?(e.preventDefault(),this.input.selectionStart=this.input.selectionEnd=this.input.selectionStart+1):this.wrap(e.key+e.key,e));break;case"]":case"}":case")":this.charAt()===e.key&&(e.preventDefault(),this.input.selectionStart=this.input.selectionEnd=this.input.selectionStart+1)}if(8===e.keyCode){let t=this.input,n=t.selectionStart;if(n===t.selectionEnd){let a=t.value;("("===a.charAt(n-1)&&")"===a.charAt(n)||"{"===a.charAt(n-1)&&"}"===a.charAt(n)||"["===a.charAt(n-1)&&"]"===a.charAt(n)||'"'===a.charAt(n-1)&&'"'===a.charAt(n)||"`"===a.charAt(n-1)&&"`"===a.charAt(n)||"'"===a.charAt(n-1)&&"'"===a.charAt(n))&&(a=E(a,n-1,2),t.value=a,e.preventDefault(),t.selectionStart=t.selectionEnd=n-1)}}}),this.input.addEventListener("keyup",e=>{(13===e.keyCode||8===e.keyCode||32===e.keyCode||e.keyCode>40&&e.keyCode<250)&&this.refresh()}),this.input.addEventListener("change",()=>{this.refresh()}),this._handleUndo(),this.toolbar=(0,o.default).create("DIV",{className:"md-toolbar"}),this.input.parentNode.insertBefore(this.toolbar,this.input),this.setTools(!1!==e.minibar),this.output&&this.refresh()}}R.prototype.setDialogClassName=function(e){L.set("className",((e||"")+" fullMD ol-ext-dialog").trim())},R.prototype.charAt=function(e){return void 0===e&&(e=this.input.selectionStart),this.input.value.charAt(e)},R.prototype.wrap=function(e,t){(this.input.selectionStart!==this.input.selectionEnd||/[ |\t|\n]/.test(this.input.value.charAt(this.input.selectionStart-1)))&&(this.edit({val:e[0],valend:e[1],type:"selection"}),t&&t.preventDefault())},R.prototype.refresh=function(e){this._tout&&clearTimeout(this._tout),this._tout=setTimeout(()=>{(0,u.default).element(this.input.value,this.output,this.data,this.params),this.get("scrolling")&&this.input.scrollHeight<this.input.clientHeight&&(this.output.scrollTop=this.input.scrollTop/(this.input.scrollHeight-this.input.clientHeight)*(this.output.scrollHeight-this.output.clientHeight)),this.dispatchEvent("change"),this._tout=null},e?0:500)},R.prototype.setValue=function(e){this.input.value=e,this.clearUndo(),this.refresh()},R.prototype.getValue=function(){return this.input.value},R.prototype.clearUndo=function(){this._undo=[{sel:this.input.selectionEnd,text:this.input.value}],this._redo=[],this._delay=0},R.prototype._handleUndo=function(){this.clearUndo(),(0,o.default).addListener(this.input,["change","keyup","click"],e=>{let t=this._undo,n=this._redo;if("z"===e.key&&e.ctrlKey){if(t.length>1){n.unshift(t.shift());let e=t[0];this.input.value=e.text,this.input.selectionStart=n[0].pos,this.input.selectionEnd=n[0].pos,this._delay=0}}else if(("Z"===e.key||"y"===e.key)&&e.ctrlKey){if(n.length){let e=n.shift();t.unshift(e),this.input.value=e.text,this.input.selectionStart=e.pos2,this.input.selectionEnd=e.pos2,this._delay=0}}else this._onchange()})},R.prototype._onchange=function(){let e=this._undo,t={pos:this._position||this.input.selectionEnd,pos2:this.input.selectionEnd,text:this.input.value};e.length&&e[0].text==t.text||(!e.length||new Date-this._delay>500?e.unshift(t):e[0]=t,this._redo=[],e.length>200&&e.pop(),this._delay=new Date),this._position=this.input.selectionEnd};const I=R.prototype._insertAt=function(e,t,n){return e.substring(0,t)+n+e.substring(t,e.length)},E=R.prototype._removeAt=function(e,t,n){return e.substring(0,t)+e.substring(t+n,e.length)};function A(e,t,n){var a=e.length,i=e.substring(t.startln,t.startln+2);if(("|	"===i||"|>"===i||"|<"===i)&&(e=E(e,t.startln,2)),"#"===e.substr(t.startln,1)){for(var s=1;"#"===e.substr(t.startln+s,1);)s++;"|	"===n.val&&"	"!==e.substr(t.startln+s,1)?e=I(e,t.startln+s,"	"):"	"===e.substr(t.startln+s,1)&&(e=E(e,t.startln+s,1))}else e=I(e,t.startln,n.val);return n.start=t.start+e.length-a,n.end=t.end+e.length-a,e}function j(e,t,n){let a=this.input,i=/twitter/.test(n.className),s=i?"":e.substring(t.start,t.end),l=/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/;for(S.show({title:n.title[0].toUpperCase()+n.title.substring(1),className:n.className,content:v,buttons:{submit:"ok",cancel:"annuler"},onButton:(i,r)=>{if("cancel"===i&&S.setContent(" "),"submit"===i){if(Object.keys(r).forEach(e=>{(e=r[e]).classList.remove("mderror"),r[e.className]=e}),!l.test(r.durl.value)){r.durl.classList.add("mderror"),S.show(),r.durl.focus();return}s&&(e=E(e,t.start,s.length));var o=r.width.value,d=r.height.value;o||d?o=" "+o+"x"+d:r.mdpop.value&&(o=" "+r.mdpop.value);let i="("+((0,u.default).encodeURI(r.durl.value)||"http://")+o+")";r.mdalt.value&&(i="["+r.mdalt.value+"]"+i),/media|twitter/.test(n.className)&&(i="!"+i),r.fullscreen.checked&&(i="["+i+"](app://fullscreen)"),i+=" ",e=I(e,t.start,i),a.value=e,a.selectionStart=a.selectionEnd=t.start+i.length,this.refresh(),this._onchange(),S.close(),S.setContent(" ")}a.focus()}});"\n"===s.substr(-1);)t.end--,s=e.substring(t.start,t.end);let r=S.getContentElement().querySelector("input.durl");i||(document.getElementById("twitterURL").innerHTML=""),l.test(s)?(r.value=s,setTimeout(function(){S.getContentElement().querySelector("input.mdalt").focus()})):(S.getContentElement().querySelector("input.mdalt").value=s,setTimeout(function(){r.focus()}))}function N(e,t,n){let a=this.input,i=e.substring(t.start,t.end),s=/data-bluesky-uri="(at:\/\/.*app.bsky.feed.post\/\w+)"/;S.show({title:n.title[0].toUpperCase()+n.title.substring(1),className:n.className,content:x,buttons:{submit:"ok",cancel:"annuler"},onButton:(n,l)=>{if("cancel"===n&&S.setContent(" "),"submit"===n){let n;if(Object.keys(l).forEach(e=>{(e=l[e]).classList.remove("mderror"),l[e.className]=e}),s.test(l.dtextarea.value))n=l.dtextarea.value.match(s)[1];else{l.dtextarea.classList.add("mderror"),S.show(),l.dtextarea.focus();return}i&&(e=E(e,t.start,i.length));let r=l.width.value,o=l.height.value;(r||o)&&(r=" "+r+"x"+o);let u=`!(${n}${r})`;e=I(e,t.start,u),a.value=e,this.refresh(),this._onchange(),S.close(),S.setContent(" ")}a.focus()}})}function P(e,t){let n=(0,o.default).create("DIV");(0,o.default).create("LABEL",{html:"Taille",parent:n});let a='<option value="">normal</option>';[2,3,4,5].forEach(e=>a+='<option value="'+e+'">x'+e+"</option>");let i=(0,o.default).create("SELECT",{html:a,parent:n});(0,o.default).create("LABEL",{html:"Alignement",parent:n});let s=(0,o.default).create("SELECT",{html:'<option value="">texte</option><option value="left">gauche</option><option value="right">droite</option>',parent:n}),l=(0,o.default).create("LABEL",{html:"Couleur",parent:n}),r=new p.default({parent:l,position:"fixed",hastab:!0,opacity:!1});(0,o.default).create("BR",{parent:n}),w.forEach(a=>{(0,o.default).create("I",{className:"fa "+a,title:a,click:()=>{S.hide();let n=i.value?i.value+"x":"";n+=(n&&s.value?" ":"")+(s.value?s.value:"");let l=(0,f.asArray)(r.getValue());l=l[3]?(0,m.toHexa)(l):"";let o=" :"+a+(n||l?":"+(n||""):"")+(l?":"+l:"")+": ";e=I(e,t.end,o),this.input.value=e,this.input.selectionStart=t.end+1,this.input.selectionEnd=t.end+o.length-1,this.input.focus(),this._onchange(),this.refresh()},parent:n})}),S.show({title:"Insérer une icone",content:n,className:"mdedit-icon",buttons:["annuler"],onButton:()=>{this.input.focus()}})}R.prototype._testul=function(e,t){if("Enter"!==e.key)return!1;let n=this.input.selectionStart,a=this.input.value,i=a.lastIndexOf("\n",n-2)+1;return a.substring(i,i+t.length)===t&&(a.substring(i,n-1)===t?"  * "===t?(a=E(a,n-1,1),a=E(a,i,2),this.input.value=a,this.input.selectionStart=i+2,this.input.selectionEnd=i+2):(a=E(a,i,t.length+1),this.input.value=a,this.input.selectionStart=i,this.input.selectionEnd=i):(a=I(a,n,t),this.input.value=a,this.input.selectionStart=n+t.length,this.input.selectionEnd=n+t.length),this._onchange(),!0)},R.prototype._getEditor=function(e){return new R(e)},R.prototype.mdFullDialog=function(){let e=this.getValue(),t=(0,o.default).create("DIV"),n=(0,o.default).create("DIV",{parent:t}),a=(0,o.default).create("TEXTAREA",{parent:n}),i=(0,o.default).create("DIV",{parent:t}),s=this._getEditor({input:a,output:i,scrolling:!0,minibar:!1,data:this.data,edugeo:this.params.edugeo,shiftTitle:this.params.shiftTitle});s.setValue(e),L.show({closeBox:!0,content:t,buttons:{ok:"modifier",cancel:"annuler"},onButton:e=>{"ok"===e&&(this.setValue(s.getValue()),this.input.selectionStart=this.input.selectionEnd=s.input.selectionEnd),this.input.focus()}});let l=(0,o.default).create("DIV",{className:"tb"});a.parentNode.insertBefore(l,a),l.appendChild(L.getContentElement().querySelector(".md-toolbar")),s.input.selectionStart=this.input.selectionStart,s.input.selectionEnd=this.input.selectionEnd,s.input.focus()},R.prototype.edit=function(e){let t=this.input;var n=t.selectionStart,a=t.selectionEnd,i=t.value,s=i.lastIndexOf("\n",n-1)+1;switch(e.type){case"line":i=I(i,s,e.val);break;case"selection":n!==a&&" "===i.charAt(a-1)&&a--,i=I(i,a,e.valend||e.val),i=I(i,n,e.val);break;case"insert":e.wrap&&(i=I(i,n,e.wrap[0]),n+=e.wrap[0].length,e.start=n),i=I(i,n,e.val),e.wrap&&(i=I(i,n+e.val.length,e.wrap[1]),e.end=n+e.val.length);break;case"fn":i=e.fn(i,{start:n,end:a,startln:s},e);break;case"dialog":i=e.fn.call(this,i,{start:n,end:a,startln:s},e);return}this._delay=0,this.input.value=i,t.selectionStart=e.start||n+e.val.length,t.selectionEnd=e.end||a+e.val.length,t.focus(),this._onchange(),this.refresh(!0)},R.prototype.addTool=function(e){let t=(0,o.default).create("I",{className:e.icon,title:e.title,click:()=>{this.edit(e)},parent:e.after?null:this.toolbar});return e.after&&this.toolbar.insertBefore(t,e.after),t},R.prototype.addSeparatorTool=function(){this.addTool({icon:"separator",type:"separator"})},R.prototype.setTools=function(e){this.toolbar.innerHTML="",this.addTool({title:"aide...",icon:"fi-info",type:"dialog",fn:()=>(0,h.showHelp)(t(y),n)}),this.addTool({title:"titres",icon:"title",val:"#",type:"line"}),this.addSeparatorTool(),this.addTool({title:"gras",icon:"fa fa-bold",val:"**",type:"selection"}),this.addTool({title:"italique",icon:"fa fa-italic",val:"*",type:"selection"}),e||(this.addTool({title:"souligné",icon:"fa fa-underline",val:"__",type:"selection"}),this.addTool({title:"barré",icon:"fa fa-strikethrough",val:"~~",type:"selection"}),this.addSeparatorTool(),this.addTool({title:"justifié",icon:"fa fa-align-justify",val:"",type:"fn",fn:function(e,t,n){var a=e.substr(t.startln,2);if("|<"===a||"|>"===a||"|	"===a)e=E(e,t.startln,2),t.start-=2,t.end-=2;else if("#"===e.charAt(t.startln))return A(e,t,n);return e}}),this.addTool({title:"aligné à gauche",icon:"fa fa-align-left",val:"|<",type:"fn",fn:function(e,t,n){return A(e,t,n)}}),this.addTool({title:"centré",icon:"fa fa-align-center",val:"|	",type:"fn",fn:function(e,t,n){return A(e,t,n)}}),this.addTool({title:"aligné à droite",icon:"fa fa-align-right",val:"|>",type:"fn",fn:function(e,t,n){return A(e,t,n)}}),this.addSeparatorTool(),this.addTool({title:"listes",icon:"fa fa-list-ul",val:"* ",type:"fn",fn:function(e,t,n){return"* "===e.substring(t.startln,t.startln+2)?I(e,t.startln,"  "):I(e,t.startln,n.val)}}),this.addTool({title:"liste",icon:"fa fa-list-ol",val:"1. ",type:"line"}),this.addTool({title:"insérer une ligne",icon:"line",val:"\n------\n",type:"insert"}),this.addSeparatorTool(),this.addTool({title:"code",icon:"fa fa-code",val:"",type:"fn",fn:function(e,t,n){return t.start===t.end?"    "===e.substr(t.startln,4)?(e=E(e,t.startln,4),n.start=t.start-4,n.end=t.end-4):(e=I(e,t.startln,"    "),n.start=t.start+4,n.end=t.end+4):(e=I(e,t.end,"`"),e=I(e,t.start,"`"),n.start=t.start+1,n.end=t.end+1),e}}),this.addTool({title:"exposant",icon:"fa fa-superscript",val:"^(",valend:")",type:"selection"}),this.addTool({title:"indice",icon:"fa fa-subscript",val:"^(_",valend:")",type:"selection"}),this.addTool({title:"citation",icon:"fa fa-indent",val:"",type:"fn",fn:function(e,t,n){return">"===e.charAt(t.startln)?(e=E(e,t.startln,1),n.start=t.start-1,n.end=t.end-1):(e=I(e,t.startln,">"),n.start=t.start+1,n.end=t.end+1),e}})),this.addSeparatorTool(),Object.keys(this.data).length&&this.addTool({title:"insérer un attribut",icon:"fa fa-tag",val:"%att%",type:"dialog",fn:(e,t,n)=>{let a=this.input,i=(0,o.default).create("DIV"),s=(0,o.default).create("UL",{parent:i});Object.keys(this.data).forEach(e=>{let t=(0,o.default).create("LI",{html:e,title:this.data[e],click:()=>{t.classList.toggle("select")},parent:s})});let l=(0,o.default).createCheck({after:"ne pas afficher si vide",className:" small",parent:i});(0,o.default).create("LABEL",{text:"Séparateur : ",className:"sep",parent:i});let r=(0,o.default).create("INPUT",{type:"text",className:"sep",value:"; ",parent:i});S.show({title:"Insérer un attribut",className:n.className,content:i,buttons:{ok:"ok",cancel:"annuler"},onButton:n=>{if("ok"===n){S.close();let n=[];s.querySelectorAll("li").forEach(e=>{if(e.classList.contains("select")){let t=e.innerText;n.push(l.checked?"((%"+t+"%))":"%"+t+"%")}}),n.length&&(n=n.join(r.value)+" ",t.start!==t.end&&(e=E(e,t.start,t.end-t.start)),e=I(e,t.start,n),a.value=e,a.selectionStart=a.selectionEnd=t.start+n.length,this.refresh()),this._onchange()}a.focus()}})},className:"mdedit-attr"}),this.addTool({title:"insérer un lien",icon:"fa fa-link",val:"[alt](url)",type:"dialog",fn:j,className:"mdedit-link"}),this.addTool({title:"insérer un média",icon:"fi-image",val:"!(url)",type:"dialog",fn:j,className:"mdedit-media"}),e&&this.addSeparatorTool(),e||(this.addTool({title:"insérer un tableau",icon:"fa fa-table",val:"\n\n|  T1  |  T2  |\n| ---- | ---- |\n|  1   |  2   |\n\n",type:"insert"}),this.addTool({title:"insérer un bloc",icon:"fa fa-list-alt",val:"",wrap:["\n\n[-- Titre --]\n","\n[----]\n\n"],type:"fn",fn:function(e,t,n){var a="contenu";return t.start!==t.end&&(a=e.substring(t.start,t.end),e=E(e,t.start,a.length)),e=I(e,t.start,n.wrap[0]+a+n.wrap[1]),n.start=t.start+n.wrap[0].length,n.end=t.start+n.wrap[0].length+a.length,e}}),this.addSeparatorTool(),this.addTool({title:"Twitter",icon:"fa fa-twitter-square",val:" ![Vous avez vu ma carte ?](https://twitter.com/share) ",type:"insert"}),this.addTool({title:"insérer un tweet",icon:"fa fa-twitter",val:"https://twitter.com/{user}/status/{id}",type:"dialog",fn:j,className:"mdedit-twitter"}),this.addTool({title:"insérer un post Bluesky",icon:"fi-bluesky",val:"https://bsky.app/profile",type:"dialog",fn:N,className:"mdedit-bluesky"}),this.addTool({title:"Facebook",icon:"fa fa-facebook-square",val:" !(https://www.facebook.com/like) ",type:"insert"})),this.addTool({title:"émoticône",icon:"fa fa-smile-o",val:":fa-smile-o:",type:"dialog",fn:P}),this.addTool({title:"nouvelle ligne",icon:"fa fa-paragraph",val:"<br>",type:"insert"}),e&&this.addTool({title:"éditeur complet",icon:"add",type:"dialog",fn:this.mdFullDialog});let n={title:"Markdown",className:"md-help",mdOptions:{name:"Géoroom",address:"8 avenue Pasteur",cp:94160,commune:"St-Mandé",valeur_1:2,valeur_2:4,valeur_3:3,valeur_4:6,valeur_5:1,html:'<a href="https://www.ign.fr/">Site IGN</a>',url:"https://www.ign.fr/visitez-le-georoom",img:"https://upload.wikimedia.org/wikipedia/commons/7/70/Hurel-Dubois_HD-34,_IGN_-_Institut_Geographique_National_AN1286808.jpg"},buttons:{format:"format",list:"listes",media:"médias",attr:"attributs",widget:"widget",ok:"ok"},onButton:e=>{switch(e){case"format":(0,h.showHelp)(t(y),n);break;case"list":(0,h.showHelp)(t(k),n);break;case"media":(0,h.showHelp)(t(T),n);break;case"attr":(0,h.showHelp)(t(_),n);break;case"widget":(0,h.showHelp)(t(C),n);break;case"qcm":(0,h.showHelp)(t(q),n)}}}};var M=R;class U extends M{constructor(e){super(e)}}function O(e,t){(0,d.default)({thumb:!1,add:!0,callback:n=>{let a=this.input,i=n.thumb?n.item.thumb_url:n.item.view_url;e=this._insertAt(e,t.start,"!("+i.split("/").pop()+")"),a.value=e,a.selectionStart=a.selectionEnd=t.start+i.length+3,a.focus(),this.refresh(),this._onchange()}})}U.prototype._getEditor=function(e){return new U(e)},U.prototype.setTools=function(e){M.prototype.setTools.call(this,e);let t=this.toolbar.querySelector(".fi-image");this.addTool({title:"insérer une image",icon:"fi-galerie-image",val:"!(url)",type:"dialog",fn:O,after:t})},s("cvawf");var D=s("kbFhP");(0,r.default).setApp("md","Markdown");const z=(0,r.default).getAppElement(),H=`## Test de QCM
R\xe9ponses: %md:QCMok% / %md:QCM%
#### Quelle est la couleur du cheval d'Henri IV ?
\`\`\`QCM henri4
Q: Quelle est la couleur du cheval d'Henri IV ?
[ ] ![](https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/Zebra_%28PSF%29.png/1200px-Zebra_%28PSF%29.png 80) ray\xe9 noir et blanc
[x] ![](https://collections.louvre.fr/media/cache/medium/0000000021/0000057596/0000331030_OG.JPG 60) blanc
[ ] vous pouvez r\xe9p\xe9ter la question ?
action: app://moveTo?2.351828,48.856578,9
---REP info
*Choisissez la bonne r\xe9ponse !*
---REP
\xab ***Quelle est la couleur du cheval blanc d'Henri IV ?*** \xbb est une [c\xe9l\xe8bre blague fran\xe7aise](https://fr.wikipedia.org/wiki/Cheval_blanc_dans_la_culture#P.C3.A9troglyphes_et_g.C3.A9oglyphes)
---REP ok
Bien jou\xe9
![](https://i.ytimg.com/vi/PTLr74H2deA/maxresdefault.jpg 250)
---REP nok
OOps encore rat\xe9
![](https://media.baamboozle.com/uploads/images/169049/1604435175_123203 250)
\`\`\`

Ideal:
![Bluesky](https://bsky.app/profile/ignfrance.bsky.social/post/3lfdabftbqc2m)

Lien : https://bsky.app/profile/ignfrance.bsky.social/post/3lfdabftbqc2m

Blockcode :

\`\`\`html
<blockquote class="bluesky-embed" data-bluesky-uri="at://did:plc:6j7dfu4urjderngdgf2nh7gw/app.bsky.feed.post/3leoghenwmc2d" data-bluesky-cid="bafyreiax76gjmq47e5df6nvvbnpi2b6juzaudqmk7xorwifjwoujuwzcxy"><p lang="fr">\u{2728}Nouvelle ann\xe9e, nouvelle r\xe9solution : l&#x27;IGN arrive sur Bluesky ! Et vous souhaite une excellente ann\xe9e 2025 <br><br><a href="https://bsky.app/profile/did:plc:6j7dfu4urjderngdgf2nh7gw/post/3leoghenwmc2d?ref_src=embed">[image or embed]</a></p>&mdash; IGN (<a href="https://bsky.app/profile/did:plc:6j7dfu4urjderngdgf2nh7gw?ref_src=embed">@ignfrance.bsky.social</a>) <a href="https://bsky.app/profile/did:plc:6j7dfu4urjderngdgf2nh7gw/post/3leoghenwmc2d?ref_src=embed">1 January 2025 at 12:11</a></blockquote><script async src="https://embed.bsky.app/static/embed.js" charset="utf-8"></script>
\`\`\`

Lien

\`\`\`
!(at://did:plc:6j7dfu4urjderngdgf2nh7gw/app.bsky.feed.post/3leoghenwmc2d 400x500)
\`\`\`

Liens r\xe9els :
!(at://did:plc:6j7dfu4urjderngdgf2nh7gw/app.bsky.feed.post/3leoghenwmc2d)

!(at://did:plc:6j7dfu4urjderngdgf2nh7gw/app.bsky.feed.post/3lfdabftbqc2m)
`,V={name:"Géoroom",address:"8 avenue Pasteur",cp:94160,commune:"St-Mandé",url:"https://www.ign.fr/visitez-le-georoom",labels:"toto; titi; tutu",tab_1:"10; 15; 8",tab_2:"12; 9; 13",valeur_1:2,valeur_2:4,valeur_3:3,valeur_4:6,valeur_5:1,html:'<a href="https://www.ign.fr/">Site IGN</a>',img:"https://upload.wikimedia.org/wikipedia/commons/7/70/Hurel-Dubois_HD-34,_IGN_-_Institut_Geographique_National_AN1286808.jpg",img2:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Rue_des_Marchands_depuis_le_Ko%C3%AFfhus_%28Colmar%29_%284%29.jpg/640px-Rue_des_Marchands_depuis_le_Koïfhus_(Colmar)_(4).jpg"};(0,o.default).create("BUTTON",{html:"Dialog",className:"button button-colored",click:()=>{let e=(0,o.default).create("TEXTAREA",{html:H,change:e=>{let t=e.target.value;G.innerText=(0,u.default).text(t,V)},parent:z});(0,D.default).show({title:"Markdown editor",className:"MDEditor",content:e,buttons:["ok","cancel"]}),new U({input:e,data:V})},parent:z});const B=(0,o.default).create("TEXTAREA",{html:H,change:e=>{let t=e.target.value;G.innerText=(0,u.default).text(t,V)},parent:z});(0,o.default).create("BUTTON",{html:"ok",class:"button button-ghost",parent:z});const Q=(0,o.default).create("DIV",{className:"md",parent:z}),F=window.editor=new U({input:B,data:V,output:Q,edugeo:!0});(0,o.default).create("P",{html:"Rendu texte :",parent:z});const G=(0,o.default).create("DIV",{html:(0,u.default).text(H,V,!0),className:"md",parent:z});window.editor=F;