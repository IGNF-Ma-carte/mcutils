let e;function t(e,t,a,i){Object.defineProperty(e,t,{get:a,set:i,enumerable:!0,configurable:!0})}var a=globalThis,i={},s={},l=a.parcelRequire8969;null==l&&((l=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var a={id:e,exports:{}};return i[e]=a,t.call(a.exports,a,a.exports),a.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){s[e]=t},a.parcelRequire8969=l);var r=l.register;r("4ki7m",function(e,a){t(e.exports,"default",()=>u);var i=l("kbFhP"),s=l("iQyfo"),r=l("2iBkg"),n=l("istUn");let o=`
<div class="list"></div>
<h3>Lien</h3>
<div class="link">
  Lien pour visualiser la carte :<br/>
</div>
<p class="cgu">
  En utilisant ce service, nous vous informons que votre responsabilit\xe9 est engag\xe9e lorsque vous partagez vos donn\xe9es sur Internet. 
  En cons\xe9quence, vous devez vous conformer aux lois r\xe8glements en vigueur notamment la loi Informatique et libert\xe9s 
  si les donn\xe9es partag\xe9es contiennent des donn\xe9es \xe0 caract\xe8re personnel.
  <br/>
  Pour plus de d\xe9tails, veuillez consulter les <a class="colored" target="_new">Conditions g\xe9n\xe9rales d'utilisation</a>.
</p>
`;var u=function(e){let t;let a=(e=e||{}).carte;if(!a)return;let l=a.getViewerUrl?a.getViewerUrl():(0,r.getViewerURL)(a),u=a.get?a.get("title"):a.title;if(!l)return!1;e.target instanceof Element?(e.target.innerHTML=o,(t=e.target).classList.add("mc-share-map")):((0,i.default).show({title:e.prompt||"Partager votre carte",className:"mc-share-map",content:o}),t=(0,i.default).getContentElement());let c=t.querySelector(".list");(0,s.default).create("A",{html:'<i class="fa fa-code"></i> Intégrer',className:"colored",click:()=>(0,n.default)(e),parent:c}),[{title:'<i class="fa fa-twitter"></i> Twitter',href:"https://twitter.com/intent/tweet?url="+encodeURIComponent(l)+(u?"&text="+encodeURI(u):"")+"&via=IGNFrance&hashtags=Macarte"},{title:'<i class="fa fa-facebook"></i> Facebook',href:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(l)},{title:'<i class="fa fa-linkedin"></i> LinkedIn',href:"https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(l)},{title:'<i class="fa fa-envelope-o"></i> Courrier',href:"mailto:?subject="+encodeURIComponent(u||"Macarte")+"&body=Je vous invite à consulter la carte "+encodeURIComponent(u||"")+" : \n"+encodeURIComponent(l)}].forEach(e=>{(0,s.default).create("A",{html:e.title,className:"colored external",href:e.href,click:()=>{(0,i.default).hide()},target:"_new",parent:c})});let d=(0,s.default).create("A",{html:(0,s.default).create("SPAN",{html:l}),className:"colored",click:()=>{try{navigator.clipboard.writeText(l),p.className="copy-info visible",setTimeout(()=>{p.className="copy-info"},800)}catch(e){}},parent:t.querySelector(".link")}),p=(0,s.default).create("SPAN",{html:"copié dans le presse-papier",className:"copy-info",parent:d});return t.querySelector(".cgu a").href=r.default.cgu,!0}}),r("istUn",function(e,a){t(e.exports,"default",()=>m);var i=l("4RD3O"),s=l("kbFhP"),r=l("hgFwk"),n=l("40xUf"),o=l("gzr8q"),u=l("2iBkg"),c=l("cvawf"),d=l("467x5");let p=`
<div class="iframe-container">
  <iframe></iframe>
</div>
<div>
  <h2>Int\xe9grer votre carte</h2>
  <input class="url input-placeholder" disabled="disabled" placeholder="Code \xe0 int\xe9grer dans votre site :" type="text" />
  <div class="container"><span class="copy-info">Copi\xe9 dans le presse-papier</span></div>
  Taille :<br/>
  <input class="width" type="number" value="100" >
  <select class="wunit"><option value="%">%</option><option value="px">px</option></select>
  x 
  <input class="height" type="number" value="480" >
  <select class="hunit"><option value="%">%</option><option value="px">px</option></select>
  <br/>
  <label class="nozoom ol-ext-check ol-ext-checkbox small">
    <input class="nozoom" type="checkbox"><span></span> zoom avec Ctrl + molette
  </label>
  <br/>
  <label class="ol-ext-check ol-ext-checkbox small">
    <input class="notitle" type="checkbox"><span></span> masquer le titre
  </label>
  <div class="position">
    <label class="ol-ext-check ol-ext-checkbox small">
      <input class="position" type="checkbox"><span></span> int\xe9grer la position
    </label>
    <div>
      <label>Longitude :</label><input class="lon" type="number" step=.0000001 />
      <label>Latitude :</label><input class="lat" type="number" step=.0000001 />
      <label>Zoom :</label><input class="zoom" type="number" step=.01 />
      <a class="locate article button"><i class="fi-location"></i> position courante</a>
    </div>
  </div>
  <div class="CGU">
    En int\xe9grant une carte Macarte sur votre site, vous acceptez les <a href="{URL}" target="_new">Conditions d'utilisation de Macarte</a>.
  </div>
</div>
`;p=p.replace("{URL}",u.default.cgu);var m=function(e){let t=(e=e||{}).carte,a=t&&t.getViewerUrl?t.getViewerUrl():(0,u.getViewerURL)(t);if(!a)return;/\?map=/.test(a)||(a+="?"),(0,s.default).show({className:"mc-embed-map",content:p,buttons:{cancel:"annuler"},onButton:e=>{if("copy"===e)try{navigator.clipboard.writeText(m.url.value)}catch(e){}}});let l=(0,s.default).getContentElement().querySelector("iframe");l.src=a+"&noPop";let m=(0,s.default).getInputs();m.hunit.value="px";let f=[];function h(){m.position.checked?(m.zoom.value>18&&(m.zoom.value=18),",,"===(f=[m.lon.value,m.lat.value,m.zoom.value]).join(",")&&(f=[])):f=[];let e=(0,u.getViewerURL)({view_id:t.get?t.get("id"):t.view_id||t.id,title:t.getTitle?t.getTitle():t.title||"macarte",type:t.type||t instanceof c.default?"macarte":"storymap",showTitle:!m.notitle.checked,noZoom:m.nozoom.checked,position:f});m.url.value='<iframe src="'+e+'" width="'+m.width.value+m.wunit.value+'" height="'+m.height.value+m.hunit.value+'" allow="geolocation clipboard-read; clipboard-write"></iframe>',l.src!==e&&(l.src=e),l.style.width=m.width.value+m.wunit.value,l.style.height=m.height.value+m.hunit.value}for(let e in m)m[e].addEventListener("change",h);h();let v=(0,s.default).getContentElement();(0,i.default)(v),v.querySelector(".input-placeholder").addEventListener("click",()=>{try{navigator.clipboard.writeText(m.url.value);let e=v.querySelector(".copy-info");e.className="copy-info visible",setTimeout(()=>{e.className="copy-info"},800)}catch(e){}}),m.position.addEventListener("change",()=>{m.position.checked?v.querySelector("div.position").classList.add("checked"):v.querySelector("div.position").classList.remove("checked")}),t&&(t instanceof c.default||t instanceof d.default)?("onglet"===t.get("model")&&v.querySelector("div.position").classList.add("hidden"),v.querySelector("a.locate").addEventListener("click",()=>{let e=t.getCarte?t.getCarte().getMap().getView():t.getMap().getView(),a=(0,o.toLonLat)(e.getCenter(),e.getProjection());m.lon.value=Math.round(1e7*a[0])/1e7,m.lat.value=Math.round(1e7*a[1])/1e7,m.zoom.value=Math.round(10*e.getZoom())/10,h()})):v.querySelector("a.locate").style.display="none",(0,r.default)(v.querySelector("h2"),n&&n.__esModule?n.default:n,{title:"Intégrer votre carte",className:"medium"})}}),r("hgFwk",function(e,a){t(e.exports,"showHelp",()=>u),t(e.exports,"default",()=>c);var i=l("6od7S"),s=l("kOWwI"),r=l("l956U"),n=l("iQyfo");l("4k2SX");let o=new i.default({className:"md",closeBox:!0,target:document.body});function u(e,t){t=t||{},o.show({title:t.title||"",content:(0,r.default)(e,t.mdOptions),className:"help",buttons:t.buttons||["ok"],onButton:t.onButton}),o.element.classList.remove("large"),o.element.classList.remove("medium"),o.element.classList.remove("small"),(t.className||"").split(" ").forEach(e=>{o.element.classList.add(e||"large")}),(0,r.default).renderWidget(o.element)}o.setMap(s.default),o.on("hide",()=>o.setContent("none")),o.on("show",()=>o.getContentElement().scrollTop=0);var c=function(e,t,a){a=a||"","I"===e.tagName?(e.classList.add("mc-help"),e.title=a.title||"aide..."):e=(0,n.default).create("I",{className:"mc-help",title:a.title||"aide...",parent:e}),e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),u(t,a)})}}),r("40xUf",function(e,t){e.exports="Grâce à l'option d'intégration, vous pouvez ajouter les cartes et les narrations **Ma carte** à un site Web ou à un blog.\r\nL'intégration des cartes se fait via une balise `<iframe>`. \r\n\r\n### Intégrer une carte\r\n* Dans la liste des options de partage, cliquez sur Intégrer.\r\n* Copiez le code HTML figurant dans la zone qui s'affiche en cliquant sur le bouton :fa-clipboard:.\r\n* Collez le code dans le code HTML de votre site Web.\r\n\r\nLa carte s'affichera conformément à la dernière mise à jour (enregistrement).\r\n\r\n### Options d'intégration\r\n\r\n#### :fa-check-square-o:fw: Taille de la fenêtre\r\nVous pouvez définir la taille de la fenêtre cartographique (largeur et hauteur).\r\n\r\n#### :fa-check-square-o:fw: Zoom molette\r\nSi votre carte doit être intégrée sur une page avec un défilement, le zoom à la molette peut empêcher le défilement correct lorsqu'on se trouve sur la carte. \r\nDans ce cas, choisissez le mode de zoom avec <kbd Ctrl> + molette, la molette seule étant réservée au défilement de la page.\r\n\r\n#### :fa-check-square-o:fw: Masquer le titre\r\nVous pouvez choisir de ne pas afficher le titre de la carte si celui-ci est déjà présent sur la page Web d'acceuil.\r\n:fa-warning:fw: Attention : la carte est responsive, c'est à dire que si la zone dans laquelle votre carte doit s'afficher est trop petite le titre sera automatiquement masqué pour laisser plus de place à la carte.\r\nNB : cette option est sans effet si le titre de la carte est masqué dans le modèle utilisé.\r\n\r\n### Position de la carte\r\n\r\nPour forcer la position de la carte, remplissez les champs longitude, latitude et zoom du formulaire.\r\nCette option n'est pas disponible pour les narrations réalisée avec le modèle onglet.\r\n"}),r("kO0kO",function(e,a){t(e.exports,"default",()=>v);var i=l("49GcF"),s=l("kbFhP"),r=l("2Fada"),n=l("iQyfo"),o=l("gXJm2"),u=l("2iBkg");let c={},d=new i.default(r.default,{mini:1,selection:!0});window.usercarte=d;let p=(0,n.default).create("DIV",{className:"mc-list-info",parent:d.element}),m=(0,n.default).create("INPUT",{type:"search",placeHolder:"rechercher...",parent:d.element});(0,n.default).addListener(m,["keyup","search"],()=>{let e=RegExp(m.value,"i"),t=!1;d.element.querySelectorAll("li").forEach(a=>{e.test(a.innerText)?(t=!0,a.style.display="block"):a.style.display="none"}),t?d.showError():d.showError("Aucune carte...",!1),d.clearSelection()}),d.on("select",e=>{p.innerHTML="",e.item&&((0,n.default).create("h4",{html:e.item.title,parent:p}),(0,n.default).create("IMG",{src:(0,u.getMediaURL)(e.item.img_url)||"",parent:p}),(0,n.default).create("p",{html:e.item.description,parent:p}),(0,n.default).create("div",{className:"mc-theme",html:e.item.theme,parent:p}),(0,n.default).create("div",{className:"mc-date",html:e.item.updated_at,parent:p}),(0,n.default).create("div",{className:"mc-view",html:e.item.nb_view,parent:p}))}),d.on("dblclick",e=>{(0,s.default).hide(),f(e.item)}),d.on("error",e=>{401===e.status?(0,s.default).showAlert("Vous devez être connecté pour effectuer cette opération...",{connect:"se connecter",cancel:"annuler"},e=>{"connect"===e&&(0,o.connectDialog)(()=>{h(c)})}):d.showError("Impossible de charger les cartes.")}),d.on("draw:list",e=>{m.style.display=e.list.length<20?"none":""}),d.on("search",()=>d.clear());let f=function(){};function h(e){f="function"==typeof(e=e||{}).callback?e.callback:()=>{},c=e,m.value="",d.set("filter",e.filter),d.set("type",e.type),(0,s.default).show({title:e.title||"Charger une carte",className:"mc-user-map",content:d.element,buttons:{submit:"charger",cancel:"annuler"},onButton:e=>{"submit"===e&&d.getSelection()&&(f(d.getSelection()),(0,s.default).close())}}),p.innerHTML="",d.search()}var v=h}),r("49GcF",function(e,a){t(e.exports,"default",()=>r),l("bXOZB");var i=l("fmXBE");class s extends i.default{constructor(e,t){(t=t||{}).context="profile",t.size="all",super(e,t)}}s.prototype.filterList=function(e){let t=[];return e.forEach(e=>{switch(this.get("filter")){case"storymap":"storymap"===e.type&&t.push(e);break;case"macarte":"storymap"!==e.type&&t.push(e);break;default:t.push(e)}}),t};var r=s}),r("agEcb",function(e,t){function a(t){return e.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}),r("c86V7",function(e,a){t(e.exports,"default",()=>u);var i=l("iQyfo"),s=l("fnScq"),r=l("2iBkg"),n=l("jmRXz");class o extends s.default{constructor(e){super(e=e||{}),this.input=e.input||(0,i.default).create("INPUT",{type:"url",parent:e.parent}),this.input.placeholder=e.placeholder||"Url de l'image",this.input.type="text",this.value=this.input.value,this.set("fullpath",e.fullpath);let t=this.element=(0,i.default).create("DIV",{className:"mc-input-media"});this.input.parentNode.insertBefore(t,this.input),this._imgDiv=(0,i.default).create("DIV",{className:"mc-img",parent:t});let a=this._img=new Image;a.onerror=()=>{t.classList.remove("loading"),this._imgDiv.style["background-image"]="",this.input.value?this.input.classList.add("invalid"):this.input.classList.remove("invalid"),this.value="",this.dispatchEvent({type:"load",value:this.value,error:!0})},a.onload=()=>{if(t.classList.remove("loading"),this._imgDiv.style["background-image"]="url("+a.src+")",this.value=a.src,this.input.classList.remove("invalid"),this.set("crossOrigin",!1),e.useCors){let e=new Image;e.crossOrigin="anonymous",e.onload=()=>{this.set("crossOrigin","anonymous"),this.dispatchEvent({type:"load",value:this.value})},e.onerror=()=>{this.dispatchEvent({type:"load",value:this.value})},e.src=a.src}else this.dispatchEvent({type:"load",value:this.value})},this.value&&(a.src=(0,r.getMediaURL)(this.value)),t.appendChild(this.input),this.input.addEventListener("change",()=>{this.setValue(this.input.value),this.value="",s.style.display=this.input.value?"":"none"}),this.input.addEventListener("keyup",()=>{s.style.display=this.input.value?"":"none"});let s=(0,i.default).create("BUTTON",{className:"delete",type:"button",style:{display:this.input.value?"":"none"},title:e.btnTitle||"Chercher dans la galerie...",html:'<i class="fa fa-times"></i>',click:()=>{this.value="del",this.setValue(""),this.input.focus()},parent:t}),l=e.thumb;(0,i.default).create("BUTTON",{className:"button-colored user-media",type:"button",title:e.btnTitle||"Chercher dans la galerie...",html:'<i class="fi-galerie-image"></i>',click:()=>{(0,n.default)({thumb:l,add:e.add,callback:e=>{l=e.thumb;let t=e.thumb?e.item.thumb_url:e.item.view_url;this.get("fullpath")?this.setValue(t):this.setValue(t.split("/").pop())}})},parent:t})}}o.prototype.getValue=function(){return this.input.value},o.prototype.setValue=function(e){this.value!==e&&(this.value=e,this.element.classList.add("loading"),this.input.value=e,this._img.src=(0,r.getMediaURL)(e),this.input.dispatchEvent(new Event("change")))};var u=o}),r("kMG75",function(e,a){let i;t(e.exports,"default",()=>o);var s=l("fnScq"),r=l("iQyfo");class n extends s.default{constructor(e,t){super(),t=t||{},this.set("full",!!t.full),this.api=e;let a=this.element=(0,r.default).create("DIV",{className:"author-list",parent:t.target}),i=this.searchInput=(0,r.default).create("INPUT",{type:"text",className:"author",placeholder:"chercher un membre...",parent:a});(0,r.default).create("I",{className:"loading",parent:a});let s=(0,r.default).create("UL",{className:"autocomplete",parent:a});i.addEventListener("keyup",()=>{this.autocompleteAuthor(i.value,s)}),i.addEventListener("focus",()=>{s.style.display="block"}),i.addEventListener("focusout",()=>{setTimeout(()=>s.style.display="none",200)})}}n.prototype.setUser=function(e){this.searchInput.value=e},n.prototype.autocompleteAuthor=function(e,t){e!==this._currentSearch&&(this._currentSearch=e,i&&clearTimeout(i),this.element.dataset.loading="",i=setTimeout(()=>{if(!e){t.innerHTML="",delete this.element.dataset.loading;return}this.get("full")?this.api.getUsers(e,e=>{delete this.element.dataset.loading,t.innerHTML="",e&&e.forEach&&e.forEach(e=>{let a=(0,r.default).create("LI",{text:e.public_name,className:"full",click:()=>{this.dispatchEvent({type:"select",user:e})},parent:t});e.profile_picture&&(0,r.default).create("IMG",{src:e.profile_picture,parent:a})})}):this.api.searchMapUsers({public_name:e},e=>{delete this.element.dataset.loading,t.innerHTML="",e&&e.forEach&&e.forEach(e=>{(0,r.default).create("LI",{html:e,click:()=>{this.dispatchEvent({type:"select",public_name:e})},parent:t})})})},500))};var o=n});var n=l("bo74g"),o=l("gXJm2"),u=l("cvawf");l("bS8Lk");var c=l("5blsF"),d=l("4ki7m"),p=l("467x5"),m=l("kO0kO"),f=l("kkNxo"),h=l("iQyfo");const v=(0,h.default).create("DIV",{className:"page-loader hidden",html:"<div><p></p></div>",parent:document.body}),g=(0,h.default).create("DIV",{className:"info",parent:v});var b={show:(t,a)=>{g.innerHTML=a||"",v.style.display="block",e&&clearTimeout(e),0===t?v.classList.remove("hidden"):e=setTimeout(()=>{v.classList.remove("hidden")},t||200)},hide:()=>{v.classList.add("hidden"),e&&clearTimeout(e),e=setTimeout(()=>{v.style.display="none"},200)}};l("2Fada");var y=l("kbFhP");l("3FmSU"),l("bXOZB");var x=l("1NiL5"),h=l("iQyfo"),w=l("4XpLa");const k=new p.default({key:n.default.gppKey});function L(e){(0,c.default)(e,(t,a)=>{console.log("SAVE*****",t,a,e.write())})}k.setCarte(new u.default),k.on("read:start",()=>b.show(0,"Chargement de la carte...")),k.on("read",()=>b.hide()),(0,o.default).setApp("macarte","Ma carte"),(0,o.default).addMenuButton("locate","fi-info","information").addEventListener("click",()=>(0,y.default).showMessage("A simple button in the menu barre...")),(0,o.default).addMenuTab("locate","fi-location","Localisation","Onglet Carte"),(0,o.default).addMenuTab("edit","fi-pencil","Edition","<h1>Lorem ipsum</h1>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam at lacinia nibh. Mauris vitae diam finibus, ultrices tellus quis, mollis nibh. Morbi lacus tortor, varius maximus dui in, finibus venenatis nunc. Phasellus semper, enim vel sagittis vulputate, sem lectus venenatis purus, a porta neque mi eget diam. Sed vehicula purus urna, vel malesuada justo laoreet mollis. Nullam sed est quis ipsum volutpat malesuada. Vivamus ut felis mollis, sagittis erat quis, egestas sapien. Vestibulum volutpat varius euismod. Ut pulvinar justo quis faucibus vulputate. Donec ut maximus lorem. Nunc facilisis feugiat massa, a convallis sem varius pretium. Vivamus purus nunc, iaculis pulvinar viverra id, dignissim a mi. Phasellus imperdiet rutrum nulla, a imperdiet nisi tincidunt eu. Sed ac ligula viverra, varius ligula facilisis, maximus est.</br>Proin enim elit, semper ut porttitor id, cursus eu turpis. Vivamus at purus odio. Integer ut pharetra est. Curabitur quis arcu rhoncus, sollicitudin risus ut, vehicula velit. Vestibulum facilisis lorem tempor diam sodales, ac placerat elit porta. Cras non commodo leo, eget porta massa. Pellentesque aliquet sem nec risus dictum dignissim. Nunc dignissim ultrices lectus, ac facilisis mi consequat non. Cras cursus, lacus sit amet congue rhoncus, ipsum massa vehicula ex, ut aliquam sem nisi vitae erat. Mauris lobortis auctor erat, id pretium urna faucibus in. Duis eu dui interdum, mattis enim ac, mollis lorem.</br>Cras turpis augue, accumsan ac tortor at, tristique finibus metus. Aenean et varius purus, a tristique tellus. Praesent tincidunt ut nisl a euismod. Sed ex ante, accumsan vitae pretium semper, mollis in justo. Aenean sit amet nisi id lectus dignissim interdum. In in viverra elit. Donec maximus pharetra turpis, nec lobortis purus fermentum non. Aliquam accumsan sed tortor vitae congue. Quisque vehicula libero purus, et lacinia erat malesuada ut. Maecenas id tempus nulla. Aliquam erat volutpat. Maecenas dignissim ligula tellus, sit amet finibus eros bibendum vitae. In hac habitasse platea dictumst. Suspendisse potenti. Maecenas diam odio, auctor nec enim fermentum, rhoncus ultricies turpis.</br>Morbi tempus sapien vel nulla laoreet viverra. Curabitur lacus erat, ultricies at tortor in, convallis porta felis. Donec ac tristique dui, ut vestibulum sapien. Pellentesque pretium odio eu urna gravida, a porta ipsum euismod. Vestibulum viverra elit dictum turpis lobortis, eget interdum dolor ornare. Etiam blandit dignissim tortor sed semper. Praesent ultricies lorem nec lacus sagittis, ac efficitur odio facilisis. Cras non commodo tortor. Duis venenatis, quam ut rhoncus elementum, augue metus malesuada nisl, in aliquam magna metus eget metus. Cras sit amet tempor nisi. Aenean ipsum dolor, accumsan nec consequat et, fringilla non nibh. Nunc sit amet faucibus ante.</br>Integer fermentum cursus dolor eget eleifend. Cras vitae lacinia nulla. Integer rhoncus ligula et nulla pellentesque, vitae mollis libero euismod. Nulla non justo non tellus mollis cursus. Cras eget justo libero. Morbi sit amet purus malesuada, rhoncus neque eu, convallis tortor. Proin fermentum urna sem, non laoreet lectus feugiat id. Mauris elementum, justo a ornare aliquet, odio nunc tristique lacus, eget pellentesque orci ante eget nibh. Morbi et lacus nec lorem aliquet hendrerit non ac risus. Mauris nec molestie nibh, quis volutpat dui. Phasellus interdum pharetra aliquam. Aenean finibus leo nec lectus facilisis pellentesque. Sed hendrerit ut felis at facilisis."),(0,o.default).addMenuTab("legend","fi-legend","Légende","Légende"),(0,o.default).addTool("fullscreen","fi-visible","Plein écran",()=>(0,o.default).fullscreen()),(0,o.default).addTool("help","fi-info","Aide",console.log),(0,o.default).addTool(),(0,o.default).addTool("share","fi-share-alt","Partager",()=>{(0,d.default)({carte:k})||(0,f.default).showAlert("Vous devez enregistrer la carte avant de pouvoir la partager...",{submit:"enregistrer",cancel:"annuler "},e=>{"submit"===e&&L(k)})}),(0,o.default).addTool("print","fi-print","Imprimer",()=>{k.print()}),(0,o.default).addTool(),(0,o.default).addTool("import","fi-share","Importer",console.log),(0,o.default).addTool("save","fi-save","Enregistrer",()=>{L(k)}),(0,o.default).addTool("open","fi-open","Ouvrir",()=>{(0,m.default)({callback:e=>{k.load(e)}})}),(0,o.default).addTool("new","fi-map","Ajouter un vecteur tuilé",()=>{(0,y.default).show({title:"Vecteur tuilé",buttons:{ok:"ok",cancel:"annuler"},onButton:t=>{if("ok"===t){let t=window.mvtLayer=new x.default({url:e.value});k.getCarte().getMap().addLayer(t)}}}),(0,y.default).getContentElement().innerHTML="";let e=(0,h.default).create("SELECT",{parent:(0,y.default).getContentElement()});(0,h.default).create("OPTION",{text:"PLAN IGN : standard",value:"https://data.geopf.fr/annexes/ressources/vectorTiles/styles/PLAN.IGN/essentiels/standard.json",parent:e}),(0,h.default).create("OPTION",{text:"PLAN IGN : gris",value:"https://data.geopf.fr/annexes/ressources/vectorTiles/styles/PLAN.IGN/essentiels/gris.json",parent:e}),(0,h.default).create("OPTION",{text:"PLAN IGN : classique",value:"https://data.geopf.fr/annexes/ressources/vectorTiles/styles/PLAN.IGN/essentiels/classique.json",parent:e}),(0,h.default).create("OPTION",{text:"BDTOPO : classique",value:"https://data.geopf.fr/annexes/ressources/vectorTiles/styles/BDTOPO/classique.json",parent:e}),(0,h.default).create("OPTION",{text:"BDTOPO : bati étages",value:"https://data.geopf.fr/annexes/ressources/vectorTiles/styles/BDTOPO/bati_etages.json",parent:e}),(0,h.default).create("OPTION",{text:"PCI : classique",value:"https://data.geopf.fr/annexes/ressources/vectorTiles/styles/PCI/pci.json",parent:e}),(0,h.default).create("OPTION",{text:"PCI : gris",value:"https://data.geopf.fr/annexes/ressources/vectorTiles/styles/PCI/noir_et_blanc.json",parent:e})}),(0,o.default).on(["tab:show","fullscreen"],()=>{console.log("resizemap")}),(0,o.default).on(["header:menu","header:mega","header:title"],console.log),(0,o.default).on(["header:list"],console.log),(0,o.default).on(["menu:list"],console.log),window.openCarte=m.default,window.charte=o.default,window.story=k,window.organization=w.default;