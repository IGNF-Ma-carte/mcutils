var e=globalThis,t={},a={},r=e.parcelRequire8969;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequire8969=r),(0,r.register)("agEcb",function(e,t){function a(t){return e.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports});var o=r("cvawf"),l=r("gXJm2"),n=r("6yVA3"),s=r("hnLWH"),c=r("bXE6B"),u=r("iQyfo"),d=r("bS8Lk"),i=r("kbFhP"),m=r("eUb8y");(0,l.default).setApp("macarte","Colors");const f=(0,u.default).create("SELECT",{change:()=>{E.setStatistic({typeMap:f.value},300)},parent:document.getElementById("form")});(0,c.default).type.forEach(e=>{(0,u.default).create("OPTION",{value:e,html:e,parent:f})});const g=(0,u.default).create("SELECT",{change:()=>{E.setStatistic({mode:g.value},300)},parent:document.getElementById("form")});Object.keys(c.default.mode).forEach(e=>{(0,u.default).create("OPTION",{value:e,html:c.default.mode[e],parent:g})});const p=(0,u.default).create("DIV",{parent:document.getElementById("form")});(0,u.default).create("SPAN",{html:"Nb classes : ",parent:p}),(0,u.default).create("INPUT",{type:"number",value:5,min:2,change:e=>{h.setSize(e.target.value),E.setStatistic({nbClass:e.target.value,brewerColors:h.getColors()},300)},parent:p});const h=new n.default({target:document.getElementById("form")});h.on(["change:scheme","check","change:color"],e=>{E.setStatistic({brewerColors:h.getColors()},300),console.log("change")});const y=new m.default({target:document.getElementById("form")});y.on("change:limit",e=>{E.setStatistic({limits:e.limits})});const b=(0,u.default).create("DIV",{parent:document.getElementById("form")});(0,u.default).create("LABEL",{text:"Radius: ",parent:b}),(0,u.default).create("INPUT",{type:"number",value:3,min:-1,change:e=>{E.setStatistic({rmin:parseFloat(e.target.value)})},parent:b}),(0,u.default).create("INPUT",{type:"number",value:20,min:0,change:e=>{E.setStatistic({rmax:parseFloat(e.target.value)})},parent:b}),(0,u.default).createSwitch({html:"normal",after:"multiply",checked:!0,change:e=>{E.setBlendMode(e.target.checked?"multiply":"normal")},parent:document.getElementById("form")});const S=(0,u.default).createCheck({after:"afficher les contours",checked:!0,parent:document.getElementById("form")});S.addEventListener("change",e=>{E.setStatistic({stroke:!!S.checked&&"red"},300)});const w=new o.default({target:"map",url:"./data/stat.carte"});w.showControl("legend");let E=null;w.on("read",()=>{window.slayer=E=null,w.getMap().getLayers().forEach(e=>{e.stat&&(window.slayer=E=e,E.on("stat:start",()=>{(0,d.default).show("calcul...",-1)}),E.on("stat:end",e=>{if((0,d.default).hide(),e.error){(0,i.default).showAlert("Impossible de calculer la statistique...<br/>"+e.statusText);return}switch(e.stat.typeMap){case"categorie":h.setSize(E.getValues().length);break;case"sectoriel":h.setSize(e.stat.cols.length);break;default:h.setSize(e.stat.nbClass)}y.setRepartition({mode:E.getMode(),values:E.getValues(),limits:E.getLimits(),colors:h.getColors()});let t=w.getControl("legend").getLegend();t.getItems().clear(),E.getStatLegend().forEach(e=>{t.addItem(e)})}))})}),w.getMap().addOverlay(new s.default({canFix:!0,closeBox:!0,minibar:!0,template:e=>{let t=e.getProperties();return delete t.geometry,{attributes:Object.keys(t)}},select:w.getSelect()})),w.setSelectStyle({points:!1}),window.brewer=h,window.carte=w,window.graph=y;