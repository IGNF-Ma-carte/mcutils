function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}var r=globalThis,i={},n={},s=r.parcelRequire8969;null==s&&((s=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},r.parcelRequire8969=s);var a=s.register;a("cvawf",function(r,i){let n;t(r.exports,"default",()=>ec),s("jLXCT"),s("kbFhP");var a=s("bo74g"),o=s("2iBkg"),l=s("l956U"),u=s("fnScq"),h=s("gbCDL"),c=s("4QhZh");s("eXEIX");var d=s("8y1NC"),p=s("cC9va"),f=s("3SDrW"),g=s("lyDcb"),m=s("bkg8x"),y=s("aIaid"),v=s("6yoor"),b=s("btuox"),x=s("jZquI"),E=s("1NiL5"),_=s("fkmMz"),S=s("6cpWg"),O=s("93mJv"),R=s("945U7"),A=s("oelnd"),w=s("jEzQ5"),C=s("6od7S"),T=s("3cHIk"),L=s("loIjs"),P=s("d1ltq"),I=s("6e1MB"),M=s("4k2SX"),N=s("iQyfo"),G=s("e9bRc"),k=s("dbRSi"),D=s("bS8Lk"),F=s("lUmQH"),q=s("5VeMq"),j=s("17jqf"),U=s("6yJ0x"),H=s("lbwk5"),B=s("rnKfx"),Z=s("3HxCM"),z=s("iArnh"),V=s("dxNAB"),Y=s("cWXYt");s("bqoF2");var W=s("gIJof"),X=s("2Fada"),K=s("31ZqB"),J=s("cHblF"),$=s("gzr8q");s("9BdHO");var Q=s("8TdmW"),ee=s("76Eer"),et=s("66krt"),er=s("jSBAJ"),ei=s("kOWwI"),en=s("jPVWI");s("ofMCX");var es=s("iGyOD"),ea=s("hvEnP"),eo=s("29SgV");(0,W.default)(),window.addEventListener("moveTo",e=>{if(n)try{let t=(0,$.fromLonLat)([e.detail[0],e.detail[1]]);n.map.getView().setCenter(t),e.detail[2]&&n.map.getView().setZoom(e.detail[2])}catch(e){}}),window.addEventListener("flyTo",e=>{if(n)try{let t=(0,$.fromLonLat)([e.detail[0],e.detail[1]]);n.map.getView().flyTo({center:t,zoom:e.detail[2]})}catch(e){}});let el=`<label>Login de l'espace collaboratif</label>
<input type="text" class="login" />
<label>Mot de passe</label>
<input type="password" class="pwd" />
<i class="error">Impossible de se connecter...</i>`,eu=new C.default({closeOnSubmit:!1,closeBox:!0,target:document.body});eu.setMap(ei.default);class eh extends u.default{constructor(e){let t;for(let r in super(e=e||{}),n=this,this.map=new h.default({target:e.target,view:new c.default({center:[0,0],zoom:0}),controls:(0,d.defaults)({attribution:!1,zoom:!1}),interactions:(0,p.defaults)({mouseWheelZoom:!1})}),this.set("key",e.key),this.layerId_=0,this.map.getLayers().on("add",e=>{let t=e.element;t.get("id")?this.layerId_=Math.max(this.layerId_,t.get("id")):e.element.set("id",++this.layerId_)}),this.map.getLayers().on("add",e=>{"ECo"!==e.element.get("type")||(0,er.getAuth)()||(t&&clearTimeout(t),t=setTimeout(()=>{this.authenticate()}))}),this.map.addInteraction(new v.default({condition:e=>!this.map.get("noMouseWheel")||"wheel"!==e.type||!!(0,b.platformModifierKeyOnly)(e)||(this.notification((0,M.default)("ctrlZoom")),!1)})),this._styleOptions={type:"zoom",points:!0},this.getMap().on("singleclick",e=>{if(!this.getSelect().getActive())return;let t=[],r=this.getMap().getFeaturesAtPixel(e.pixel,{hitTolerance:3});if(r[0]instanceof eo.default){let t=r[0];if(t.getLayer().selectable()){let r=t.getProperties();r.geometry=new ea.default([e.coordinate,e.coordinate]);let i=new es.default(r);i.setLayer(t.getLayer()),this.dispatchEvent({type:"layer:featureInfo",coordinate:e.coordinate,layer:i.getLayer(),feature:i});return}}r.forEach(e=>{e.getLayer()&&t.push(e.getLayer())});let i=this.getMap().getLayers().getArray();for(let r=i.length-1;r>=0;r--){let n=i[r];if((n instanceof en.default||n instanceof E.default)&&t.indexOf(n)>=0)return;if(n.getData){let t=n.getData(e.pixel);if(n.getSource()&&n.getSource().getFeatureInfo&&t&&t[3]){let t=n.getPopupContent();if(!t||!t.titre&&!t.desc&&!t.img&&!t.coord)return;n.getSource().getFeatureInfo(e.coordinate,this.getMap().getView().getResolution(),{INFO_FORMAT:"application/json",callback:t=>{if(JSON.parse(t).features.length){let r=JSON.parse(t).features[0].properties;r.geometry=new ea.default([e.coordinate,e.coordinate]);let i=new es.default(r);i.setLayer(n),this.dispatchEvent({type:"layer:featureInfo",coordinate:e.coordinate,layer:n,feature:i})}else this.dispatchEvent({type:"layer:featureInfo",coordinate:e.coordinate})}});break}}}}),this._interactions={select:new m.default({layers:e=>!!e.selectable&&e.selectable(),hitTolerance:3,condition:b.click,style:(0,Y.getSelectStyleFn)(this._styleOptions)}),hover:new U.default({layerFilter:e=>e.selectable&&e.selectable(),hitTolerance:3,cursor:"pointer"}),synchro:new y.default({active:!1})},this._interactions)this.map.addInteraction(this._interactions[r]);for(let t in this._styleOptions.features=this.getSelect().getFeatures(),this._controls={toolbar:new S.default({className:"edit"}),ctrlbar:new S.default({className:"ol-ctrlbar ol-left ol-top"}),zoom:new I.default,scaleLine:new R.default({canvas:!0}),attribution:new O.default({canvas:!0}),mousePosition:new L.default({className:"ol-control ol-mouse-position",undefinedHTML:" "}),title:new G.default({visible:!1}),layerSwitcher:(0,F.default)(),profil:new ee.default({map:this.getMap(),select:this.getSelect()}),printDlg:new T.default({lang:"fr",title:(0,M.default)("printLabel"),saveAs:z.saveAs,jsPDF:V.jsPDF}),legend:new B.default({title:(0,M.default)("legend"),legend:new Z.default({title:(0,M.default)("legend"),size:[28,20],margin:6,style:(0,Y.getStyleFn)()})}),searchBar:new A.default({apiKey:e.key,title:(0,M.default)("searchLabel"),zoomOnSelect:14}),permalink:new w.default({urlReplace:!1,visible:!0,geohash:!0,onclick:this.dialogInfo.bind(this)}),locate:new k.default({minZoom:16}),dialog:new C.default({className:"mapInfo",closeBox:!0,target:document.body}),notification:D.default},this.map.removeControl(this._controls.zoom),this._controls)this.map.addControl(this._controls[t]);this._interactions.select.on("change:active",()=>{this._interactions.hover.setActive(this._interactions.select.getActive())}),this._controls.ctrlbar.addControl(this._controls.zoom),this._controls.zoom.set("bar",!0),this._controls.ctrlbar.addControl(this._controls.profil),this._controls.profil.set("bar",!0),this._controls.ctrlbar.addControl(this._controls.printDlg),this._controls.printDlg.set("bar",!0),this._controls.printDlg.on(["show","hide"],(function(e){this.getSelect().getFeatures().clear(),this.popup.hide(),this.getSelect().setActive("hide"===e.type)}).bind(this)),this._controls.ctrlbar.addControl(this._controls.locate),this._controls.locate.set("bar",!0),this.showControl("toolbar",!1),this.popup=new q.default({closeBox:!0,minibar:!0}),this.map.addOverlay(this.popup),this.popup.on("show",()=>this.popup.content.scrollTop=0),this.popover=new q.default({className:"tooltips popuphover",positioning:"center-left",stopEvent:!1}),this.map.addOverlay(this.popover),this.tooltip=new j.default,this.map.addOverlay(this.tooltip),this._symbolLib=new K.default,e.url?this.read(e.url):e.id&&this.load(e.id)}}eh.prototype.getMap=function(){return this.map},eh.prototype.getSelect=function(){return this._interactions.select},eh.prototype.getInteraction=function(e){return this._interactions[e]},eh.prototype.setSelectStyle=function(e){for(let t in e)this._styleOptions[t]=e[t]},eh.prototype.setReady=function(){this.getMap().getViewport().classList.add("ol-ready")},eh.prototype.getDialog=function(){return this.getControl("dialog")},eh.prototype.dialogInfo=function(){let t=(0,N.default).create("DIV",{className:"carte-info-dialog"});this._story||(0,N.default).create("H1",{html:this.map.get("title"),parent:t}),(0,N.default).create("DIV",{className:"description",html:this._story?(0,l.default).element(this._story.get("description")):this.map.get("description"),parent:t}),(0,N.default).create("UL",{html:this.getControl("attribution").element.querySelector("ul").innerHTML,parent:t});let r=(0,N.default).create("DIV",{className:"permalink",parent:t});(0,N.default).create("IMG",{className:"qrcode",src:e(et).generatePNG(this.getControl("permalink").getLink(),{ecclevel:"L",margin:0}),parent:r}),(0,N.default).create("P",{html:(0,M.default)("permalink_open"),parent:r});let i=(0,N.default).create("SPAN",{html:(0,M.default)("copy_info"),className:"copy-info",parent:r});(0,N.default).create("DIV",{click:()=>{try{navigator.clipboard.writeText(this.getControl("permalink").getLink()),i.className="copy-info visible",setTimeout(()=>{i.className="copy-info"},800)}catch(e){}},target:"_blank",parent:r}).innerText=this.getControl("permalink").getLink();let n=(0,N.default).create("DIV",{className:"cgu",html:(0,M.default)("macarte_link").replace("{SERVER}",a.default.server).replace("{APPNAME}",(0,a.default).server.replace(/http.?:|\//g,""))+"<br/>"+(0,M.default)("cgu_link").replace("{URL}",o.default.cgu)+"<br/>",parent:t}),s=(0,X.default).getMe()||{};(0,Q.default)({href:o.default.signal,service:"viewer",title:(0,M.default)("report_link"),mapID:this.get("id"),user:s.username,userID:s.id,email:s.email},n),this.getDialog().show({content:t,buttons:{ok:"ok"}})},eh.prototype.getControl=function(e){return this._controls[e]},eh.prototype.getTitle=function(){return this.get("atlas")?this.get("atlas").title||"macarte":this.get("title")||"macarte"},eh.prototype.getToolbar=function(){return this.getControl("toolbar")},eh.prototype.hasControl=function(e){let t="string"==typeof e?this.getControl(e):e;return!!t&&(t.get("bar")?""===t.element.style.display:!!t.getMap())},eh.prototype.showControl=function(e,t){let r="string"==typeof e?this.getControl(e):e;if(r){if(r.setActive&&r.setActive(!1),!1!==t){if(r.get("bar"))r.element.style.display="";else try{this.map.addControl(r)}catch(e){}}else if(r.get("bar"))r.element.style.display="none";else try{this.map.removeControl(r)}catch(e){}"mousePosition"===e&&t&&(!0===t&&(t={proj:"EPSG:4326",unit:"dms"}),t.proj&&r.setProjection(t.proj),t.unit&&r.setCoordinateFormat(e=>/4326/.test(r.getProjection().getCode())?/dms|ds/.test(r.get("unit"))?"&nbsp;"+(0,P.toStringHDMS)(e).replace(/ /g,"").replace("W","O").replace("N","N - ").replace("S","S - ")+"&nbsp;":(0,P.format)(e,"&nbsp;lon: {x}, lat: {y}&nbsp;",6):(0,P.format)(e,"&nbsp;{x}, {y}&nbsp;",2)))}else"rotation"===e&&this.getMap().getInteractions().forEach(e=>{(e instanceof f.default||e instanceof g.default)&&e.setActive(t)});this.changed()},eh.prototype.read=function(e,t){if("string"==typeof e){(0,_.default).get({url:e,success:e=>this.read(e,t),error:e=>{this.dispatchEvent(e)}});return}this.dispatchEvent({type:"read:start"}),this.set("atlas",t||{}),(new H.default).read(this,e),this._controls.title.setTitle(this.map.get("title")),this.setReady(),this.dispatchEvent({type:"read"})},eh.prototype.load=function(e){this.dispatchEvent({type:"loading"});let t="string"==typeof e?e:e.view_id;(0,X.default).getMapFile(t,r=>{r.error?(r.type="error",this.dispatchEvent(r)):(this.set("id",t),this.read(r,"string"==typeof e?null:e))})},eh.prototype.setParent=function(e){this._story=e},eh.prototype.notification=function(e,t){this.getControl("notification").show(e,t)},eh.prototype.popupFeature=function(e,t){if(e){if(t){let e=this.map.getView().getProjection().getExtent();if(t[0]>e[2]){let t=this.map.getView().getCenter();t[0]=t[0]-(e[2]-e[0]),this.map.getView().setCenter(t),this.map.renderSync()}else if(t[0]<e[1]){let t=this.map.getView().getCenter();t[0]=t[0]+(e[2]-e[0]),this.map.getView().setCenter(t),this.map.renderSync()}}e.showPopup(this.popup,t)}else this.popup.hide()},eh.prototype.setSelection=function(e,t){let r=this.getInteraction(t||"select");r.getFeatures().clear(),e&&r.getFeatures().push(e),r.dispatchEvent({type:"select",selected:e?[e]:[],unselected:[]})},eh.prototype.zoomToClusterExtent=function(e){let t=this.map.getView(),r=t.getZoom(),i=t.getCenter(),n=(0,x.createEmpty)();e.forEach(e=>{(0,x.extend)(n,e.getGeometry().getExtent())}),n=(0,x.buffer)(n,15*t.getResolution()),t.fit(n,{size:this.map.getSize()});let s=Math.min(18,e[0].getLayer().get("maxZoomCluster"));t.getZoom()>s&&(s>18?t.setZoom(18):(t.setZoom(r),t.setCenter(i),t.animate({center:(0,x.getCenter)(n),zoom:s+.1,duration:400})))},eh.prototype.getViewerUrl=function(e){return!!this.get("id")&&((e=Object.assign({},e||{})).view_id=this.get("id"),this.get("atlas")?e.title=this.get("atlas").title||"carte":e.title=this.get("title")||"carte",e.type="macarte",(0,o.getViewerURL)(e))},eh.prototype.getSymbolLib=function(e){if(!e)return this._symbolLib;if("number"==typeof e)return this._symbolLib.item(e);for(let t=0;t<this._symbolLib.getLength();t++)if(this._symbolLib.item(t).name===e)return this._symbolLib.item(t);return null},eh.prototype.addSymbolLib=function(e){let t=new J.default(e);return this._symbolLib.push(t),t},eh.prototype.write=function(e){return(new H.default).write(this,e)},eh.prototype.authenticate=function(e,t){if((0,er.getAuth)())this.getMap().getLayers().forEach(e=>{"ECo"===e.get("type")&&e.getSource().setLoader()}),eu.close(),this.dispatchEvent("authenticate"),e&&e();else{eu.show({title:"Authentification nécessaire",className:"eco-login"+(t?" error-login":""),content:el,buttons:{submit:"ok",cancel:"annuler"},onButton:(t,r)=>{"submit"===t&&(eu.show({className:"wait",closeBox:!1,content:"chargement..."}),(0,er.default).login(r.login.value,r.pwd.value,t=>{this.authenticate(e,t.error)}))}});let r=localStorage["MC@user"];r&&(eu.getContentElement().querySelector(".login").value=r,setTimeout(()=>{eu.getContentElement().querySelector(".pwd").focus()}))}};var ec=eh}),a("jLXCT",function(e,t){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++)e.call(t,this[r],r,this)})}),a("eXEIX",function(e,t){s("agkzb");var r=s("lwtpg"),i=s("5Revz"),n=s("8ln3M"),a=s("gvREW"),o=s("izcbS"),l=s("juLo9"),u=s("dEQmT"),h=s("2zf1Y");function c(e){if(e._mcFilter&&e.removeFilter(e._mcFilter),e.get("grayscale")||e.get("blendMode")){let t={};e.get("grayscale")&&(t.filter="grayscale(1)"),e.get("blendMode")&&(t.blend=e.get("blendMode")),e._mcFilter=new i.default(t),e.addFilter(e._mcFilter)}}let d=r.default.prototype.setProperties;r.default.prototype.setProperties=function(e){"ol-layer"===this.className_&&(this.className_=(0,n.default)()),d.call(this,e)},r.default.prototype.grayscale=function(e){this.set("grayscale",!!e),c(this)},r.default.prototype.setBlendMode=function(e){this.set("blendMode",e||"normal"),c(this)},r.default.prototype.setCrop=function(e){if(Array.isArray(e)){let t=e;for(let r in e={},t)e[r]=t[r]}if(this.getFilters().forEach(e=>{e instanceof a.default&&this.removeFilter(e)}),e&&e.coordinates){let t=new l.default(new u.default(e.coordinates));if(e.color&&e.color[3]){let r=new h.default({color:e.color});this.addFilter(new a.default({feature:t,wrapX:!0,inner:!1,shadowWidth:e.shadow?2:0,fill:r}))}else this.addFilter(new o.default({feature:t,wrapX:!0,inner:!1,shadowWidth:e.shadow?5:0}))}this.set("crop",e)},r.default.prototype.getCrop=function(){return this.get("crop")||{}},r.default.prototype.getPopupContent=function(){return this._popupContent||{}},r.default.prototype.setPopupContent=function(e){!e||e instanceof Array?this._popupContent={}:this._popupContent=e}}),a("agkzb",function(e,r){t(e.exports,"default",()=>u);var i=s("ejLRd"),n=s("lwtpg"),a=s("fnScq"),o=s("gbCDL"),l=class extends a.default{constructor(e){super(e),this._listener=[],e&&!1===e.active?this.set("active",!1):this.set("active",!0)}setActive(e){this.set("active",!0===e)}getActive(){return this.get("active")}};!function(){function e(e){this.get("active")&&e.context&&this.precompose(e)}function t(e){this.get("active")&&e.context&&this.postcompose(e)}function r(){if(this.renderSync)try{this.renderSync()}catch(e){}else this.changed()}function s(i){this.filters_||(this.filters_=[]),this.filters_.push(i),i.addToLayer&&i.addToLayer(this),i.precompose&&i._listener.push({listener:this.on(["precompose","prerender"],e.bind(i)),target:this}),i.postcompose&&i._listener.push({listener:this.on(["postcompose","postrender"],t.bind(i)),target:this}),i._listener.push({listener:i.on("propertychange",r.bind(this)),target:this}),r.call(this)}function a(e){var t;if(this.filters_||(this.filters_=[]),!e){this.filters_.forEach((function(e){this.removeFilter(e)}).bind(this));return}for(t=this.filters_.length-1;t>=0;t--)this.filters_[t]===e&&this.filters_.splice(t,1);for(t=e._listener.length-1;t>=0;t--)e._listener[t].target===this&&(e.removeFromLayer&&e.removeFromLayer(this),(0,i.unByKey)(e._listener[t].listener),e._listener.splice(t,1));r.call(this)}o.default.prototype.addFilter=function(e){console.warn("[OL-EXT] addFilter deprecated on map."),s.call(this,e)},o.default.prototype.removeFilter=function(e){a.call(this,e)},o.default.prototype.getFilters=function(){return this.filters_||[]},n.default.prototype.addFilter=function(e){s.call(this,e)},n.default.prototype.removeFilter=function(e){a.call(this,e)},n.default.prototype.getFilters=function(){return this.filters_||[]}}();var u=l}),a("5Revz",function(e,r){t(e.exports,"default",()=>n);var i=s("agkzb"),n=class extends i.default{constructor(e){super(e),this._layers=[]}setBlend(e){this.set("blend",e),this._layers.forEach(function(t){t.once("postrender",(function(t){t.context.canvas.parentNode.style["mix-blend-mode"]=e||""}).bind(this)),t.changed()})}setFilter(e){this.set("filter",e),this._layers.forEach(function(t){t.once("postrender",(function(t){t.context.canvas.parentNode.style.filter=e||""}).bind(this)),t.changed()})}setDisplay(e){this.set("display",e),this._layers.forEach(function(t){t.once("postrender",(function(t){t.context.canvas.parentNode.style.display=e?"":"none"}).bind(this)),t.changed()})}addToLayer(e){e.once("postrender",(function(e){e.context.canvas.parentNode.style["mix-blend-mode"]=this.get("blend")||"",e.context.canvas.parentNode.style.filter=this.get("filter")||"",e.context.canvas.parentNode.style.display=!1!==this.get("display")?"":"none"}).bind(this)),e.changed(),this._layers.push(e)}removeFromLayer(e){var t=this._layers.indexOf(e);t>=0&&(e.once("postrender",(function(e){e.context.canvas.parentNode.style["mix-blend-mode"]="",e.context.canvas.parentNode.style.filter="",e.context.canvas.parentNode.style.display=""}).bind(this)),e.changed(),this._layers.splice(t,1))}}}),a("8ln3M",function(e,r){t(e.exports,"default",()=>n);let i=0;function n(){return"mc_"+i++}}),a("gvREW",function(e,r){t(e.exports,"default",()=>a);var i=s("agkzb"),n=s("lqNjm"),a=class extends i.default{constructor(e){if(super(e=e||{}),e.feature)switch(e.feature.getGeometry().getType()){case"Polygon":case"MultiPolygon":this.feature_=e.feature}this.set("inner",e.inner),this._fillColor=e.fill&&(0,n.asString)(e.fill.getColor())||"rgba(0,0,0,0.2)",this._shadowColor=e.shadowColor&&(0,n.asString)(e.shadowColor)||"rgba(0,0,0,0.5)",this.set("shadowWidth",e.shadowWidth||0),this.set("shadowMapUnits",!0===e.shadowMapUnits)}setFillColor(e){this._fillColor=e&&(0,n.asString)(e)||"rgba(0,0,0,0.2)"}setShadowColor(e){this._shadowColor=e&&(0,n.asString)(e)||"rgba(0,0,0,0.5)"}drawFeaturePath_(e,t){var r,i=e.context,n=i.canvas,s=e.frameState.pixelRatio;if(e.frameState.coordinateToPixelTransform){var a=e.frameState.coordinateToPixelTransform;if(e.inversePixelTransform){var o=e.inversePixelTransform;r=function(e){return[(e=[e[0]*a[0]+e[1]*a[1]+a[4],e[0]*a[2]+e[1]*a[3]+a[5]])[0]*o[0]-e[1]*o[1]+o[4],-e[0]*o[2]+e[1]*o[3]+o[5]]}}else r=function(e){return[(e[0]*a[0]+e[1]*a[1]+a[4])*s,(e[0]*a[2]+e[1]*a[3]+a[5])*s]}}else a=e.frameState.coordinateToPixelMatrix,r=function(e){return[(e[0]*a[0]+e[1]*a[1]+a[12])*s,(e[0]*a[4]+e[1]*a[5]+a[13])*s]};var l=this.feature_.getGeometry().getCoordinates();function u(e){for(var t=0;t<l.length;t++)for(var n=l[t],s=0;s<n.length;s++){var a=r([n[s][0][0]+e,n[s][0][1]]);i.moveTo(a[0],a[1]);for(var o=1;o<n[s].length;o++)a=r([n[s][o][0]+e,n[s][o][1]]),i.lineTo(a[0],a[1])}}if("Polygon"===this.feature_.getGeometry().getType()&&(l=[l]),i.beginPath(),t&&(i.moveTo(-100,-100),i.lineTo(n.width+100,-100),i.lineTo(n.width+100,n.height+100),i.lineTo(-100,n.height+100),i.lineTo(-100,-100)),this.get("wrapX")){var h=e.frameState.viewState.projection.getExtent(),c=h[2]-h[0],d=e.frameState.extent,p=this.feature_.getGeometry().getExtent(),f=p[2]-p[1],g=Math.floor((d[0]-f-h[0])/c),m=Math.floor((d[2]+f-h[2])/c)+1;g>m&&([g,m]=[m,g]);for(var y=g;y<=m;y++)u(y*c)}else u(0)}postcompose(e){if(this.feature_){var t=e.context;if(t.save(),this.drawFeaturePath_(e,!this.get("inner")),t.fillStyle=this._fillColor,t.fill("evenodd"),this.get("shadowWidth")){var r=this.get("shadowWidth")*e.frameState.pixelRatio;this.get("shadowMapUnits")&&(r/=e.frameState.viewState.resolution),t.clip("evenodd"),t.filter="blur("+r+"px)",t.strokeStyle=this._shadowColor,t.lineCap="round",t.lineJoin="round",t.lineWidth=r,t.stroke()}t.restore()}}}}),a("izcbS",function(e,r){t(e.exports,"default",()=>n);var i=s("gvREW"),n=class extends i.default{constructor(e){super(e=e||{})}precompose(e){if(this.feature_){var t=e.context;t.save(),this.drawFeaturePath_(e,this.get("inner")),t.clip("evenodd")}}postcompose(e){if(this.feature_){var t=e.context;if(t.restore(),this.get("shadowWidth")){t.save();var r=this.get("shadowWidth")*e.frameState.pixelRatio;this.get("shadowMapUnits")&&(r/=e.frameState.viewState.resolution),this.drawFeaturePath_(e,!this.get("inner")),t.clip("evenodd"),t.filter="blur("+r+"px)",t.strokeStyle=this._shadowColor,t.lineCap="round",t.lineJoin="round",t.lineWidth=r,t.stroke(),t.restore()}}}}}),a("juLo9",function(e,r){t(e.exports,"render2Feature",()=>g),t(e.exports,"default",()=>m);var i=s("iGyOD"),n=s("29SgV"),a=s("7qu5m"),o=s("d1ltq"),l=s("jZquI"),u=s("gzr8q"),h=s("23ytq"),c=s("iQyfo"),d=s("l956U"),p=s("86esn");let f=i.default.prototype.clone;function g(e){let t=[],r=e.getFlatCoordinates();for(var n=0;n<r.length;n+=2)t.push([r[n],r[n+1]]);switch(e.getType()){case"Point":t=t.pop();break;case"LineString":break;case"MultiLineString":case"Polygon":t=[t]}let s=(0,h.ol_geom_createFromType)(e.getType(),t),a=new i.default(s);return a.setProperties(e.getProperties()),a.setLayer(e.getLayer()),a}i.default.prototype.clone=function(){let e=f.call(this);return e.setIgnStyle(Object.assign({},this.getIgnStyle())),e.setPopupContent(this.getPopupContent()),e},i.default.prototype.getLayer=function(){return this._layer},i.default.prototype.setLayer=function(e){this._layer=e},i.default.prototype.getIgnStyle=function(e,t){if((!this._ignStyle||Array.isArray(this._ignStyle))&&(this._ignStyle={}),!e)return this._ignStyle;if(!0===e){t=t||{};let e={},i=this.getGeometry().getType();for(var r in p.ignStyleDef)(0,p.ignStyleDef)[r].geom.test(i)&&(e[r]=t[r]||this.getIgnStyle(r));return e}return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:Object.prototype.hasOwnProperty.call(this._ignStyle,e)?this._ignStyle[e]:this.getLayer()&&this.getLayer()._ignStyle&&Object.prototype.hasOwnProperty.call(this.getLayer()._ignStyle,e)?this.getLayer()._ignStyle[e]:p.defaultIgnStyle[e]},i.default.prototype.setIgnStyle=function(e,t){if((!this._ignStyle||Array.isArray(this._ignStyle))&&(this._ignStyle={}),void 0===t){e&&"string"!=typeof e&&(this._ignStyle=e);return}""!==t&&/width|radius|size|offset/i.test(e)&&(t=Number(t)),p.ignStyleDef[e]&&(0,p.ignStyleDef)[e].geom.test(this.getGeometry().getType())&&(this.getLayer()&&this.getLayer()._ignStyle&&Object.prototype.hasOwnProperty.call(this.getLayer()._ignStyle,e)&&t!=this.getLayer()._ignStyle[e]?this._ignStyle[e]=t:""!==t&&t!=p.defaultIgnStyle[e]?this._ignStyle[e]=t:delete this._ignStyle[e])},i.default.prototype.hasPopupContent=function(){return!!(this._popupContent&&!1!==this._popupContent.active||this.getLayer()&&this.getLayer().getPopupContent&&this.getLayer().getPopupContent())},i.default.prototype.getPopupContent=function(e,t){if(!e)return this._popupContent||{};if(this._popupContent&&this._popupContent.active?e=this._popupContent:!0===e&&(e=this.getLayer()&&this.getLayer().getPopupContent?this.getLayer().getPopupContent():""),!e)return"";var r=(e.titre?"####"+e.titre+"\n":"")+(e.desc?e.desc+"\n":"")+(e.img?"!("+e.img+")\n":"")+(e.coord?"**%COORD%**":"");r=r.replace(/\n$/,"");let i=this.getMDProperties();var n=(0,d.default)(r,i);if(t)return n;let s=(0,c.default).create("DIV",{html:n,className:"md"});return(0,d.default).renderWidget(s),s},i.default.prototype.getMDProperties=function(){let e;let t=this.getProperties();delete t[this.getGeometryName()];let r=this.getGeometry();switch(r.getType()){case"LineString":case"MultiLineString":e=r.getClosestPoint((0,l.getCenter)(r.getExtent())),t.LENGTH||(t.LENGTH=function(e){let t=(0,a.getLength)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"}(r));break;case"Polygon":case"MultiPolygon":e=r.getInteriorPoint?r.getInteriorPoint().getCoordinates():r.getInteriorPoints().getCoordinates()[0],t.AREA||(t.AREA=function(e){let t=Math.abs((0,a.getArea)(e));return t>1e4?Math.round(t/1e6*100)/100+" km²":Math.round(100*t)/100+" m²"}(r));break;default:e=r.getFirstCoordinate()}let i=(0,u.transform)(e,"EPSG:3857","EPSG:4326"),n=i[0].toFixed(6),s=i[1].toFixed(6);return t.COORD||(t.COORD=(s<0?-s:s)+"&deg;"+(s<0?"S":"N")+" "+(n<0?-n:n)+"&deg;"+(n<0?"O":"E")),t.COORDMS||(t.COORDMS=(0,o.toStringHDMS)(i).replace(/ /g,"").replace("N","N ").replace("S","S ")),t.LON||(t.LON=n),t.LAT||(t.LAT=s),this._indicator&&(t.INDICATOR=this._indicator,t["INDICATOR="+this._indicator]=this._indicator),t},i.default.prototype.getInfoContent=function(){let e=this.getPopupContent(!0,!0).replace(/<br ?\/>|<\/h.?>/g," ");return(0,c.default).create("DIV",{html:e}).innerText.substr(0,50)},i.default.prototype.setPopupContent=function(e){!e||e instanceof Array?this._popupContent={}:this._popupContent=e},i.default.prototype.getLabelContent=function(e){if(!e)return"";var t=e;t=t.replace(/\n$/,"");var r=this.getProperties(),i=(0,d.default).doData(t,r);return(i=i.replace(/<br \/>/,"")).replace(/<br\/>/,"")},i.default.prototype.showPopup=function(e,t,r){var i=this;let n=i.get("features");if(n){if(1!==n.length)return e.hide(),"";i=n[0]}var s=i.getPopupContent(!0);if(s.innerText.trim()||s.querySelector("canvas")||s.querySelector("img")){if(t||(t=e.getPosition()||(r||i.getGeometry()).getFirstCoordinate()),e.setOffset([0,0]),"Point"===i.getGeometry().getType()){var a=e.offsetBox,o=i.getLayer().getIgnStyle(i),l=/left|right/.test(e.autoPositioning[0])?o.pointRadius:0;e.offsetBox=[-l,(o.pointOffsetY?-2:-1)*o.pointRadius,l,o.pointOffsetY?0:o.pointRadius],r?e.show(r.getClosestPoint(t),s):e.show(i.getGeometry().getClosestPoint(t),s),e.offsetBox=a}else/polygon/i.test(i.getGeometry().getType())?e.show(t,s):e.show(i.getGeometry().getClosestPoint(t),s)}else e.hide();return(0,d.default).renderWidget(e.getElement()),s},n.default.prototype.getIgnStyle=i.default.prototype.getIgnStyle,n.default.prototype.getLayer=i.default.prototype.getLayer,n.default.prototype.setLayer=i.default.prototype.setLayer,n.default.prototype.showPopup=function(e,t,r){return g(this).showPopup(e,t,r)},n.default.prototype.getPopupContent=i.default.prototype.getPopupContent,n.default.prototype.getInfoContent=i.default.prototype.getInfoContent,n.default.prototype.getMDProperties=function(){return this.getProperties()};var m=i.default}),a("iGyOD",function(e,r){t(e.exports,"default",()=>u);var i=s("fnScq"),n=s("cw4dl"),a=s("eJ4LZ"),o=s("bsgMw");class l extends i.default{constructor(e){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}clone(){let e=new l(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());let t=this.getGeometry();t&&e.setGeometry(t.clone());let r=this.getStyle();return r&&e.setStyle(r),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&((0,o.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);let e=this.getGeometry();e&&(this.geometryChangeKey_=(0,o.listen)(e,n.default.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){let t;this.style_=e,this.styleFunction_=e?"function"==typeof e?e:(Array.isArray(e)?t=e:((0,a.assert)("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[e]),function(){return t}):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}var u=l}),a("29SgV",function(e,r){t(e.exports,"default",()=>y),s("iGyOD"),s("j2K3b"),s("ljDIj"),s("hvEnP"),s("7TB1l"),s("dEQmT"),s("cgPpQ");var i=s("14PDX"),n=s("jZquI"),a=s("exEDy"),o=s("kBSVF"),l=s("ec4vu"),u=s("gzr8q"),h=s("2cCpz"),c=s("1fqgz"),d=s("88eMt"),p=s("eQaCk"),f=s("bsQCi");let g=(0,i.create)();class m{constructor(e,t,r,i,n,s){this.styleFunction,this.extent_,this.id_=s,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=n,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?(0,n.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,n.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){let e=(0,n.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,l.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){let e=(0,h.inflateEnds)(this.flatCoordinates_,this.ends_),t=(0,d.linearRingss)(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=(0,l.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=(0,c.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];let e=this.flatCoordinates_,t=0,r=this.ends_;for(let i=0,n=r.length;i<n;++i){let n=r[i],s=(0,c.interpolatePoint)(e,t,n,2,.5);(0,o.extend)(this.flatMidpoints_,s),t=n}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){let t=(e=(0,u.get)(e)).getExtent(),r=e.getWorldExtent();if(t&&r){let e=(0,n.getHeight)(r)/(0,n.getHeight)(t);(0,i.compose)(g,r[0],r[3],e,-e,0,0,0),(0,f.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,g,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new m(this.type_,this.flatCoordinates_.slice(),this.ends_.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=(0,p.memoizeOne)((e,t)=>{let r;if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);let i=this.simplifiedGeometry_.getFlatCoordinates();switch(this.type_){case"LineString":i.length=(0,a.douglasPeucker)(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=(0,a.douglasPeuckerArray)(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=(0,a.quantizeArray)(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r)}return r&&(this.simplifiedGeometry_=new m(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}m.prototype.getFlatCoordinates=m.prototype.getOrientedFlatCoordinates;var y=m}),a("ljDIj",function(e,r){t(e.exports,"default",()=>d);var i=s("j2K3b"),n=s("63y7W"),a=s("jZquI"),o=s("ee3b9"),l=s("kBSVF"),u=s("iTdJV"),h=s("a6roo");class c extends n.default{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){(0,l.extend)(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){let e=new c(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,i){if(i<(0,a.closestSquaredDistanceXY)(this.getExtent(),e,t))return i;let n=this.flatCoordinates,s=this.stride;for(let a=0,o=n.length;a<o;a+=s){let o=(0,h.squaredDistance)(e,t,n[a],n[a+1]);if(o<i){i=o;for(let e=0;e<s;++e)r[e]=n[a+e];r.length=s}}return i}getCoordinates(){return(0,u.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){let t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new i.default(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){let e=this.flatCoordinates,t=this.layout,r=this.stride,n=[];for(let s=0,a=e.length;s<a;s+=r){let a=new i.default(e.slice(s,s+r),t);n.push(a)}return n}getType(){return"MultiPoint"}intersectsExtent(e){let t=this.flatCoordinates,r=this.stride;for(let i=0,n=t.length;i<n;i+=r){let r=t[i],n=t[i+1];if((0,a.containsXY)(e,r,n))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,o.deflateCoordinates)(this.flatCoordinates,0,e,this.stride),this.changed()}}var d=c}),a("hvEnP",function(e,r){t(e.exports,"default",()=>m);var i=s("63y7W"),n=s("96blb"),a=s("jZquI"),o=s("ee3b9"),l=s("exEDy"),u=s("kBSVF"),h=s("855Md"),c=s("iTdJV"),d=s("1fqgz"),p=s("4NB4B"),f=s("aSafW");class g extends i.default{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}appendCoordinate(e){(0,u.extend)(this.flatCoordinates,e),this.changed()}clone(){let e=new g(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,i){return i<(0,a.closestSquaredDistanceXY)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,n.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,n.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,i))}forEachSegment(e){return(0,h.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(t=void 0!==t&&t,(0,d.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return(0,d.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return(0,f.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){let t=[];return t.length=(0,l.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new g(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return(0,p.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,o.deflateCoordinates)(this.flatCoordinates,0,e,this.stride),this.changed()}}var m=g}),a("1fqgz",function(e,r){t(e.exports,"interpolatePoint",()=>a),t(e.exports,"lineStringCoordinateAtM",()=>o),t(e.exports,"lineStringsCoordinateAtM",()=>l);var i=s("kBSVF"),n=s("a6roo");function a(e,t,r,s,a,o,l){let u,h;let c=(r-t)/s;if(1===c)u=t;else if(2===c)u=t,h=a;else if(0!==c){let n=e[t],o=e[t+1],l=0,c=[0];for(let i=t+s;i<r;i+=s){let t=e[i],r=e[i+1];l+=Math.sqrt((t-n)*(t-n)+(r-o)*(r-o)),c.push(l),n=t,o=r}let d=a*l,p=(0,i.binarySearch)(c,d);p<0?(h=(d-c[-p-2])/(c[-p-1]-c[-p-2]),u=t+(-p-2)*s):u=t+p*s}l=l>1?l:2,o=o||Array(l);for(let t=0;t<l;++t)o[t]=void 0===u?NaN:void 0===h?e[u+t]:(0,n.lerp)(e[u+t],e[u+s+t],h);return o}function o(e,t,r,i,s,a){let o;if(r==t)return null;if(s<e[t+i-1])return a?((o=e.slice(t,t+i))[i-1]=s,o):null;if(e[r-1]<s)return a?((o=e.slice(r-i,r))[i-1]=s,o):null;if(s==e[t+i-1])return e.slice(t,t+i);let l=t/i,u=r/i;for(;l<u;){let t=l+u>>1;s<e[(t+1)*i-1]?u=t:l=t+1}let h=e[l*i-1];if(s==h)return e.slice((l-1)*i,(l-1)*i+i);let c=(s-h)/(e[(l+1)*i-1]-h);o=[];for(let t=0;t<i-1;++t)o.push((0,n.lerp)(e[(l-1)*i+t],e[l*i+t],c));return o.push(s),o}function l(e,t,r,i,n,s,a){let l;if(a)return o(e,t,r[r.length-1],i,n,s);if(n<e[i-1])return s?((l=e.slice(0,i))[i-1]=n,l):null;if(e[e.length-1]<n)return s?((l=e.slice(e.length-i))[i-1]=n,l):null;for(let s=0,a=r.length;s<a;++s){let a=r[s];if(t!=a){if(n<e[t+i-1])return null;if(n<=e[a-1])return o(e,t,a,i,n,!1);t=a}}return null}}),a("aSafW",function(e,r){t(e.exports,"lineStringLength",()=>i);function i(e,t,r,i){let n=e[t],s=e[t+1],a=0;for(let o=t+i;o<r;o+=i){let t=e[o],r=e[o+1];a+=Math.sqrt((t-n)*(t-n)+(r-s)*(r-s)),n=t,s=r}return a}}),a("7TB1l",function(e,r){t(e.exports,"default",()=>g);var i=s("hvEnP"),n=s("63y7W"),a=s("96blb"),o=s("jZquI"),l=s("ee3b9"),u=s("exEDy"),h=s("kBSVF"),c=s("iTdJV"),d=s("1fqgz"),p=s("4NB4B");class f extends n.default{constructor(e,t,r){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(void 0!==t&&r)this.setFlatCoordinates(t,e),this.ends_=r;else{let t=[],r=[];for(let i=0,n=e.length;i<n;++i){let n=e[i];(0,h.extend)(t,n.getFlatCoordinates()),r.push(t.length)}let i=0===e.length?this.getLayout():e[0].getLayout();this.setFlatCoordinates(i,t),this.ends_=r}}appendLineString(e){(0,h.extend)(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){let e=new f(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,r,i){return i<(0,o.closestSquaredDistanceXY)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,a.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,a.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,i))}getCoordinateAtM(e,t,r){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(t=void 0!==t&&t,r=void 0!==r&&r,(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,e,t,r))}getCoordinates(){return(0,c.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new i.default(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){let e=this.flatCoordinates,t=this.ends_,r=this.layout,n=[],s=0;for(let a=0,o=t.length;a<o;++a){let o=t[a],l=new i.default(e.slice(s,o),r);n.push(l),s=o}return n}getFlatMidpoints(){let e=[],t=this.flatCoordinates,r=0,i=this.ends_,n=this.stride;for(let s=0,a=i.length;s<a;++s){let a=i[s],o=(0,d.interpolatePoint)(t,r,a,n,.5);(0,h.extend)(e,o),r=a}return e}getSimplifiedGeometryInternal(e){let t=[],r=[];return t.length=(0,u.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,r),new f(t,"XY",r)}getType(){return"MultiLineString"}intersectsExtent(e){return(0,p.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);let r=(0,l.deflateCoordinatesArray)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()}}var g=f}),a("dEQmT",function(e,r){t(e.exports,"default",()=>x);var i=s("ljDIj"),n=s("cgPpQ"),a=s("63y7W"),o=s("96blb"),l=s("jZquI"),u=s("ee3b9"),h=s("kBSVF"),c=s("ec4vu"),d=s("iTdJV"),p=s("4NB4B"),f=s("2cCpz"),g=s("1jq6X"),m=s("88eMt"),y=s("7Ifzt"),v=s("exEDy");class b extends a.default{constructor(e,t,r){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){let i=e,n=[],s=[];for(let e=0,t=i.length;e<t;++e){let t=i[e],r=n.length,a=t.getEnds();for(let e=0,t=a.length;e<t;++e)a[e]+=r;(0,h.extend)(n,t.getFlatCoordinates()),s.push(a)}t=0===i.length?this.getLayout():i[0].getLayout(),e=n,r=s}void 0!==t&&r?(this.setFlatCoordinates(t,e),this.endss_=r):this.setCoordinates(e,t)}appendPolygon(e){let t;if(this.flatCoordinates){let r=this.flatCoordinates.length;(0,h.extend)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let e=0,i=t.length;e<i;++e)t[e]+=r}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()}clone(){let e=this.endss_.length,t=Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();let r=new b(this.flatCoordinates.slice(),this.layout,t);return r.applyProperties(this),r}closestPointXY(e,t,r,i){return i<(0,l.closestSquaredDistanceXY)(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,i))}containsXY(e,t){return(0,y.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return(0,g.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),(0,f.orientLinearRingsArray)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,(0,d.inflateMultiCoordinatesArray)(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){let e=(0,m.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,c.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new i.default(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){let e=this.flatCoordinates;(0,f.linearRingssAreOriented)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=(0,f.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){let t=[],r=[];return t.length=(0,v.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,r),new b(t,"XY",r)}getPolygon(e){let t;if(e<0||this.endss_.length<=e)return null;if(0===e)t=0;else{let r=this.endss_[e-1];t=r[r.length-1]}let r=this.endss_[e].slice(),i=r[r.length-1];if(0!==t)for(let e=0,i=r.length;e<i;++e)r[e]-=t;return new n.default(this.flatCoordinates.slice(t,i),this.layout,r)}getPolygons(){let e=this.layout,t=this.flatCoordinates,r=this.endss_,i=[],s=0;for(let a=0,o=r.length;a<o;++a){let o=r[a].slice(),l=o[o.length-1];if(0!==s)for(let e=0,t=o.length;e<t;++e)o[e]-=s;let u=new n.default(t.slice(s,l),e,o);i.push(u),s=l}return i}getType(){return"MultiPolygon"}intersectsExtent(e){return(0,p.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);let r=(0,u.deflateMultiCoordinatesArray)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{let e=r[r.length-1];this.flatCoordinates.length=0===e.length?0:e[e.length-1]}this.changed()}}var x=b}),a("88eMt",function(e,r){t(e.exports,"linearRingss",()=>n);var i=s("jZquI");function n(e,t,r,n){let s=[],a=(0,i.createEmpty)();for(let o=0,l=r.length;o<l;++o){let l=r[o];a=(0,i.createOrUpdateFromFlatCoordinates)(e,t,l[0],n),s.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=l[l.length-1]}return s}}),a("23ytq",function(e,r){t(e.exports,"ol_coordinate_dist2d",()=>f),t(e.exports,"ol_coordinate_equal",()=>g),t(e.exports,"ol_coordinate_offsetCoords",()=>m),t(e.exports,"ol_coordinate_findSegment",()=>y),t(e.exports,"ol_geom_createFromType",()=>v);var i,n=s("hvEnP"),a=s("fYB0A"),o=s("7TB1l"),l=s("ljDIj"),u=s("dEQmT"),h=s("j2K3b"),c=s("cgPpQ"),d=s("iTxNH"),p=s("jZquI"),f=function(e,t){var r=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(r*r+i*i)},g=function(e,t){return e[0]==t[0]&&e[1]==t[1]},m=function(e,t){var r,i,n,s,a,o,l,u,h,c,d,p,m,y=[],v=e.length-1,b=v,x=g(e[0],e[v]);!x&&(d=e[0],p=e[1],y.push(m=[d[0]+(p[1]-d[1])/f(d,p)*t,d[1]-(p[0]-d[0])/f(d,p)*t]),e.push(e[v]),v++,b--);for(var E=0;E<b;E++)d=e[E],p=e[(E+1)%v],m=e[(E+2)%v],Math.abs((r=(p[1]-d[1])/(p[0]-d[0]))-(i=(m[1]-p[1])/(m[0]-p[0])))>1e-10&&(n=Math.sqrt((p[0]-d[0])*(p[0]-d[0])+(p[1]-d[1])*(p[1]-d[1])),s=Math.sqrt((m[0]-p[0])*(m[0]-p[0])+(m[1]-p[1])*(m[1]-p[1])),a=d[0]+t*(p[1]-d[1])/n,h=(i*(o=p[0]+t*(m[1]-p[1])/s)-r*a+(l=d[1]-t*(p[0]-d[0])/n)-(u=p[1]-t*(m[0]-p[0])/s))/(i-r),c=(r*i*(o-a)+i*l-r*u)/(i-r),p[0]-d[0]==0&&(c=i*(h=p[0]+t*(p[1]-d[1])/Math.abs(p[1]-d[1]))-i*o+u),m[0]-p[0]==0&&(c=r*(h=m[0]+t*(m[1]-p[1])/Math.abs(m[1]-p[1]))-r*a+l),y.push([h,c]));return x?y.push(y[0]):(e.pop(),d=e[e.length-1],p=e[e.length-2],y.push(m=[d[0]-(p[1]-d[1])/f(d,p)*t,d[1]+(p[0]-d[0])/f(d,p)*t])),y},y=function(e,t){for(var r=0;r<t.length-1;r++){var i=t[r],n=t[r+1];if(g(e,i)||g(e,n))return{index:1,segment:[i,n]};var s=f(i,n),a=[(n[0]-i[0])/s,(n[1]-i[1])/s],o=f(i,e),l=[(e[0]-i[0])/o,(e[1]-i[1])/o];if(1e-10>Math.abs(a[0]*l[1]-a[1]*l[0]))return{index:1,segment:[i,n]}}return{index:-1}},v=function(e,t){switch(e){case"LineString":return new n.default(t);case"LinearRing":return new a.default(t);case"MultiLineString":return new o.default(t);case"MultiPoint":return new l.default(t);case"MultiPolygon":return new u.default(t);case"Point":return new h.default(t);case"Polygon":return new c.default(t);default:return console.error("[createFromType] Unsupported type: "+e),null}};!function(){function e(e,t){var r;for(let i=e.length-1;i>0;i--)(e[i][0]>t&&e[i-1][0]<t||e[i][0]<t&&e[i-1][0]>t)&&(r=[t,(t-e[i][0])/(e[i-1][0]-e[i][0])*(e[i-1][1]-e[i][1])+e[i][1]],e.splice(i,0,r))}function t(e,t){var r;for(let i=e.length-1;i>0;i--)(e[i][1]>t&&e[i-1][1]<t||e[i][1]<t&&e[i-1][1]>t)&&(r=[(t-e[i][1])/(e[i-1][1]-e[i][1])*(e[i-1][0]-e[i][0])+e[i][0],t],e.splice(i,0,r))}i=function(r,i){var n="Polygon"===i.getType();if(!n&&"MultiPolygon"!==i.getType())return null;var s=i.getCoordinates();return(n&&(s=[s]),s.forEach(function(i){i.forEach(function(i){e(i,r[0]),e(i,r[2]),t(i,r[1]),t(i,r[3])})}),s.forEach(function(e){e.forEach(function(e){e.forEach(function(e){e[0]<r[0]?e[0]=r[0]:e[0]>r[2]&&(e[0]=r[2]),e[1]<r[1]?e[1]=r[1]:e[1]>r[3]&&(e[1]=r[3])})})}),n)?new c.default(s[0]):new u.default(s)}}();var b=function(e,t,r,i){var n=[];!1!==i&&n.push(e);var s=f(e,t);if(s){var a=Math.round(s/r);if(a>1)for(var o=(t[0]-e[0])/a,l=(t[1]-e[1])/a,u=1;u<a;u++)n.push([e[0]+o*u,e[1]+l*u])}return n.push(t),n};n.default.prototype.sampleAt=function(e){for(var t=this.getCoordinates(),r=[],i=1;i<t.length;i++)r=r.concat(b(t[i-1],t[i],e,1===i));return new n.default(r)},o.default.prototype.sampleAt=function(e){var t=this.getCoordinates(),r=[];return t.forEach(function(t){for(var i=[],n=1;n<t.length;n++)i=i.concat(b(t[n-1],t[n],e,1===n));r.push(i)}),new o.default(r)},c.default.prototype.sampleAt=function(e){var t=this.getCoordinates(),r=[];return t.forEach(function(t){for(var i=[],n=1;n<t.length;n++)i=i.concat(b(t[n-1],t[n],e,1===n));r.push(i)}),new c.default(r)},u.default.prototype.sampleAt=function(e){var t=this.getCoordinates(),r=[];return t.forEach(function(t){var i=[];r.push(i),t.forEach(function(t){for(var r=[],n=1;n<t.length;n++)r=r.concat(b(t[n-1],t[n],e,1===n));i.push(r)})}),new u.default(r)},d.default.prototype.intersection=function(e,t){if(e.sampleAt){var r=(0,p.buffer)(this.getCenter().concat(this.getCenter()),this.getRadius());e=(e=i(r,e)).simplify(t);var n=this.getCenter(),s=this.getRadius(),a=e.sampleAt(t).getCoordinates();switch(e.getType()){case"Polygon":a=[a];case"MultiPolygon":var o=!1,l=[];if(a.forEach(function(e){var t=[];l.push(t),e.forEach(function(e){var r=[];t.push(r),e.forEach(function(e){var t=f(n,e);t>s?(o=!0,r.push([n[0]+s/t*(e[0]-n[0]),n[1]+s/t*(e[1]-n[1])])):r.push(e)})})}),!o)break;if("Polygon"===e.getType())return new c.default(l[0]);return new u.default(l)}}else console.warn("[ol/geom/Circle~intersection] Unsupported geometry type: "+e.getType());return e}}),a("iTxNH",function(e,r){t(e.exports,"default",()=>u);var i=s("63y7W"),n=s("jZquI"),a=s("ee3b9"),o=s("bsQCi");class l extends i.default{constructor(e,t,r){super(),void 0!==r&&void 0===t?this.setFlatCoordinates(r,e):(t=t||0,this.setCenterAndRadius(e,t,r))}clone(){let e=new l(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,r,i){let n=this.flatCoordinates,s=e-n[0],a=t-n[1],o=s*s+a*a;if(o<i){if(0===o)for(let e=0;e<this.stride;++e)r[e]=n[e];else{let e=this.getRadius()/Math.sqrt(o);r[0]=n[0]+e*s,r[1]=n[1]+e*a;for(let e=2;e<this.stride;++e)r[e]=n[e]}return r.length=this.stride,o}return i}containsXY(e,t){let r=this.flatCoordinates,i=e-r[0],n=t-r[1];return i*i+n*n<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){let t=this.flatCoordinates,r=t[this.stride]-t[0];return(0,n.createOrUpdate)(t[0]-r,t[1]-r,t[0]+r,t[1]+r,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){let e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){let t=this.getExtent();if((0,n.intersects)(e,t)){let t=this.getCenter();return e[0]<=t[0]&&e[2]>=t[0]||e[1]<=t[1]&&e[3]>=t[1]||(0,n.forEachCorner)(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){let t=this.stride,r=this.flatCoordinates[t]-this.flatCoordinates[0],i=e.slice();i[t]=i[0]+r;for(let r=1;r<t;++r)i[t+r]=e[r];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(e,t,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);let i=this.flatCoordinates,n=(0,a.deflateCoordinate)(i,0,e,this.stride);i[n++]=i[0]+t;for(let e=1,t=this.stride;e<t;++e)i[n++]=i[e];i.length=n,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){let r=this.getCenter(),i=this.getStride();this.setCenter((0,o.rotate)(r,0,r.length,i,e,t,r)),this.changed()}}l.prototype.transform;var u=l}),a("86esn",function(e,r){t(e.exports,"textFontList",()=>i),t(e.exports,"ignStyleDef",()=>n),t(e.exports,"defaultIgnStyle",()=>s),t(e.exports,"pointFrameList",()=>a),t(e.exports,"symbolFormList",()=>o);let i={"sans-serif":{title:"Arial",font:"Arial, Helvetica, sans-serif"},serif:{title:"Times",font:"Times, Times New Roman, serif"},courier:{title:"Courier",font:"Courier, Courier New, monospace"},monospace:{title:"Monospace",font:"Monaco, Lucida Console, monospace"},cursive:{title:"Cursive",font:"Brush Script MT, cursive"},comic:{title:"Comic",font:"Comic Sans MS, cursive"}},n={pointRadius:{geom:/Point/,short:"prd",defaultValue:15},pointIcon:{geom:/Point/,short:"pi",defaultValue:""},pointGlyph:{geom:/Point/,short:"pgy",defaultValue:"ign-form-poi"},pointForm:{geom:/Point/,short:"pf",defaultValue:"none"},pointOffsetY:{geom:/Point/,short:"poy",defaultValue:0},pointShadow:{geom:/Point/,short:"ps",defaultValue:!1},symbolColor:{geom:/Point/,short:"pic",defaultValue:"#0000FF"},pointColor:{geom:/Point/,short:"pc",defaultValue:"#FFFFFF"},pointStrokeColor:{geom:/Point/,short:"psc",defaultValue:"#FFFFFF"},pointStrokeWidth:{geom:/Point/,short:"psw",defaultValue:2},pointFrame:{geom:/Point/,short:"pfr",defaultValue:""},pointCrop:{geom:/Point/,short:"pcp",defaultValue:!1},pointRotation:{geom:/Point/,short:"pr",defaultValue:0},pointGradient:{geom:/Point/,short:"pg",defaultValue:0},strokeWidth:{geom:/LineString|Polygon/,short:"sw",defaultValue:2},strokeDash:{geom:/LineString|Polygon/,short:"sd",defaultValue:""},strokeArrow:{geom:/LineString/,short:"sa",defaultValue:""},strokeColor:{geom:/LineString|Polygon/,short:"sc",defaultValue:"#f80"},fillColor:{geom:/Polygon/,short:"fc",defaultValue:"rgba(255,136,0,0.6)"},fillPattern:{geom:/Polygon/,short:"fp",defaultValue:""},sizePattern:{geom:/Polygon/,short:"fpz",defaultValue:5},spacingPattern:{geom:/Polygon/,short:"fps",defaultValue:10},anglePattern:{geom:/Polygon/,short:"fpa",defaultValue:0},offsetPattern:{geom:/Polygon/,short:"fpo",defaultValue:0},scalePattern:{geom:/Polygon/,short:"fpx",defaultValue:1},fillColorPattern:{geom:/Polygon/,short:"fpc",defaultValue:"rgba(0,0,0,0)"},zIndex:{geom:/Point|LineString|Polygon/,short:"zi",defaultValue:0},labelAttribute:{geom:/Point|LineString|Polygon/,short:"tla",defaultValue:""},textColor:{geom:/Point|LineString|Polygon/,short:"tc",defaultValue:"#000"},textStyle:{geom:/Point|LineString|Polygon/,short:"ts",defaultValue:"normal"},textSize:{geom:/Point|LineString|Polygon/,short:"tz",defaultValue:12},textFont:{geom:/Point|LineString|Polygon/,short:"tft",defaultValue:i["sans-serif"].font},textOutlineColor:{geom:/Point|LineString|Polygon/,short:"toc",defaultValue:""},textOutlineWidth:{geom:/Point|LineString|Polygon/,short:"tlw",defaultValue:3},textAlign:{geom:/Point|LineString|Polygon/,short:"tal",defaultValue:"left"},textBaseline:{geom:/Point|LineString|Polygon/,short:"tbl",defaultValue:"middle"},textBgFill:{geom:/Point/,short:"tbf",defaultValue:"rgba(0, 0, 0, 0)"},textBgStroke:{geom:/Point/,short:"tbs",defaultValue:"rgba(0, 0, 0, 0)"},textBgStrokeWidth:{geom:/Point/,short:"tbw",defaultValue:1.5},textOverflow:{geom:/LineString|Polygon/,short:"to",defaultValue:"#000"},textPlacement:{geom:/LineString/,short:"tp",defaultValue:"point"}},s={};for(let e in n)s[e]=n[e].defaultValue;let a={"":{title:"sans"},default:{title:"carré"},circle:{title:"cercle"},anchored:{title:"blason"},folio:{title:"folio"}},o={none:{title:"sans"},circle:{title:"cercle"},square:{title:"carré"},lozenge:{title:"losange"},hexagon:{title:"hexagone"},marker:{title:"marqueur"},poi:{title:"point d'interêt"},bubble:{title:"bulle"},blazon:{title:"blason"},shield:{title:"bouclier"},triangle:{title:"triangle"},coma:{title:"virgule"},bookmark:{title:"signet"},sign:{title:"panneau triangle"},ban:{title:"panneau interdit"}}}),a("2zf1Y",function(e,r){t(e.exports,"default",()=>n);class i{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null}clone(){let e=this.getColor();return new i({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){this.color_=e}}var n=i}),a("bkg8x",function(e,r){t(e.exports,"default",()=>l);var i=s("dUROT"),n=s("29SgV"),a=s("juLo9");class o extends i.default{constructor(e){super(e)}}o.prototype.dispatchEvent=function(e){"select"===e.type&&e.selected.forEach((t,r)=>{if(t instanceof n.default){this.getFeatures().remove(t);let i=(0,a.render2Feature)(t);e.selected[r]=i,this.getFeatures().push(i)}}),(0,i.default).prototype.dispatchEvent.call(this,e)},(n.default.prototype.getStyle||n.default.prototype.addEventListener)&&console.warn("[Select] RenderFeature is overwritten!"),n.default.prototype.getStyle=function(){},n.default.prototype.setStyle=function(){},n.default.prototype.addEventListener=function(){},n.default.prototype.removeEventListener=function(){};var l=o}),a("dUROT",function(e,r){t(e.exports,"default",()=>x);var i=s("31ZqB"),n=s("eHnTw"),a=s("iTTi2"),o=s("iGyOD"),l=s("7lBr2"),u=s("610XN"),h=s("eQaCk"),c=s("kKEgb"),d=s("l9IGS"),p=s("kBSVF"),f=s("lVQul"),g=s("btuox");let m={SELECT:"select"};class y extends a.default{constructor(e,t,r,i){super(e),this.selected=t,this.deselected=r,this.mapBrowserEvent=i}}let v={};class b extends l.default{constructor(e){let t;if(super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:g.singleClick,this.addCondition_=e.addCondition?e.addCondition:g.never,this.removeCondition_=e.removeCondition?e.removeCondition:g.never,this.toggleCondition_=e.toggleCondition?e.toggleCondition:g.shiftKeyOnly,this.multi_=!!e.multi&&e.multi,this.filter_=e.filter?e.filter:h.TRUE,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=void 0!==e.style?e.style:function(){let e=(0,d.createEditingStyle)();return(0,p.extend)(e.Polygon,e.LineString),(0,p.extend)(e.GeometryCollection,e.LineString),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}(),this.features_=e.features||new i.default,e.layers){if("function"==typeof e.layers)t=e.layers;else{let r=e.layers;t=function(e){return r.includes(e)}}}else t=h.TRUE;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[(0,f.getUid)(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[(0,f.getUid)(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(n.default.ADD,this.boundAddFeature_),this.features_.addEventListener(n.default.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(n.default.ADD,this.boundAddFeature_),this.features_.removeEventListener(n.default.REMOVE,this.boundRemoveFeature_))}addFeature_(e){let t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){let e=this.getMap().getAllLayers().find(function(e){if(e instanceof u.default&&e.getSource()&&e.getSource().hasFeature(t))return e});e&&this.addFeatureLayerAssociation_(t,e)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){let t=(0,f.getUid)(e);t in v||(v[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){let t=this.getMap().getInteractions().getArray();for(let r=t.length-1;r>=0;--r){let i=t[r];if(i!==this&&i instanceof b&&i.getStyle()&&-1!==i.getFeatures().getArray().lastIndexOf(e)){e.setStyle(i.getStyle());return}}let r=(0,f.getUid)(e);e.setStyle(v[r]),delete v[r]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[f.getUid(e)]}handleEvent(e){if(!this.condition_(e))return!0;let t=this.addCondition_(e),r=this.removeCondition_(e),i=this.toggleCondition_(e),n=e.map,s=this.getFeatures(),a=[],l=[];if(t||r||i){n.forEachFeatureAtPixel(e.pixel,(e,n)=>{if(e instanceof o.default&&this.filter_(e,n))return(t||i)&&!s.getArray().includes(e)?(this.addFeatureLayerAssociation_(e,n),l.push(e)):(r||i)&&s.getArray().includes(e)&&(a.push(e),this.removeFeatureLayerAssociation_(e)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=a.length-1;e>=0;--e)s.remove(a[e]);s.extend(l)}else{(0,c.clear)(this.featureLayerAssociation_),n.forEachFeatureAtPixel(e.pixel,(e,t)=>{if(e instanceof o.default&&this.filter_(e,t))return this.addFeatureLayerAssociation_(e,t),l.push(e),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let e=s.getLength()-1;e>=0;--e){let t=s.item(e),r=l.indexOf(t);r>-1?l.splice(r,1):(s.remove(t),a.push(t))}0!==l.length&&s.extend(l)}return(l.length>0||a.length>0)&&this.dispatchEvent(new y(m.SELECT,l,a,e)),!0}}var x=b}),a("610XN",function(e,r){t(e.exports,"default",()=>o);var i=s("2YyN3"),n=s("6M65l");class a extends i.default{constructor(e){super(e)}createRenderer(){return new n.default(this)}}var o=a}),a("2YyN3",function(r,i){t(r.exports,"default",()=>c);var n=s("2K2IB"),a=s("4wfAy"),o=s("l9IGS"),l=s("czkEI");let u={RENDER_ORDER:"renderOrder"};class h extends n.default{constructor(e){let t=Object.assign({},e=e||{});delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=void 0!==e.declutter&&e.declutter,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(u.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new(e(a))(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(e){this.set(u.RENDER_ORDER,e)}setStyle(e){this.style_=function(e){if(void 0===e)return o.createDefaultStyle;if(!e)return null;if("function"==typeof e||e instanceof o.default)return e;if(!Array.isArray(e))return(0,l.flatStylesToStyleFunction)([e]);if(0===e.length)return[];let t=e.length,r=e[0];if(r instanceof o.default){let r=Array(t);for(let i=0;i<t;++i){let t=e[i];if(!(t instanceof o.default))throw Error("Expected a list of style instances");r[i]=t}return r}if("style"in r){let r=Array(t);for(let i=0;i<t;++i){let t=e[i];if(!("style"in t))throw Error("Expected a list of rules with a style property");r[i]=t}return(0,l.rulesToStyleFunction)(r)}return(0,l.flatStylesToStyleFunction)(e)}(e),this.styleFunction_=null===e?void 0:(0,o.toFunction)(this.style_),this.changed()}}var c=h}),a("4wfAy",function(e,t){e.exports,e.exports=function(){function e(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function t(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t){n(e,0,e.children.length,t,e)}function n(e,t,r,i,n){n||(n=d(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var a=t;a<r;a++){var o=e.children[a];s(n,e.leaf?i(o):o)}return n}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function a(e,t){return e.minX-t.minX}function o(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function u(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function c(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function d(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function p(r,i,n,s,a){for(var o=[i,n];o.length;)if(!((n=o.pop())-(i=o.pop())<=s)){var l=i+Math.ceil((n-i)/s/2)*s;(function t(r,i,n,s,a){for(;s>n;){if(s-n>600){var o=s-n+1,l=i-n+1,u=Math.log(o),h=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*h*(o-h)/o)*(l-o/2<0?-1:1),d=Math.max(n,Math.floor(i-l*h/o+c)),p=Math.min(s,Math.floor(i+(o-l)*h/o+c));t(r,i,d,p,a)}var f=r[i],g=n,m=s;for(e(r,n,i),a(r[s],f)>0&&e(r,n,s);g<m;){for(e(r,g,m),g++,m--;0>a(r[g],f);)g++;for(;a(r[m],f)>0;)m--}0===a(r[n],f)?e(r,n,m):e(r,++m,s),m<=i&&(n=m+1),i<=m&&(s=m-1)}})(r,l,i||0,n||r.length-1,a||t),o.push(i,l,l,n)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,r=[];if(!c(e,t))return r;for(var i=this.toBBox,n=[];t;){for(var s=0;s<t.children.length;s++){var a=t.children[s],o=t.leaf?i(a):a;c(e,o)&&(t.leaf?r.push(a):h(e,o)?this._all(a,r):n.push(a))}t=n.pop()}return r},r.prototype.collides=function(e){var t=this.data;if(!c(e,t))return!1;for(var r=[];t;){for(var i=0;i<t.children.length;i++){var n=t.children[i],s=t.leaf?this.toBBox(n):n;if(c(e,s)){if(t.leaf||h(e,s))return!0;r.push(n)}}t=r.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length){if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}}else this.data=r;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var r,i,n,s=this.data,a=this.toBBox(e),o=[],l=[];s||o.length;){if(s||(s=o.pop(),i=o[o.length-1],r=l.pop(),n=!0),s.leaf){var u=function(e,t,r){if(!r)return t.indexOf(e);for(var i=0;i<t.length;i++)if(r(e,t[i]))return i;return -1}(e,s.children,t);if(-1!==u)return s.children.splice(u,1),o.push(s),this._condense(o),this}n||s.leaf||!h(s,a)?i?(r++,s=i.children[r],n=!1):s=null:(o.push(s),l.push(r),r=0,i=s,s=s.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},r.prototype._build=function(e,t,r,n){var s,a=r-t+1,o=this._maxEntries;if(a<=o)return i(s=d(e.slice(t,r+1)),this.toBBox),s;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),(s=d([])).leaf=!1,s.height=n;var l=Math.ceil(a/o),u=l*Math.ceil(Math.sqrt(o));p(e,t,r,u,this.compareMinX);for(var h=t;h<=r;h+=u){var c=Math.min(h+u-1,r);p(e,h,c,l,this.compareMinY);for(var f=h;f<=c;f+=l){var g=Math.min(f+l-1,c);s.children.push(this._build(e,f,g,n-1))}}return i(s,this.toBBox),s},r.prototype._chooseSubtree=function(e,t,r,i){for(;i.push(t),!t.leaf&&i.length-1!==r;){for(var n=1/0,s=1/0,a=void 0,o=0;o<t.children.length;o++){var u=t.children[o],h=l(u),c=(Math.max(u.maxX,e.maxX)-Math.min(u.minX,e.minX))*(Math.max(u.maxY,e.maxY)-Math.min(u.minY,e.minY))-h;c<s?(s=c,n=h<n?h:n,a=u):c===s&&h<n&&(n=h,a=u)}t=a||t.children[0]}return t},r.prototype._insert=function(e,t,r){var i=r?e:this.toBBox(e),n=[],a=this._chooseSubtree(i,this.data,t,n);for(a.children.push(e),s(a,i);t>=0&&n[t].children.length>this._maxEntries;)this._split(n,t),t--;this._adjustParentBBoxes(i,n,t)},r.prototype._split=function(e,t){var r=e[t],n=r.children.length,s=this._minEntries;this._chooseSplitAxis(r,s,n);var a=this._chooseSplitIndex(r,s,n),o=d(r.children.splice(a,r.children.length-a));o.height=r.height,o.leaf=r.leaf,i(r,this.toBBox),i(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(r,o)},r.prototype._splitRoot=function(e,t){this.data=d([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,r){for(var i,s,a,o,u=1/0,h=1/0,c=t;c<=r-t;c++){var d=n(e,0,c,this.toBBox),p=n(e,c,r,this.toBBox),f=(s=void 0,a=void 0,s=Math.max(d.minX,p.minX),a=Math.max(d.minY,p.minY),Math.max(0,Math.min(d.maxX,p.maxX)-s)*Math.max(0,Math.min(d.maxY,p.maxY)-a)),g=l(d)+l(p);f<u?(u=f,i=c,h=g<h?g:h):f===u&&g<h&&(h=g,i=c)}return i||r-t},r.prototype._chooseSplitAxis=function(e,t,r){var i=e.leaf?this.compareMinX:a,n=e.leaf?this.compareMinY:o;this._allDistMargin(e,t,r,i)<this._allDistMargin(e,t,r,n)&&e.children.sort(i)},r.prototype._allDistMargin=function(e,t,r,i){e.children.sort(i);for(var a=this.toBBox,o=n(e,0,t,a),l=n(e,r-t,r,a),h=u(o)+u(l),c=t;c<r-t;c++){var d=e.children[c];s(o,e.leaf?a(d):d),h+=u(o)}for(var p=r-t-1;p>=t;p--){var f=e.children[p];s(l,e.leaf?a(f):f),h+=u(l)}return h},r.prototype._adjustParentBBoxes=function(e,t,r){for(var i=r;i>=0;i--)s(t[i],e)},r.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},r}()}),a("l9IGS",function(e,r){t(e.exports,"toFunction",()=>u),t(e.exports,"createDefaultStyle",()=>c),t(e.exports,"createEditingStyle",()=>d),t(e.exports,"default",()=>f);var i=s("4lFOe"),n=s("2zf1Y"),a=s("d5AAH"),o=s("eJ4LZ");class l{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=p,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new l({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=p,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function u(e){let t;if("function"==typeof e)t=e;else{let r;Array.isArray(e)?r=e:((0,o.assert)("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),r=[e]),t=function(){return r}}return t}let h=null;function c(e,t){if(!h){let e=new n.default({color:"rgba(255,255,255,0.4)"}),t=new a.default({color:"#3399CC",width:1.25});h=[new l({image:new i.default({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return h}function d(){let e={},t=[255,255,255,1],r=[0,153,255,1];return e.Polygon=[new l({fill:new n.default({color:[255,255,255,.5]})})],e.MultiPolygon=e.Polygon,e.LineString=[new l({stroke:new a.default({color:t,width:5})}),new l({stroke:new a.default({color:r,width:3})})],e.MultiLineString=e.LineString,e.Circle=e.Polygon.concat(e.LineString),e.Point=[new l({image:new i.default({radius:6,fill:new n.default({color:r}),stroke:new a.default({color:t,width:1.5})}),zIndex:1/0})],e.MultiPoint=e.Point,e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point),e}function p(e){return e.getGeometry()}var f=l}),a("4lFOe",function(e,r){t(e.exports,"default",()=>a);var i=s("h6Aha");class n extends i.default{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){let e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius_=e,this.render()}}var a=n}),a("d5AAH",function(e,r){t(e.exports,"default",()=>n);class i{constructor(e){e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){let e=this.getColor();return new i({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}var n=i}),a("czkEI",function(e,r){t(e.exports,"rulesToStyleFunction",()=>m),t(e.exports,"flatStylesToStyleFunction",()=>y);var i=s("4lFOe"),n=s("2zf1Y"),a=s("ayeEa"),o=s("h6Aha"),l=s("d5AAH"),u=s("l9IGS"),h=s("kuKBR"),c=s("3oUFG"),d=s("5lv5y"),p=s("kKEgb"),f=s("6BjcK");function g(e){return!0}function m(e){let t=(0,c.newParsingContext)(),r=function(e,t){let r=e.length,i=Array(r);for(let n=0;n<r;++n){let r;let s=e[n],a="filter"in s?(0,d.buildExpression)(s.filter,c.BooleanType,t):g;if(Array.isArray(s.style)){let e=s.style.length;r=Array(e);for(let i=0;i<e;++i)r[i]=v(s.style[i],t)}else r=[v(s.style,t)];i[n]={filter:a,styles:r}}return function(t){let n=[],s=!1;for(let a=0;a<r;++a)if((0,i[a].filter)(t)&&(!e[a].else||!s))for(let e of(s=!0,i[a].styles)){let r=e(t);r&&n.push(r)}return n}}(e,t),i=(0,d.newEvaluationContext)();return function(e,n){if(i.properties=e.getPropertiesInternal(),i.resolution=n,t.featureId){let t=e.getId();void 0!==t?i.featureId=t:i.featureId=null}return r(i)}}function y(e){let t=(0,c.newParsingContext)(),r=e.length,i=Array(r);for(let n=0;n<r;++n)i[n]=v(e[n],t);let n=(0,d.newEvaluationContext)(),s=Array(r);return function(e,a){if(n.properties=e.getPropertiesInternal(),n.resolution=a,t.featureId){let t=e.getId();void 0!==t?n.featureId=t:n.featureId=null}let o=0;for(let e=0;e<r;++e){let t=i[e](n);t&&(s[o]=t,o+=1)}return s.length=o,s}}function v(e,t){let r=b(e,"",t),n=x(e,"",t),s=function(e,t){let r="text-",i=_(e,r+"value",t);if(!i)return null;let n=b(e,r,t),s=b(e,r+"background-",t),a=x(e,r,t),o=x(e,r+"background-",t),l=_(e,r+"font",t),u=E(e,r+"max-angle",t),c=E(e,r+"offset-x",t),d=E(e,r+"offset-y",t),p=S(e,r+"overflow",t),f=_(e,r+"placement",t),g=E(e,r+"repeat",t),m=w(e,r+"scale",t),y=S(e,r+"rotate-with-view",t),v=E(e,r+"rotation",t),O=_(e,r+"align",t),A=_(e,r+"justify",t),C=_(e,r+"baseline",t),T=R(e,r+"padding",t),L=new h.default({});return function(e){if(L.setText(i(e)),n&&L.setFill(n(e)),s&&L.setBackgroundFill(s(e)),a&&L.setStroke(a(e)),o&&L.setBackgroundStroke(o(e)),l&&L.setFont(l(e)),u&&L.setMaxAngle(u(e)),c&&L.setOffsetX(c(e)),d&&L.setOffsetY(d(e)),p&&L.setOverflow(p(e)),f){let t=f(e);if("point"!==t&&"line"!==t)throw Error("Expected point or line for text-placement");L.setPlacement(t)}if(g&&L.setRepeat(g(e)),m&&L.setScale(m(e)),y&&L.setRotateWithView(y(e)),v&&L.setRotation(v(e)),O){let t=O(e);if("left"!==t&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw Error("Expected left, right, center, start, or end for text-align");L.setTextAlign(t)}if(A){let t=A(e);if("left"!==t&&"right"!==t&&"center"!==t)throw Error("Expected left, right, or center for text-justify");L.setJustify(t)}if(C){let t=C(e);if("bottom"!==t&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");L.setTextBaseline(t)}return T&&L.setPadding(T(e)),L}}(e,t),l="icon-src"in e?function(e,t){let r="icon-",i=r+"src",n=M(e[i],i),s=A(e,r+"anchor",t),o=w(e,r+"scale",t),l=E(e,r+"opacity",t),u=A(e,r+"displacement",t),h=E(e,r+"rotation",t),c=S(e,r+"rotate-with-view",t),d=T(e,r+"anchor-origin"),p=L(e,r+"anchor-x-units"),g=L(e,r+"anchor-y-units"),m=function(e,t){let r=e[t];if(void 0!==r)return G(r,t)}(e,r+"color"),y=function(e,t){let r=e[t];if(void 0!==r){if("string"!=typeof r)throw Error(`Expected a string for ${t}`);return r}}(e,r+"cross-origin"),v=function(e,t){let r=e[t];if(void 0!==r)return I(r,t)}(e,r+"offset"),b=T(e,r+"offset-origin"),x=C(e,r+"width"),_=C(e,r+"height"),O=function(e,t){let r=e[t];if(void 0!==r){if("number"==typeof r)return(0,f.toSize)(r);if(!Array.isArray(r)||2!==r.length||"number"!=typeof r[0]||"number"!=typeof r[1])throw Error(`Expected a number or size array for ${t}`);return r}}(e,r+"size"),R=P(e,r+"declutter"),N=new a.default({src:n,anchorOrigin:d,anchorXUnits:p,anchorYUnits:g,color:m,crossOrigin:y,offset:v,offsetOrigin:b,height:_,width:x,size:O,declutterMode:R});return function(e){return l&&N.setOpacity(l(e)),u&&N.setDisplacement(u(e)),h&&N.setRotation(h(e)),c&&N.setRotateWithView(c(e)),o&&N.setScale(o(e)),s&&N.setAnchor(s(e)),N}}(e,t):"shape-points"in e?function(e,t){let r="shape-",i=r+"points",n=N(e[i],i),s=b(e,r,t),a=x(e,r,t),l=w(e,r+"scale",t),u=A(e,r+"displacement",t),h=E(e,r+"rotation",t),c=S(e,r+"rotate-with-view",t),d=C(e,r+"radius"),p=C(e,r+"radius1"),f=C(e,r+"radius2"),g=C(e,r+"angle"),m=P(e,r+"declutter-mode"),y=new o.default({points:n,radius:d,radius1:p,radius2:f,angle:g,declutterMode:m});return function(e){return s&&y.setFill(s(e)),a&&y.setStroke(a(e)),u&&y.setDisplacement(u(e)),h&&y.setRotation(h(e)),c&&y.setRotateWithView(c(e)),l&&y.setScale(l(e)),y}}(e,t):"circle-radius"in e?function(e,t){let r="circle-",n=b(e,r,t),s=x(e,r,t),a=E(e,r+"radius",t),o=w(e,r+"scale",t),l=A(e,r+"displacement",t),u=E(e,r+"rotation",t),h=S(e,r+"rotate-with-view",t),c=P(e,r+"declutter-mode"),d=new i.default({radius:5,declutterMode:c});return function(e){return a&&d.setRadius(a(e)),n&&d.setFill(n(e)),s&&d.setStroke(s(e)),l&&d.setDisplacement(l(e)),u&&d.setRotation(u(e)),h&&d.setRotateWithView(h(e)),o&&d.setScale(o(e)),d}}(e,t):null,c=E(e,"z-index",t);if(!r&&!n&&!s&&!l&&!(0,p.isEmpty)(e))throw Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));let d=new u.default;return function(e){let t=!0;if(r){let i=r(e);i&&(t=!1),d.setFill(i)}if(n){let r=n(e);r&&(t=!1),d.setStroke(r)}if(s){let r=s(e);r&&(t=!1),d.setText(r)}if(l){let r=l(e);r&&(t=!1),d.setImage(r)}return(c&&d.setZIndex(c(e)),t)?null:d}}function b(e,t,r){let i=O(e,t+"fill-color",r);if(!i)return null;let s=new n.default;return function(e){let t=i(e);return"none"===t?null:(s.setColor(t),s)}}function x(e,t,r){let i=E(e,t+"stroke-width",r),n=O(e,t+"stroke-color",r);if(!i&&!n)return null;let s=_(e,t+"stroke-line-cap",r),a=_(e,t+"stroke-line-join",r),o=R(e,t+"stroke-line-dash",r),u=E(e,t+"stroke-line-dash-offset",r),h=E(e,t+"stroke-miter-limit",r),c=new l.default;return function(e){if(n){let t=n(e);if("none"===t)return null;c.setColor(t)}if(i&&c.setWidth(i(e)),s){let t=s(e);if("butt"!==t&&"round"!==t&&"square"!==t)throw Error("Expected butt, round, or square line cap");c.setLineCap(t)}if(a){let t=a(e);if("bevel"!==t&&"round"!==t&&"miter"!==t)throw Error("Expected bevel, round, or miter line join");c.setLineJoin(t)}return o&&c.setLineDash(o(e)),u&&c.setLineDashOffset(u(e)),h&&c.setMiterLimit(h(e)),c}}function E(e,t,r){if(!(t in e))return;let i=(0,d.buildExpression)(e[t],c.NumberType,r);return function(e){return N(i(e),t)}}function _(e,t,r){if(!(t in e))return null;let i=(0,d.buildExpression)(e[t],c.StringType,r);return function(e){return M(i(e),t)}}function S(e,t,r){if(!(t in e))return null;let i=(0,d.buildExpression)(e[t],c.BooleanType,r);return function(e){let r=i(e);if("boolean"!=typeof r)throw Error(`Expected a boolean for ${t}`);return r}}function O(e,t,r){if(!(t in e))return null;let i=(0,d.buildExpression)(e[t],c.ColorType|c.StringType,r);return function(e){return G(i(e),t)}}function R(e,t,r){if(!(t in e))return null;let i=(0,d.buildExpression)(e[t],c.NumberArrayType,r);return function(e){return I(i(e),t)}}function A(e,t,r){if(!(t in e))return null;let i=(0,d.buildExpression)(e[t],c.NumberArrayType,r);return function(e){let r=I(i(e),t);if(2!==r.length)throw Error(`Expected two numbers for ${t}`);return r}}function w(e,t,r){if(!(t in e))return null;let i=(0,d.buildExpression)(e[t],c.NumberArrayType|c.NumberType,r);return function(e){return function(e,t){if("number"==typeof e)return e;let r=I(e,t);if(2!==r.length)throw Error(`Expected an array of two numbers for ${t}`);return r}(i(e),t)}}function C(e,t){let r=e[t];if(void 0!==r){if("number"!=typeof r)throw Error(`Expected a number for ${t}`);return r}}function T(e,t){let r=e[t];if(void 0!==r){if("bottom-left"!==r&&"bottom-right"!==r&&"top-left"!==r&&"top-right"!==r)throw Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return r}}function L(e,t){let r=e[t];if(void 0!==r){if("pixels"!==r&&"fraction"!==r)throw Error(`Expected pixels or fraction for ${t}`);return r}}function P(e,t){let r=e[t];if(void 0!==r){if("string"!=typeof r)throw Error(`Expected a string for ${t}`);if("declutter"!==r&&"obstacle"!==r&&"none"!==r)throw Error(`Expected declutter, obstacle, or none for ${t}`);return r}}function I(e,t){if(!Array.isArray(e))throw Error(`Expected an array for ${t}`);let r=e.length;for(let i=0;i<r;++i)if("number"!=typeof e[i])throw Error(`Expected an array of numbers for ${t}`);return e}function M(e,t){if("string"!=typeof e)throw Error(`Expected a string for ${t}`);return e}function N(e,t){if("number"!=typeof e)throw Error(`Expected a number for ${t}`);return e}function G(e,t){if("string"==typeof e)return e;let r=I(e,t),i=r.length;if(i<3||i>4)throw Error(`Expected a color with 3 or 4 values for ${t}`);return r}}),a("ayeEa",function(e,r){t(e.exports,"default",()=>p);var i=s("cw4dl"),n=s("50PZ9"),a=s("9yR4T"),o=s("lqNjm"),l=s("eJ4LZ"),u=s("9c0bz"),h=s("lVQul");function c(e,t,r,i){return void 0!==r&&void 0!==i?[r/e,i/t]:void 0!==r?r/e:void 0!==i?i/t:1}class d extends a.default{constructor(e){let t;let r=void 0!==(e=e||{}).opacity?e.opacity:1;super({opacity:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;let i=void 0!==e.img?e.img:null,s=e.src;if((0,l.assert)(!(void 0!==s&&i),"`image` and `src` cannot be provided at the same time"),(void 0===s||0===s.length)&&i&&(s=i.src||(0,h.getUid)(i)),(0,l.assert)(void 0!==s&&s.length>0,"A defined and non-empty `src` or `image` must be provided"),(0,l.assert)(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?t=n.default.IDLE:void 0!==i&&(t=i instanceof HTMLImageElement?i.complete?i.src?n.default.LOADED:n.default.IDLE:n.default.LOADING:n.default.LOADED),this.color_=void 0!==e.color?(0,o.asArray)(e.color):null,this.iconImage_=(0,u.get)(i,s,this.crossOrigin_,t,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,void 0!==e.width||void 0!==e.height){let t,r;if(e.size)[t,r]=e.size;else{let i=this.getImage(1);if(i.width&&i.height)t=i.width,r=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=e;let t=()=>{if(this.unlistenImageChange(t),!this.initialOptions_)return;let r=this.iconImage_.getSize();this.setScale(c(r[0],r[1],e.width,e.height))};this.listenImageChange(t);return}}void 0!==t&&this.setScale(c(t,r,e.width,e.height))}}clone(){let e,t,r;return this.initialOptions_?(t=this.initialOptions_.width,r=this.initialOptions_.height):e=Array.isArray(e=this.getScale())?e.slice():e,new d({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:r,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;let t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[0]=-e[0]+t[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}let t=this.getDisplacement(),r=this.getScaleArray();return[e[0]-t[0]/r[0],e[1]+t[1]/r[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if("top-left"!=this.offsetOrigin_){let t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r)return null;e=e.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[0]=r[0]-t[0]-e[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(e[1]=r[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){let e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==n.default.LOADED?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){let e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==n.default.LOADED?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(i.default.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(i.default.CHANGE,e)}}var p=d}),a("9c0bz",function(e,r){t(e.exports,"get",()=>p);var i=s("9LzRi"),n=s("cw4dl"),a=s("50PZ9"),o=s("lqNjm"),l=s("cgxQK"),u=s("kUxvm"),h=s("1Guxd");let c=null;class d extends i.default{constructor(e,t,r,i,n){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=r,this.canvas_={},this.color_=n,this.imageState_=void 0===i?a.default.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===a.default.LOADED){c||(c=(0,l.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0})),c.drawImage(this.image_,0,0);try{c.getImageData(0,0,1,1),this.tainted_=!1}catch(e){c=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(n.default.CHANGE)}handleImageError_(){this.imageState_=a.default.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=a.default.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_){if(this.isTainted_()){let e=this.size_[0],t=this.size_[1],r=(0,l.createCanvasContext2D)(e,t);r.fillRect(0,0,e,t),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_}return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===a.default.IDLE){this.image_||this.initializeImage_(),this.imageState_=a.default.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(e){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(0,u.decodeFallback)(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==a.default.LOADED)return;let t=this.image_,r=document.createElement("canvas");r.width=Math.ceil(t.width*e),r.height=Math.ceil(t.height*e);let i=r.getContext("2d");i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=(0,o.asString)(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}}function p(e,t,r,i,n){let s=void 0===t?void 0:(0,h.shared).get(t,r,n);return s||(s=new d(e,e instanceof HTMLImageElement?e.src||void 0:t,r,i,n),(0,h.shared).set(t,r,n,s)),s}}),a("kUxvm",function(e,r){t(e.exports,"listenImage",()=>c),t(e.exports,"decodeFallback",()=>d),t(e.exports,"decode",()=>p),t(e.exports,"default",()=>f);var i=s("9LzRi"),n=s("cw4dl"),a=s("50PZ9"),o=s("lW8xZ"),l=s("bsgMw"),u=s("eQaCk");class h extends i.default{constructor(e,t,r,i){super(),this.extent=e,this.pixelRatio_=r,this.resolution=t,this.state="function"==typeof i?a.default.IDLE:i,this.image_=null,this.loader="function"==typeof i?i:null}changed(){this.dispatchEvent(n.default.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==a.default.IDLE&&this.loader){this.state=a.default.LOADING,this.changed();let e=this.getResolution(),t=Array.isArray(e)?e[0]:e;(0,u.toPromise)(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(e=>{"image"in e&&(this.image_=e.image),"extent"in e&&(this.extent=e.extent),"resolution"in e&&(this.resolution=e.resolution),"pixelRatio"in e&&(this.pixelRatio_=e.pixelRatio),(e instanceof HTMLImageElement||e instanceof ImageBitmap||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement)&&(this.image_=e),this.state=a.default.LOADED}).catch(e=>{this.state=a.default.ERROR,console.error(e)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function c(e,t,r){let i=!0,s=!1,a=!1,u=[(0,l.listenOnce)(e,n.default.LOAD,function(){a=!0,s||t()})];return e.src&&o.IMAGE_DECODE?(s=!0,e.decode().then(function(){i&&t()}).catch(function(e){i&&(a?t():r())})):u.push((0,l.listenOnce)(e,n.default.ERROR,r)),function(){i=!1,u.forEach(l.unlistenByKey)}}function d(e,t){var r;return t&&(e.src=t),new Promise(e.src&&o.IMAGE_DECODE?(t,r)=>e.decode().then(()=>t(e)).catch(i=>e.complete&&e.width?t(e):r(i)):(t,i)=>{function n(){a(),t(e)}function s(){a(),i(Error("Image load error"))}function a(){e.removeEventListener("load",n),e.removeEventListener("error",s)}e.addEventListener("load",n),e.addEventListener("error",s),r&&(e.src=r)})}function p(e,t){return t&&(e.src=t),e.src&&o.IMAGE_DECODE&&o.CREATE_IMAGE_BITMAP?e.decode().then(()=>createImageBitmap(e)).catch(t=>{if(e.complete&&e.width)return e;throw t}):d(e)}var f=h}),a("kuKBR",function(e,r){t(e.exports,"default",()=>o);var i=s("2zf1Y"),n=s("6BjcK");class a{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=(0,n.toSize)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new i.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}clone(){let e=this.getScale();return new a({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=(0,n.toSize)(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}var o=a}),a("3oUFG",function(e,r){t(e.exports,"NoneType",()=>o),t(e.exports,"BooleanType",()=>l),t(e.exports,"NumberType",()=>u),t(e.exports,"StringType",()=>h),t(e.exports,"ColorType",()=>c),t(e.exports,"NumberArrayType",()=>d),t(e.exports,"typeName",()=>m),t(e.exports,"overlapsType",()=>y),t(e.exports,"isType",()=>v),t(e.exports,"LiteralExpression",()=>b),t(e.exports,"CallExpression",()=>x),t(e.exports,"newParsingContext",()=>E),t(e.exports,"parse",()=>_),t(e.exports,"Ops",()=>S);var i=s("kBSVF"),n=s("lqNjm");let a=0,o=0,l=1<<a++,u=1<<a++,h=1<<a++,c=1<<a++,d=1<<a++,p=Math.pow(2,a)-1,f={[l]:"boolean",[u]:"number",[h]:"string",[c]:"color",[d]:"number[]"},g=Object.keys(f).map(Number).sort(i.ascending);function m(e){let t=[];for(let r of g)(e&r)===r&&t.push(f[r]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function y(e,t){return!!(e&t)}function v(e,t){return e===t}class b{constructor(e,t){this.type=e,this.value=t}}class x{constructor(e,t,...r){this.type=e,this.operator=t,this.args=r}}function E(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function _(e,t,r){switch(typeof e){case"boolean":return new b(l,e);case"number":return new b(u,e);case"string":{let t=h;return(0,n.isStringColor)(e)&&(t|=c),(t&r)!==o&&(t&=r),new b(t,e)}}if(!Array.isArray(e))throw Error("Expression must be an array or a primitive value");if(0===e.length)throw Error("Empty expression");if("string"==typeof e[0])return function(e,t,r){let i=e[0],n=O[i];if(!n)throw Error(`Unknown operator: ${i}`);return n(e,t,r)}(e,t,r);for(let t of e)if("number"!=typeof t)throw Error("Expected an array of numbers");let i=d;return(3===e.length||4===e.length)&&(i|=c),r&&(i&=r),new b(i,e)}let S={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},O={[S.Get]:L(([e,t])=>void 0!==t?function(e){switch(e){case"string":return h;case"color":return c;case"number":return u;case"boolean":return l;case"number[]":return d;default:throw Error(`Unrecognized type hint: ${e}`)}}(t.value):p,A(1,2),function(e,t){let r=_(e[1],t);if(!(r instanceof b))throw Error("Expected a literal argument for get operation");if("string"!=typeof r.value)throw Error("Expected a string argument for get operation");return(t.properties.add(r.value),3===e.length)?[r,_(e[2],t)]:[r]}),[S.Var]:L(([e])=>e.type,A(1,1),function(e,t,r,i){let n=e[1];if("string"!=typeof n)throw Error("Expected a string argument for var operation");if(t.variables.add(n),!("variables"in t.style)||void 0===t.style.variables[n])return[new b(p,n)];let s=_(t.style.variables[n],t);if(s.value=n,i&&!(i&s.type))throw Error(`The variable ${n} has type ${m(s.type)} but the following type was expected: ${m(i)}`);return[s]}),[S.Id]:L(u|h,R,function(e,t){t.featureId=!0}),[S.Concat]:L(h,A(2,1/0),w(p)),[S.GeometryType]:L(h,R),[S.Resolution]:L(u,R),[S.Zoom]:L(u,R),[S.Time]:L(u,R),[S.Any]:L(l,A(2,1/0),w(l)),[S.All]:L(l,A(2,1/0),w(l)),[S.Not]:L(l,A(1,1),w(l)),[S.Equal]:L(l,A(2,2),w(p),C),[S.NotEqual]:L(l,A(2,2),w(p),C),[S.GreaterThan]:L(l,A(2,2),w(p),C),[S.GreaterThanOrEqualTo]:L(l,A(2,2),w(p),C),[S.LessThan]:L(l,A(2,2),w(p),C),[S.LessThanOrEqualTo]:L(l,A(2,2),w(p),C),[S.Multiply]:L(e=>{let t=u|c;for(let r=0;r<e.length;r++)t&=e[r].type;return t},A(2,1/0),w(u|c),C),[S.Divide]:L(u,A(2,2),w(u)),[S.Add]:L(u,A(2,1/0),w(u)),[S.Subtract]:L(u,A(2,2),w(u)),[S.Clamp]:L(u,A(3,3),w(u)),[S.Mod]:L(u,A(2,2),w(u)),[S.Pow]:L(u,A(2,2),w(u)),[S.Abs]:L(u,A(1,1),w(u)),[S.Floor]:L(u,A(1,1),w(u)),[S.Ceil]:L(u,A(1,1),w(u)),[S.Round]:L(u,A(1,1),w(u)),[S.Sin]:L(u,A(1,1),w(u)),[S.Cos]:L(u,A(1,1),w(u)),[S.Atan]:L(u,A(1,2),w(u)),[S.Sqrt]:L(u,A(1,1),w(u)),[S.Match]:L(e=>{let t=p;for(let r=2;r<e.length;r+=2)t&=e[r].type;return t&e[e.length-1].type},A(4,1/0),T,function(e,t,r,i){let n=e.length-1,s=_(e[1],t).type,a=_(e[e.length-1],t),c=void 0!==i?i&a.type:a.type,d=Array(n-2);for(let r=0;r<n-2;r+=2){let i=_(e[r+2],t),n=_(e[r+3],t);s&=i.type,c&=n.type,d[r]=i,d[r+1]=n}let p=h|u|l;if(!(p&s))throw Error(`Expected an input of type ${m(p)} for the interpolate operation, got ${m(s)} instead`);if(c===o)throw Error("Could not find a common output type for the following match operation: "+JSON.stringify(e));for(let r=0;r<n-2;r+=2){let i=_(e[r+2],t,s),n=_(e[r+3],t,c);d[r]=i,d[r+1]=n}return[_(e[1],t,s),...d,_(e[e.length-1],t,c)]}),[S.Between]:L(l,A(3,3),w(u)),[S.Interpolate]:L(e=>{let t=c|u;for(let r=3;r<e.length;r+=2)t&=e[r].type;return t},A(6,1/0),T,function(e,t,r,i){let n;let s=e[1];switch(s[0]){case"linear":n=1;break;case"exponential":if("number"!=typeof(n=s[1]))throw Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(n)} instead`);break;default:n=null}if(!n)throw Error(`Invalid interpolation type: ${JSON.stringify(s)}`);n=_(n,t);let a=_(e[2],t);if(!(u&a.type))throw Error(`Expected an input of type number for the interpolate operation, got ${m(a.type)} instead`);a=_(e[2],t,u);let o=Array(e.length-3);for(let r=0;r<o.length;r+=2){let i=_(e[r+3],t);if(!(u&i.type))throw Error(`Expected all stop input values in the interpolate operation to be of type number, got ${m(i.type)} at position ${r+2} instead`);let n=_(e[r+4],t);if(!((u|c)&n.type))throw Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${m(n.type)} at position ${r+3} instead`);i=_(e[r+3],t,u),n=_(e[r+4],t,u|c),o[r]=i,o[r+1]=n}return[n,a,...o]}),[S.Case]:L(e=>{let t=p;for(let r=1;r<e.length;r+=2)t&=e[r].type;return t&e[e.length-1].type},A(3,1/0),function(e,t){let r=e[0],i=e.length-1;if(i%2==0)throw Error(`An odd amount of arguments was expected for operation ${r}, got ${JSON.stringify(i)} instead`)},function(e,t,r,i){let n=_(e[e.length-1],t),s=void 0!==i?i&n.type:n.type,a=Array(e.length-1);for(let r=0;r<a.length-1;r+=2){let i=_(e[r+1],t),n=_(e[r+2],t);if(!(l&i.type))throw Error(`Expected all conditions in the case operation to be of type boolean, got ${m(i.type)} at position ${r} instead`);s&=n.type,a[r]=i,a[r+1]=n}if(s===o)throw Error("Could not find a common output type for the following case operation: "+JSON.stringify(e));for(let r=0;r<a.length-1;r+=2)a[r+1]=_(e[r+2],t,s);return a[a.length-1]=_(e[e.length-1],t,s),a}),[S.In]:L(l,A(2,2),function(e,t){let r=e[2];if(!Array.isArray(r))throw Error('The "in" operator was provided a literal value which was not an array as second argument.');if("string"==typeof r[0]){if("literal"!==r[0])throw Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(r[1]))throw Error('The "in" operator was provided a literal value which was not an array as second argument.');r=r[1]}let i=h|u,n=Array(r.length);for(let e=0;e<n.length;e++){let s=_(r[e],t);i&=s.type,n[e]=s}if(i===o)throw Error("Could not find a common type for the following in operation: "+JSON.stringify(e));return[_(e[1],t,i),...n]}),[S.Number]:L(u,A(1,1/0),w(p)),[S.String]:L(h,A(1,1/0),w(p)),[S.Array]:L(e=>3===e.length||4===e.length?d|c:d,A(1,1/0),w(u)),[S.Color]:L(c,A(3,4),w(u)),[S.Band]:L(u,A(1,3),w(u)),[S.Palette]:L(c,A(2,2),function(e,t){let r=_(e[1],t,u);if(r.type!==u)throw Error(`The first argument of palette must be an number, got ${m(r.type)} instead`);let i=e[2];if(!Array.isArray(i))throw Error("The second argument of palette must be an array");let n=Array(i.length);for(let e=0;e<n.length;e++){let r=_(i[e],t,c);if(!(r instanceof b))throw Error(`The palette color at index ${e} must be a literal value`);if(!(r.type&c))throw Error(`The palette color at index ${e} should be of type color, got ${m(r.type)} instead`);n[e]=r}return[r,...n]})};function R(e,t){let r=e[0];if(1!==e.length)throw Error(`Expected no arguments for ${r} operation`);return[]}function A(e,t){return function(r,i){let n=r[0],s=r.length-1;if(e===t){if(s!==e)throw Error(`Expected ${e} argument${1===e?"":"s"} for ${n}, got ${s}`)}else if(s<e||s>t){let r=t===1/0?`${e} or more`:`${e} to ${t}`;throw Error(`Expected ${r} arguments for ${n}, got ${s}`)}}}function w(e){return function(t,r){let i=t[0],n=t.length-1,s=Array(n);for(let a=0;a<n;++a){let n=_(t[a+1],r);if(!(e&n.type)){let t=m(e),r=m(n.type);throw Error(`Unexpected type for argument ${a} of ${i} operation, got ${t} but expected ${r}`)}n.type&=e,s[a]=n}return s}}function C(e,t,r){let i=e[0],n=e.length-1,s=p;for(let e=0;e<r.length;++e)s&=r[e].type;if(s===o)throw Error(`No common type could be found for arguments of ${i} operation`);let a=Array(n);for(let r=0;r<n;++r)a[r]=_(e[r+1],t,s);return a}function T(e,t){let r=e[0],i=e.length-1;if(i%2==1)throw Error(`An even amount of arguments was expected for operation ${r}, got ${JSON.stringify(i)} instead`)}function L(e,...t){return function(r,i,n){let s=r[0],a=[];for(let e=0;e<t.length;e++)a=t[e](r,i,a,n)||a;let l="function"==typeof e?e(a):e;if(void 0!==n){if(!(l&n))throw Error(`The following expression was expected to return ${m(n)}, but returns ${m(l)} instead: ${JSON.stringify(r)}`);l&=n}if(l===o)throw Error(`No matching type was found for the following expression: ${JSON.stringify(r)}`);return new x(l,s,...a)}}}),a("5lv5y",function(e,r){t(e.exports,"newEvaluationContext",()=>a),t(e.exports,"buildExpression",()=>o);var i=s("3oUFG"),n=s("lqNjm");function a(){return{variables:{},properties:{},resolution:NaN,featureId:null}}function o(e,t,r){let s=(0,i.parse)(e,r);if(!(0,i.overlapsType)(t,s.type)){let e=(0,i.typeName)(t),r=(0,i.typeName)(s.type);throw Error(`Expected expression to be of type ${e}, got ${r}`)}return function e(t,r){if(t instanceof i.LiteralExpression){if(t.type===i.ColorType&&"string"==typeof t.value){let e=(0,n.fromString)(t.value);return function(){return e}}return function(){return t.value}}let s=t.operator;switch(s){case i.Ops.Number:case i.Ops.String:return function(t,r){let n=t.operator,s=t.args.length,a=Array(s);for(let i=0;i<s;++i)a[i]=e(t.args[i],r);switch(n){case i.Ops.Number:case i.Ops.String:return e=>{for(let t=0;t<s;++t){let r=a[t](e);if(typeof r===n)return r}throw Error(`Expected one of the values to be a ${n}`)};default:throw Error(`Unsupported assertion operator ${n}`)}}(t,r);case i.Ops.Get:case i.Ops.Var:return function(e,t){let r=e.args[0].value;switch(e.operator){case i.Ops.Get:return e=>e.properties[r];case i.Ops.Var:return e=>e.variables[r];default:throw Error(`Unsupported accessor operator ${e.operator}`)}}(t,0);case i.Ops.Id:return e=>e.featureId;case i.Ops.Concat:{let i=t.args.map(t=>e(t,r));return e=>"".concat(...i.map(t=>t(e).toString()))}case i.Ops.Resolution:return e=>e.resolution;case i.Ops.Any:case i.Ops.All:case i.Ops.Not:return function(t,r){let n=t.operator,s=t.args.length,a=Array(s);for(let i=0;i<s;++i)a[i]=e(t.args[i],r);switch(n){case i.Ops.Any:return e=>{for(let t=0;t<s;++t)if(a[t](e))return!0;return!1};case i.Ops.All:return e=>{for(let t=0;t<s;++t)if(!a[t](e))return!1;return!0};case i.Ops.Not:return e=>!a[0](e);default:throw Error(`Unsupported logical operator ${n}`)}}(t,r);case i.Ops.Equal:case i.Ops.NotEqual:case i.Ops.LessThan:case i.Ops.LessThanOrEqualTo:case i.Ops.GreaterThan:case i.Ops.GreaterThanOrEqualTo:return function(t,r){let n=t.operator,s=e(t.args[0],r),a=e(t.args[1],r);switch(n){case i.Ops.Equal:return e=>s(e)===a(e);case i.Ops.NotEqual:return e=>s(e)!==a(e);case i.Ops.LessThan:return e=>s(e)<a(e);case i.Ops.LessThanOrEqualTo:return e=>s(e)<=a(e);case i.Ops.GreaterThan:return e=>s(e)>a(e);case i.Ops.GreaterThanOrEqualTo:return e=>s(e)>=a(e);default:throw Error(`Unsupported comparison operator ${n}`)}}(t,r);case i.Ops.Multiply:case i.Ops.Divide:case i.Ops.Add:case i.Ops.Subtract:case i.Ops.Clamp:case i.Ops.Mod:case i.Ops.Pow:case i.Ops.Abs:case i.Ops.Floor:case i.Ops.Ceil:case i.Ops.Round:case i.Ops.Sin:case i.Ops.Cos:case i.Ops.Atan:case i.Ops.Sqrt:return function(t,r){let n=t.operator,s=t.args.length,a=Array(s);for(let i=0;i<s;++i)a[i]=e(t.args[i],r);switch(n){case i.Ops.Multiply:return e=>{let t=1;for(let r=0;r<s;++r)t*=a[r](e);return t};case i.Ops.Divide:return e=>a[0](e)/a[1](e);case i.Ops.Add:return e=>{let t=0;for(let r=0;r<s;++r)t+=a[r](e);return t};case i.Ops.Subtract:return e=>a[0](e)-a[1](e);case i.Ops.Clamp:return e=>{let t=a[0](e),r=a[1](e);if(t<r)return r;let i=a[2](e);return t>i?i:t};case i.Ops.Mod:return e=>a[0](e)%a[1](e);case i.Ops.Pow:return e=>Math.pow(a[0](e),a[1](e));case i.Ops.Abs:return e=>Math.abs(a[0](e));case i.Ops.Floor:return e=>Math.floor(a[0](e));case i.Ops.Ceil:return e=>Math.ceil(a[0](e));case i.Ops.Round:return e=>Math.round(a[0](e));case i.Ops.Sin:return e=>Math.sin(a[0](e));case i.Ops.Cos:return e=>Math.cos(a[0](e));case i.Ops.Atan:if(2===s)return e=>Math.atan2(a[0](e),a[1](e));return e=>Math.atan(a[0](e));case i.Ops.Sqrt:return e=>Math.sqrt(a[0](e));default:throw Error(`Unsupported numeric operator ${n}`)}}(t,r);case i.Ops.Match:return function(t,r){let i=t.args.length,n=Array(i);for(let s=0;s<i;++s)n[s]=e(t.args[s],r);return e=>{let t=n[0](e);for(let r=1;r<i;r+=2)if(t===n[r](e))return n[r+1](e);return n[i-1](e)}}(t,r);case i.Ops.Interpolate:return function(t,r){let i=t.args.length,s=Array(i);for(let n=0;n<i;++n)s[n]=e(t.args[n],r);return e=>{let t,r;let a=s[0](e),o=s[1](e);for(let u=2;u<i;u+=2){let i=s[u](e),h=s[u+1](e),c=Array.isArray(h);if(c&&(h=(0,n.withAlpha)(h)),i>=o){if(2===u)return h;if(c)return function(e,t,r,i,s,a){if(0==s-r)return i;let o=(0,n.rgbaToLcha)(i),u=(0,n.rgbaToLcha)(a),h=u[2]-o[2];h>180?h-=360:h<-180&&(h+=360);let c=[l(e,t,r,o[0],s,u[0]),l(e,t,r,o[1],s,u[1]),o[2]+l(e,t,r,0,s,h),l(e,t,r,i[3],s,a[3])];return(0,n.normalize)((0,n.lchaToRgba)(c))}(a,o,t,r,i,h);return l(a,o,t,r,i,h)}t=i,r=h}return r}}(t,r);default:throw Error(`Unsupported operator ${s}`)}}(s,r)}function l(e,t,r,i,n,s){let a=n-r;if(0===a)return i;let o=t-r;return i+(1===e?o/a:(Math.pow(e,o)-1)/(Math.pow(e,a)-1))*(s-i)}}),a("6M65l",function(e,r){t(e.exports,"default",()=>b);var i=s("8vXOK"),n=s("ddIVC"),a=s("dVSax"),o=s("6ej6F"),l=s("bCUH1"),u=s("3CYjy"),h=s("14PDX"),c=s("jZquI"),d=s("cgxQK"),p=s("713Fw"),f=s("kBSVF"),g=s("gzr8q"),m=s("lVQul"),y=s("d1ltq");class v extends n.default{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,c.createEmpty)(),this.wrappedRenderedExtent_=(0,c.createEmpty)(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(e,t,r){let i=t.extent,n=t.viewState,s=n.center,a=n.resolution,o=n.projection,u=n.rotation,h=o.getExtent(),d=this.getLayer().getSource(),p=t.pixelRatio,f=t.viewHints,g=!(f[l.default.ANIMATING]||f[l.default.INTERACTING]),m=this.compositionContext_,y=Math.round(t.size[0]*p),v=Math.round(t.size[1]*p),b=d.getWrapX()&&o.canWrapX(),x=b?(0,c.getWidth)(h):null,E=b?Math.ceil((i[2]-h[2])/x)+1:1,_=b?Math.floor((i[0]-h[0])/x):0;do{let t=this.getRenderTransform(s,a,u,p,y,v,_*x);e.execute(m,1,t,u,g,void 0,r)}while(++_<E)}setupCompositionContext_(){if(1!==this.opacity_){let e=(0,d.createCanvasContext2D)(this.context.canvas.width,this.context.canvas.height,n.canvasPool);this.compositionContext_=e}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){let e=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=e,(0,d.releaseCanvas)(this.compositionContext_),(0,n.canvasPool).push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(e){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree),this.releaseCompositionContext_())}renderFrame(e,t){let r=e.pixelRatio,i=e.layerStatesArray[e.layerIndex];(0,h.makeScale)(this.pixelTransform,1/r,1/r),(0,h.makeInverse)(this.inversePixelTransform,this.pixelTransform);let n=(0,h.toString)(this.pixelTransform);this.useContainer(t,n,this.getBackground(e));let s=this.context,a=s.canvas,l=this.replayGroup_,u=this.declutterExecutorGroup,d=l&&!l.isEmpty()||u&&!u.isEmpty();if(!d&&!(this.getLayer().hasListener(o.default.PRERENDER)||this.getLayer().hasListener(o.default.POSTRENDER)))return null;let p=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);a.width!=p||a.height!=f?(a.width=p,a.height=f,a.style.transform!==n&&(a.style.transform=n)):this.containerReused||s.clearRect(0,0,p,f),this.preRender(s,e);let m=e.viewState,y=m.projection;this.opacity_=i.opacity,this.setupCompositionContext_();let v=!1;if(d&&i.extent&&this.clipping){let t=(0,g.fromUserExtent)(i.extent,y);(v=(d=(0,c.intersects)(t,e.extent))&&!(0,c.containsExtent)(t,e.extent))&&this.clipUnrotated(this.compositionContext_,e,t)}return d&&this.renderWorlds(l,e),v&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(s,e),this.renderedRotation_!==m.rotation&&(this.renderedRotation_=m.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(e){return new Promise(t=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){let e=[this.context.canvas.width,this.context.canvas.height];(0,h.apply)(this.pixelTransform,e);let t=this.renderedCenter_,r=this.renderedResolution_,i=this.renderedRotation_,n=this.renderedProjection_,s=this.wrappedRenderedExtent_,a=this.getLayer(),o=[],l=e[0]*u.HIT_DETECT_RESOLUTION,d=e[1]*u.HIT_DETECT_RESOLUTION;o.push(this.getRenderTransform(t,r,i,u.HIT_DETECT_RESOLUTION,l,d,0).slice());let p=a.getSource(),f=n.getExtent();if(p.getWrapX()&&n.canWrapX()&&!(0,c.containsExtent)(f,s)){let e,n=s[0],a=(0,c.getWidth)(f),h=0;for(;n<f[0];)e=a*--h,o.push(this.getRenderTransform(t,r,i,u.HIT_DETECT_RESOLUTION,l,d,e).slice()),n+=a;for(h=0,n=s[2];n>f[2];)e=a*++h,o.push(this.getRenderTransform(t,r,i,u.HIT_DETECT_RESOLUTION,l,d,e).slice()),n-=a}this.hitDetectionImageData_=(0,u.createHitDetectionImageData)(e,o,this.renderedFeatures_,a.getStyleFunction(),s,r,i)}t((0,u.hitDetect)(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,r,i,n){let s;if(!this.replayGroup_)return;let a=t.viewState.resolution,o=t.viewState.rotation,l=this.getLayer(),u={},h=function(e,t,r){let s=(0,m.getUid)(e),a=u[s];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return u[s]=!0,n.splice(n.lastIndexOf(a),1),i(e,l,t);a.geometry=t,a.distanceSq=r}}else{if(0===r)return u[s]=!0,i(e,l,t);n.push(u[s]={feature:e,layer:l,geometry:t,distanceSq:r,callback:i})}},c=[this.replayGroup_];return this.declutterExecutorGroup&&c.push(this.declutterExecutorGroup),c.some(i=>s=i.forEachFeatureAtCoordinate(e,a,o,r,h,i===this.declutterExecutorGroup&&t.declutterTree?t.declutterTree.all().map(e=>e.value):null)),s}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){let t,r;let n=this.getLayer(),s=n.getSource();if(!s)return!1;let o=e.viewHints[l.default.ANIMATING],u=e.viewHints[l.default.INTERACTING],h=n.getUpdateWhileAnimating(),d=n.getUpdateWhileInteracting();if(this.ready&&!h&&o||!d&&u)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;let m=e.extent,v=e.viewState,b=v.projection,x=v.resolution,E=e.pixelRatio,_=n.getRevision(),S=n.getRenderBuffer(),O=n.getRenderOrder();void 0===O&&(O=p.defaultOrder);let R=v.center.slice(),A=(0,c.buffer)(m,S*x),w=A.slice(),C=[A.slice()],T=b.getExtent();if(s.getWrapX()&&b.canWrapX()&&!(0,c.containsExtent)(T,e.extent)){let e=(0,c.getWidth)(T),t=Math.max((0,c.getWidth)(A)/2,e);A[0]=T[0]-t,A[2]=T[2]+t,(0,y.wrapX)(R,b);let r=(0,c.wrapX)(C[0],b);r[0]<T[0]&&r[2]<T[2]?C.push([r[0]+e,r[1],r[2]+e,r[3]]):r[0]>T[0]&&r[2]>T[2]&&C.push([r[0]-e,r[1],r[2]-e,r[3]])}if(this.ready&&this.renderedResolution_==x&&this.renderedRevision_==_&&this.renderedRenderOrder_==O&&(0,c.containsExtent)(this.wrappedRenderedExtent_,A))return(0,f.equals)(this.renderedExtent_,w)||(this.hitDetectionImageData_=null,this.renderedExtent_=w),this.renderedCenter_=R,this.replayGroupChanged=!1,!0;this.replayGroup_=null;let L=new i.default((0,p.getTolerance)(x,E),A,x,E);this.getLayer().getDeclutter()&&(t=new i.default((0,p.getTolerance)(x,E),A,x,E));let P=(0,g.getUserProjection)();if(P){for(let e=0,t=C.length;e<t;++e){let t=C[e],r=(0,g.toUserExtent)(t,b);s.loadFeatures(r,(0,g.toUserResolution)(x,b),P)}r=(0,g.getTransformFromProjections)(P,b)}else for(let e=0,t=C.length;e<t;++e)s.loadFeatures(C[e],x,b);let I=(0,p.getSquaredTolerance)(x,E),M=!0,N=e=>{let i;let s=e.getStyleFunction()||n.getStyleFunction();if(s&&(i=s(e,x)),i){let n=this.renderFeature(e,I,i,L,r,t);M=M&&!n}},G=(0,g.toUserExtent)(A,b),k=s.getFeaturesInExtent(G);O&&k.sort(O);for(let e=0,t=k.length;e<t;++e)N(k[e]);this.renderedFeatures_=k,this.ready=M;let D=L.finish(),F=new a.default(A,x,E,s.getOverlaps(),D,n.getRenderBuffer());return t&&(this.declutterExecutorGroup=new a.default(A,x,E,s.getOverlaps(),t.finish(),n.getRenderBuffer())),this.renderedResolution_=x,this.renderedRevision_=_,this.renderedRenderOrder_=O,this.renderedExtent_=w,this.wrappedRenderedExtent_=A,this.renderedCenter_=R,this.renderedProjection_=b,this.replayGroup_=F,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,r,i,n,s){if(!r)return!1;let a=!1;if(Array.isArray(r))for(let o=0,l=r.length;o<l;++o)a=(0,p.renderFeature)(i,e,r[o],t,this.boundHandleStyleImageChange_,n,s)||a;else a=(0,p.renderFeature)(i,e,r,t,this.boundHandleStyleImageChange_,n,s);return a}}var b=v}),a("8vXOK",function(e,r){t(e.exports,"default",()=>h);var i=s("hycMe"),n=s("6sg4t"),a=s("1aWBL"),o=s("jODk1"),l=s("a0SEX");let u={Circle:o.default,Default:i.default,Image:n.default,LineString:a.default,Polygon:o.default,Text:l.default};var h=class{constructor(e,t,r,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}finish(){let e={};for(let t in this.buildersByZIndex_){e[t]=e[t]||{};let r=this.buildersByZIndex_[t];for(let i in r){let n=r[i].finish();e[t][i]=n}}return e}getBuilder(e,t){let r=void 0!==e?e.toString():"0",i=this.buildersByZIndex_[r];void 0===i&&(i={},this.buildersByZIndex_[r]=i);let n=i[t];return void 0===n&&(n=new u[t](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[t]=n),n}}}),a("hycMe",function(e,r){t(e.exports,"default",()=>p);var i=s("2CzCP"),n=s("iweSO"),a=s("eGc18"),o=s("hlW0i"),l=s("jZquI"),u=s("aHG4Z"),h=s("kBSVF"),c=s("iTdJV");class d extends a.default{constructor(e,t,r,i){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=r,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){let t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})}appendFlatPointCoordinates(e,t){let r=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,n=this.coordinates,s=n.length;for(let a=0,o=e.length;a<o;a+=t)i[0]=e[a],i[1]=e[a+1],(0,l.containsCoordinate)(r,i)&&(n[s++]=i[0],n[s++]=i[1]);return s}appendFlatLineCoordinates(e,t,r,i,s,a){let o,u,h;let c=this.coordinates,d=c.length,p=this.getBufferedMaxExtent();a&&(t+=i);let f=e[t],g=e[t+1],m=this.tmpCoordinate_,y=!0;for(o=t+i;o<r;o+=i)m[0]=e[o],m[1]=e[o+1],(h=(0,l.coordinateRelationship)(p,m))!==u?(y&&(c[d++]=f,c[d++]=g,y=!1),c[d++]=m[0],c[d++]=m[1]):h===n.default.INTERSECTING?(c[d++]=m[0],c[d++]=m[1],y=!1):y=!0,f=m[0],g=m[1],u=h;return(s&&y||o===t+i)&&(c[d++]=f,c[d++]=g),d}drawCustomCoordinates_(e,t,r,i,n){for(let s=0,a=r.length;s<a;++s){let a=r[s],o=this.appendFlatLineCoordinates(e,t,a,i,!1,!1);n.push(o),t=a}return t}drawCustom(e,t,r,n){let s,a,o,l,u;this.beginGeometry(e,t);let h=e.getType(),d=e.getStride(),p=this.coordinates.length;switch(h){case"MultiPolygon":s=e.getOrientedFlatCoordinates(),l=[];let f=e.getEndss();u=0;for(let e=0,t=f.length;e<t;++e){let t=[];u=this.drawCustomCoordinates_(s,u,f[e],d,t),l.push(t)}this.instructions.push([i.default.CUSTOM,p,l,e,r,c.inflateMultiCoordinatesArray]),this.hitDetectionInstructions.push([i.default.CUSTOM,p,l,e,n||r,c.inflateMultiCoordinatesArray]);break;case"Polygon":case"MultiLineString":o=[],s="Polygon"==h?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(s,0,e.getEnds(),d,o),this.instructions.push([i.default.CUSTOM,p,o,e,r,c.inflateCoordinatesArray]),this.hitDetectionInstructions.push([i.default.CUSTOM,p,o,e,n||r,c.inflateCoordinatesArray]);break;case"LineString":case"Circle":s=e.getFlatCoordinates(),a=this.appendFlatLineCoordinates(s,0,s.length,d,!1,!1),this.instructions.push([i.default.CUSTOM,p,a,e,r,c.inflateCoordinates]),this.hitDetectionInstructions.push([i.default.CUSTOM,p,a,e,n||r,c.inflateCoordinates]);break;case"MultiPoint":s=e.getFlatCoordinates(),(a=this.appendFlatPointCoordinates(s,d))>p&&(this.instructions.push([i.default.CUSTOM,p,a,e,r,c.inflateCoordinates]),this.hitDetectionInstructions.push([i.default.CUSTOM,p,a,e,n||r,c.inflateCoordinates]));break;case"Point":s=e.getFlatCoordinates(),this.coordinates.push(s[0],s[1]),a=this.coordinates.length,this.instructions.push([i.default.CUSTOM,p,a,e,r]),this.hitDetectionInstructions.push([i.default.CUSTOM,p,a,e,n||r])}this.endGeometry(t)}beginGeometry(e,t){this.beginGeometryInstruction1_=[i.default.BEGIN_GEOMETRY,t,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[i.default.BEGIN_GEOMETRY,t,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){let e,t,r;let n=this.hitDetectionInstructions;n.reverse();let s=n.length,a=-1;for(e=0;e<s;++e)(r=(t=n[e])[0])==i.default.END_GEOMETRY?a=e:r==i.default.BEGIN_GEOMETRY&&(t[2]=e,(0,h.reverseSubArray)(this.hitDetectionInstructions,a,e),a=-1)}setFillStrokeStyle(e,t){let r=this.state;if(e){let t=e.getColor();r.fillStyle=(0,o.asColorLike)(t||u.defaultFillStyle)}else r.fillStyle=void 0;if(t){let e=t.getColor();r.strokeStyle=(0,o.asColorLike)(e||u.defaultStrokeStyle);let i=t.getLineCap();r.lineCap=void 0!==i?i:u.defaultLineCap;let n=t.getLineDash();r.lineDash=n?n.slice():u.defaultLineDash;let s=t.getLineDashOffset();r.lineDashOffset=s||u.defaultLineDashOffset;let a=t.getLineJoin();r.lineJoin=void 0!==a?a:u.defaultLineJoin;let l=t.getWidth();r.lineWidth=void 0!==l?l:u.defaultLineWidth;let h=t.getMiterLimit();r.miterLimit=void 0!==h?h:u.defaultMiterLimit,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0}createFill(e){let t=e.fillStyle,r=[i.default.SET_FILL_STYLE,t];return"string"!=typeof t&&r.push(!0),r}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[i.default.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){let r=e.fillStyle;("string"!=typeof r||e.currentFillStyle!=r)&&(void 0!==r&&this.instructions.push(t.call(this,e)),e.currentFillStyle=r)}updateStrokeStyle(e,t){let r=e.strokeStyle,i=e.lineCap,n=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,o=e.lineWidth,l=e.miterLimit;e.currentStrokeStyle==r&&e.currentLineCap==i&&(n==e.currentLineDash||(0,h.equals)(e.currentLineDash,n))&&e.currentLineDashOffset==s&&e.currentLineJoin==a&&e.currentLineWidth==o&&e.currentMiterLimit==l||(void 0!==r&&t.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=i,e.currentLineDash=n,e.currentLineDashOffset=s,e.currentLineJoin=a,e.currentLineWidth=o,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;let t=[i.default.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,l.clone)(this.maxExtent),this.maxLineWidth>0)){let e=this.resolution*(this.maxLineWidth+1)/2;(0,l.buffer)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}var p=d}),a("2CzCP",function(e,r){t(e.exports,"fillInstruction",()=>n),t(e.exports,"strokeInstruction",()=>s),t(e.exports,"beginPathInstruction",()=>a),t(e.exports,"closePathInstruction",()=>o),t(e.exports,"default",()=>l);let i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},n=[i.FILL],s=[i.STROKE],a=[i.BEGIN_PATH],o=[i.CLOSE_PATH];var l=i}),a("eGc18",function(e,r){t(e.exports,"default",()=>i);var i=class{drawCustom(e,t,r,i){}drawGeometry(e){}setStyle(e){}drawCircle(e,t){}drawFeature(e,t){}drawGeometryCollection(e,t){}drawLineString(e,t){}drawMultiLineString(e,t){}drawMultiPoint(e,t){}drawMultiPolygon(e,t){}drawPoint(e,t){}drawPolygon(e,t){}drawText(e,t){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}}),a("6sg4t",function(e,r){t(e.exports,"default",()=>o);var i=s("hycMe"),n=s("2CzCP");class a extends i.default{constructor(e,t,r,i){super(e,t,r,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);let r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,i);this.instructions.push([n.default.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t){if(!this.image_)return;this.beginGeometry(e,t);let r=e.getFlatCoordinates(),i=e.getStride(),s=this.coordinates.length,a=this.appendFlatPointCoordinates(r,i);this.instructions.push([n.default.DRAW_IMAGE,s,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,s,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){let r=e.getAnchor(),i=e.getSize(),n=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=r[0],this.anchorY_=r[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=n[0],this.originY_=n[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}var o=a}),a("1aWBL",function(e,r){t(e.exports,"default",()=>l);var i=s("hycMe"),n=s("2CzCP"),a=s("aHG4Z");class o extends i.default{constructor(e,t,r,i){super(e,t,r,i)}drawFlatCoordinates_(e,t,r,i){let s=this.coordinates.length,a=this.appendFlatLineCoordinates(e,t,r,i,!1,!1),o=[n.default.MOVE_TO_LINE_TO,s,a];return this.instructions.push(o),this.hitDetectionInstructions.push(o),r}drawLineString(e,t){let r=this.state,i=r.strokeStyle,s=r.lineWidth;if(void 0===i||void 0===s)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,a.defaultLineDash,a.defaultLineDashOffset],n.beginPathInstruction);let o=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(o,0,o.length,l),this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(t)}drawMultiLineString(e,t){let r=this.state,i=r.strokeStyle,s=r.lineWidth;if(void 0===i||void 0===s)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,a.defaultLineDash,a.defaultLineDashOffset],n.beginPathInstruction);let o=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride(),h=0;for(let e=0,t=o.length;e<t;++e)h=this.drawFlatCoordinates_(l,h,o[e],u);this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(t)}finish(){let e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(n.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(n.strokeInstruction),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(n.beginPathInstruction)}}var l=o}),a("jODk1",function(e,r){t(e.exports,"default",()=>u);var i=s("hycMe"),n=s("2CzCP"),a=s("aHG4Z"),o=s("exEDy");class l extends i.default{constructor(e,t,r,i){super(e,t,r,i)}drawFlatCoordinatess_(e,t,r,i){let s=this.state,a=void 0!==s.fillStyle,o=void 0!==s.strokeStyle,l=r.length;this.instructions.push(n.beginPathInstruction),this.hitDetectionInstructions.push(n.beginPathInstruction);for(let s=0;s<l;++s){let a=r[s],l=this.coordinates.length,u=this.appendFlatLineCoordinates(e,t,a,i,!0,!o),h=[n.default.MOVE_TO_LINE_TO,l,u];this.instructions.push(h),this.hitDetectionInstructions.push(h),o&&(this.instructions.push(n.closePathInstruction),this.hitDetectionInstructions.push(n.closePathInstruction)),t=a}return a&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction)),o&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction)),t}drawCircle(e,t){let r=this.state,i=r.fillStyle,s=r.strokeStyle;if(void 0===i&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,a.defaultFillStyle]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,a.defaultLineDash,a.defaultLineDashOffset]);let o=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,l,!1,!1);let h=[n.default.CIRCLE,u];this.instructions.push(n.beginPathInstruction,h),this.hitDetectionInstructions.push(n.beginPathInstruction,h),void 0!==r.fillStyle&&(this.instructions.push(n.fillInstruction),this.hitDetectionInstructions.push(n.fillInstruction)),void 0!==r.strokeStyle&&(this.instructions.push(n.strokeInstruction),this.hitDetectionInstructions.push(n.strokeInstruction)),this.endGeometry(t)}drawPolygon(e,t){let r=this.state,i=r.fillStyle,s=r.strokeStyle;if(void 0===i&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,a.defaultFillStyle]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,a.defaultLineDash,a.defaultLineDashOffset]);let o=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,o,u),this.endGeometry(t)}drawMultiPolygon(e,t){let r=this.state,i=r.fillStyle,s=r.strokeStyle;if(void 0===i&&void 0===s)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([n.default.SET_FILL_STYLE,a.defaultFillStyle]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([n.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,a.defaultLineDash,a.defaultLineDashOffset]);let o=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride(),h=0;for(let e=0,t=o.length;e<t;++e)h=this.drawFlatCoordinatess_(l,h,o[e],u);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;let e=this.tolerance;if(0!==e){let t=this.coordinates;for(let r=0,i=t.length;r<i;++r)t[r]=(0,o.snap)(t[r],e)}return super.finish()}setFillStrokeStyles_(){let e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}}var u=l}),a("a0SEX",function(e,r){t(e.exports,"TEXT_ALIGN",()=>d),t(e.exports,"default",()=>f);var i=s("hycMe"),n=s("2CzCP"),a=s("hlW0i"),o=s("aHG4Z"),l=s("lVQul"),u=s("jZquI"),h=s("aGiJY"),c=s("b6jom");let d={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class p extends i.default{constructor(e,t,r,i){super(e,t,r,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[o.defaultFillStyle]={fillStyle:o.defaultFillStyle},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){let e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t){let r=this.textFillState_,i=this.textStrokeState_,s=this.textState_;if(""===this.text_||!s||!r&&!i)return;let a=this.coordinates,l=a.length,d=e.getType(),p=null,f=e.getStride();if("line"===s.placement&&("LineString"==d||"MultiLineString"==d||"Polygon"==d||"MultiPolygon"==d)){let r;if(!(0,u.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;if(p=e.getFlatCoordinates(),"LineString"==d)r=[p.length];else if("MultiLineString"==d)r=e.getEnds();else if("Polygon"==d)r=e.getEnds().slice(0,1);else if("MultiPolygon"==d){let t=e.getEndss();r=[];for(let e=0,i=t.length;e<i;++e)r.push(t[e][0])}this.beginGeometry(e,t);let i=s.repeat,n=i?void 0:s.textAlign,o=0;for(let e=0,t=r.length;e<t;++e){let t;t=i?(0,h.lineChunk)(i*this.resolution,p,o,r[e],f):[p.slice(o,r[e])];for(let i=0,u=t.length;i<u;++i){let u=t[i],h=0,d=u.length;if(void 0==n){let e=(0,c.matchingChunk)(s.maxAngle,u,0,u.length,2);h=e[0],d=e[1]}for(let e=h;e<d;e+=f)a.push(u[e],u[e+1]);let p=a.length;o=r[e],this.drawChars_(l,p),l=p}}this.endGeometry(t)}else{let r=s.overflow?null:[];switch(d){case"Point":case"MultiPoint":p=e.getFlatCoordinates();break;case"LineString":p=e.getFlatMidpoint();break;case"Circle":p=e.getCenter();break;case"MultiLineString":p=e.getFlatMidpoints(),f=2;break;case"Polygon":p=e.getFlatInteriorPoint(),s.overflow||r.push(p[2]/this.resolution),f=3;break;case"MultiPolygon":let i=e.getFlatInteriorPoints();p=[];for(let e=0,t=i.length;e<t;e+=3)s.overflow||r.push(i[e+2]/this.resolution),p.push(i[e],i[e+1]);if(0===p.length)return;f=2}let u=this.appendFlatPointCoordinates(p,f);if(u===l)return;if(r&&(u-l)/2!=p.length/f){let e=l/2;r=r.filter((t,r)=>{let i=a[(e+r)*2]===p[r*f]&&a[(e+r)*2+1]===p[r*f+1];return!i&&--e,i})}this.saveTextStates_(),(s.backgroundFill||s.backgroundStroke)&&(this.setFillStrokeStyle(s.backgroundFill,s.backgroundStroke),s.backgroundFill&&this.updateFillStyle(this.state,this.createFill),s.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);let h=s.padding;if(h!=o.defaultPadding&&(s.scale[0]<0||s.scale[1]<0)){let e=s.padding[0],t=s.padding[1],r=s.padding[2],i=s.padding[3];s.scale[0]<0&&(t=-t,i=-i),s.scale[1]<0&&(e=-e,r=-r),h=[e,t,r,i]}let c=this.pixelRatio;this.instructions.push([n.default.DRAW_IMAGE,l,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,h==o.defaultPadding?o.defaultPadding:h.map(function(e){return e*c}),!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]);let g=1/c,m=this.state.fillStyle;s.backgroundFill&&(this.state.fillStyle=o.defaultFillStyle,this.hitDetectionInstructions.push(this.createFill(this.state))),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,l,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[g,g],NaN,void 0,this.declutterImageWithText_,h,!!s.backgroundFill,!!s.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?o.defaultFillStyle:this.fillKey_,this.textOffsetX_,this.textOffsetY_,r]),s.backgroundFill&&(this.state.fillStyle=m,this.hitDetectionInstructions.push(this.createFill(this.state))),this.endGeometry(t)}}saveTextStates_(){let e=this.textStrokeState_,t=this.textState_,r=this.textFillState_,i=this.strokeKey_;!e||i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash});let n=this.textKey_;n in this.textStates||(this.textStates[n]={font:t.font,textAlign:t.textAlign||o.defaultTextAlign,justify:t.justify,textBaseline:t.textBaseline||o.defaultTextBaseline,scale:t.scale});let s=this.fillKey_;!r||s in this.fillStates||(this.fillStates[s]={fillStyle:r.fillStyle})}drawChars_(e,t){let r=this.textStrokeState_,i=this.textState_,s=this.strokeKey_,a=this.textKey_,l=this.fillKey_;this.saveTextStates_();let u=this.pixelRatio,h=d[i.textBaseline],c=this.textOffsetY_*u,p=this.text_,f=r?r.lineWidth*Math.abs(i.scale[0])/2:0;this.instructions.push([n.default.DRAW_CHARS,e,t,h,i.overflow,l,i.maxAngle,u,c,s,f*u,p,a,1]),this.hitDetectionInstructions.push([n.default.DRAW_CHARS,e,t,h,i.overflow,l?o.defaultFillStyle:l,i.maxAngle,u,c,s,f*u,p,a,1/u])}setTextStyle(e,t){let r,i,n;if(e){let t=e.getFill();t?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=(0,a.asColorLike)(t.getColor()||o.defaultFillStyle)):(i=null,this.textFillState_=i);let s=e.getStroke();if(s){(n=this.textStrokeState_)||(n={},this.textStrokeState_=n);let e=s.getLineDash(),t=s.getLineDashOffset(),r=s.getWidth(),i=s.getMiterLimit();n.lineCap=s.getLineCap()||o.defaultLineCap,n.lineDash=e?e.slice():o.defaultLineDash,n.lineDashOffset=void 0===t?o.defaultLineDashOffset:t,n.lineJoin=s.getLineJoin()||o.defaultLineJoin,n.lineWidth=void 0===r?o.defaultLineWidth:r,n.miterLimit=void 0===i?o.defaultMiterLimit:i,n.strokeStyle=(0,a.asColorLike)(s.getColor()||o.defaultStrokeStyle)}else n=null,this.textStrokeState_=n;r=this.textState_;let u=e.getFont()||o.defaultFont;(0,o.registerFont)(u);let h=e.getScaleArray();r.overflow=e.getOverflow(),r.font=u,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.repeat=e.getRepeat(),r.justify=e.getJustify(),r.textBaseline=e.getTextBaseline()||o.defaultTextBaseline,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||o.defaultPadding,r.scale=void 0===h?[1,1]:h;let c=e.getOffsetX(),d=e.getOffsetY(),p=e.getRotateWithView(),f=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===c?0:c,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===f?0:f,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,l.getUid)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?")+(r.repeat||"?")+(r.justify||"?")+(r.textBaseline||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+(0,l.getUid)(i.fillStyle):""}else this.text_="";this.declutterImageWithText_=t}}var f=p}),a("aGiJY",function(e,r){t(e.exports,"lineChunk",()=>n);var i=s("a6roo");function n(e,t,r,n,s){let a=[],o=r,l=0,u=t.slice(r,2);for(;l<e&&o+s<n;){let[r,n]=u.slice(-2),h=t[o+s],c=t[o+s+1],d=Math.sqrt((h-r)*(h-r)+(c-n)*(c-n));if((l+=d)>=e){let t=(e-l+d)/d,p=(0,i.lerp)(r,h,t),f=(0,i.lerp)(n,c,t);u.push(p,f),a.push(u),u=[p,f],l==e&&(o+=s),l=0}else if(l<e)u.push(t[o+s],t[o+s+1]),o+=s;else{let e=d-l,t=(0,i.lerp)(r,h,e/d),p=(0,i.lerp)(n,c,e/d);u.push(t,p),a.push(u),u=[t,p],l=0,o+=s}}return l>0&&a.push(u),a}}),a("b6jom",function(e,r){t(e.exports,"matchingChunk",()=>i);function i(e,t,r,i,n){let s,a,o,l,u,h,c,d,p,f=r,g=r,m=0,y=0,v=r;for(s=r;s<i;s+=n){let r=t[s],i=t[s+1];void 0!==l&&(o=Math.sqrt((d=r-l)*d+(p=i-u)*p),void 0!==h&&(y+=a,Math.acos((h*d+c*p)/(a*o))>e&&(y>m&&(m=y,f=v,g=s),y=0,v=s-n)),a=o,h=d,c=p),l=r,u=i}return(y+=o)>m?[v,s]:[f,g]}}),a("ddIVC",function(e,r){t(e.exports,"canvasPool",()=>d),t(e.exports,"default",()=>g);var i=s("lgqLq"),n=s("fj1q7"),a=s("6ej6F"),o=s("14PDX"),l=s("lqNjm"),u=s("cgxQK"),h=s("kBSVF"),c=s("jZquI");let d=[],p=null;class f extends i.default{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=(0,o.create)(),this.pixelTransform=(0,o.create)(),this.inversePixelTransform=(0,o.create)(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,t,r){let i;p||(p=(0,u.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0})),p.clearRect(0,0,1,1);try{p.drawImage(e,t,r,1,1,0,0,1,1),i=p.getImageData(0,0,1,1).data}catch(e){return p=null,null}return i}getBackground(e){let t=this.getLayer().getBackground();return"function"==typeof t&&(t=t(e.viewState.resolution)),t||void 0}useContainer(e,t,r){let i,n;let s=this.getLayer().getClassName();if(e&&e.className===s&&(!r||e&&e.style.backgroundColor&&(0,h.equals)((0,l.asArray)(e.style.backgroundColor),(0,l.asArray)(r)))){let t=e.firstElementChild;t instanceof HTMLCanvasElement&&(n=t.getContext("2d"))}if(n&&n.canvas.style.transform===t?(this.container=e,this.context=n,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){(i=document.createElement("div")).className=s;let e=i.style;e.position="absolute",e.width="100%",e.height="100%";let t=(n=(0,u.createCanvasContext2D)()).canvas;i.appendChild(t),(e=t.style).position="absolute",e.left="0",e.transformOrigin="top left",this.container=i,this.context=n}this.containerReused||!r||this.container.style.backgroundColor||(this.container.style.backgroundColor=r)}clipUnrotated(e,t,r){let i=(0,c.getTopLeft)(r),n=(0,c.getTopRight)(r),s=(0,c.getBottomRight)(r),a=(0,c.getBottomLeft)(r);(0,o.apply)(t.coordinateToPixelTransform,i),(0,o.apply)(t.coordinateToPixelTransform,n),(0,o.apply)(t.coordinateToPixelTransform,s),(0,o.apply)(t.coordinateToPixelTransform,a);let l=this.inversePixelTransform;(0,o.apply)(l,i),(0,o.apply)(l,n),(0,o.apply)(l,s),(0,o.apply)(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}dispatchRenderEvent_(e,t,r){let i=this.getLayer();if(i.hasListener(e)){let s=new n.default(e,this.inversePixelTransform,r,t);i.dispatchEvent(s)}}preRender(e,t){this.frameState=t,this.dispatchRenderEvent_(a.default.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(a.default.POSTRENDER,e,t)}getRenderTransform(e,t,r,i,n,s,a){let l=i/t,u=-e[0]+a,h=-e[1];return(0,o.compose)(this.tempTransform,n/2,s/2,l,-l,-r,u,h)}disposeInternal(){delete this.frameState,super.disposeInternal()}}var g=f}),a("lgqLq",function(e,r){t(e.exports,"default",()=>u);var i=s("cw4dl"),n=s("50PZ9"),a=s("ejLRd"),o=s("lVQul");class l extends a.default{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return(0,o.abstract)()}getData(e){return null}prepareFrame(e){return(0,o.abstract)()}renderFrame(e,t){return(0,o.abstract)()}loadedTileCallback(e,t,r){e[t]||(e[t]={}),e[t][r.tileCoord.toString()]=r}createLoadedTileFinder(e,t,r){return(i,n)=>{let s=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(t,i,n,s)}}forEachFeatureAtCoordinate(e,t,r,i,n){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){let t=e.target;(t.getState()===n.default.LOADED||t.getState()===n.default.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=n.default.LOADED&&t!=n.default.ERROR&&e.addEventListener(i.default.CHANGE,this.boundHandleImageChange_),t==n.default.IDLE&&(e.load(),t=e.getState()),t==n.default.LOADED}renderIfReadyAndVisible(){let e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}var u=l}),a("dVSax",function(e,r){t(e.exports,"default",()=>p);var i=s("c46kz"),n=s("kBSVF"),a=s("jZquI"),o=s("14PDX"),l=s("cgxQK"),u=s("kKEgb"),h=s("bsQCi");let c=["Polygon","Circle","LineString","Image","Text","Default"],d={};var p=class{constructor(e,t,r,i,n,s){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=t,this.renderBuffer_=s,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,o.create)(),this.createExecutors_(n)}clip(e,t){let r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()}createExecutors_(e){for(let t in e){let r=this.executorsByZIndex_[t];void 0===r&&(r={},this.executorsByZIndex_[t]=r);let n=e[t];for(let e in n){let t=n[e];r[e]=new i.default(this.resolution_,this.pixelRatio_,this.overlaps_,t)}}}hasExecutors(e){for(let t in this.executorsByZIndex_){let r=this.executorsByZIndex_[t];for(let t=0,i=e.length;t<i;++t)if(e[t]in r)return!0}return!1}forEachFeatureAtCoordinate(e,t,r,i,s,u){let h,p,f,g,m,y,v;let b=2*(i=Math.round(i))+1,x=(0,o.compose)(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-r,-e[0],-e[1]),E=!this.hitDetectionContext_;E&&(this.hitDetectionContext_=(0,l.createCanvasContext2D)(b,b,void 0,{willReadFrequently:!0}));let _=this.hitDetectionContext_;_.canvas.width!==b||_.canvas.height!==b?(_.canvas.width=b,_.canvas.height=b):E||_.clearRect(0,0,b,b),void 0!==this.renderBuffer_&&(h=(0,a.createEmpty)(),(0,a.extendCoordinate)(h,e),(0,a.buffer)(h,t*(this.renderBuffer_+i),h));let S=function(e){if(void 0!==d[e])return d[e];let t=2*e+1,r=e*e,i=Array(r+1);for(let n=0;n<=e;++n)for(let s=0;s<=e;++s){let a=n*n+s*s;if(a>r)break;let o=i[a];o||(o=[],i[a]=o),o.push(((e+n)*t+(e+s))*4+3),n>0&&o.push(((e-n)*t+(e+s))*4+3),s>0&&(o.push(((e+n)*t+(e-s))*4+3),n>0&&o.push(((e-n)*t+(e-s))*4+3))}let n=[];for(let e=0,t=i.length;e<t;++e)i[e]&&n.push(...i[e]);return d[e]=n,n}(i);function O(e,t){let r=_.getImageData(0,0,b,b).data;for(let n=0,a=S.length;n<a;n++)if(r[S[n]]>0){if(!u||"Image"!==p&&"Text"!==p||u.includes(e)){let r=(S[n]-3)/4,a=i-r%b,o=i-(r/b|0),l=s(e,t,a*a+o*o);if(l)return l}_.clearRect(0,0,b,b);break}}let R=Object.keys(this.executorsByZIndex_).map(Number);for(R.sort(n.ascending),f=R.length-1;f>=0;--f){let e=R[f].toString();for(m=this.executorsByZIndex_[e],g=c.length-1;g>=0;--g)if(void 0!==(y=m[p=c[g]])&&(v=y.executeHitDetection(_,x,r,O,h)))return v}}getClipCoords(e){let t=this.maxExtent_;if(!t)return null;let r=t[0],i=t[1],n=t[2],s=t[3],a=[r,i,r,s,n,s,n,i];return(0,h.transform2D)(a,0,8,2,e,a),a}isEmpty(){return(0,u.isEmpty)(this.executorsByZIndex_)}execute(e,t,r,i,s,a,o){let l,u,h,d,p,f;let g=Object.keys(this.executorsByZIndex_).map(Number);for(g.sort(n.ascending),this.maxExtent_&&(e.save(),this.clip(e,r)),a=a||c,o&&g.reverse(),l=0,u=g.length;l<u;++l){let n=g[l].toString();for(h=0,p=this.executorsByZIndex_[n],d=a.length;h<d;++h)void 0!==(f=p[a[h]])&&f.execute(e,t,r,i,s,o)}this.maxExtent_&&e.restore()}}}),a("c46kz",function(e,r){t(e.exports,"default",()=>_);var i=s("2CzCP"),n=s("a0SEX"),a=s("14PDX"),o=s("jZquI"),l=s("aHG4Z"),u=s("2soc3"),h=s("kBSVF"),c=s("aSafW"),d=s("bsQCi");let p=(0,o.createEmpty)(),f=[],g=[],m=[],y=[];function v(e){return e[3].declutterBox}let b=RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function x(e,t){return"start"===t?t=b.test(e)?"right":"left":"end"===t&&(t=b.test(e)?"left":"right"),n.TEXT_ALIGN[t]}function E(e,t,r){return r>0&&e.push("\n",""),e.push(t,""),e}var _=class{constructor(e,t,r,i){this.overlaps=r,this.pixelRatio=t,this.resolution=e,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,a.create)(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}createLabel(e,t,r,i){let s;let a=e+t+r+i;if(this.labels_[a])return this.labels_[a];let o=i?this.strokeStates[i]:null,u=r?this.fillStates[r]:null,h=this.textStates[t],c=this.pixelRatio,d=[h.scale[0]*c,h.scale[1]*c],p=Array.isArray(e),f=h.justify?n.TEXT_ALIGN[h.justify]:x(Array.isArray(e)?e[0]:e,h.textAlign||l.defaultTextAlign),g=i&&o.lineWidth?o.lineWidth:0,m=p?e:e.split("\n").reduce(E,[]),{width:y,height:v,widths:b,heights:_,lineWidths:S}=(0,l.getTextDimensions)(h,m),O=y+g,R=[],A=(O+2)*d[0],w=(v+g)*d[1],C={width:A<0?Math.floor(A):Math.ceil(A),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:R};(1!=d[0]||1!=d[1])&&R.push("scale",d),i&&(R.push("strokeStyle",o.strokeStyle),R.push("lineWidth",g),R.push("lineCap",o.lineCap),R.push("lineJoin",o.lineJoin),R.push("miterLimit",o.miterLimit),R.push("setLineDash",[o.lineDash]),R.push("lineDashOffset",o.lineDashOffset)),r&&R.push("fillStyle",u.fillStyle),R.push("textBaseline","middle"),R.push("textAlign","center");let T=.5-f,L=f*O+T*g,P=[],I=[],M=0,N=0,G=0,k=0;for(let e=0,t=m.length;e<t;e+=2){let t=m[e];if("\n"===t){N+=M,M=0,L=f*O+T*g,++k;continue}let n=m[e+1]||h.font;n!==s&&(i&&P.push("font",n),r&&I.push("font",n),s=n),M=Math.max(M,_[G]);let a=[t,L+T*b[G]+f*(b[G]-S[k]),.5*(g+M)+N];L+=b[G],i&&P.push("strokeText",a),r&&I.push("fillText",a),++G}return Array.prototype.push.apply(R,P),Array.prototype.push.apply(R,I),this.labels_[a]=C,C}replayTextBackground_(e,t,r,i,n,s,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,i),e.lineTo.apply(e,n),e.lineTo.apply(e,t),s&&(this.alignFill_=s[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,r,i,n,s,l,u,h,c,d,v,b,x,E,_){let S;l*=v[0],u*=v[1];let O=r-l,R=i-u,A=n+h>e?e-h:n,w=s+c>t?t-c:s,C=x[3]+A*v[0]+x[1],T=x[0]+w*v[1]+x[2],L=O-x[3],P=R-x[0];return(E||0!==d)&&(f[0]=L,y[0]=L,f[1]=P,g[1]=P,g[0]=L+C,m[0]=g[0],m[1]=P+T,y[1]=m[1]),0!==d?(S=(0,a.compose)((0,a.create)(),r,i,1,1,d,-r,-i),(0,a.apply)(S,f),(0,a.apply)(S,g),(0,a.apply)(S,m),(0,a.apply)(S,y),(0,o.createOrUpdate)(Math.min(f[0],g[0],m[0],y[0]),Math.min(f[1],g[1],m[1],y[1]),Math.max(f[0],g[0],m[0],y[0]),Math.max(f[1],g[1],m[1],y[1]),p)):(0,o.createOrUpdate)(Math.min(L,L+C),Math.min(P,P+T),Math.max(L,L+C),Math.max(P,P+T),p),b&&(O=Math.round(O),R=Math.round(R)),{drawImageX:O,drawImageY:R,drawImageW:A,drawImageH:w,originX:h,originY:c,declutterBox:{minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],value:_},canvasTransform:S,scale:v}}replayImageOrLabel_(e,t,r,i,n,s,a){let o=!!(s||a),u=i.declutterBox,h=e.canvas,c=a?a[2]*i.scale[0]/2:0;return u.minX-c<=h.width/t&&u.maxX+c>=0&&u.minY-c<=h.height/t&&u.maxY+c>=0&&(o&&this.replayTextBackground_(e,f,g,m,y,s,a),(0,l.drawImageOrLabel)(e,i.canvasTransform,n,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0}fill_(e){if(this.alignFill_){let t=(0,a.apply)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,r,i){let s=this.textStates[t],a=this.createLabel(e,t,i,r),o=this.strokeStates[r],u=this.pixelRatio,h=x(Array.isArray(e)?e[0]:e,s.textAlign||l.defaultTextAlign),c=n.TEXT_ALIGN[s.textBaseline||l.defaultTextBaseline],d=o&&o.lineWidth?o.lineWidth:0,p=a.width/u-2*s.scale[0],f=c*a.height/u+2*(.5-c)*d;return{label:a,anchorX:h*p+2*(.5-h)*d,anchorY:f}}execute_(e,t,r,n,s,p,f,g){let m,y,b,E,_,S,O,R,A,w,C,T,L,P,I,M,N;this.pixelCoordinates_&&(0,h.equals)(r,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=(0,d.transform2D)(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),(0,a.setFromArray)(this.renderedTransform_,r));let G=0,k=n.length,D=0,F=0,q=0,j=null,U=null,H=this.coordinateCache_,B=this.viewRotation_,Z=Math.round(1e12*Math.atan2(-r[1],r[0]))/1e12,z={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:B},V=this.instructions!=n||this.overlaps?0:200;for(;G<k;){let r=n[G];switch(r[0]){case i.default.BEGIN_GEOMETRY:P=r[1],N=r[3],P.getGeometry()?void 0===f||(0,o.intersects)(f,N.getExtent())?++G:G=r[2]+1:G=r[2];break;case i.default.BEGIN_PATH:F>V&&(this.fill_(e),F=0),q>V&&(e.stroke(),q=0),F||q||(e.beginPath(),_=NaN,S=NaN),++G;break;case i.default.CIRCLE:let a=m[D=r[1]],h=m[D+1],d=m[D+2],k=m[D+3],Y=d-a,W=k-h,X=Math.sqrt(Y*Y+W*W);e.moveTo(a+X,h),e.arc(a,h,X,0,2*Math.PI,!0),++G;break;case i.default.CLOSE_PATH:e.closePath(),++G;break;case i.default.CUSTOM:D=r[1],y=r[2];let K=r[3],J=r[4],$=6==r.length?r[5]:void 0;z.geometry=K,z.feature=P,G in H||(H[G]=[]);let Q=H[G];$?$(m,D,y,2,Q):(Q[0]=m[D],Q[1]=m[D+1],Q.length=2),J(Q,z),++G;break;case i.default.DRAW_IMAGE:let ee,et,er,ei;D=r[1],y=r[2],A=r[3],b=r[4],E=r[5];let en=r[6],es=r[7],ea=r[8],eo=r[9],el=r[10],eu=r[11],eh=r[12],ec=r[13],ed=r[14],ep=r[15];if(!A&&r.length>=20){w=r[19],C=r[20],T=r[21],L=r[22];let e=this.drawLabelWithPointPlacement_(w,C,T,L);A=e.label,r[3]=A;let t=r[23];b=(e.anchorX-t)*this.pixelRatio,r[4]=b;let i=r[24];E=(e.anchorY-i)*this.pixelRatio,r[5]=E,en=A.height,r[6]=en,ec=A.width,r[13]=ec}r.length>25&&(ee=r[25]),r.length>17?(et=r[16],er=r[17],ei=r[18]):(et=l.defaultPadding,er=!1,ei=!1),el&&Z?eu+=B:el||Z||(eu-=B);let ef=0;for(;D<y;D+=2){if(ee&&ee[ef++]<ec/this.pixelRatio)continue;let r=this.calculateImageOrLabelDimensions_(A.width,A.height,m[D],m[D+1],ec,en,b,E,ea,eo,eu,eh,s,et,er||ei,P),i=[e,t,A,r,es,er?j:null,ei?U:null];if(g){if("none"===ed)continue;if("obstacle"===ed){g.insert(r.declutterBox);continue}{let e,t;if(ep){let r=y-D;if(!ep[r]){ep[r]=i;continue}if(e=ep[r],delete ep[r],t=v(e),g.collides(t))continue}if(g.collides(r.declutterBox))continue;e&&(g.insert(t),this.replayImageOrLabel_.apply(this,e)),g.insert(r.declutterBox)}}this.replayImageOrLabel_.apply(this,i)}++G;break;case i.default.DRAW_CHARS:let eg;let em=r[1],ey=r[2],ev=r[3],eb=r[4];L=r[5];let ex=r[6],eE=r[7],e_=r[8];T=r[9];let eS=r[10];w=r[11],C=r[12];let eO=[r[13],r[13]],eR=this.textStates[C],eA=eR.font,ew=[eR.scale[0]*eE,eR.scale[1]*eE];eA in this.widths_?eg=this.widths_[eA]:(eg={},this.widths_[eA]=eg);let eC=(0,c.lineStringLength)(m,em,ey,2),eT=Math.abs(ew[0])*(0,l.measureAndCacheTextWidth)(eA,w,eg);if(eb||eT<=eC){let r=(eC-eT)*x(w,this.textStates[C].textAlign),i=(0,u.drawTextOnPath)(m,em,ey,2,w,r,ex,Math.abs(ew[0]),l.measureAndCacheTextWidth,eA,eg,Z?0:this.viewRotation_);e:if(i){let r,n,s,a,o;let u=[];if(T)for(r=0,n=i.length;r<n;++r){s=(o=i[r])[4],a=this.createLabel(s,C,"",T),b=o[2]+(ew[0]<0?-eS:eS),E=ev*a.height+(.5-ev)*2*eS*ew[1]/ew[0]-e_;let n=this.calculateImageOrLabelDimensions_(a.width,a.height,o[0],o[1],a.width,a.height,b,E,0,0,o[3],eO,!1,l.defaultPadding,!1,P);if(g&&g.collides(n.declutterBox))break e;u.push([e,t,a,n,1,null,null])}if(L)for(r=0,n=i.length;r<n;++r){s=(o=i[r])[4],a=this.createLabel(s,C,L,""),b=o[2],E=ev*a.height-e_;let n=this.calculateImageOrLabelDimensions_(a.width,a.height,o[0],o[1],a.width,a.height,b,E,0,0,o[3],eO,!1,l.defaultPadding,!1,P);if(g&&g.collides(n.declutterBox))break e;u.push([e,t,a,n,1,null,null])}g&&g.load(u.map(v));for(let e=0,t=u.length;e<t;++e)this.replayImageOrLabel_.apply(this,u[e])}}++G;break;case i.default.END_GEOMETRY:if(void 0!==p){let e=p(P=r[1],N);if(e)return e}++G;break;case i.default.FILL:V?F++:this.fill_(e),++G;break;case i.default.MOVE_TO_LINE_TO:for(D=r[1],y=r[2],I=m[D],M=m[D+1],O=I+.5|0,R=M+.5|0,(O!==_||R!==S)&&(e.moveTo(I,M),_=O,S=R),D+=2;D<y;D+=2)I=m[D],M=m[D+1],O=I+.5|0,R=M+.5|0,(D==y-2||O!==_||R!==S)&&(e.lineTo(I,M),_=O,S=R);++G;break;case i.default.SET_FILL_STYLE:j=r,this.alignFill_=r[2],F&&(this.fill_(e),F=0,q&&(e.stroke(),q=0)),e.fillStyle=r[1],++G;break;case i.default.SET_STROKE_STYLE:U=r,q&&(e.stroke(),q=0),this.setStrokeStyle_(e,r),++G;break;case i.default.STROKE:V?q++:e.stroke(),++G;break;default:++G}}F&&this.fill_(e),q&&e.stroke()}execute(e,t,r,i,n,s){this.viewRotation_=i,this.execute_(e,t,r,this.instructions,n,void 0,void 0,s)}executeHitDetection(e,t,r,i,n){return this.viewRotation_=r,this.execute_(e,1,t,this.hitDetectionInstructions,!0,i,n)}}}),a("2soc3",function(e,r){t(e.exports,"drawTextOnPath",()=>a);var i=s("a6roo"),n=s("bsQCi");function a(e,t,r,s,a,o,l,u,h,c,d,p){let f,g,m=e[t],y=e[t+1],v=0,b=0,x=0,E=0;function _(){v=m,b=y,t+=s,m=e[t],y=e[t+1],E+=x,x=Math.sqrt((m-v)*(m-v)+(y-b)*(y-b))}do _();while(t<r-s&&E+x<o)let S=0===x?0:(o-E)/x,O=(0,i.lerp)(v,m,S),R=(0,i.lerp)(b,y,S),A=t-s,w=E,C=o+u*h(c,a,d);for(;t<r-s&&E+x<C;)_();S=0===x?0:(C-E)/x;let T=(0,i.lerp)(v,m,S),L=(0,i.lerp)(b,y,S);if(p){let e=[O,R,T,L];(0,n.rotate)(e,0,4,2,p,e,e),f=e[0]>e[2]}else f=O>T;let P=Math.PI,I=[],M=A+s===t;if(t=A,x=0,E=w,m=e[t],y=e[t+1],M){_(),g=Math.atan2(y-b,m-v),f&&(g+=g>0?-P:P);let e=(T+O)/2,t=(L+R)/2;return I[0]=[e,t,(C-o)/2,g,a],I}a=a.replace(/\n/g," ");for(let e=0,n=a.length;e<n;){_();let p=Math.atan2(y-b,m-v);if(f&&(p+=p>0?-P:P),void 0!==g){let e=p-g;if(Math.abs(e+=e>P?-2*P:e<-P?2*P:0)>l)return null}g=p;let O=e,R=0;for(;e<n;++e){let i=u*h(c,a[f?n-e-1:e],d);if(t+s<r&&E+x<o+R+i/2)break;R+=i}if(e===O)continue;let A=f?a.substring(n-O,n-e):a.substring(O,e);S=0===x?0:(o+R/2-E)/x;let w=(0,i.lerp)(v,m,S),C=(0,i.lerp)(b,y,S);I.push([w,C,R/2,p,A]),o+=R}return I}}),a("3CYjy",function(e,r){t(e.exports,"HIT_DETECT_RESOLUTION",()=>h),t(e.exports,"createHitDetectionImageData",()=>c),t(e.exports,"hitDetect",()=>d);var i=s("htGzg"),n=s("ayeEa"),a=s("kBSVF"),o=s("a6roo"),l=s("cgxQK"),u=s("jZquI");let h=.5;function c(e,t,r,s,o,c,d){let p=e[0]*h,f=e[1]*h,g=(0,l.createCanvasContext2D)(p,f);g.imageSmoothingEnabled=!1;let m=g.canvas,y=new i.default(g,h,o,null,d),v=r.length,b=Math.floor(16777215/v),x={};for(let e=1;e<=v;++e){let t=r[e-1],i=t.getStyleFunction()||s;if(!i)continue;let a=i(t,c);if(!a)continue;Array.isArray(a)||(a=[a]);let h=(e*b).toString(16).padStart(7,"#00000");for(let e=0,r=a.length;e<r;++e){let r=a[e],i=r.getGeometryFunction()(t);if(!i||!(0,u.intersects)(o,i.getExtent()))continue;let s=r.clone(),c=s.getFill();c&&c.setColor(h);let d=s.getStroke();d&&(d.setColor(h),d.setLineDash(null)),s.setText(void 0);let p=r.getImage();if(p){let e=p.getImageSize();if(!e)continue;let t=(0,l.createCanvasContext2D)(e[0],e[1],void 0,{alpha:!1}),r=t.canvas;t.fillStyle=h,t.fillRect(0,0,r.width,r.height),s.setImage(new n.default({img:r,anchor:p.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:p.getOrigin(),opacity:1,size:p.getSize(),scale:p.getScale(),rotation:p.getRotation(),rotateWithView:p.getRotateWithView()}))}let f=s.getZIndex()||0,g=x[f];g||(g={},x[f]=g,g.Polygon=[],g.Circle=[],g.LineString=[],g.Point=[]);let m=i.getType();if("GeometryCollection"===m){let e=i.getGeometriesArrayRecursive();for(let t=0,r=e.length;t<r;++t){let r=e[t];g[r.getType().replace("Multi","")].push(r,s)}}else g[m.replace("Multi","")].push(i,s)}}let E=Object.keys(x).map(Number).sort(a.ascending);for(let e=0,r=E.length;e<r;++e){let r=x[E[e]];for(let e in r){let i=r[e];for(let e=0,r=i.length;e<r;e+=2){y.setStyle(i[e+1]);for(let r=0,n=t.length;r<n;++r)y.setTransform(t[r]),y.drawGeometry(i[e])}}}return g.getImageData(0,0,m.width,m.height)}function d(e,t,r){let i=[];if(r){let n=Math.floor(Math.round(e[0])*h),s=Math.floor(Math.round(e[1])*h),a=((0,o.clamp)(n,0,r.width-1)+(0,o.clamp)(s,0,r.height-1)*r.width)*4,l=r.data[a],u=r.data[a+1],c=r.data[a+2]+256*(u+256*l),d=Math.floor(16777215/t.length);c&&c%d==0&&i.push(t[c/d-1])}return i}}),a("htGzg",function(e,r){t(e.exports,"default",()=>f);var i=s("eGc18"),n=s("hlW0i"),a=s("14PDX"),o=s("aHG4Z"),l=s("kBSVF"),u=s("jZquI"),h=s("a6roo"),c=s("bsQCi"),d=s("63y7W");class p extends i.default{constructor(e,t,r,i,n,s,o){super(),this.context_=e,this.pixelRatio_=t,this.extent_=r,this.transform_=i,this.transformRotation_=i?(0,h.toFixed)(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=n,this.squaredTolerance_=s,this.userTransform_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,a.create)()}drawImages_(e,t,r,i){if(!this.image_)return;let n=(0,c.transform2D)(e,t,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,o=this.tmpLocalTransform_,l=s.globalAlpha;1!=this.imageOpacity_&&(s.globalAlpha=l*this.imageOpacity_);let u=this.imageRotation_;0===this.transformRotation_&&(u-=this.viewRotation_),this.imageRotateWithView_&&(u+=this.viewRotation_);for(let e=0,t=n.length;e<t;e+=2){let t=n[e]-this.imageAnchorX_,r=n[e+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){let e=t+this.imageAnchorX_,i=r+this.imageAnchorY_;(0,a.compose)(o,e,i,1,1,u,-e,-i),s.save(),s.transform.apply(s,o),s.translate(e,i),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.restore()}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,r,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(s.globalAlpha=l)}drawText_(e,t,r,i){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);let n=(0,c.transform2D)(e,t,r,i,this.transform_,this.pixelCoordinates_),s=this.context_,a=this.textRotation_;for(0===this.transformRotation_&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<r;t+=i){let e=n[t]+this.textOffsetX_,r=n[t+1]+this.textOffsetY_;0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]?(s.save(),s.translate(e-this.textOffsetX_,r-this.textOffsetY_),s.rotate(a),s.translate(this.textOffsetX_,this.textOffsetY_),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.restore()):(this.textStrokeState_&&s.strokeText(this.text_,e,r),this.textFillState_&&s.fillText(this.text_,e,r))}}moveToLineTo_(e,t,r,i,n){let s=this.context_,a=(0,c.transform2D)(e,t,r,i,this.transform_,this.pixelCoordinates_);s.moveTo(a[0],a[1]);let o=a.length;n&&(o-=2);for(let e=2;e<o;e+=2)s.lineTo(a[e],a[e+1]);return n&&s.closePath(),r}drawRings_(e,t,r,i){for(let n=0,s=r.length;n<s;++n)t=this.moveToLineTo_(e,t,r[n],i,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,u.intersects)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=(0,d.transformGeom2D)(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],i=t[3]-t[1],n=this.context_;n.beginPath(),n.arc(t[0],t[1],Math.sqrt(r*r+i*i),0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){let r=t.getGeometryFunction()(e);r&&(this.setStyle(t),this.drawGeometry(r))}drawGeometryCollection(e){let t=e.getGeometriesArray();for(let e=0,r=t.length;e<r;++e)this.drawGeometry(t[e])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,u.intersects)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){let t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));let t=e.getExtent();if((0,u.intersects)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);let t=this.context_,r=e.getFlatCoordinates(),i=0,n=e.getEnds(),s=e.getStride();t.beginPath();for(let e=0,t=n.length;e<t;++e)i=this.moveToLineTo_(r,i,n[e],s,!1);t.stroke()}if(""!==this.text_){let t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,u.intersects)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){let t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,u.intersects)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);let t=this.context_,r=e.getOrientedFlatCoordinates(),i=0,n=e.getEndss(),s=e.getStride();t.beginPath();for(let e=0,t=n.length;e<t;++e){let t=n[e];i=this.drawRings_(r,i,t,s)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){let t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){let t=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){let t=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,t.lineCap=e.lineCap),(0,l.equals)(r.lineDash,e.lineDash)||t.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){let t=this.context_,r=this.contextTextState_,i=e.textAlign?e.textAlign:o.defaultTextAlign;r?(r.font!=e.font&&(r.font=e.font,t.font=e.font),r.textAlign!=i&&(r.textAlign=i,t.textAlign=i),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){let t=e.getColor();this.fillState_={fillStyle:(0,n.asColorLike)(t||o.defaultFillStyle)}}else this.fillState_=null;if(t){let e=t.getColor(),r=t.getLineCap(),i=t.getLineDash(),s=t.getLineDashOffset(),a=t.getLineJoin(),l=t.getWidth(),u=t.getMiterLimit(),h=i||o.defaultLineDash;this.strokeState_={lineCap:void 0!==r?r:o.defaultLineCap,lineDash:1===this.pixelRatio_?h:h.map(e=>e*this.pixelRatio_),lineDashOffset:(s||o.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==a?a:o.defaultLineJoin,lineWidth:(void 0!==l?l:o.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==u?u:o.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(e||o.defaultStrokeStyle)}}else this.strokeState_=null}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}let r=e.getPixelRatio(this.pixelRatio_),i=e.getAnchor(),n=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*r,this.imageAnchorY_=i[1]*r,this.imageHeight_=t[1]*r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();let s=e.getScaleArray();this.imageScale_=[s[0]*this.pixelRatio_/r,s[1]*this.pixelRatio_/r],this.imageWidth_=t[0]*r}setTextStyle(e){if(e){let t=e.getFill();if(t){let e=t.getColor();this.textFillState_={fillStyle:(0,n.asColorLike)(e||o.defaultFillStyle)}}else this.textFillState_=null;let r=e.getStroke();if(r){let e=r.getColor(),t=r.getLineCap(),i=r.getLineDash(),s=r.getLineDashOffset(),a=r.getLineJoin(),l=r.getWidth(),u=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==t?t:o.defaultLineCap,lineDash:i||o.defaultLineDash,lineDashOffset:s||o.defaultLineDashOffset,lineJoin:void 0!==a?a:o.defaultLineJoin,lineWidth:void 0!==l?l:o.defaultLineWidth,miterLimit:void 0!==u?u:o.defaultMiterLimit,strokeStyle:(0,n.asColorLike)(e||o.defaultStrokeStyle)}}else this.textStrokeState_=null;let i=e.getFont(),s=e.getOffsetX(),a=e.getOffsetY(),l=e.getRotateWithView(),u=e.getRotation(),h=e.getScaleArray(),c=e.getText(),d=e.getTextAlign(),p=e.getTextBaseline();this.textState_={font:void 0!==i?i:o.defaultFont,textAlign:void 0!==d?d:o.defaultTextAlign,textBaseline:void 0!==p?p:o.defaultTextBaseline},this.text_=void 0!==c?Array.isArray(c)?c.reduce((e,t,r)=>e+=r%2?" ":t,""):c:"",this.textOffsetX_=void 0!==s?this.pixelRatio_*s:0,this.textOffsetY_=void 0!==a?this.pixelRatio_*a:0,this.textRotateWithView_=void 0!==l&&l,this.textRotation_=void 0!==u?u:0,this.textScale_=[this.pixelRatio_*h[0],this.pixelRatio_*h[1]]}else this.text_=""}}var f=p}),a("713Fw",function(e,r){t(e.exports,"defaultOrder",()=>o),t(e.exports,"getSquaredTolerance",()=>l),t(e.exports,"getTolerance",()=>u),t(e.exports,"renderFeature",()=>h);var i=s("50PZ9"),n=s("lVQul");let a={Point:function(e,t,r,n,s){let a;let o=r.getImage(),l=r.getText();if(o){if(o.getImageState()!=i.default.LOADED)return;let u=e;if(s){let i=o.getDeclutterMode();if("none"!==i){if(u=s,"obstacle"===i){let i=e.getBuilder(r.getZIndex(),"Image");i.setImageStyle(o,a),i.drawPoint(t,n)}else l&&l.getText()&&(a={})}}let h=u.getBuilder(r.getZIndex(),"Image");h.setImageStyle(o,a),h.drawPoint(t,n)}if(l&&l.getText()){let i=e;s&&(i=s);let o=i.getBuilder(r.getZIndex(),"Text");o.setTextStyle(l,a),o.drawText(t,n)}},LineString:function(e,t,r,i,n){let s=r.getStroke();if(s){let n=e.getBuilder(r.getZIndex(),"LineString");n.setFillStrokeStyle(null,s),n.drawLineString(t,i)}let a=r.getText();if(a&&a.getText()){let s=(n||e).getBuilder(r.getZIndex(),"Text");s.setTextStyle(a),s.drawText(t,i)}},Polygon:function(e,t,r,i,n){let s=r.getFill(),a=r.getStroke();if(s||a){let n=e.getBuilder(r.getZIndex(),"Polygon");n.setFillStrokeStyle(s,a),n.drawPolygon(t,i)}let o=r.getText();if(o&&o.getText()){let s=(n||e).getBuilder(r.getZIndex(),"Text");s.setTextStyle(o),s.drawText(t,i)}},MultiPoint:function(e,t,r,n,s){let a;let o=r.getImage(),l=r.getText();if(o){if(o.getImageState()!=i.default.LOADED)return;let u=e;if(s){let i=o.getDeclutterMode();if("none"!==i){if(u=s,"obstacle"===i){let i=e.getBuilder(r.getZIndex(),"Image");i.setImageStyle(o,a),i.drawMultiPoint(t,n)}else l&&l.getText()&&(a={})}}let h=u.getBuilder(r.getZIndex(),"Image");h.setImageStyle(o,a),h.drawMultiPoint(t,n)}if(l&&l.getText()){let i=e;s&&(i=s);let o=i.getBuilder(r.getZIndex(),"Text");o.setTextStyle(l,a),o.drawText(t,n)}},MultiLineString:function(e,t,r,i,n){let s=r.getStroke();if(s){let n=e.getBuilder(r.getZIndex(),"LineString");n.setFillStrokeStyle(null,s),n.drawMultiLineString(t,i)}let a=r.getText();if(a&&a.getText()){let s=(n||e).getBuilder(r.getZIndex(),"Text");s.setTextStyle(a),s.drawText(t,i)}},MultiPolygon:function(e,t,r,i,n){let s=r.getFill(),a=r.getStroke();if(a||s){let n=e.getBuilder(r.getZIndex(),"Polygon");n.setFillStrokeStyle(s,a),n.drawMultiPolygon(t,i)}let o=r.getText();if(o&&o.getText()){let s=(n||e).getBuilder(r.getZIndex(),"Text");s.setTextStyle(o),s.drawText(t,i)}},GeometryCollection:function(e,t,r,i,n){let s,o;let l=t.getGeometriesArray();for(s=0,o=l.length;s<o;++s)(0,a[l[s].getType()])(e,l[s],r,i,n)},Circle:function(e,t,r,i,n){let s=r.getFill(),a=r.getStroke();if(s||a){let n=e.getBuilder(r.getZIndex(),"Circle");n.setFillStrokeStyle(s,a),n.drawCircle(t,i)}let o=r.getText();if(o&&o.getText()){let s=(n||e).getBuilder(r.getZIndex(),"Text");s.setTextStyle(o),s.drawText(t,i)}}};function o(e,t){return parseInt((0,n.getUid)(e),10)-parseInt((0,n.getUid)(t),10)}function l(e,t){let r=u(e,t);return r*r}function u(e,t){return .5*e/t}function h(e,t,r,n,s,o,l){let u=!1,h=r.getImage();if(h){let e=h.getImageState();e==i.default.LOADED||e==i.default.ERROR?h.unlistenImageChange(s):(e==i.default.IDLE&&h.load(),h.listenImageChange(s),u=!0)}return function(e,t,r,i,n,s){let o=r.getGeometryFunction()(t);if(!o)return;let l=o.simplifyTransformed(i,n);r.getRenderer()?function e(t,r,i,n){if("GeometryCollection"==r.getType()){let s=r.getGeometries();for(let r=0,a=s.length;r<a;++r)e(t,s[r],i,n);return}t.getBuilder(i.getZIndex(),"Default").drawCustom(r,n,i.getRenderer(),i.getHitDetectionRenderer())}(e,l,r,t):(0,a[l.getType()])(e,l,r,t,s)}(e,t,r,n,o,l),u}}),a("aIaid",function(e,r){t(e.exports,"default",()=>u);var i=s("ejLRd"),n=s("7lBr2"),a=s("gbCDL"),o=s("VCbYw"),l=class extends n.default{constructor(e){e=e||{},super({handleEvent:function(e){return"pointermove"==e.type&&this.handleMove_(e),!0}}),this.maps=e.maps||[],!1===e.active&&this.setActive(!1)}setMap(e){this._listener&&((0,i.unByKey)(this._listener.center),(0,i.unByKey)(this._listener.rotation),(0,i.unByKey)(this._listener.resolution),this.getMap().getTargetElement().removeEventListener("mouseout",this._listener.mouseout)),this._listener=null,super.setMap(e),e&&(this._listener={},this._listener.center=this.getMap().getView().on("change:center",this.syncMaps.bind(this)),this._listener.rotation=this.getMap().getView().on("change:rotation",this.syncMaps.bind(this)),this._listener.resolution=this.getMap().getView().on("change:resolution",this.syncMaps.bind(this)),this._listener.mouseout=this.handleMouseOut_.bind(this),this.getMap().getTargetElement()&&this.getMap().getTargetElement().addEventListener("mouseout",this._listener.mouseout),this.syncMaps())}setActive(e){super.setActive(e),this.syncMaps()}syncMaps(){if(this.getActive()){var e=this.getMap();if(e){if(e.get("lockView"))return;for(var t=0;t<this.maps.length;t++)this.maps[t].set("lockView",!0),this.maps[t].getView().getRotation()!=e.getView().getRotation()&&this.maps[t].getView().setRotation(e.getView().getRotation()),this.maps[t].getView().getCenter()!=e.getView().getCenter()&&this.maps[t].getView().setCenter(e.getView().getCenter()),this.maps[t].getView().getResolution()!=e.getView().getResolution()&&this.maps[t].getView().setResolution(e.getView().getResolution()),this.maps[t].set("lockView",!1)}}}handleMove_(e){for(var t=0;t<this.maps.length;t++)this.maps[t].showTarget(e.coordinate);this.getMap().showTarget()}handleMouseOut_(){for(var e=0;e<this.maps.length;e++)this.maps[e]._targetOverlay&&this.maps[e]._targetOverlay.setPosition(void 0)}};a.default.prototype.showTarget=function(e){if(!this._targetOverlay){var t=document.createElement("div");t.classList.add("ol-target"),this._targetOverlay=new o.default({element:t}),this._targetOverlay.setPositioning("center-center"),this.addOverlay(this._targetOverlay),t.parentElement.classList.add("ol-target-overlay"),this._targetOverlay.setPosition([0,0])}this._targetOverlay.setPosition(e)},a.default.prototype.hideTarget=function(){this.removeOverlay(this._targetOverlay),this._targetOverlay=void 0};var u=l}),a("VCbYw",function(e,r){t(e.exports,"default",()=>d);var i=s("fnScq"),n=s("2u1lG"),a=s("erROg"),o=s("jZquI"),l=s("bsgMw"),u=s("cgxQK");let h={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class c extends i.default{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+a.CLASS_SELECTABLE,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(h.ELEMENT,this.handleElementChanged),this.addChangeListener(h.MAP,this.handleMapChanged),this.addChangeListener(h.OFFSET,this.handleOffsetChanged),this.addChangeListener(h.POSITION,this.handlePositionChanged),this.addChangeListener(h.POSITIONING,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(h.ELEMENT)}getId(){return this.id}getMap(){return this.get(h.MAP)||null}getOffset(){return this.get(h.OFFSET)}getPosition(){return this.get(h.POSITION)}getPositioning(){return this.get(h.POSITIONING)}handleElementChanged(){(0,u.removeChildren)(this.element);let e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&((0,u.removeNode)(this.element),(0,l.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);let e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,l.listen)(e,n.default.POSTRENDER,this.render,this),this.updatePixelPosition();let t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(h.ELEMENT,e)}setMap(e){this.set(h.MAP,e)}setOffset(e){this.set(h.OFFSET,e)}setPosition(e){this.set(h.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){let t=this.getMap();if(!t||!t.getTargetElement()||!this.get(h.POSITION))return;let r=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[(0,u.outerWidth)(i),(0,u.outerHeight)(i)]),s=void 0===(e=e||{}).margin?20:e.margin;if(!(0,o.containsExtent)(r,n)){let i=n[0]-r[0],a=r[2]-n[2],o=n[1]-r[1],l=r[3]-n[3],u=[0,0];if(i<0?u[0]=i-s:a<0&&(u[0]=Math.abs(a)+s),o<0?u[1]=o-s:l<0&&(u[1]=Math.abs(l)+s),0!==u[0]||0!==u[1]){let r=t.getView().getCenterInternal(),i=t.getPixelFromCoordinateInternal(r);if(!i)return;let n=[i[0]+u[0],i[1]+u[1]],s=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(n),duration:s.duration,easing:s.easing})}}}getRect(e,t){let r=e.getBoundingClientRect(),i=r.left+window.pageXOffset,n=r.top+window.pageYOffset;return[i,n,i+t[0],n+t[1]]}setPositioning(e){this.set(h.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){let e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}let r=e.getPixelFromCoordinate(t),i=e.getSize();this.updateRenderedPosition(r,i)}updateRenderedPosition(e,t){let r=this.element.style,i=this.getOffset(),n=this.getPositioning();this.setVisible(!0);let s=Math.round(e[0]+i[0])+"px",a=Math.round(e[1]+i[1])+"px",o="0%",l="0%";"bottom-right"==n||"center-right"==n||"top-right"==n?o="-100%":("bottom-center"==n||"center-center"==n||"top-center"==n)&&(o="-50%"),"bottom-left"==n||"bottom-center"==n||"bottom-right"==n?l="-100%":("center-left"==n||"center-center"==n||"center-right"==n)&&(l="-50%");let u=`translate(${o}, ${l}) translate(${s}, ${a})`;this.rendered.transform_!=u&&(this.rendered.transform_=u,r.transform=u)}getOptions(){return this.options}}var d=c}),a("1NiL5",function(e,r){t(e.exports,"default",()=>l);var i=s("aZxrf"),n=s("kBBZ2"),a=s("fkmMz");class o extends i.default{constructor(e){super({title:e.title||"MVT",type:"MVT",attributions:e.attributions,declutter:!0}),e.url&&this.loadMapboxStyle({url:e.url,useTitle:!e.title})}}i.default.prototype.loadMapboxStyle=function(e){this.set("styleUrl",e.url),(0,a.default).get({url:e.url,success:t=>{e.useTitle&&(console.log("useTitle"),this.set("title",t.name||"MVT")),e.source||(e.source=Object.keys(t.sources)[0]),this.applyStyle(t,e.source),this.dispatchEvent({type:"style:load",source:e.source,style:t})}})},i.default.prototype.applyStyle=function(e,t){t||(t=Object.keys(e.sources)[0]),this._glStyle=e,(0,n.applyStyle)(this,e,t).then(()=>{this.dispatchEvent({type:"style:apply",source:t,style:e})})};var l=o}),a("aZxrf",function(e,r){t(e.exports,"default",()=>l);var i=s("gNqjI"),n=s("jPVWI");s("juLo9");var a=s("cWXYt");class o extends i.default{constructor(e){super(e),this.selectable(!1),this.setStyle((0,a.getStyleFn)())}}o.prototype.setSource=function(e){e&&(e.on("tileloadend",e=>{e.tile.getFeatures().forEach(e=>e.setLayer(this))}),!e.getAttributions()&&this.get("attributions")&&e.setAttributions(this.get("attributions"))),(0,i.default).prototype.setSource.call(this,e)},i.default.prototype.setIgnStyle=n.default.prototype.setIgnStyle,i.default.prototype.getIgnStyle=n.default.prototype.getIgnStyle,i.default.prototype.defaultIgnStyle=n.default.prototype.defaultIgnStyle,i.default.prototype.getPopupContent=n.default.prototype.getPopupContent,i.default.prototype.setPopupContent=n.default.prototype.setPopupContent,i.default.prototype.selectable=n.default.prototype.selectable;var l=o}),a("gNqjI",function(e,r){t(e.exports,"default",()=>u);var i=s("2YyN3"),n=s("iHrN6"),a=s("8ElLP"),o=s("eJ4LZ");class l extends i.default{constructor(e){let t=Object.assign({},e=e||{});delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un;let r=e.renderMode||"hybrid";(0,o.assert)("hybrid"==r||"vector"==r,"`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),this.getBackground,this.setBackground}createRenderer(){return new n.default(this)}getFeatures(e){return super.getFeatures(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(a.default.PRELOAD)}getUseInterimTilesOnError(){return this.get(a.default.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(a.default.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(a.default.USE_INTERIM_TILES_ON_ERROR,e)}}var u=l}),a("iHrN6",function(e,r){t(e.exports,"default",()=>b);var i=s("8vXOK"),n=s("dVSax"),a=s("1FnBm"),o=s("av38f"),l=s("bCUH1"),u=s("3CYjy"),h=s("14PDX"),c=s("jZquI"),d=s("713Fw"),p=s("lVQul"),f=s("6BjcK"),g=s("d1ltq");let m={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},y={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class v extends a.default{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.tmpTransform_=(0,h.create)()}prepareTile(e,t,r){let i;let n=e.getState();return(n===o.default.LOADED||n===o.default.ERROR)&&(this.updateExecutorGroup_(e,t,r),this.tileImageNeedsRender_(e)&&(i=!0)),i}getTile(e,t,r,i){let n=i.pixelRatio,s=i.viewState,a=s.resolution,o=s.projection,u=this.getLayer(),h=u.getSource().getTile(e,t,r,n,o),c=i.viewHints,d=!(c[l.default.ANIMATING]||c[l.default.INTERACTING]);return(d||!h.wantedResolution)&&(h.wantedResolution=a),this.prepareTile(h,n,o)&&(d||Date.now()-i.time<8)&&"vector"!==u.getRenderMode()&&this.renderTileImage_(h,i),super.getTile(e,t,r,i)}isDrawableTile(e){let t=this.getLayer();return super.isDrawableTile(e)&&("vector"===t.getRenderMode()?(0,p.getUid)(t) in e.executorGroups:e.hasContext(t))}getTileImage(e){return e.getImage(this.getLayer())}prepareFrame(e){let t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,r){let s=this.getLayer(),a=s.getRevision(),l=s.getRenderOrder()||null,u=e.wantedResolution,h=e.getReplayState(s);if(!h.dirty&&h.renderedResolution===u&&h.renderedRevision==a&&h.renderedRenderOrder==l)return;let f=s.getSource(),g=s.getDeclutter(),m=f.getTileGrid(),y=f.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),v=f.getSourceTiles(t,r,e),b=(0,p.getUid)(s);delete e.hitDetectionImageData[b],e.executorGroups[b]=[],g&&(e.declutterExecutorGroups[b]=[]),h.dirty=!1;for(let r=0,a=v.length;r<a;++r){let a=v[r];if(a.getState()!=o.default.LOADED)continue;let p=a.tileCoord,x=m.getTileCoordExtent(p),E=(0,c.getIntersection)(y,x),_=(0,c.buffer)(E,s.getRenderBuffer()*u,this.tmpExtent),S=(0,c.equals)(x,E)?null:_,O=new i.default(0,_,u,t),R=g?new i.default(0,E,u,t):void 0,A=(0,d.getSquaredTolerance)(u,t),w=function(e){let t;let r=e.getStyleFunction()||s.getStyleFunction();if(r&&(t=r(e,u)),t){let r=this.renderFeature(e,A,t,O,R);h.dirty=h.dirty||r}},C=a.getFeatures();l&&l!==h.renderedRenderOrder&&C.sort(l);for(let e=0,t=C.length;e<t;++e){let t=C[e];(!S||(0,c.intersects)(S,t.getGeometry().getExtent()))&&w.call(this,t)}let T=O.finish(),L="vector"!==s.getRenderMode()&&g&&1===v.length?null:E,P=new n.default(L,u,t,f.getOverlaps(),T,s.getRenderBuffer());if(e.executorGroups[b].push(P),R){let r=new n.default(null,u,t,f.getOverlaps(),R.finish(),s.getRenderBuffer());e.declutterExecutorGroups[b].push(r)}}h.renderedRevision=a,h.renderedRenderOrder=l,h.renderedResolution=u}forEachFeatureAtCoordinate(e,t,r,i,n){let s;let a=t.viewState.resolution,o=t.viewState.rotation;r=void 0==r?0:r;let l=this.getLayer(),u=l.getSource().getTileGridForProjection(t.viewState.projection),h=(0,c.boundingExtent)([e]);(0,c.buffer)(h,a*r,h);let d={},f=function(e,t,r){let s=e.getId();void 0===s&&(s=(0,p.getUid)(e));let a=d[s];if(a){if(!0!==a&&r<a.distanceSq){if(0===r)return d[s]=!0,n.splice(n.lastIndexOf(a),1),i(e,l,t);a.geometry=t,a.distanceSq=r}}else{if(0===r)return d[s]=!0,i(e,l,t);n.push(d[s]={feature:e,layer:l,geometry:t,distanceSq:r,callback:i})}},g=this.renderedTiles;for(let i=0,n=g.length;!s&&i<n;++i){let n=g[i],d=u.getTileCoordExtent(n.wrappedTileCoord);if(!(0,c.intersects)(d,h))continue;let m=(0,p.getUid)(l),y=[n.executorGroups[m]],v=n.declutterExecutorGroups[m];v&&y.push(v),y.some(i=>{let n=i===v?t.declutterTree.all().map(e=>e.value):null;for(let t=0,l=i.length;t<l;++t)if(s=i[t].forEachFeatureAtCoordinate(e,a,o,r,f,n))return!0})}return s}getFeatures(e){return new Promise((t,r)=>{let i;let n=this.getLayer(),s=(0,p.getUid)(n),a=n.getSource(),l=this.renderedProjection,d=l.getExtent(),m=this.renderedResolution,y=a.getTileGridForProjection(l),v=(0,h.apply)(this.renderedPixelToCoordinateTransform_,e.slice()),b=y.getTileCoordForCoordAndResolution(v,m);for(let e=0,t=this.renderedTiles.length;e<t;++e)if(b.toString()===this.renderedTiles[e].tileCoord.toString()){if((i=this.renderedTiles[e]).getState()===o.default.LOADED){let e=y.getTileCoordExtent(i.tileCoord);a.getWrapX()&&l.canWrapX()&&!(0,c.containsExtent)(d,e)&&(0,g.wrapX)(v,l);break}i=void 0}if(!i||i.loadingSourceTiles>0){t([]);return}let x=y.getTileCoordExtent(i.wrappedTileCoord),E=(0,c.getTopLeft)(x),_=[(v[0]-E[0])/m,(E[1]-v[1])/m],S=i.getSourceTiles().reduce(function(e,t){return e.concat(t.getFeatures())},[]),O=i.hitDetectionImageData[s];if(!O){let e=(0,f.toSize)(y.getTileSize(y.getZForResolution(m,a.zDirection))),t=this.renderedRotation_,r=[this.getRenderTransform(y.getTileCoordCenter(i.wrappedTileCoord),m,0,u.HIT_DETECT_RESOLUTION,e[0]*u.HIT_DETECT_RESOLUTION,e[1]*u.HIT_DETECT_RESOLUTION,0)];O=(0,u.createHitDetectionImageData)(e,r,S,n.getStyleFunction(),y.getTileCoordExtent(i.wrappedTileCoord),i.getReplayState(n).renderedResolution,t),i.hitDetectionImageData[s]=O}t((0,u.hitDetect)(_,S,O))})}handleFontsChanged(){let e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e){let t=this.context,r=t.globalAlpha;t.globalAlpha=this.getLayer().getOpacity();let i=e.viewHints,n=!(i[l.default.ANIMATING]||i[l.default.INTERACTING]),s=this.renderedTiles;for(let t=0,r=s.length;t<r;++t){let r=s[t],i=r.declutterExecutorGroups[(0,p.getUid)(this.getLayer())];if(i)for(let t=i.length-1;t>=0;--t)i[t].execute(this.context,1,this.getTileRenderTransform(r,e),e.viewState.rotation,n,void 0,e.declutterTree)}t.globalAlpha=r}getTileRenderTransform(e,t){let r=t.pixelRatio,i=t.viewState,n=i.center,s=i.resolution,a=i.rotation,o=t.size,l=Math.round(o[0]*r),u=Math.round(o[1]*r),c=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),d=e.tileCoord,p=c.getTileCoordExtent(e.wrappedTileCoord),f=c.getTileCoordExtent(d,this.tmpExtent)[0]-p[0];return(0,h.multiply)((0,h.scale)(this.inversePixelTransform.slice(),1/r,1/r),this.getRenderTransform(n,s,a,r,l,u,f))}postRender(e,t){let r=t.viewHints,i=!(r[l.default.ANIMATING]||r[l.default.INTERACTING]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;let n=this.getLayer(),s=n.getRenderMode(),a=e.globalAlpha;e.globalAlpha=n.getOpacity();let o=y[s],u=t.viewState,h=u.rotation,d=n.getSource(),f=d.getTileGridForProjection(u.projection).getZForResolution(u.resolution,d.zDirection),g=this.renderedTiles,m=[],v=[],b=!0;for(let r=g.length-1;r>=0;--r){let s=g[r];b=b&&!s.getReplayState(n).dirty;let a=s.executorGroups[(0,p.getUid)(n)].filter(e=>e.hasExecutors(o));if(0===a.length)continue;let l=this.getTileRenderTransform(s,t),u=s.tileCoord[0],d=!1,y=a[0].getClipCoords(l);if(y){for(let t=0,r=m.length;t<r;++t)if(f!==u&&u<v[t]){let r=m[t];(0,c.intersects)([y[0],y[3],y[4],y[7]],[r[0],r[3],r[4],r[7]])&&(d||(e.save(),d=!0),e.beginPath(),e.moveTo(y[0],y[1]),e.lineTo(y[2],y[3]),e.lineTo(y[4],y[5]),e.lineTo(y[6],y[7]),e.moveTo(r[6],r[7]),e.lineTo(r[4],r[5]),e.lineTo(r[2],r[3]),e.lineTo(r[0],r[1]),e.clip())}m.push(y),v.push(u)}for(let t=0,r=a.length;t<r;++t)a[t].execute(e,1,l,h,i,o);d&&e.restore()}e.globalAlpha=a,this.ready=b,super.postRender(e,t)}renderFeature(e,t,r,i,n){if(!r)return!1;let s=!1;if(Array.isArray(r))for(let a=0,o=r.length;a<o;++a)s=(0,d.renderFeature)(i,e,r[a],t,this.boundHandleStyleImageChange_,void 0,n)||s;else s=(0,d.renderFeature)(i,e,r,t,this.boundHandleStyleImageChange_,void 0,n);return s}tileImageNeedsRender_(e){let t=this.getLayer();if("vector"===t.getRenderMode())return!1;let r=e.getReplayState(t),i=t.getRevision(),n=e.wantedResolution;return r.renderedTileResolution!==n||r.renderedTileRevision!==i}renderTileImage_(e,t){let r=this.getLayer(),i=e.getReplayState(r),n=r.getRevision(),s=e.executorGroups[(0,p.getUid)(r)];i.renderedTileRevision=n;let a=e.wrappedTileCoord,o=a[0],l=r.getSource(),u=t.pixelRatio,c=t.viewState.projection,d=l.getTileGridForProjection(c),f=d.getResolution(e.tileCoord[0]),g=t.pixelRatio/e.wantedResolution*f,y=d.getResolution(o),v=e.getContext(r);u=Math.round(Math.max(u,g/u));let b=l.getTilePixelSize(o,u,c);v.canvas.width=b[0],v.canvas.height=b[1];let x=u/g;if(1!==x){let e=(0,h.reset)(this.tmpTransform_);(0,h.scale)(e,x,x),v.setTransform.apply(v,e)}let E=d.getTileCoordExtent(a,this.tmpExtent),_=g/y,S=(0,h.reset)(this.tmpTransform_);(0,h.scale)(S,_,-_),(0,h.translate)(S,-E[0],-E[3]);for(let e=0,t=s.length;e<t;++e)s[e].execute(v,x,S,0,!0,m[r.getRenderMode()]);i.renderedTileResolution=e.wantedResolution}}var b=v}),a("1FnBm",function(e,r){t(e.exports,"default",()=>m);var i=s("ddIVC"),n=s("6EHBB"),a=s("lUH7Q"),o=s("jRKCY"),l=s("av38f"),u=s("14PDX"),h=s("kBSVF"),c=s("jZquI"),d=s("gzr8q"),p=s("lVQul"),f=s("6BjcK");class g extends i.default{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,c.createEmpty)(),this.tmpTileRange_=new o.default(0,0,0,0)}isDrawableTile(e){let t=this.getLayer(),r=e.getState(),i=t.getUseInterimTilesOnError();return r==l.default.LOADED||r==l.default.EMPTY||r==l.default.ERROR&&!i}getTile(e,t,r,i){let n=i.pixelRatio,s=i.viewState.projection,a=this.getLayer(),o=a.getSource().getTile(e,t,r,n,s);return o.getState()==l.default.ERROR&&a.getUseInterimTilesOnError()&&a.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(o)||(o=o.getInterimTile()),o}getData(e){let t=this.frameState;if(!t)return null;let r=this.getLayer(),i=(0,u.apply)(t.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!(0,c.containsCoordinate)(s,i))return null;let o=t.pixelRatio,h=t.viewState.projection,d=t.viewState,p=r.getRenderSource(),g=p.getTileGridForProjection(d.projection),m=p.getTilePixelRatio(t.pixelRatio);for(let e=g.getZForResolution(d.resolution);e>=g.getMinZoom();--e){let t=g.getTileCoordForCoordAndZ(i,e),r=p.getTile(e,t[1],t[2],o,h);if(!(r instanceof n.default||r instanceof a.default)||r instanceof a.default&&r.getState()===l.default.EMPTY)break;if(r.getState()!==l.default.LOADED)continue;let s=g.getOrigin(e),u=(0,f.toSize)(g.getTileSize(e)),c=g.getResolution(e),y=Math.floor(m*((i[0]-s[0])/c-t[1]*u[0])),v=Math.floor(m*((s[1]-i[1])/c-t[2]*u[1])),b=Math.round(m*p.getGutterForProjection(d.projection));return this.getImageData(r.getImage(),y+b,v+b)}return null}loadedTileCallback(e,t,r){return!!this.isDrawableTile(r)&&super.loadedTileCallback(e,t,r)}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,t){let r,i,n;let s=e.layerStatesArray[e.layerIndex],a=e.viewState,o=a.projection,f=a.resolution,g=a.center,m=a.rotation,y=e.pixelRatio,v=this.getLayer(),b=v.getSource(),x=b.getRevision(),E=b.getTileGridForProjection(o),_=E.getZForResolution(f,b.zDirection),S=E.getResolution(_),O=e.extent,R=e.viewState.resolution,A=b.getTilePixelRatio(y),w=Math.round((0,c.getWidth)(O)/R*y),C=Math.round((0,c.getHeight)(O)/R*y),T=s.extent&&(0,d.fromUserExtent)(s.extent,o);T&&(O=(0,c.getIntersection)(O,(0,d.fromUserExtent)(s.extent,o)));let L=S*w/2/A,P=S*C/2/A,I=[g[0]-L,g[1]-P,g[0]+L,g[1]+P],M=E.getTileRangeForExtentAndZ(O,_),N={};N[_]={};let G=this.createLoadedTileFinder(b,o,N),k=this.tmpExtent,D=this.tmpTileRange_;this.newTiles_=!1;let F=m?(0,c.getRotatedViewport)(a.center,R,m,e.size):void 0;for(let t=M.minX;t<=M.maxX;++t)for(let r=M.minY;r<=M.maxY;++r){if(m&&!E.tileCoordIntersectsViewport([_,t,r],F))continue;let i=this.getTile(_,t,r,e);if(this.isDrawableTile(i)){let t=(0,p.getUid)(this);if(i.getState()==l.default.LOADED){N[_][i.tileCoord.toString()]=i;let e=i.inTransition(t);e&&1!==s.opacity&&(i.endTransition(t),e=!1),this.newTiles_||!e&&this.renderedTiles.includes(i)||(this.newTiles_=!0)}if(1===i.getAlpha(t,e.time))continue}let n=E.getTileCoordChildTileRange(i.tileCoord,D,k),a=!1;n&&(a=G(_+1,n)),a||E.forEachTileCoordParentTileRange(i.tileCoord,G,D,k)}let q=S/f*y/A;(0,u.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/y,1/y,m,-w/2,-C/2);let j=(0,u.toString)(this.pixelTransform);this.useContainer(t,j,this.getBackground(e));let U=this.context,H=U.canvas;(0,u.makeInverse)(this.inversePixelTransform,this.pixelTransform),(0,u.compose)(this.tempTransform,w/2,C/2,q,q,0,-w/2,-C/2),H.width!=w||H.height!=C?(H.width=w,H.height=C):this.containerReused||U.clearRect(0,0,w,C),T&&this.clipUnrotated(U,e,T),b.getInterpolate()||(U.imageSmoothingEnabled=!1),this.preRender(U,e),this.renderedTiles.length=0;let B=Object.keys(N).map(Number);B.sort(h.ascending),1===s.opacity&&(!this.containerReused||b.getOpaque(e.viewState.projection))?B=B.reverse():(r=[],i=[]);for(let t=B.length-1;t>=0;--t){let s=B[t],a=b.getTilePixelSize(s,y,o),l=E.getResolution(s)/S,h=a[0]*l*q,d=a[1]*l*q,f=E.getTileCoordForCoordAndZ((0,c.getTopLeft)(I),s),g=E.getTileCoordExtent(f),m=(0,u.apply)(this.tempTransform,[A*(g[0]-I[0])/S,A*(I[3]-g[3])/S]),v=A*b.getGutterForProjection(o),x=N[s];for(let t in x){let a=x[t],o=a.tileCoord,l=f[1]-o[1],u=Math.round(m[0]-(l-1)*h),g=f[2]-o[2],y=Math.round(m[1]-(g-1)*d),E=Math.round(m[0]-l*h),S=Math.round(m[1]-g*d),O=u-E,R=y-S,A=_===s,w=A&&1!==a.getAlpha((0,p.getUid)(this),e.time),C=!1;if(!w){if(r){n=[E,S,E+O,S,E+O,S+R,E,S+R];for(let e=0,t=r.length;e<t;++e)if(_!==s&&s<i[e]){let t=r[e];(0,c.intersects)([E,S,E+O,S+R],[t[0],t[3],t[4],t[7]])&&(C||(U.save(),C=!0),U.beginPath(),U.moveTo(n[0],n[1]),U.lineTo(n[2],n[3]),U.lineTo(n[4],n[5]),U.lineTo(n[6],n[7]),U.moveTo(t[6],t[7]),U.lineTo(t[4],t[5]),U.lineTo(t[2],t[3]),U.lineTo(t[0],t[1]),U.clip())}r.push(n),i.push(s)}else U.clearRect(E,S,O,R)}this.drawTileImage(a,e,E,S,O,R,v,A),r&&!w?(C&&U.restore(),this.renderedTiles.unshift(a)):this.renderedTiles.push(a),this.updateUsedTiles(e.usedTiles,b,a)}}return this.renderedRevision=x,this.renderedResolution=S,this.extentChanged=!this.renderedExtent_||!(0,c.equals)(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=y,this.renderedProjection=o,this.manageTilePyramid(e,b,E,y,o,O,_,v.getPreload()),this.scheduleExpireCache(e,b),this.postRender(U,e),s.extent&&U.restore(),U.imageSmoothingEnabled=!0,j!==H.style.transform&&(H.style.transform=j),this.container}drawTileImage(e,t,r,i,n,s,a,o){let l=this.getTileImage(e);if(!l)return;let u=(0,p.getUid)(this),h=t.layerStatesArray[t.layerIndex],c=h.opacity*(o?e.getAlpha(u,t.time):1),d=c!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,r,i,n,s),d&&this.context.restore(),c!==h.opacity?t.animate=!0:o&&e.endTransition(u)}getImage(){let e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,t){if(t.canExpireCache()){let r=(function(e,t,r){let i=(0,p.getUid)(e);i in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[i])}).bind(null,t);e.postRenderFunctions.push(r)}}updateUsedTiles(e,t,r){let i=(0,p.getUid)(t);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,t,r,i,n,s,a,o,u){let h,d,f,g,m,y;let v=(0,p.getUid)(t);v in e.wantedTiles||(e.wantedTiles[v]={});let b=e.wantedTiles[v],x=e.tileQueue,E=r.getMinZoom(),_=e.viewState.rotation,S=_?(0,c.getRotatedViewport)(e.viewState.center,e.viewState.resolution,_,e.size):void 0,O=0;for(y=E;y<=a;++y)for(d=r.getTileRangeForExtentAndZ(s,y,d),f=r.getResolution(y),g=d.minX;g<=d.maxX;++g)for(m=d.minY;m<=d.maxY;++m)(!_||r.tileCoordIntersectsViewport([y,g,m],S))&&(a-y<=o?(++O,(h=t.getTile(y,g,m,i,n)).getState()!=l.default.IDLE||(b[h.getKey()]=!0,x.isKeyQueued(h.getKey())||x.enqueue([h,v,r.getTileCoordCenter(h.tileCoord),f])),void 0!==u&&u(h)):t.useTile(y,g,m,n));t.updateCacheSize(O,n)}}var m=g}),a("6EHBB",function(e,r){t(e.exports,"default",()=>u);var i=s("hMeZw"),n=s("av38f"),a=s("cgxQK"),o=s("kUxvm");class l extends i.default{constructor(e,t,r,i,n,s){super(e,t,s),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=n}getImage(){return this.image_}setImage(e){this.image_=e,this.state=n.default.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=n.default.ERROR,this.unlistenImage_(),this.image_=function(){let e=(0,a.createCanvasContext2D)(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}handleImageLoad_(){let e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=n.default.LOADED:this.state=n.default.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==n.default.ERROR&&(this.state=n.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n.default.IDLE&&(this.state=n.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,o.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}var u=l}),a("hMeZw",function(e,r){t(e.exports,"default",()=>h);var i=s("9LzRi"),n=s("cw4dl"),a=s("av38f"),o=s("lVQul"),l=s("jZ9vT");class u extends i.default{constructor(e,t,r){super(),r=r||{},this.tileCoord=e,this.state=t,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(n.default.CHANGE)}release(){this.state===a.default.ERROR&&this.setState(a.default.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==a.default.LOADED)return this.transition_=0,e;e=e.interimTile}while(e)return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let t=this;do{if(e.getState()==a.default.LOADED){e.interimTile=null;break}e.getState()==a.default.LOADING?t=e:e.getState()==a.default.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==a.default.ERROR&&this.state>e)throw Error("Tile load sequence violation");this.state=e,this.changed()}load(){(0,o.abstract)()}getAlpha(e,t){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=t,this.transitionStarts_[e]=r;let i=t-r+1e3/60;return i>=this.transition_?1:(0,l.easeIn)(i/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}var h=u}),a("lUH7Q",function(e,r){t(e.exports,"default",()=>g);var i=s("9ndmc"),n=s("cw4dl"),a=s("hMeZw"),o=s("av38f"),l=s("9JHmh"),u=s("gpSXC"),h=s("a6roo"),c=s("jZquI"),d=s("bsgMw"),p=s("cgxQK");class f extends a.default{constructor(e,t,r,n,s,a,d,p,f,g,m,y){super(s,o.default.IDLE,y),this.renderEdges_=void 0!==m&&m,this.pixelRatio_=d,this.gutter_=p,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=n,this.wrappedTileCoord_=a||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;let v=n.getTileCoordExtent(this.wrappedTileCoord_),b=this.targetTileGrid_.getExtent(),x=this.sourceTileGrid_.getExtent(),E=b?(0,c.getIntersection)(v,b):v;if(0===(0,c.getArea)(E)){this.state=o.default.EMPTY;return}let _=e.getExtent();_&&(x=x?(0,c.getIntersection)(x,_):_);let S=n.getResolution(this.wrappedTileCoord_[0]),O=(0,u.calculateSourceExtentResolution)(e,r,E,S);if(!isFinite(O)||O<=0){this.state=o.default.EMPTY;return}let R=void 0!==g?g:i.ERROR_THRESHOLD;if(this.triangulation_=new l.default(e,r,E,x,O*R,S),0===this.triangulation_.getTriangles().length){this.state=o.default.EMPTY;return}this.sourceZ_=t.getZForResolution(O);let A=this.triangulation_.calculateSourceExtent();if(x&&(e.canWrapX()?(A[1]=(0,h.clamp)(A[1],x[1],x[3]),A[3]=(0,h.clamp)(A[3],x[1],x[3])):A=(0,c.getIntersection)(A,x)),(0,c.getArea)(A)){let e=t.getTileRangeForExtentAndZ(A,this.sourceZ_);for(let t=e.minX;t<=e.maxX;t++)for(let r=e.minY;r<=e.maxY;r++){let e=f(this.sourceZ_,t,r,d);e&&this.sourceTiles_.push(e)}0===this.sourceTiles_.length&&(this.state=o.default.EMPTY)}else this.state=o.default.EMPTY}getImage(){return this.canvas_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{t&&t.getState()==o.default.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}),this.sourceTiles_.length=0,0===e.length)this.state=o.default.ERROR;else{let t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),i="number"==typeof r?r:r[0],n="number"==typeof r?r:r[1],s=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,u.render)(i,n,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=o.default.LOADED}this.changed()}load(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{let r=t.getState();if(r==o.default.IDLE||r==o.default.LOADING){e++;let r=(0,d.listen)(t,n.default.CHANGE,function(i){let n=t.getState();(n==o.default.LOADED||n==o.default.ERROR||n==o.default.EMPTY)&&((0,d.unlistenByKey)(r),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,t,r){e.getState()==o.default.IDLE&&e.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(d.unlistenByKey),this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,p.releaseCanvas)(this.canvas_.getContext("2d")),(0,u.canvasPool).push(this.canvas_),this.canvas_=null),super.release()}}var g=f}),a("9ndmc",function(e,r){t(e.exports,"ERROR_THRESHOLD",()=>i);let i=.5}),a("9JHmh",function(e,r){t(e.exports,"default",()=>o);var i=s("jZquI"),n=s("gzr8q"),a=s("a6roo"),o=class{constructor(e,t,r,s,a,o){this.sourceProj_=e,this.targetProj_=t;let l={},u=(0,n.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){let t=e[0]+"/"+e[1];return l[t]||(l[t]=u(e)),l[t]},this.maxSourceExtent_=s,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&(0,i.getWidth)(s)>=(0,i.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,i.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,i.getWidth)(this.targetProj_.getExtent()):null;let h=(0,i.getTopLeft)(r),c=(0,i.getTopRight)(r),d=(0,i.getBottomRight)(r),p=(0,i.getBottomLeft)(r),f=this.transformInv_(h),g=this.transformInv_(c),m=this.transformInv_(d),y=this.transformInv_(p),v=10+(o?Math.max(0,Math.ceil(Math.log2((0,i.getArea)(r)/(o*o*65536)))):0);if(this.addQuad_(h,c,d,p,f,g,m,y,v),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach(function(t,r,i){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(t=>{if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2){let r=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];r[0][0]-e>this.sourceWorldWidth_/2&&(r[0][0]-=this.sourceWorldWidth_),r[1][0]-e>this.sourceWorldWidth_/2&&(r[1][0]-=this.sourceWorldWidth_),r[2][0]-e>this.sourceWorldWidth_/2&&(r[2][0]-=this.sourceWorldWidth_);let i=Math.min(r[0][0],r[1][0],r[2][0]);Math.max(r[0][0],r[1][0],r[2][0])-i<this.sourceWorldWidth_/2&&(t.source=r)}})}l={}}addTriangle_(e,t,r,i,n,s){this.triangles_.push({source:[i,n,s],target:[e,t,r]})}addQuad_(e,t,r,n,s,o,l,u,h){let c=(0,i.boundingExtent)([s,o,l,u]),d=this.sourceWorldWidth_?(0,i.getWidth)(c)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&d>.5&&d<1,g=!1;if(h>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){let s=(0,i.boundingExtent)([e,t,r,n]);g=(0,i.getWidth)(s)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&d&&(g=d>.25||g)}if(!g&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!(0,i.intersects)(c,this.maxSourceExtent_))return;let m=0;if(!g&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(u[0])||!isFinite(u[1]))){if(h>0)g=!0;else if(1!=(m=(isFinite(s[0])&&isFinite(s[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(l[0])&&isFinite(l[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1))&&2!=m&&4!=m&&8!=m)return}if(h>0){if(!g){let t;let i=[(e[0]+r[0])/2,(e[1]+r[1])/2],n=this.transformInv_(i);t=f?((0,a.modulo)(s[0],p)+(0,a.modulo)(l[0],p))/2-(0,a.modulo)(n[0],p):(s[0]+l[0])/2-n[0];let o=(s[1]+l[1])/2-n[1];g=t*t+o*o>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){let i=[(t[0]+r[0])/2,(t[1]+r[1])/2],a=this.transformInv_(i),c=[(n[0]+e[0])/2,(n[1]+e[1])/2],d=this.transformInv_(c);this.addQuad_(e,t,i,c,s,o,a,d,h-1),this.addQuad_(c,i,r,n,d,a,l,u,h-1)}else{let i=[(e[0]+t[0])/2,(e[1]+t[1])/2],a=this.transformInv_(i),c=[(r[0]+n[0])/2,(r[1]+n[1])/2],d=this.transformInv_(c);this.addQuad_(e,i,c,n,s,a,d,u,h-1),this.addQuad_(i,t,r,c,a,o,l,d,h-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(11&m)==0&&this.addTriangle_(e,r,n,s,l,u),(14&m)==0&&this.addTriangle_(e,r,t,s,l,o),m&&((13&m)==0&&this.addTriangle_(t,n,e,o,u,s),(7&m)==0&&this.addTriangle_(t,n,r,o,u,l))}calculateSourceExtent(){let e=(0,i.createEmpty)();return this.triangles_.forEach(function(t,r,n){let s=t.source;(0,i.extendCoordinate)(e,s[0]),(0,i.extendCoordinate)(e,s[1]),(0,i.extendCoordinate)(e,s[2])}),e}getTriangles(){return this.triangles_}}}),a("gpSXC",function(e,r){let i;t(e.exports,"canvasPool",()=>u),t(e.exports,"calculateSourceResolution",()=>d),t(e.exports,"calculateSourceExtentResolution",()=>p),t(e.exports,"render",()=>f);var n=s("jZquI"),a=s("cgxQK"),o=s("gzr8q"),l=s("a6roo");let u=[];function h(e,t,r,i,n){e.beginPath(),e.moveTo(0,0),e.lineTo(t,r),e.lineTo(i,n),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(r,n)),e.restore()}function c(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function d(e,t,r,i){let s=(0,o.transform)(r,t,e),a=(0,o.getPointResolution)(t,i,r),l=t.getMetersPerUnit();void 0!==l&&(a*=l);let u=e.getMetersPerUnit();void 0!==u&&(a/=u);let h=e.getExtent();if(!h||(0,n.containsCoordinate)(h,s)){let t=(0,o.getPointResolution)(e,a,s)/a;isFinite(t)&&t>0&&(a/=t)}return a}function p(e,t,r,i){let s=d(e,t,(0,n.getCenter)(r),i);return(!isFinite(s)||s<=0)&&(0,n.forEachCorner)(r,function(r){return isFinite(s=d(e,t,r,i))&&s>0}),s}function f(e,t,r,s,o,d,p,f,g,m,y,v,b){let x;let E=(0,a.createCanvasContext2D)(Math.round(r*e),Math.round(r*t),u);if(v||(E.imageSmoothingEnabled=!1),0===g.length)return E.canvas;function _(e){return Math.round(e*r)/r}E.scale(r,r),E.globalCompositeOperation="lighter";let S=(0,n.createEmpty)();if(g.forEach(function(e,t,r){(0,n.extend)(S,e.extent)}),!b||1!==g.length||0!==m){let e=(0,n.getWidth)(S),t=(0,n.getHeight)(S);x=(0,a.createCanvasContext2D)(Math.round(r*e/s),Math.round(r*t/s),u),v||(x.imageSmoothingEnabled=!1);let i=r/s;g.forEach(function(e,t,r){let s=e.extent[0]-S[0],a=-(e.extent[3]-S[3]),o=(0,n.getWidth)(e.extent),l=(0,n.getHeight)(e.extent);e.image.width>0&&e.image.height>0&&x.drawImage(e.image,m,m,e.image.width-2*m,e.image.height-2*m,s*i,a*i,o*i,l*i)})}let O=(0,n.getTopLeft)(p);return f.getTriangles().forEach(function(e,t,o){let p;let f=e.source,m=e.target,y=f[0][0],b=f[0][1],R=f[1][0],A=f[1][1],w=f[2][0],C=f[2][1],T=_((m[0][0]-O[0])/d),L=_(-(m[0][1]-O[1])/d),P=_((m[1][0]-O[0])/d),I=_(-(m[1][1]-O[1])/d),M=_((m[2][0]-O[0])/d),N=_(-(m[2][1]-O[1])/d),G=y,k=b;y=0,b=0;let D=[[R-=G,A-=k,0,0,P-T],[w-=G,C-=k,0,0,M-T],[0,0,R,A,I-L],[0,0,w,C,N-L]],F=(0,l.solveLinearSystem)(D);if(F){if(E.save(),E.beginPath(),function(){if(void 0===i){let e=(0,a.createCanvasContext2D)(6,6,u);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",h(e,4,5,4,0),h(e,4,5,0,5);let t=e.getImageData(0,0,3,3).data;i=c(t,0)||c(t,4)||c(t,8),(0,a.releaseCanvas)(e),u.push(e.canvas)}return i}()||!v){E.moveTo(P,I);let e=T-P,t=L-I;for(let r=0;r<4;r++)E.lineTo(P+_((r+1)*e/4),I+_(r*t/3)),3!=r&&E.lineTo(P+_((r+1)*e/4),I+_((r+1)*t/3));E.lineTo(M,N)}else E.moveTo(P,I),E.lineTo(T,L),E.lineTo(M,N);if(E.clip(),E.transform(F[0],F[2],F[1],F[3],T,L),E.translate(S[0]-G,S[3]-k),x)p=x.canvas,E.scale(s/r,-s/r);else{let e=g[0],t=e.extent;p=e.image,E.scale((0,n.getWidth)(t)/p.width,-(0,n.getHeight)(t)/p.height)}E.drawImage(p,0,0),E.restore()}}),x&&((0,a.releaseCanvas)(x),u.push(x.canvas)),y&&(E.save(),E.globalCompositeOperation="source-over",E.strokeStyle="black",E.lineWidth=1,f.getTriangles().forEach(function(e,t,r){let i=e.target,n=(i[0][0]-O[0])/d,s=-(i[0][1]-O[1])/d,a=(i[1][0]-O[0])/d,o=-(i[1][1]-O[1])/d,l=(i[2][0]-O[0])/d,u=-(i[2][1]-O[1])/d;E.beginPath(),E.moveTo(a,o),E.lineTo(n,s),E.lineTo(l,u),E.closePath(),E.stroke()}),E.restore()),E.canvas}}),a("jRKCY",function(e,r){t(e.exports,"createOrUpdate",()=>n),t(e.exports,"default",()=>s);class i{constructor(e,t,r,i){this.minX=e,this.maxX=t,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function n(e,t,r,n,s){return void 0!==s?(s.minX=e,s.maxX=t,s.minY=r,s.maxY=n,s):new i(e,t,r,n)}var s=i}),a("8ElLP",function(e,r){t(e.exports,"default",()=>i);var i={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}}),a("jPVWI",function(e,r){t(e.exports,"default",()=>g);var i=s("3VGVQ"),n=s("610XN"),a=s("7qsnY"),o=s("gYZ48"),l=s("bFM0O"),u=s("j2K3b"),h=s("jZquI");s("agkzb"),s("eXEIX"),s("juLo9");var c=s("gIJof"),d=s("cWXYt"),p=s("86esn");class f extends i.default{constructor(e){super(e=e||{}),e.renderOrder=d.ordering,e.style=(0,d.getStyleFn)({ghost:e.ghostStyle}),e.displayInLayerSwitcher=!1,e.dessin=!0,e.popupHoverSelect=!1,this.layerVector_=new n.default(e),this.layerVector_.set("parent",this),this.getSource().setAttributions(e.copyright||""),this.layerVector_.selectable=()=>this.selectable(),this.layerVector_.set("name","vector"),this.getLayers().push(this.layerVector_),this.layerImage_=new a.default(e),this.layerImage_.set("parent",this),this.layerImage_.set("name","image"),this.getLayers().push(this.layerImage_),this.layerImage_.selectable=()=>this.selectable(),this.layerImage_.on(["filter","change:visible"],()=>{setTimeout(()=>{if(this._mcFilter&&this.layerImage_.getVisible()){let e=document.body.querySelector(".ol-viewport .ol-layers ."+this.layerImage_.getClassName());if(e){let t=[],r=[];this._mcFilter.get("filter")&&t.push(this._mcFilter.get("filter")),this._mcFilter.get("blend")&&r.push(this._mcFilter.get("blend")),e.style.filter=t.join(" "),e.style.mixBlendMode=r.join(" ")}}})}),this.on("change:visible",()=>this.layerImage_.dispatchEvent("filter")),this.getSource().getFeatures().forEach(e=>e._layer=this),this.setMode("vector"),this.getSource().on("addfeature",(function(t){let r=t.feature;r._layer=this;let i=Object.values(this.getAttributes());if(i.length){let e=r.getProperties();i.forEach(t=>{Object.prototype.hasOwnProperty.call(e,t.name)||r.set(t.name,t.default)})}e.onaddfeature&&e.onaddfeature(t)}).bind(this)),this.getSource().on("removefeature",(function(e){delete e.feature._layer}).bind(this)),(0,c.default)(()=>{this.clearCache(),this.layerVector_.changed()}),this.layerVector_.on("prerender",e=>{"cluster"===this.getMode()&&e.frameState.viewState.zoom<=this.get("maxZoomCluster")&&(this.layerVector_.setVisible(!1),this.layerCluster_.setVisible(!0),this.activateCluster(!0))})}}f.prototype.addFilter=function(e){(0,i.default).prototype.addFilter.call(this,e),this.layerVector_.addFilter(e),this.layerCluster_&&this.layerCluster_.addFilter(e),this.layerImage_.addFilter(e),this.layerImage_.dispatchEvent({type:"filter"})},f.prototype.removeFilter=function(e){(0,i.default).prototype.removeFilter.call(this,e),this.layerVector_.removeFilter(e),this.layerCluster_&&this.layerCluster_.removeFilter(e),this.layerImage_.removeFilter(e),this.layerImage_.dispatchEvent({type:"filter"})},f.prototype.getSource=function(){return this.layerVector_.getSource()},f.prototype.getStyle=function(){return this.layerVector_.getStyle()},f.prototype.getGeomTypes=function(e){var t={};return(this.getSource().getFeatures().forEach(e=>t[e.getGeometry().getType()]=!0),e)?!(Object.getOwnPropertyNames(t).length>2)&&t[e]:t},f.prototype.getPopupContent=function(e){return e?e.getPopupContent(this._popupContent||{}):this._popupContent||{}},f.prototype.setPopupContent=function(e){!e||e instanceof Array?this._popupContent={}:this._popupContent=e},f.prototype.setIgnStyle=function(e,t){(!this._ignStyle||Array.isArray(this._ignStyle))&&(this._ignStyle={}),void 0===t?this._ignStyle=e:""!==t&&/width|radius|size|offset/i.test(e)&&(t=Number(t)),""!==t&&t!=f.prototype.defaultIgnStyle[e]?this._ignStyle[e]=t:delete this._ignStyle[e]},f.prototype.getIgnStyle=function(e){return e?!0===e?Object.assign({},p.defaultIgnStyle,this._ignStyle):(0,d.getIgnStyle)(e):this._ignStyle},f.prototype.defaultIgnStyle=p.defaultIgnStyle,f.prototype.getConditionStyle=function(){return this._conditionStyle||[]},f.prototype.setConditionStyle=function(e){this._conditionStyle=e},f.prototype.getAttributes=function(){return this._attributes||(this._attributes={}),this._attributes},f.prototype.setAttributes=function(e){Array.isArray(e)?(this._attributes={},e.forEach(e=>this._attributes[e.name]=e)):this._attributes=e},f.prototype.clearCache=function(){(0,d.clearCache)()},f.prototype.setMode=function(e,t){switch(t=t||{},this._renderMode=e,this.layerVector_.setVisible(!1),this.layerImage_.setVisible(!1),this.layerCluster_&&(this.layerCluster_.setVisible(!1),this.activateCluster(!1)),isNaN(parseFloat(t.maxZoomCluster))||this.set("maxZoomCluster",parseFloat(t.maxZoomCluster)),void 0===t.clusterDistance&&(t.clusterDistance=t.distance),this.set("clusterDistance",parseFloat(t.clusterDistance||t.distance)||40),this.set("clusterDash",!!t.clusterDash),this.set("clusterColor",!!t.clusterColor),e){case"cluster":if(!this.layerCluster_){var r=new o.default({geometryFunction:function(e){var t=e.getGeometry();return"Point"===t.getType()?t:new u.default((0,h.getCenter)(t.getExtent()))},distance:t.clusterDistance||40,source:this.getSource()});this.layerCluster_=new l.default({name:"cluster",className:this.getClassName(),displayInLayerSwitcher:!1,source:r,animationDuration:t.animationDuration}),this.getLayers().push(this.layerCluster_),this.layerCluster_.set("parent",this),this.layerCluster_.selectable=()=>this.selectable(),this.layerCluster_.on("prerender",e=>{e.frameState.viewState.zoom>this.get("maxZoomCluster")&&(this.layerVector_.setVisible(!0),this.layerCluster_.setVisible(!1),this.activateCluster(!1))})}t.clusterDistance&&this.layerCluster_.getSource().setDistance(t.clusterDistance),this.layerCluster_.setStyle((0,d.getStyleFn)(t)),this.layerCluster_.setVisible(!0),this.activateCluster(!0);break;case"image":this.layerImage_.setVisible(!0);break;default:this.layerVector_.setVisible(!0)}},f.prototype.selectable=function(e){return!0===e?this.set("selectable",!0):!1===e&&this.set("selectable",!1),!1!==this.get("selectable")},f.prototype.getMode=function(){return this._renderMode||"vector"},f.prototype.getLayer=function(){switch(this.getMode()){case"cluster":return this.layerCluster_;case"image":return this.layerImage_;default:return this.layerVector_}},f.prototype.setDeclutter=function(e){this.layerVector_.declutter_=!!e,this.layerImage_.declutter_=!!e},f.prototype.getDeclutter=function(){return this.layerVector_.getDeclutter()},f.prototype.activateCluster=function(e,t){this.layerCluster_&&(this.layerCluster_.getSource().set("inactive",!e),e&&!t&&this.layerCluster_.getSource().refresh())};var g=f}),a("7qsnY",function(e,r){t(e.exports,"default",()=>o);var i=s("2YyN3"),n=s("kVTQK");class a extends i.default{constructor(e){let t=Object.assign({},e=e||{});delete t.imageRatio,super(t),this.imageRatio_=void 0!==e.imageRatio?e.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new n.default(this)}}var o=a}),a("kVTQK",function(r,i){t(r.exports,"default",()=>m);var n=s("fnQuI"),a=s("6M65l"),o=s("cw4dl"),l=s("34ffr"),u=s("50PZ9"),h=s("4wfAy"),c=s("bCUH1"),d=s("14PDX"),p=s("djufG"),f=s("jZquI");class g extends n.default{constructor(e){super(e),this.vectorRenderer_=new a.default(e),this.layerImageRatio_=e.getImageRatio(),this.coordinateToVectorPixelTransform_=(0,d.create)(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(e){if(!this.vectorRenderer_)return Promise.resolve([]);let t=(0,d.apply)(this.coordinateToVectorPixelTransform_,(0,d.apply)(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(t)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(t){let r=t.pixelRatio,i=t.viewState,n=i.resolution,s=t.viewHints,a=this.vectorRenderer_,g=t.extent;1!==this.layerImageRatio_&&(g=g.slice(0),(0,f.scaleFromCenter)(g,this.layerImageRatio_));let m=(0,f.getWidth)(g)/n,y=(0,f.getHeight)(g)/n;if(!s[c.default.ANIMATING]&&!s[c.default.INTERACTING]&&!(0,f.isEmpty)(g)){a.useContainer(null,null);let s=a.context,c=Object.assign({},t.layerStatesArray[t.layerIndex],{opacity:1}),f=Object.assign({},t,{declutterTree:new(e(h))(9),extent:g,size:[m,y],viewState:Object.assign({},t.viewState,{rotation:0}),layerStatesArray:[c],layerIndex:0}),v=!0,b=new l.default(g,n,r,s.canvas,function(e){a.prepareFrame(f)&&a.replayGroupChanged&&(a.clipping=!1,a.renderFrame(f,null)&&(a.renderDeclutter(f),v=!1),e())});b.addEventListener(o.default.CHANGE,()=>{if(b.getState()!==u.default.LOADED)return;this.image_=v?null:b;let e=b.getPixelRatio(),t=(0,p.fromResolutionLike)(b.getResolution())*r/e;this.renderedResolution=t,this.coordinateToVectorPixelTransform_=(0,d.compose)(this.coordinateToVectorPixelTransform_,m/2,y/2,1/t,-1/t,0,-i.center[0],-i.center[1])}),b.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(e,t,r,i,n){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,r,i,n):super.forEachFeatureAtCoordinate(e,t,r,i,n)}}var m=g}),a("fnQuI",function(e,r){t(e.exports,"default",()=>c);var i=s("ddIVC"),n=s("50PZ9"),a=s("bCUH1"),o=s("14PDX"),l=s("jZquI"),u=s("gzr8q");class h extends i.default{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){let t=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,i=e.viewState,s=i.resolution,o=this.getLayer().getSource(),h=e.viewHints,c=e.extent;if(void 0!==t.extent&&(c=(0,l.getIntersection)(c,(0,u.fromUserExtent)(t.extent,i.projection))),!h[a.default.ANIMATING]&&!h[a.default.INTERACTING]&&!(0,l.isEmpty)(c)){if(o){let e=i.projection,t=o.getImage(c,s,r,e);t&&(this.loadImage(t)?this.image_=t:t.getState()===n.default.EMPTY&&(this.image_=null))}else this.image_=null}return!!this.image_}getData(e){let t=this.frameState;if(!t)return null;let r=this.getLayer(),i=(0,o.apply)(t.pixelToCoordinateTransform,e.slice()),n=r.getExtent();if(n&&!(0,l.containsCoordinate)(n,i))return null;let s=this.image_.getExtent(),a=this.image_.getImage(),u=(0,l.getWidth)(s),h=Math.floor(a.width*((i[0]-s[0])/u));if(h<0||h>=a.width)return null;let c=(0,l.getHeight)(s),d=Math.floor(a.height*((s[3]-i[1])/c));return d<0||d>=a.height?null:this.getImageData(a,h,d)}renderFrame(e,t){let r=this.image_,i=r.getExtent(),n=r.getResolution(),[s,a]=Array.isArray(n)?n:[n,n],h=r.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],d=e.pixelRatio,p=e.viewState,f=p.center,g=p.resolution,m=e.extent,y=p.resolution,v=p.rotation,b=Math.round((0,l.getWidth)(m)/y*d),x=Math.round((0,l.getHeight)(m)/y*d);(0,o.compose)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/d,1/d,v,-b/2,-x/2),(0,o.makeInverse)(this.inversePixelTransform,this.pixelTransform);let E=(0,o.toString)(this.pixelTransform);this.useContainer(t,E,this.getBackground(e));let _=this.context,S=_.canvas;S.width!=b||S.height!=x?(S.width=b,S.height=x):this.containerReused||_.clearRect(0,0,b,x);let O=!1,R=!0;if(c.extent){let t=(0,u.fromUserExtent)(c.extent,p.projection);(O=(R=(0,l.intersects)(t,e.extent))&&!(0,l.containsExtent)(t,e.extent))&&this.clipUnrotated(_,e,t)}let A=r.getImage(),w=(0,o.compose)(this.tempTransform,b/2,x/2,d*s/(g*h),d*a/(g*h),0,h*(i[0]-f[0])/s,h*(f[1]-i[3])/a);this.renderedResolution=a*d/h;let C=A.width*w[0],T=A.height*w[3];if(this.getLayer().getSource().getInterpolate()||(_.imageSmoothingEnabled=!1),this.preRender(_,e),R&&C>=.5&&T>=.5){let e;let t=w[4],r=w[5],i=c.opacity;1!==i&&(e=_.globalAlpha,_.globalAlpha=i),_.drawImage(A,0,0,+A.width,+A.height,t,r,C,T),1!==i&&(_.globalAlpha=e)}return this.postRender(_,e),O&&_.restore(),_.imageSmoothingEnabled=!0,E!==S.style.transform&&(S.style.transform=E),this.container}}var c=h}),a("34ffr",function(e,r){t(e.exports,"default",()=>o);var i=s("50PZ9"),n=s("kUxvm");class a extends n.default{constructor(e,t,r,n,s){super(e,t,r,void 0!==s?i.default.IDLE:i.default.LOADED),this.loader_=void 0!==s?s:null,this.canvas_=n,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=i.default.ERROR):this.state=i.default.LOADED,this.changed()}load(){this.state==i.default.IDLE&&(this.state=i.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}var o=a}),a("djufG",function(e,r){t(e.exports,"fromResolutionLike",()=>i);function i(e){return Array.isArray(e)?Math.min(...e):e}}),a("gYZ48",function(e,r){t(e.exports,"default",()=>o);var i=s("hyHoG"),n=i.default.prototype.cluster;i.default.prototype.cluster=function(){this.get("inactive")||n.call(this)};var a=i.default.prototype.refresh;i.default.prototype.refresh=function(){this.get("inactive")||a.call(this)};var o=i.default}),a("hyHoG",function(e,r){t(e.exports,"default",()=>p);var i=s("cw4dl"),n=s("iGyOD"),a=s("j2K3b"),o=s("20LS2"),l=s("d1ltq"),u=s("eJ4LZ"),h=s("jZquI"),c=s("lVQul");class d extends o.default{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(e){let t=e.getGeometry();return(0,u.assert)(!t||"Point"===t.getType(),"The default `geometryFunction` can only handle `Point` or null geometries"),t},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(i.default.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(i.default.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){let r=0===e?0:Math.min(t,e)/e,i=e!==this.distance||this.interpolationRatio!==r;this.distance=e,this.minDistance=t,this.interpolationRatio=r,i&&this.refresh()}cluster(){if(void 0===this.resolution||!this.source)return;let e=(0,h.createEmpty)(),t=this.distance*this.resolution,r=this.source.getFeatures(),i={};for(let n=0,s=r.length;n<s;n++){let s=r[n];if(!((0,c.getUid)(s) in i)){let r=this.geometryFunction(s);if(r){let n=r.getCoordinates();(0,h.createOrUpdateFromCoordinate)(n,e),(0,h.buffer)(e,t,e);let s=this.source.getFeaturesInExtent(e).filter(function(e){let t=(0,c.getUid)(e);return!(t in i)&&(i[t]=!0,!0)});this.features.push(this.createCluster(s,e))}}}}createCluster(e,t){let r=[0,0];for(let t=e.length-1;t>=0;--t){let i=this.geometryFunction(e[t]);i?(0,l.add)(r,i.getCoordinates()):e.splice(t,1)}(0,l.scale)(r,1/e.length);let i=(0,h.getCenter)(t),s=this.interpolationRatio,o=new a.default([r[0]*(1-s)+i[0]*s,r[1]*(1-s)+i[1]*s]);return this.createCustomCluster_?this.createCustomCluster_(o,e):new n.default({geometry:o,features:e})}}var p=d}),a("20LS2",function(e,r){t(e.exports,"default",()=>O);var i=s("31ZqB"),n=s("eHnTw"),a=s("iTTi2"),o=s("cw4dl"),l=s("5dXmB"),u=s("9iujS"),h=s("29SgV"),c=s("205E0"),d=s("gKdkP"),p=s("eQaCk"),f=s("gmEQj"),g=s("eJ4LZ"),m=s("jZquI"),y=s("kBSVF"),v=s("lVQul"),b=s("kKEgb"),x=s("bsgMw"),E=s("kWPIP");class _ extends a.default{constructor(e,t,r){super(e),this.feature=t,this.features=r}}class S extends c.default{constructor(e){let t,r;e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=p.VOID,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&((0,g.assert)(this.format_,"`format` must be set when `url` is set"),this.loader_=(0,E.xhr)(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:f.all;let n=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=n?new u.default:null,this.loadedExtentsRtree_=new u.default,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(r=(t=e.features).getArray()),n||void 0!==t||(t=new i.default(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==t&&this.bindFeaturesCollection_(t)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=(0,v.getUid)(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let r=e.getGeometry();if(r){let t=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new _(d.default.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof h.default||(this.featureChangeKeys_[e]=[(0,x.listen)(t,o.default.CHANGE,this.handleFeatureChange_,this),(0,x.listen)(t,l.default.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let r=!0;if(void 0!==t.getId()){let e=String(t.getId());if(e in this.idIndex_){if(t instanceof h.default){let i=this.idIndex_[e];i instanceof h.default?Array.isArray(i)?i.push(t):this.idIndex_[e]=[i,t]:r=!1}else r=!1}else this.idIndex_[e]=t}return r&&((0,g.assert)(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],r=[],i=[];for(let t=0,i=e.length;t<i;t++){let i=e[t],n=(0,v.getUid)(i);this.addToIndex_(n,i)&&r.push(i)}for(let e=0,n=r.length;e<n;e++){let n=r[e],s=(0,v.getUid)(n);this.setupChangeEvents_(s,n);let a=n.getGeometry();if(a){let e=a.getExtent();t.push(e),i.push(n)}else this.nullGeometryFeatures_[s]=n}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(d.default.ADDFEATURE))for(let e=0,t=r.length;e<t;e++)this.dispatchEvent(new _(d.default.ADDFEATURE,r[e]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(d.default.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),this.addEventListener(d.default.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),e.addEventListener(n.default.ADD,e=>{t||(t=!0,this.addFeature(e.element),t=!1)}),e.addEventListener(n.default.REMOVE,e=>{t||(t=!0,this.removeFeature(e.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(x.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(let e in this.featuresRtree_.forEach(e=>{this.removeFeatureInternal(e)}),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new _(d.default.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){let i=r.getGeometry();if(i instanceof h.default||i.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(r){let i=r.getGeometry();if(i instanceof h.default||i.intersectsExtent(e)){let e=t(r);if(e)return e}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,b.isEmpty)(this.nullGeometryFeatures_)||(0,y.extend)(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t}getFeaturesInExtent(e,t){return this.featuresRtree_?t&&t.canWrapX()&&this.getWrapX()?[].concat(...(0,m.wrapAndSliceX)(e,t).map(e=>this.featuresRtree_.getInExtent(e))):this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let r=e[0],i=e[1],n=null,s=[NaN,NaN],a=1/0,o=[-1/0,-1/0,1/0,1/0];return t=t||p.TRUE,this.featuresRtree_.forEachInExtent(o,function(e){if(t(e)){let t=e.getGeometry(),l=a;if((a=t instanceof h.default?0:t.closestPointXY(r,i,s,a))<l){n=e;let t=Math.sqrt(a);o[0]=r-t,o[1]=i-t,o[2]=r+t,o[3]=i+t}}}),n}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,r=(0,v.getUid)(t),i=t.getGeometry();if(i){let e=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);let n=t.getId();if(void 0!==n){let e=n.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new _(d.default.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return void 0!==t?t in this.idIndex_:(0,v.getUid)(e) in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,b.isEmpty)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,r){let i=this.loadedExtentsRtree_,n=this.strategy_(e,t,r);for(let e=0,s=n.length;e<s;++e){let s=n[e];i.forEachInExtent(s,function(e){return(0,m.containsExtent)(e.extent,s)})||(++this.loadingExtentsCount_,this.dispatchEvent(new _(d.default.FEATURESLOADSTART)),this.loader_.call(this,s,t,r,e=>{--this.loadingExtentsCount_,this.dispatchEvent(new _(d.default.FEATURESLOADEND,void 0,e))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new _(d.default.FEATURESLOADERROR))}),i.insert(s,{extent:s.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t;let r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(r){if((0,m.equals)(r.extent,e))return t=r,!0}),t&&r.remove(t)}removeFeature(e){if(!e)return;let t=(0,v.getUid)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=(0,v.getUid)(e),r=this.featureChangeKeys_[t];if(!r)return;r.forEach(x.unlistenByKey),delete this.featureChangeKeys_[t];let i=e.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[t],this.dispatchEvent(new _(d.default.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(let r in this.idIndex_){let i=this.idIndex_[r];if(e instanceof h.default&&Array.isArray(i)&&i.includes(e))i.splice(i.indexOf(e),1);else if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}}return t}setLoader(e){this.loader_=e}setUrl(e){(0,g.assert)(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader((0,E.xhr)(e,this.format_))}}var O=S}),a("9iujS",function(r,i){t(r.exports,"default",()=>u);var n=s("4wfAy"),a=s("jZquI"),o=s("lVQul"),l=s("kKEgb"),u=class{constructor(t){this.rbush_=new(e(n))(t),this.items_={}}insert(e,t){let r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[(0,o.getUid)(t)]=r}load(e,t){let r=Array(t.length);for(let i=0,n=t.length;i<n;i++){let n=e[i],s=t[i],a={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:s};r[i]=a,this.items_[(0,o.getUid)(s)]=a}this.rbush_.load(r)}remove(e){let t=(0,o.getUid)(e),r=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(r)}update(e,t){let r=this.items_[(0,o.getUid)(t)],i=[r.minX,r.minY,r.maxX,r.maxY];(0,a.equals)(i,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(e){let t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(e){return e.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let r;for(let i=0,n=e.length;i<n&&!(r=t(e[i]));i++);return r}isEmpty(){return(0,l.isEmpty)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){let t=this.rbush_.toJSON();return(0,a.createOrUpdate)(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){for(let t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]}}}),a("205E0",function(e,r){t(e.exports,"default",()=>l);var i=s("fnScq"),n=s("gzr8q");class a extends i.default{constructor(e){super(),this.projection=(0,n.get)(e.projection),this.attributions_=o(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;let t=this;this.viewPromise_=new Promise(function(e,r){t.viewResolver=e,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=o(e),this.changed()}setState(e){this.state_=e,this.changed()}}function o(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}var l=a}),a("gKdkP",function(e,r){t(e.exports,"default",()=>i);var i={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}}),a("gmEQj",function(e,r){t(e.exports,"all",()=>n),t(e.exports,"bbox",()=>a),t(e.exports,"tile",()=>o);var i=s("gzr8q");function n(e,t){return[[-1/0,-1/0,1/0,1/0]]}function a(e,t){return[e]}function o(e){return function(t,r,n){let s=e.getZForResolution((0,i.fromUserResolution)(r,n)),a=e.getTileRangeForExtentAndZ((0,i.fromUserExtent)(t,n),s),o=[],l=[s,0,0];for(l[1]=a.minX;l[1]<=a.maxX;++l[1])for(l[2]=a.minY;l[2]<=a.maxY;++l[2])o.push((0,i.toUserExtent)(e.getTileCoordExtent(l),n));return o}}}),a("kWPIP",function(e,r){t(e.exports,"loadFeaturesXhr",()=>n),t(e.exports,"xhr",()=>a);var i=s("eQaCk");function n(e,t,r,i,n,s,a){let o=new XMLHttpRequest;o.open("GET","function"==typeof e?e(r,i,n):e,!0),"arraybuffer"==t.getType()&&(o.responseType="arraybuffer"),o.withCredentials=!1,o.onload=function(e){if(!o.status||o.status>=200&&o.status<300){let e;let i=t.getType();"json"==i?e=JSON.parse(o.responseText):"text"==i?e=o.responseText:"xml"==i?(e=o.responseXML)||(e=new DOMParser().parseFromString(o.responseText,"application/xml")):"arraybuffer"==i&&(e=o.response),e?s(t.readFeatures(e,{extent:r,featureProjection:n}),t.readProjection(e)):a()}else a()},o.onerror=a,o.send()}function a(e,t){return function(r,s,a,o,l){let u=this;n(e,t,r,s,a,function(e,t){u.addFeatures(e),void 0!==o&&o(e)},l||i.VOID)}}}),a("bFM0O",function(e,r){t(e.exports,"default",()=>d);var i=s("610XN"),n=s("20LS2"),a=s("iGyOD"),o=s("jZ9vT"),l=s("jZquI"),u=s("j2K3b"),h=s("kTGMi"),c=s("bQRGA"),d=class extends i.default{constructor(e){var t=e||{};super(t),this.oldcluster=new n.default,this.clusters=[],this.animation={start:!1},this.set("animationDuration","number"==typeof t.animationDuration?t.animationDuration:700),this.set("animationMethod",t.animationMethod||o.easeOut),this.getSource().on("change",this.saveCluster.bind(this)),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))}saveCluster(){if(this.oldcluster&&(this.oldcluster.clear(),this.get("animationDuration"))){var e=this.getSource().getFeatures();e.length&&e[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=e.slice(0),this.sourceChanged=!0)}}getClusterForFeature(e,t){for(var r,i=0;r=t[i];i++){var n=r.get("features");if(n&&n.length){for(var s,a=0;s=n[a];a++)if(e===s)return r}}return!1}stopAnimation(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]}animate(e){var t=this.get("animationDuration");if(t){var r,i,n=e.frameState.viewState.resolution,s=this.animation,o=e.frameState.time;if(s.resolution!=n&&this.sourceChanged){var d=e.frameState.extent;for(s.resolution<n?(d=(0,l.buffer)(d,100*n),s.cA=this.oldcluster.getFeaturesInExtent(d),s.cB=this.getSource().getFeaturesInExtent(d),s.revers=!1):(d=(0,l.buffer)(d,100*n),s.cA=this.getSource().getFeaturesInExtent(d),s.cB=this.oldcluster.getFeaturesInExtent(d),s.revers=!0),s.clusters=[],r=0;i=s.cA[r];r++){var p=i.get("features");if(p&&p.length){var f=this.getClusterForFeature(p[0],s.cB);f&&s.clusters.push({f:i,pt:f.getGeometry().getCoordinates()})}}if(s.resolution=n,this.sourceChanged=!1,!s.clusters.length||s.clusters.length>1e3){this.stopAnimation();return}o=s.start=new Date().getTime()}if(s.start){var g=e.vectorContext||(0,h.default)(e),m=(o-s.start)/t;m>1&&(this.stopAnimation(),m=1),m=this.get("animationMethod")(m);var y=this.getStyle(),v="function"==typeof y?y:y.length?function(){return y}:function(){return[y]};for(e.context.save(),e.context.globalAlpha=this.getOpacity(),r=0;f=s.clusters[r];r++){var b=f.f.getGeometry().getCoordinates(),x=b[0]-f.pt[0],E=b[1]-f.pt[1];s.revers?(b[0]=f.pt[0]+m*x,b[1]=f.pt[1]+m*E):(b[0]=b[0]-m*x,b[1]=b[1]-m*E);var _=v(f.f,n,!0);if(_.length||(_=[_]),1!==f.f.get("features").length||x||E){var S=new u.default(b);p=new a.default(S)}else p=f.f.get("features")[0];for(var O,R=0;O=_[R];R++)if(O.getText()&&/\n/.test(O.getText().getText())){var A,w=O.getText().getOffsetX(),C=O.getText().getOffsetY(),T=O.getText().getRotation()||0,L=1.2*Number((O.getText().getFont()||"10px").match(/\d+/)),P=O.getText().getText().split("\n"),I=P.length-1,M=O.clone();P.forEach(function(t,r){switch(1==r&&(M.setImage(),M.setFill(),M.setStroke()),O.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":A=I;break;case"hanging":case"top":A=0;break;default:A=I/2}M.getText().setOffsetX(w-Math.sin(T)*L*(r-A)),M.getText().setOffsetY(C+Math.cos(T)*L*(r-A)),M.getText().setText(t),g.drawFeature(p,(0,c.default)(e,M))})}else g.drawFeature(p,(0,c.default)(e,O))}e.context.restore(),e.frameState.animate=!0,e.context.save(),e.context.beginPath(),e.context.rect(0,0,0,0),e.context.clip(),this.clip_=!0}}}postanimate(e){this.clip_&&(e.context.restore(),this.clip_=!1)}}}),a("kTGMi",function(e,r){t(e.exports,"default",()=>a);var i=s("14PDX"),n=s("htGzg"),a=function(e){let t=e.frameState,r=(0,i.multiply)(e.inversePixelTransform.slice(),t.coordinateToPixelTransform);return new n.default(e.context,t.pixelRatio,t.extent,r,t.viewState.rotation)}}),a("bQRGA",function(e,r){t(e.exports,"default",()=>o);var i=s("lVQul"),n=s("ayeEa"),a=(0,i.VERSION).split(".");a=100*parseInt(a[0])+parseInt(a[1]);var o=function(e,t){var r=e.frameState.pixelRatio;if(a>605&&a<700&&1!==r&&t.getImage() instanceof n.default){var i=(t=t.clone()).getImage();i.setScale(i.getScale()*r);var s=i.getAnchor();if(s&&i.setDisplacement){var o=i.getDisplacement();o&&(o[0]-=s[0]/r,o[1]+=s[1]/r,i.setAnchor([0,0]))}else s&&(s[0]/=r,s[1]/=r)}return t}}),a("cWXYt",function(e,r){t(e.exports,"clearCache",()=>O),t(e.exports,"getIgnStyle",()=>C),t(e.exports,"ordering",()=>T),t(e.exports,"getStyleFn",()=>G),t(e.exports,"getSelectStyleFn",()=>D),t(e.exports,"style2IgnStyle",()=>s("hwcfb").default),t(e.exports,"defaultIgnStyle",()=>s("86esn").defaultIgnStyle);var i=s("l9IGS"),n=s("kuKBR"),a=s("9yR4T"),o=s("4lFOe"),l=s("d5AAH"),u=s("2zf1Y"),h=s("lqNjm"),c=s("lW8xZ"),d=s("j2K3b"),p=s("cgPpQ"),f=s("ljDIj"),g=s("boqwt"),m=s("h1ihb"),y=s("3yg5q"),v=s("foAUE");s("hwcfb");var b=s("2iBkg"),x=s("gVmm4"),E=s("l956U"),_=s("86esn");let S={};function O(){S={},window.devicePixelRatio}function R(e){return new f.default(function e(t){if(!t||!t[0].length||!t[0][0].length)return t;for(var r=[],i=0;i<t.length;i++)r=r.concat(e(t[i]));return r}(e.getGeometry().getCoordinates()))}window.devicePixelRatio;let A={};function w(e,t){var r=e.join(",");if(!Object.prototype.hasOwnProperty.call(A,r))try{for(var i=[],n=0;n<3;n++){var s=e[n]/255;s<=.03928?i[n]=s/12.92:i[n]=Math.pow((s+.055)/1.055,2.4)}A[r]=.2126*i[0]+.7152*i[1]+.0722*i[2]}catch(e){A[r]=1}return A[r]<(t||.3)}function C(e,t){var r={};for(var i in _.defaultIgnStyle)r[i]=e.getIgnStyle(i,t);t||!e.getIgnStyle().pointGlyph||e.getIgnStyle().pointIcon||(r.pointIcon="");var n=!r.pointIcon&&/poi|bubble|marker|coma|shield|triangle|blazon/.test(e.getIgnStyle("pointForm",t));switch(r.pointShadow=n,r.pointOffsetY=n?1:0,/Point/.test(e.getGeometry().getType())?r.textPlacement="point":/Line/.test(e.getGeometry().getType())?"point"===r.textPlacement&&(r.textAlign="center",r.textBaseline="middle"):(r.textAlign="center",r.textPlacement="point",r.textBaseline="middle"),r.strokeDash){case"flecheRond":r.strokeDash="",r.strokeArrow="circle";break;case"flecheCarre":r.strokeDash="",r.strokeArrow="square";break;case"flecheTriangle":r.strokeDash="",r.strokeArrow="triangle"}return r}function T(e,t){let r=Number((e.getIgnStyle()||{}).zIndex||0),i=Number((t.getIgnStyle()||{}).zIndex||0);return r===i?t.getGeometry().getFirstCoordinate()[1]-e.getGeometry().getFirstCoordinate()[1]:r-i}function L(e){return Math.max(8,Math.min(.75*e,20))}function P(e){var t,r=(e=e||{}).color||(e.size>25?[192,0,0]:e.size>8?[255,128,0]:[0,128,0]),i=L(e.size);return!1!==e.dash&&(t=[0,t=2*Math.PI*i/6,t,t,t,t,t]),new o.default({radius:i,stroke:new l.default({color:"rgba("+r.join(",")+",0.5)",width:15,lineDash:t,lineCap:"butt"}),fill:new u.default({color:"rgba("+r.join(",")+",1)"}),declutterMode:"none"})}function I(e){var t=e.get("features");return t&&1===t.length?e.get("features")[0].getGeometry():e.getGeometry()}let M=new x.default,N={Point:/point/i,LineString:/linestring/i,Polygon:/polygon/i};function G(e){let t;e||(e={});let r="#fff";e.clusterColor&&(r=w(t=(0,h.asArray)(e.clusterColor).slice(0,3))?"#fff":"#000");let s=e.clusterDash,a=(e.clusterColor||"")+"-"+(!1===e.clusterDash?0:1);return function(o,l,h){window.devicePixelRatio;var c,d,p,f,g,m=o.get("features");if(m){if(1!=m.length)return c=t,d=r,(g=S[f="cluster:"+(p=m.length)+"-"+a])||(g=S[f]=new i.default({image:P({size:p,color:c,dash:s}),text:new n.default({text:p.toString(),fill:new u.default({color:d})})})),[g];o=m[0]}return o.getLayer()&&o.getLayer().getConditionStyle&&o.getLayer().getConditionStyle().length?function(e,t,r,i){let n=e.getLayer().getConditionStyle();for(let a=0;a<n.length;a++){let o=n[a];if(!o.symbol||N[o.symbol.getType()].test(e.getGeometry().getType())){let t=o.condition.conditions;var s=o.condition.all;for(let r=0;r<t.length;r++){let i=t[r];i.attr&&(s=o.condition.all?s&&M._checkCondition(e,i,o.condition.useCase):s||M._checkCondition(e,i,o.condition.useCase))}}if(s){if(!o.symbol)return[];return k(e,t,r,o.symbol.getIgnStyle(),i)}}return k(e,t,r,e.getLayer().getIgnStyle(!0),i)}(o,h,e,t):k(o,h,e,null,t)}}function k(e,t,r,s,a){var p,f,x,_,O,R=C(e,s);R.pointIcon=(0,E.default).doData(R.pointIcon,e.getProperties());var A=e.getGeometry().getType(),T=e.get(R.labelAttribute)||R.labelAttribute,L={main:(M=(M=r.select)?"sel":"")+(t?"mainc":"main:")+R.pointRadius+"-"+R.pointIcon+"-"+R.pointFrame+"-"+R.pointCrop+"-"+R.pointGlyph+"-"+R.pointForm+"-"+R.symbolColor+"-"+R.pointColor+"-"+R.pointStrokeColor+"-"+R.pointStrokeWidth+"-"+R.pointRotation+"-"+R.pointGradient+"-"+R.strokeWidth+"-"+R.strokeDash+"-"+R.strokeColor+"-"+R.fillColor+"-"+R.fillPattern+"-"+R.sizePattern+"-"+R.spacingPattern+"-"+R.anglePattern+"-"+R.offsetPattern+"-"+R.scalePattern+"-"+R.fillColorPattern+"-",shadow:M+"shad:"+R.poointRadius,arrow:M+"arrow:"+R.strokeWidth+"-"+R.strokeArrow+"-"+R.strokeColor+"-",text:M+"text:"+R.pointRadius+"-"+R.textColor+"-"+R.textStyle+"-"+R.textSize+"-"+R.textFont+"-"+R.textOutlineColor+"-"+R.textOutlineWidth+"-"+R.textAlign+"-"+R.textBaseline+"-"+R.textBgFill+"-"+R.textBgStroke+"-"+R.textBgStrokeWidth+"-"+R.textPlacement+"-"+R.textOverflow};if(!(G=S[L.main])){var M,N,G,k,D=function(e){var t=e.strokeDash;if(t&&"string"==typeof t&&(t=e.strokeDash.split(","),e.strokeWidth>0))for(var r in t)t[r]=Math.max(0,(Number(t[r])+r%2*2-1)*e.strokeWidth)*(c.DEVICE_PIXEL_RATIO||1);return t}(R);k=t&&"Point"!==A?P({size:1,color:a}):function(e,t,r,i,n){var s;if(t.pointIcon&&t.pointRadius){let i=(0,b.getMediaURL)(t.pointIcon),n=(0,h.asArray)(t.pointColor||"transparent")[3],a=t.pointFrame&&n&&0!==t.pointStrokeWidth?2:0,o=Math.min(t.pointRadius,t.pointFrame?t.pointStrokeWidth:0);(s=new g.default({src:i,crossOrigin:"anonymous",kind:t.pointFrame,crop:t.pointCrop,radius:t.pointRadius-o,offsetX:a,offsetY:"anchored"===t.pointFrame?8-a-t.pointRadius:a,shadow:2*a,onload:function(){S[e]&&(S[e].setImage(s),r.changed())},stroke:new l.default({width:o,color:t.pointFrame?t.pointColor:"transparent"}),declutterMode:"none"})).declutterMode_="none",s.getPhoto().addEventListener("error",()=>{s._gethit=null,s.img_=null,s._crossOrigin=!1,s.getImage()})}else if(!i||n||t.pointRadius){let e=(0,h.asArray)(t.pointGlyph?t.pointColor:t.symbolColor);e[3]||(e[3]=1e-4),(s=new m.default({radius:t.pointRadius,glyph:t.pointGlyph,color:t.symbolColor,form:t.pointForm||(t.pointGlyph?void 0:"circle"),rotation:t.pointRotation*Math.PI/180,gradient:Number(t.pointGradient),offsetX:0,offsetY:-t.pointOffsetY*t.pointRadius,fill:new u.default({color:e}),stroke:new l.default({color:t.pointStrokeWidth?t.pointStrokeColor:"transparent",width:Math.min(t.pointStrokeWidth,t.pointRadius/2)}),declutterMode:"none"})).declutterMode_="none"}else s=new o.default({radius:5,fill:new u.default({color:"rgba(0,0,0,0.5)"}),stroke:new l.default({color:"rgba(255,255,255,1)",width:1.5}),declutterMode:"none"});return s}(L.main,R,e,r.ghost,T);var F=R.fillPattern&&"vide"!=R.fillPattern?new y.default({pattern:R.fillPattern,image:void 0,ratio:1,color:R.fillColor,size:R.sizePattern,spacing:R.spacingPattern,angle:R.anglePattern,offset:R.offsetPattern,scale:R.scalePattern,fill:new u.default({color:R.fillColorPattern})}):new u.default({color:R.fillColor}),q=new l.default({color:R.strokeWidth?R.strokeColor:r.ghost&&/line/i.test(A)?"rgba(0,0,0,0.25)":"transparent",width:R.strokeWidth||(r.ghost&&/line/i.test(A)?.5:0),lineDash:D});r.select&&/highlight|zoom/.test(r.select)&&q.setWidth(q.getWidth()+Math.max(3,1.2*q.getWidth())),G=S[L.main]=new i.default({image:k,fill:F,stroke:q,geometry:I})}return(G.setZIndex(r.zIndex||0),N=[G],R.pointShadow&&"Point"==A)?((G=S[L.shadow+"-"+R.pointRadius])||(G=S[L.shadow+"-"+R.pointRadius]=function(e){let t=new i.default({image:new v.default({radius:.5*e.pointRadius,declutterMode:"none"}),zIndex:-1,geometry:I});return t.getImage().declutterMode_="none",t}(R)),G.setZIndex(r.zIndex||0),N.unshift(G)):!t&&R.strokeArrow&&"LineString"==A&&((G=S[L.arrow])||(G=S[L.arrow]=function(e){var t=e.strokeWidth+6;let r=new m.default({form:e.strokeArrow,radius:t,offsetY:"triangle"===e.strokeArrow?-5:0,rotation:0,rotateWithView:!0,fill:new u.default({color:e.strokeColor}),declutterMode:"none"});return r.declutterMode_="none",new i.default({image:r,geometry:function(e){return new d.default(e.get("features")?e.get("features")[0].getGeometry().getLastCoordinate():e.getGeometry().getLastCoordinate())}})}(R)),p=G,x=(f=e.getGeometry().getCoordinates()).pop(),_=f.pop(),O=0,x&&_&&(O=Math.atan2(_[0]-x[0],_[1]-x[1])),p.getImage().setRotation(O),G.setZIndex(r.zIndex||0),N.push(G)),(T?((G=S[L.text])||(G=S[L.text]=function(e){if(!e.textOutlineColor)try{e.textOutlineColor=w((0,h.asArray)(e.textColor))?[255,255,255,.6]:[0,0,0,.6]}catch(t){e.textOutlineColor=[255,255,255,.6]}let t="rgba(0, 0, 0, 0)"!==e.textBgFill,r="rgba(0, 0, 0, 0)"!==e.textBgStroke,s=t||r?[4,2,2,4]:[0,0,0,0],a={font:e.textStyle+" "+e.textSize+"px "+e.textFont,fill:new u.default({color:e.textColor}),stroke:t?void 0:new l.default({color:e.textOutlineColor,width:e.textOutlineWidth}),textAlign:e.textAlign,maxAngle:3,textBaseline:e.textBaseline,placement:e.textPlacement,overflow:e.textOverflow,backgroundFill:t?new u.default({color:e.textBgFill}):void 0,backgroundStroke:r?new l.default({color:e.textBgStroke,width:e.textBgStrokeWidth}):void 0,padding:s};return"point"===e.textPlacement&&(a.offsetX="left"==e.textAlign?e.pointRadius+s[3]:"right"==e.textAlign?-e.pointRadius-s[1]:0,a.offsetY=/^top|^hanging/.test(e.textBaseline)?e.pointRadius+s[0]:/^bottom|^alphabetic/.test(e.textBaseline)?-e.pointRadius-s[2]:0),new i.default({text:new n.default(a),geometry:I})}(R)),G.getText().setText(T.replace?e.getLabelContent("(("+T.replace(/\\n/g,"\n")+"))"):e.getLabelContent("(("+T+"))")),G.setZIndex(r.zIndex||0),N.push(G)):T="",T.trim().length||R.pointRadius)?N:[new i.default({fill:new u.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new l.default({color:"#ffcc33",width:2}),image:new o.default({radius:4,fill:new u.default({color:"#ffcc33"}),declutterMode:"none"}),geometry:I})]}function D(e){var t=(e=e||{}).styleFn||G({zIndex:1/0,select:e.type});let r=e.color?(0,h.asArray)(e.color):[255,0,0],n=r.slice();n[3]=.5;var s=e.stroke||new l.default({color:r,width:2}),c=e.fill||new u.default({color:n}),d=e.radius||5,f=s.getColor(),g=!1!==e.showObject,m=e.points instanceof a.default?e.points:new o.default({stroke:new l.default({color:f,width:1}),radius:5,declutterMode:"none"}),y=new i.default({image:m,geometry:R,zIndex:1/0}),v=new l.default({color:f,width:5}),b=new i.default({fill:c,zIndex:1/0}),x=new i.default({image:new o.default({stroke:s,fill:c,radius:d,declutterMode:"none"}),stroke:s,fill:c,zIndex:1/0});return function(r,n){var a,l;let u=!(e.features.getLength()>10)&&e.points;switch(e.type){case"highlight":case"zoom":return l=t(r,n),a=[],l.forEach(e=>{e.getImage()&&(e.getImage().setScale(1.25),e.getImage().setRotation(e.getImage().getRotation())),!e.getStroke()&&!e.getFill()&&e.getText()&&e.getText().setScale(1.2),a.push(e)}),a.push(b),u&&a.push(y),a;case"overlay":return(a=g?t(r,n):[]).push(x),u&&a.push(y),a;default:a=g?t(r,n):[];var h=r.getGeometry();if(/Point/.test(h.getType())){var c=r.get("features");c&&1==c.length&&(r=c[0],c=!1);let e=(c?L(c.length):r.getIgnStyle("pointRadius")||5)+d;a.unshift(new i.default({image:new o.default({stroke:v,radius:e,declutterMode:"none"}),zIndex:1/0}))}else u&&a.push(y),a.unshift(new i.default({stroke:s,geometry:(0,p.fromExtent)(h.getExtent()),zIndex:1/0}));return a}}}}),a("boqwt",function(e,r){t(e.exports,"default",()=>u);var i=s("h6Aha"),n=s("lqNjm"),a=s("d5AAH"),o=s("2zf1Y"),l=class extends i.default{constructor(e){(e=e||{}).displacement||(e.displacement=[e.offsetX||0,-e.offsetY||0]);var t="anchored"===e.kind?8:0,r=Number(e.shadow)||0;e.stroke||(e.stroke=new a.default({width:0,color:"#000"}));var n=e.stroke.getWidth();if(n<0&&(n=0),"folio"==e.kind&&(n+=6),e.stroke.setWidth(n),super({radius:e.radius+n+t/2+r/2,points:0,displacement:[e.displacement[0]||0,(e.displacement[1]||0)+t],fill:i.default.prototype.render?new o.default({color:[0,0,0,0]}):null,declutterMode:e.declutterMode}),this.sanchor_=t,this._shadow=r,!this.getHitDetectionImage){var s=super.getImage.call(this);if(!this.hitDetectionCanvas_){for(var l in this)if(this[l]&&this[l].getContext&&this[l]!==s){this.hitDetectionCanvas_=this[l];break}}this.hitDetectionCanvas_=document.createElement("canvas"),this.hitDetectionCanvas_.width=s.width,this.hitDetectionCanvas_.height=s.height;var u=this.hitDetectionCanvas_;this.getHitDetectionImage=function(){return u}}this._stroke=e.stroke,this._fill=e.fill,this._crop=e.crop,this._crossOrigin=e.crossOrigin,this._kind=e.kind||"default",this._radius=e.radius,this._src=e.src,this._offset=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],this._onload=e.onload,this._onerror=e.onerror,"number"==typeof e.opacity&&this.setOpacity(e.opacity),"number"==typeof e.rotation&&this.setRotation(e.rotation),this.getImage()}setOffset(e){this._offset=[e[0]||0,e[1]||0],this.getImage()}clone(){var e=new l({stroke:this._stroke,fill:this._fill,shadow:this._shadow,crop:this._crop,crossOrigin:this._crossOrigin,kind:this._kind,radius:this._radius,src:this._src,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),declutterMode:this.getDeclutterMode?this.getDeclutterMode():null});return e.getImage(),e}drawBack_(e,t,r,i){var n=this._shadow,s=e.canvas;e.beginPath(),e.fillStyle=t,e.clearRect(0,0,s.width,s.height);var a=s.width/i,o=s.height/i;switch(this._kind){case"square":e.rect(0,0,a-n,o-n);break;case"circle":e.arc(this._radius+r,this._radius+r,this._radius+r,0,2*Math.PI,!1);break;case"folio":r-=6,e.strokeStyle="rgba(0,0,0,0.5)",e.lineWidth=1;var l=a-n-12,u=Math.atan(6/l);e.save(),e.rotate(-u),e.translate(-6,2),e.beginPath(),e.rect(6,6,l,l),e.stroke(),e.fill(),e.restore(),e.save(),e.translate(6,-1),e.rotate(u),e.beginPath(),e.rect(6,6,l,l),e.stroke(),e.fill(),e.restore(),e.beginPath(),e.rect(6,6,l,l),e.stroke();break;case"anchored":e.roundRect(this.sanchor_/2,0,a-this.sanchor_-n,o-this.sanchor_-n,r),e.moveTo(a/2-this.sanchor_-n/2,o-this.sanchor_-n),e.lineTo(a/2+this.sanchor_-n/2,o-this.sanchor_-n),e.lineTo(a/2-n/2,o-n);break;default:e.roundRect(0,0,a-n,o-n,r)}e.closePath()}getImage(e){e=e||window.devicePixelRatio;var t,r=(0,i.default).prototype.getImage.call(this,e);if((this._gethit||this.img_)&&this._currentRatio===e)return r;this._currentRatio=e;var s=0;this._stroke&&(t=(0,n.asString)(this._stroke.getColor()),s=this._stroke.getWidth()),this._gethit=!0;var a=this.getHitDetectionImage().getContext("2d");a.save(),a.setTransform(1,0,0,1,0,0),this.drawBack_(a,"#000",s,1),a.fill(),a.restore(),this._gethit=!1,(a=r.getContext("2d")).save(),a.setTransform(e,0,0,e,0,0),this.drawBack_(a,t,s,e),this._shadow&&(a.shadowColor="rgba(0,0,0,0.5)",a.shadowBlur=e*this._shadow/2,a.shadowOffsetX=e*this._shadow/2,a.shadowOffsetY=e*this._shadow/2),a.fill(),a.restore();var o=this,l=this.img_=new Image;if(this._crossOrigin&&(l.crossOrigin=this._crossOrigin),l.src=this._src,l.width?o.drawImage_(r,l,e):(l.onload=function(){o.drawImage_(r,l,e),o._onload&&o._onload()},o._onerror&&(l.onerror=function(){o._onerror()})),!this.getDisplacement){var u=this.getAnchor();u[0]=(r.width/e-this._shadow)/2-this._offset[0],this.sanchor_?u[1]=r.height/e-this._shadow-this._offset[1]:u[1]=(r.height/e-this._shadow)/2-this._offset[1]}return r}getPhoto(){return this.img_}drawImage_(e,t,r){var s,a,o,l,u,h,c,d,p,f=e.getContext("2d"),g=0;this._stroke&&(g=this._stroke.getWidth());var m=2*this._radius;f.save(),i.default.prototype.render&&f.setTransform(r,0,0,r,0,0),"circle"==this._kind&&(f.beginPath(),f.arc(this._radius+g,this._radius+g,this._radius,0,2*Math.PI,!1),f.clip()),this._crop?(d=p=(s=Math.min(t.width/m,t.height/m))*m,h=(t.width-d)/2,c=(t.height-p)/2,a=o=0,l=u=m+1):(s=Math.min(m/t.width,m/t.height),h=c=0,d=t.width,p=t.height,l=s*d,u=s*p,a=(m-l)/2,o=(m-u)/2),a+=g+this.sanchor_/2,o+=g,f.drawImage(t,h,c,d,p,a,o,l,u),"circle"==this._kind&&g&&(f.beginPath(),f.strokeStyle=(0,n.asString)(this._stroke.getColor()),f.lineWidth=g/4,f.arc(this._radius+g,this._radius+g,this._radius,0,2*Math.PI,!1),f.stroke()),f.restore()}};CanvasRenderingContext2D.prototype.roundRect=function(e,t,r,i,n){return n?(r<2*n&&(n=r/2),i<2*n&&(n=i/2),this.beginPath(),this.moveTo(e+n,t),this.arcTo(e+r,t,e+r,t+i,n),this.arcTo(e+r,t+i,e,t+i,n),this.arcTo(e,t+i,e,t,n),this.arcTo(e,t,e+r,t,n),this.closePath()):this.rect(e,t,r,i),this};var u=l}),a("3yg5q",function(e,r){t(e.exports,"default",()=>l);var i=s("lW8xZ"),n=s("2zf1Y"),a=s("lqNjm"),o=class extends n.default{constructor(e){super(),e=e||{};var t=this.canvas_=document.createElement("canvas"),r=(Number(e.scale)>0?Number(e.scale):1)*i.DEVICE_PIXEL_RATIO||i.DEVICE_PIXEL_RATIO,n=t.getContext("2d");if(e.image){e.image.load();var s,o,l=e.image.getImage();if(l.width)t.width=Math.round(l.width*r),t.height=Math.round(l.height*r),n.globalAlpha="number"==typeof e.opacity?e.opacity:1,n.drawImage(l,0,0,l.width,l.height,0,0,t.width,t.height),s=n.createPattern(t,"repeat");else{var u=this;s=[0,0,0,0],l.onload=function(){t.width=Math.round(l.width*r),t.height=Math.round(l.height*r),n.globalAlpha="number"==typeof e.opacity?e.opacity:1,n.drawImage(l,0,0,l.width,l.height,0,0,t.width,t.height),s=n.createPattern(t,"repeat"),u.setColor(s)}}}else{var h=this.getPattern_(e);if(t.width=Math.round(h.width*r),t.height=Math.round(h.height*r),n.beginPath(),e.fill&&(n.fillStyle=(0,a.asString)(e.fill.getColor()),n.fillRect(0,0,t.width,t.height)),n.scale(r,r),n.lineCap="round",n.lineWidth=h.stroke||1,n.fillStyle=(0,a.asString)(e.color||"#000"),n.strokeStyle=(0,a.asString)(e.color||"#000"),h.circles)for(o=0;o<h.circles.length;o++){var c=h.circles[o];n.beginPath(),n.arc(c[0],c[1],c[2],0,2*Math.PI),h.fill&&n.fill(),h.stroke&&n.stroke()}if(h.repeat||(h.repeat=[[0,0]]),h.char&&(n.font=h.font||h.width+"px Arial",n.textAlign="center",n.textBaseline="middle",h.angle?(n.fillText(h.char,h.width/4,h.height/4),n.fillText(h.char,5*h.width/4,5*h.height/4),n.fillText(h.char,h.width/4,5*h.height/4),n.fillText(h.char,5*h.width/4,h.height/4),n.fillText(h.char,3*h.width/4,3*h.height/4),n.fillText(h.char,-h.width/4,-h.height/4),n.fillText(h.char,3*h.width/4,-h.height/4),n.fillText(h.char,-h.width/4,3*h.height/4)):n.fillText(h.char,h.width/2,h.height/2)),h.lines)for(o=0;o<h.lines.length;o++)for(var d=0;d<h.repeat.length;d++){var p=h.lines[o];n.beginPath(),n.moveTo(p[0]+h.repeat[d][0],p[1]+h.repeat[d][1]);for(var f=2;f<p.length;f+=2)n.lineTo(p[f]+h.repeat[d][0],p[f+1]+h.repeat[d][1]);h.fill&&n.fill(),h.stroke&&n.stroke(),n.save(),n.strokeStyle="red",n.strokeWidth=.1,n.restore()}if(s=n.createPattern(t,"repeat"),e.offset){var g=e.offset;if("number"==typeof g&&(g=[g,g]),g instanceof Array){var m=Math.round(g[0]*r),y=Math.round(g[1]*r);n.scale(1/r,1/r),n.clearRect(0,0,t.width,t.height),n.translate(m,y),n.fillStyle=s,n.fillRect(-m,-y,t.width,t.height),s=n.createPattern(t,"repeat")}}}this.setColor(s)}static addPattern(e,t){t||(t={}),o.patterns[e||t.char]={width:t.width||t.size||10,height:t.height||t.size||10,font:t.font,char:t.char,circles:t.circles,lines:t.lines,repeat:t.repeat,stroke:t.stroke,angle:t.angle,fill:t.fill}}clone(){var e=super.clone();return e.canvas_=this.canvas_,e}getImage(){return this.canvas_}getPattern_(e){var t,r=o.patterns[e.pattern]||o.patterns.dot,i=Math.round(e.spacing)||10;switch(e.pattern){case"dot":case"circle":t=0===e.size?0:e.size/2||2,e.angle?(i=r.width=r.height=Math.round(1.4*i),r.circles=[[i/4,i/4,t],[3*i/4,3*i/4,t]],"circle"==e.pattern&&(r.circles=r.circles.concat([[i/4+i,i/4,t],[i/4,i/4+i,t],[3*i/4-i,3*i/4,t],[3*i/4,3*i/4-i,t],[i/4+i,i/4+i,t],[3*i/4-i,3*i/4-i,t]]))):(r.width=r.height=i,r.circles=[[i/2,i/2,t]],"circle"==e.pattern&&(r.circles=r.circles.concat([[i/2+i,i/2,t],[i/2-i,i/2,t],[i/2,i/2+i,t],[i/2,i/2-i,t],[i/2+i,i/2+i,t],[i/2+i,i/2-i,t],[i/2-i,i/2+i,t],[i/2-i,i/2-i,t]])));break;case"tile":case"square":t=0===e.size?0:e.size/2||2,e.angle?(r.width=r.height=i,r.lines=[[i/2-t,i/2,i/2,i/2-t,i/2+t,i/2,i/2,i/2+t,i/2-t,i/2]]):(r.width=r.height=i,r.lines=[[i/2-t,i/2-t,i/2+t,i/2-t,i/2+t,i/2+t,i/2-t,i/2+t,i/2-t,i/2-t]]),"square"==e.pattern&&(r.repeat=[[0,0],[0,i],[i,0],[0,-i],[-i,0],[-i,-i],[i,i],[-i,i],[i,-i]]);break;case"cross":e.angle&&(e.angle=45);case"hatch":var n=Math.round(((e.angle||0)-90)%360);n>180&&(n-=360);var s=Math.cos(n*=Math.PI/180),a=Math.sin(n);if(1e-4>Math.abs(a))r.width=r.height=i,r.lines=[[0,.5,i,.5]],r.repeat=[[0,0],[0,i]];else if(1e-4>Math.abs(s))r.width=r.height=i,r.lines=[[.5,0,.5,i]],r.repeat=[[0,0],[i,0]],"cross"==e.pattern&&(r.lines.push([0,.5,i,.5]),r.repeat.push([0,i]));else{var l=r.width=Math.round(Math.abs(i/a))||1,u=r.height=Math.round(Math.abs(i/s))||1;"cross"==e.pattern?(r.lines=[[-l,-u,2*l,2*u],[2*l,-u,-l,2*u]],r.repeat=[[0,0]]):s*a>0?(r.lines=[[-l,-u,2*l,2*u]],r.repeat=[[0,0],[l,0],[0,u]]):(r.lines=[[2*l,-u,-l,2*u]],r.repeat=[[0,0],[-l,0],[0,u]])}r.stroke=0===e.size?0:e.size||4}return r}};o.patterns={hatch:{width:5,height:5,lines:[[0,2.5,5,2.5]],stroke:1},cross:{width:7,height:7,lines:[[0,3,10,3],[3,0,3,10]],stroke:1},dot:{width:8,height:8,circles:[[5,5,2]],stroke:!1,fill:!0},circle:{width:10,height:10,circles:[[5,5,2]],stroke:1,fill:!1},square:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],stroke:1,fill:!1},tile:{width:10,height:10,lines:[[3,3,3,8,8,8,8,3,3,3]],fill:!0},woven:{width:12,height:12,lines:[[3,3,9,9],[0,12,3,9],[9,3,12,0],[-1,1,1,-1],[13,11,11,13]],stroke:1},crosses:{width:8,height:8,lines:[[2,2,6,6],[2,6,6,2]],stroke:1},caps:{width:8,height:8,lines:[[2,6,4,2,6,6]],stroke:1},nylon:{width:20,height:20,lines:[[1,6,1,1,6,1],[6,11,11,11,11,6],[11,16,11,21,16,21],[16,11,21,11,21,16]],repeat:[[0,0],[-20,0],[0,-20]],stroke:1},hexagon:{width:20,height:12,lines:[[0,10,4,4,10,4,14,10,10,16,4,16,0,10]],stroke:1,repeat:[[0,0],[10,6],[10,-6],[-10,-6]]},cemetry:{width:15,height:19,lines:[[0,3.5,7,3.5],[3.5,0,3.5,10]],stroke:1,repeat:[[0,0],[7,9]]},sand:{width:20,height:20,circles:[[1,2,1],[9,3,1],[2,16,1],[7,8,1],[6,14,1],[4,19,1],[14,2,1],[12,10,1],[14,18,1],[18,8,1],[18,14,1]],fill:1},conglomerate:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],stroke:1},conglomerate2:{width:60,height:40,circles:[[2,4,1],[17,3,1],[26,18,1],[12,17,1],[5,17,2],[28,11,2]],lines:[[7,5,6,7,9,9,11,8,11,6,9,5,7,5],[16,10,15,13,16,14,19,15,21,13,22,9,20,8,19,8,16,10],[24,6,26,7,27,5,26,4,24,4,24,6]],repeat:[[30,0],[-15,20],[15,20],[45,20]],fill:1},gravel:{width:15,height:10,circles:[[4,2,1],[5,9,1],[1,7,1]],lines:[[7,5,6,6,7,7,8,7,9,7,10,5,9,4,7,5],[11,2,14,4,14,1,12,1,11,2]],stroke:1},brick:{width:18,height:16,lines:[[0,1,18,1],[0,10,18,10],[6,1,6,10],[12,10,12,18],[12,0,12,1]],stroke:1},dolomite:{width:20,height:16,lines:[[0,1,20,1],[0,9,20,9],[1,9,6,1],[11,9,14,16],[14,0,14.4,1]],stroke:1},coal:{width:20,height:16,lines:[[1,5,7,1,7,7],[11,10,12,5,18,9],[5,10,2,15,9,15],[15,16,15,13,20,16],[15,0,15,2,20,0]],fill:1},breccia:{width:20,height:16,lines:[[1,5,7,1,7,7,1,5],[11,10,12,5,18,9,11,10],[5,10,2,15,9,15,5,10],[15,16,15,13,22,18],[15,0,15,2,20,0]],stroke:1},clay:{width:20,height:20,lines:[[0,0,3,11,0,20],[11,0,10,3,13,13,11,20],[0,0,10,3,20,0],[0,12,3,11,13,13,20,12]],stroke:1},flooded:{width:15,height:10,lines:[[0,1,10,1],[0,6,5,6],[10,6,15,6]],stroke:1},chaos:{width:40,height:40,lines:[[40,2,40,0,38,0,40,2],[4,0,3,2,2,5,0,0,0,3,2,7,5,6,7,7,8,10,9,12,9,13,9,14,8,14,6,15,2,15,0,20,0,22,2,20,5,19,8,15,10,14,11,12.25,10,12,10,10,12,9,13,7,12,6,13,4,16,7,17,4,20,0,18,0,15,3,14,2,14,0,12,1,11,0,10,1,11,4,10,7,9,8,8,5,6,4,5,3,5,1,5,0,4,0],[7,1,7,3,8,3,8,2,7,1],[4,3,5,5,4,5,4,3],[34,5,33,7,38,10,38,8,36,5,34,5],[27,0,23,2,21,8,30,0,27,0],[25,8,26,12,26,16,22.71875,15.375,20,13,18,15,17,18,13,22,17,21,19,22,21,20,19,18,22,17,30,25,26,26,24,28,21.75,33.34375,20,36,18,40,20,40,24,37,25,32,27,31,26,38,27,37,30,32,32,35,36,37,38,40,38,39,40,40,37,36,34,32,37,31,36,29,33,27,34,24,39,21,40,21,40,16,37,20,31,22,32,25,27,20,29,15,30,20,32,20,34,18,33,12,31,11,29,14,26,9,25,8],[39,24,37,26,40,28,39,24],[13,15,9,19,14,18,13,15],[18,23,14,27,16,27,17,25,20,26,18,23],[6,24,2,26,1,28,2,30,5,28,12,30,16,32,18,30,15,30,12,28,9,25,7,27,6,24],[29,27,32,28,33,31,30,29,27,28,29,27],[5,35,1,33,3,36,13,38,15,35,10,36,5,35]],fill:1},grass:{width:27,height:22,lines:[[0,10.5,13,10.5],[2.5,10,1.5,7],[4.5,10,4.5,5,3.5,4],[7,10,7.5,6,8.5,3],[10,10,11,6]],repeat:[[0,0],[14,10]],stroke:1},swamp:{width:24,height:23,lines:[[0,10.5,9.5,10.5],[2.5,10,2.5,7],[4.5,10,4.5,4],[6.5,10,6.5,6],[3,12.5,7,12.5]],repeat:[[0,0],[14,10]],stroke:1},reed:{width:26,height:23,lines:[[2.5,10,2,7],[4.5,10,4.2,4],[6.5,10,6.8,4],[8.5,10,9,6],[3.7,4,3.7,2.5],[4.7,4,4.7,2.5],[6.3,4,6.3,2.5],[7.3,4,7.3,2.5]],circles:[[4.2,2.5,.5],[18.2,12.5,.5],[6.8,2.5,.5],[20.8,12.5,.5],[9,6,.5],[23,16,.5]],repeat:[[0,0],[14,10]],stroke:1},wave:{width:10,height:8,lines:[[0,0,5,4,10,0]],stroke:1},vine:{width:13,height:13,lines:[[3,0,3,6],[9,7,9,13]],stroke:1},forest:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],stroke:1},forest2:{width:55,height:30,circles:[[7,7,3.5],[20,20,1.5],[42,22,3.5],[35,5,1.5]],fill:1,stroke:1},scrub:{width:26,height:20,lines:[[1,4,4,8,6,4]],circles:[[20,13,1.5]],stroke:1},tree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78]],repeat:[[3,1],[18,16]],stroke:1},tree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61]],repeat:[[3,1],[18,16]],fill:1,stroke:1},pine:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49]],repeat:[[3,1],[18,16]],stroke:1},pine2:{width:30,height:30,lines:[[5.66,11.31,2.83,11.31,2.83,8.49,0,8.49,2.83,0,5.66,8.49,2.83,8.49,2.83,11.31,5.66,11.31]],repeat:[[3,1],[18,16]],fill:1,stroke:1},mixtree:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],stroke:1},mixtree2:{width:30,height:30,lines:[[7.78,10.61,4.95,10.61,4.95,7.78,3.54,7.78,2.12,6.36,.71,6.36,0,4.24,.71,2.12,4.24,0,7.78,.71,9.19,3.54,7.78,4.95,7.07,7.07,4.95,7.78,4.95,10.61,7.78,10.61],[23.66,27.31,20.83,27.31,20.83,24.49,18,24.49,20.83,16,23.66,24.49,20.83,24.49,20.83,27.31,23.66,27.31]],repeat:[[3,1]],fill:1,stroke:1},pines:{width:22,height:20,lines:[[1,4,3.5,1,6,4],[1,8,3.5,5,6,8],[3.5,1,3.5,11],[12,14.5,14.5,14,17,14.5],[12,18,17,18],[14.5,12,14.5,18]],repeat:[[2,1]],stroke:1},rock:{width:20,height:20,lines:[[1,0,1,9],[4,0,4,9],[7,0,7,9],[10,1,19,1],[10,4,19,4],[10,7,19,7],[0,11,9,11],[0,14,9,14],[0,17,9,17],[12,10,12,19],[15,10,15,19],[18,10,18,19]],repeat:[[.5,.5]],stroke:1},rocks:{width:20,height:20,lines:[[5,0,3,0,5,4,4,6,0,3,0,5,3,6,5,9,3.75,10,2.5,10,0,9,0,10,4,11,5,14,4,15,0,13,0,13,0,13,0,14,0,14,5,16,5,18,3,19,0,19,-.25,19.9375,5,20,10,19,10,20,11,20,12,19,14,20,15,20,17,19,20,20,20,19,19,16,20,15,20,11,20,10,19,8,20,5,20,0,19,0,20,2,19,4,17,4,16,3,15,0,14,0,15,4,11,5,10,4,11,0,10,0,9,4,6,5,5,0],[18,5,19,6,18,10,16,10,14,9,16,5,18,5],[5,6,9,5,10,6,10,9,6,10,5,6],[14,5,14,8,13,9,12,9,11,7,12,5,14,5],[5,11,8,10,9,11,10,14,6,15,6,15,5,11],[13,10,14,11,15,14,15,14,15,14,11,15,10,11,11,10,13,10],[15,12,16,11,19,11,19,15,16,14,16,14,15,12],[6,16,9,15,10,18,5,19,6,16],[10,16,14,16,14,18,13,19,11,18,10,16],[15,15,18,16,18,18,16,19,15,18,15,15]],stroke:1}};var l=o}),a("foAUE",function(e,r){t(e.exports,"default",()=>o);var i=s("2zf1Y"),n=s("h6Aha"),a=class extends n.default{constructor(e){e=e||{},super({radius:e.radius,fill:e.fill,displacement:e.displacement,declutterMode:e.declutterMode}),this._fill=e.fill||new i.default({color:"rgba(0,0,0,0.5)"}),this._radius=e.radius,this._blur=0===e.blur?0:e.blur||e.radius/3,this._offset=[e.offsetX?e.offsetX:0,e.offsetY?e.offsetY:0],e.displacement||(e.displacement=[e.offsetX||0,-e.offsetY||0]),this.setDisplacement||this.getImage()}clone(){var e=new a({fill:this._fill,radius:this._radius,blur:this._blur,offsetX:this._offset[0],offsetY:this._offset[1],declutterMode:this.getDeclutterMode?this.getDeclutterMode():null});return e.setScale(this.getScale()),e.setOpacity(this.getOpacity()),e}getImage(e){e=e||1;var t=this._radius,r=super.getImage(e),i=r.getContext("2d");if(i.save(),i.resetTransform(),i.clearRect(0,0,r.width,r.height),i.beginPath(),i.setTransform(e,0,0,e,0,0),i.scale(1,.5),i.arc(t,-t,t-this._blur,0,2*Math.PI,!1),i.fillStyle="#000",i.shadowColor=this._fill.getColor(),i.shadowBlur=.7*this._blur*e,i.shadowOffsetX=0,i.shadowOffsetY=1.5*t*e,i.closePath(),i.fill(),i.shadowColor="transparent",i.restore(),!this.getDisplacement){var n=this.getAnchor();n[0]=r.width/2-this._offset[0],n[1]=r.height/2-this._offset[1]}return r}},o=a}),a("hwcfb",function(e,r){t(e.exports,"default",()=>o),s("juLo9");var i=s("lqNjm"),n=s("4lFOe"),a=s("h1ihb"),o=function(e,t){let r=e.getStyle();if(r){"function"==typeof r&&(r=r(e)),r instanceof Array||(r=[r]),t&&e.setStyle(!1);for(let t=0;t<r.length&&!function(e,t){let r=t.getImage();if(r){if(r instanceof n.default)e.setIgnStyle("pointForm","circle"),e.setIgnStyle("pointGlyph","ign-form-rond"),e.setIgnStyle("pointRadius",r.getRadius()),e.setIgnStyle("pointStrokeWidth",r.getStroke()?r.getStroke().getWidth():0),e.setIgnStyle("pointColor",(0,i.asString)(r.getFill()?r.getFill().getColor():"rgba(255,255,255,0)")),e.setIgnStyle("symbolColor",e.getIgnStyle("pointColor")),e.setIgnStyle("pointStrokeColor",(0,i.asString)(r.getStroke()?r.getStroke().getColor():"rgba(255,255,255,0)"));else if(!(r instanceof a.default))return!1;return!0}return!1}(e,r[t]);t++);for(let t=0;t<r.length&&!function(e,t){let r=t.getStroke();return r?(e.setIgnStyle("strokeWidth",r.getWidth()),e.setIgnStyle("strokeColor",(0,i.asString)(r.getColor())),!0):(e.setIgnStyle("strokeWidth",0),e.setIgnStyle("strokeColor","rgba(255,255,255,0)"),!1)}(e,r[t]);t++);for(let t=0;t<r.length&&!function(e,t){let r=t.getFill();return!!r&&(e.setIgnStyle("fillColor",(0,i.asString)(r.getColor())),!0)}(e,r[t]);t++);return e.getIgnStyle()}}}),a("gVmm4",function(e,r){t(e.exports,"default",()=>u);var i=s("4DafG"),n=s("31ZqB"),a=s("20LS2"),o=s("iQyfo"),l=class extends i.default{constructor(e){e=e||{};var t=document.createElement("div");super({element:t,target:e.target}),this._features=this.setFeatures(e.features),e.target||(t.className="ol-select ol-unselectable ol-control ol-collapsed",(0,o.default).create("BUTTON",{type:"button",on:{"click touchstart":function(e){t.classList.toggle("ol-collapsed"),e.preventDefault()}},parent:t})),e.className&&t.classList.add(e.className);var r=e.content||(0,o.default).create("DIV");t.appendChild(r),(0,o.default).create("BUTTON",{html:e.btInfo||"OK",className:"ol-ok",on:{click:this.doSelect.bind(this)},parent:r}),this.setSources(e.source)}setSources(e){e?this.set("source",e instanceof Array?e:[e]):this.unset("source")}setFeatures(e){e instanceof n.default?this._features=e:this._features=null}getFeatures(){return this._features}_escape(e){return String(e||"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}_checkCondition(e,t,r){if(!t.attr)return!0;var i=e.get(t.attr),n=Number(i)==i&&Number(t.val)==t.val;switch(n&&(i=Number(i)),t.op){case"=":if(n)return i==t.val;return RegExp("^"+this._escape(t.val)+"$",r?"":"i").test(i);case"!=":if(n)return i!=t.val;return!RegExp("^"+this._escape(t.val)+"$",r?"":"i").test(i);case"<":return i<t.val;case"<=":return i<=t.val;case">":return i>t.val;case">=":return i>=t.val;case"contain":return new RegExp(this._escape(t.val),r?"":"i").test(i);case"!contain":return!new RegExp(this._escape(t.val),r?"":"i").test(i);case"regexp":return new RegExp(t.val,r?"":"i").test(i);case"!regexp":return!new RegExp(t.val,r?"":"i").test(i);default:return!1}}_selectFeatures(e,t,r,i,n){r=r||[];for(var s=t.length-1;a=t[s];s--){for(var a,o,l=i,u=0;o=r[u];u++)o.attr&&(l=i?l&&this._checkCondition(a,o,n):l||this._checkCondition(a,o,n));l?e.push(a):this._features&&this._features.removeAt(s)}return e}getSources(){if(this.get("source"))return this.get("source");var e=[];return this.getMap()&&function t(r){r.forEach(function(r){r.getLayers?t(r.getLayers()):r.getSource&&r.getSource() instanceof a.default&&e.push(r.getSource())})}(this.getMap().getLayers()),e}doSelect(e){var t=[];return(e=e||{}).features?this._selectFeatures(t,e.features,e.conditions,e.matchAll,e.useCase):this._features?this._selectFeatures(t,this._features.getArray(),e.conditions,e.matchAll,e.useCase):(e.sources||this.getSources()).forEach((function(r){this._selectFeatures(t,r.getFeatures(),e.conditions,e.matchAll,e.useCase)}).bind(this)),this.dispatchEvent({type:"select",features:t}),t}};l.prototype.operationsList={"=":"=","!=":"≠","<":"<","<=":"≤",">=":"≥",">":">",contain:"⊂","!contain":"⊄",regexp:"≃","!regexp":"≄"};var u=l}),a("kBBZ2",function(e,r){t(e.exports,"applyStyle",()=>rs);var i,n,a,o,l,u=s("4lFOe"),h=s("2zf1Y"),c=s("ayeEa"),d=s("29SgV"),p=s("d5AAH"),f=s("l9IGS"),g=s("kuKBR"),m=s("aHG4Z"),y=s("kPMpK"),v=s("9MiJs");s("gbCDL");var b=s("co8nU"),x=s("4evd8");s("eEuqc");var E=s("610XN"),_=s("20LS2"),S=s("gNqjI"),O=s("5Nyxy");s("4QhZh"),s("5NhYx");var R=s("gzr8q"),A={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function w(e){return(e=Math.round(e))<0?0:e>255?255:e}function C(e){return e<0?0:e>1?1:e}function T(e){return"%"===e[e.length-1]?w(parseFloat(e)/100*255):w(parseInt(e))}function L(e){return"%"===e[e.length-1]?C(parseFloat(e)/100):C(parseFloat(e))}function P(e,t,r){return(r<0?r+=1:r>1&&(r-=1),6*r<1)?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{i=({}).parseCSSColor=function(e){var t=e.replace(/ /g,"").toLowerCase();if(t in A)return A[t].slice();if("#"===t[0]){if(4===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null}if(7===t.length){var r=parseInt(t.substr(1),16);return r>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null}return null}var i=t.indexOf("("),n=t.indexOf(")");if(-1!==i&&n+1===t.length){var s=t.substr(0,i),a=t.substr(i+1,n-(i+1)).split(","),o=1;switch(s){case"rgba":if(4!==a.length)break;o=L(a.pop());case"rgb":if(3!==a.length)break;return[T(a[0]),T(a[1]),T(a[2]),o];case"hsla":if(4!==a.length)break;o=L(a.pop());case"hsl":if(3!==a.length)break;var l=(parseFloat(a[0])%360+360)%360/360,u=L(a[1]),h=L(a[2]),c=h<=.5?h*(u+1):h+u-h*u,d=2*h-c;return[w(255*P(d,c,l+1/3)),w(255*P(d,c,l)),w(255*P(d,c,l-1/3)),o]}}return null}}catch(e){}var I=function(e,t,r,i){void 0===i&&(i=1),this.r=e,this.g=t,this.b=r,this.a=i};function M(e){return"object"==typeof e?["literal",e]:e}function N(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function G(e,t){var r,i,n=M((r=e.default,i=t.default,void 0!==r?r:void 0!==i?i:void 0));return void 0===n&&"resolvedImage"===t.type?"":n}function k(e,t,r){var i=q(e,t),n=["get",e.property];if("categorical"===i&&"boolean"==typeof r[0][0]){for(var s=["case"],a=0;a<r.length;a+=1){var o=r[a];s.push(["==",n,o[0]],o[1])}return s.push(G(e,t)),s}if("categorical"===i){for(var l=["match",n],u=0;u<r.length;u+=1){var h=r[u];F(l,h[0],h[1],!1)}return l.push(G(e,t)),l}if("interval"===i){for(var c=["step",["number",n]],d=0;d<r.length;d+=1){var p=r[d];F(c,p[0],p[1],!0)}return D(c),void 0===e.default?c:["case",["==",["typeof",n],"number"],c,M(e.default)]}if("exponential"===i){for(var f=void 0!==e.base?e.base:1,g=[N(e),1===f?["linear"]:["exponential",f],["number",n]],m=0;m<r.length;m+=1){var y=r[m];F(g,y[0],y[1],!1)}return void 0===e.default?g:["case",["==",["typeof",n],"number"],g,M(e.default)]}throw Error("Unknown property function type "+i)}function D(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function F(e,t,r,i){e.length>3&&t===e[e.length-2]||(i&&2===e.length||e.push(t),e.push(r))}function q(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}I.parse=function(e){if(e){if(e instanceof I)return e;if("string"==typeof e){var t=i(e);if(t)return new I(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},I.prototype.toString=function(){var e=this.toArray();return"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+e[3]+")"},I.prototype.toArray=function(){var e=this.r,t=this.g,r=this.b,i=this.a;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*r/i,i]},I.prototype.toArray01=function(){var e=this.r,t=this.g,r=this.b,i=this.a;return 0===i?[0,0,0,0]:[e/i,t/i,r/i,i]},I.prototype.toArray01PremultipliedAlpha=function(){return[this.r,this.g,this.b,this.a]},I.black=new I(0,0,0,1),I.white=new I(1,1,1,1),I.transparent=new I(0,0,0,0),I.red=new I(1,0,0,1),I.blue=new I(0,0,1,1);var j=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),U=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,i=t;r<i.length;r+=1){var n=i[r],s=n[0],a=n[1];this.bindings[s]=a}};U.prototype.concat=function(e){return new U(this,e)},U.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw Error(e+" not found in scope.")},U.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var H={kind:"null"},B={kind:"number"},Z={kind:"string"},z={kind:"boolean"},V={kind:"color"},Y={kind:"object"},W={kind:"value"},X={kind:"collator"},K={kind:"formatted"},J={kind:"resolvedImage"};function $(e,t){return{kind:"array",itemType:e,N:t}}function Q(e){if("array"!==e.kind)return e.kind;var t=Q(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}var ee=[H,B,Z,z,V,K,Y,$(W),J];function et(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!et(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else if(e.kind===t.kind)return null;else if("value"===e.kind){for(var r=0;r<ee.length;r+=1)if(!et(ee[r],t))return null}return"Expected "+Q(e)+" but found "+Q(t)+" instead."}function er(e,t){return t.some(function(t){return t.kind===e.kind})}function ei(e,t){return t.some(function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e})}var en=function(e,t,r){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};en.prototype.compare=function(e,t){return this.collator.compare(e,t)},en.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var es=function(e,t,r,i,n){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=i,this.textColor=n},ea=function(e){this.sections=e};ea.fromString=function(e){return new ea([new es(e,null,null,null,null)])},ea.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length})},ea.factory=function(e){return e instanceof ea?e:ea.fromString(e)},ea.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(e){return e.text}).join("")},ea.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var i=r[t];if(i.image){e.push(["image",i.image.name]);continue}e.push(i.text);var n={};i.fontStack&&(n["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(n["font-scale"]=i.scale),i.textColor&&(n["text-color"]=["rgba"].concat(i.textColor.toArray())),e.push(n)}return e};var eo=function(e){this.name=e.name,this.available=e.available};function el(e,t,r,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value ["+[e,t,r,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof i?[e,t,r,i]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function eu(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e)return!0;if(e instanceof I)return!0;if(e instanceof en)return!0;if(e instanceof ea)return!0;else if(e instanceof eo)return!0;else if(Array.isArray(e)){for(var t=0;t<e.length;t+=1)if(!eu(e[t]))return!1;return!0}else{if("object"!=typeof e)return!1;for(var r in e)if(!eu(e[r]))return!1;return!0}}function eh(e){if(null===e)return H;if("string"==typeof e)return Z;if("boolean"==typeof e)return z;if("number"==typeof e)return B;if(e instanceof I)return V;if(e instanceof en)return X;if(e instanceof ea)return K;if(e instanceof eo)return J;if(!Array.isArray(e))return Y;for(var t,r=e.length,i=0;i<e.length;i+=1){var n=eh(e[i]);if(t){if(t===n)continue;t=W;break}t=n}return $(t||W,r)}function ec(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof I||e instanceof ea||e instanceof eo?e.toString():JSON.stringify(e)}eo.prototype.toString=function(){return this.name},eo.fromString=function(e){return e?new eo({name:e,available:!1}):null},eo.prototype.serialize=function(){return["image",this.name]};var ed=function(e,t){this.type=e,this.value=t};ed.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!eu(e[1]))return t.error("invalid value");var r=e[1],i=eh(r),n=t.expectedType;return"array"===i.kind&&0===i.N&&n&&"array"===n.kind&&("number"!=typeof n.N||0===n.N)&&(i=n),new ed(i,r)},ed.prototype.evaluate=function(){return this.value},ed.prototype.eachChild=function(){},ed.prototype.outputDefined=function(){return!0},ed.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof I?["rgba"].concat(this.value.toArray()):this.value instanceof ea?this.value.serialize():this.value};var ep=function(e){this.name="ExpressionEvaluationError",this.message=e};ep.prototype.toJSON=function(){return this.message};var ef={string:Z,number:B,boolean:z,object:Y},eg=function(e,t){this.type=e,this.args=t};eg.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=1,i=e[0];if("array"===i){if(e.length>2){var n,s,a,o=e[1];if("string"!=typeof o||!(o in ef)||"object"===o)return t.error('The item type argument of "array" must be one of string, number, boolean',1);s=ef[o],r++}else s=W;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],r++}n=$(s,a)}else n=ef[i];for(var l=[];r<e.length;r++){var u=t.parse(e[r],r,W);if(!u)return null;l.push(u)}return new eg(n,l)},eg.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!et(this.type,eh(r)))return r;if(t===this.args.length-1)throw new ep("Expected value to be of type "+Q(this.type)+", but found "+Q(eh(r))+" instead.")}return null},eg.prototype.eachChild=function(e){this.args.forEach(e)},eg.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},eg.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var i=e.N;("number"==typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map(function(e){return e.serialize()}))};var em=function(e){this.type=K,this.sections=e};em.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var i=[],n=!1,s=1;s<=e.length-1;++s){var a=e[s];if(n&&"object"==typeof a&&!Array.isArray(a)){n=!1;var o=null;if(a["font-scale"]&&!(o=t.parse(a["font-scale"],1,B)))return null;var l=null;if(a["text-font"]&&!(l=t.parse(a["text-font"],1,$(Z))))return null;var u=null;if(a["text-color"]&&!(u=t.parse(a["text-color"],1,V)))return null;var h=i[i.length-1];h.scale=o,h.font=l,h.textColor=u}else{var c=t.parse(e[s],1,W);if(!c)return null;var d=c.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");n=!0,i.push({content:c,scale:null,font:null,textColor:null})}}return new em(i)},em.prototype.evaluate=function(e){return new ea(this.sections.map(function(t){var r=t.content.evaluate(e);return eh(r)===J?new es("",r,null,null,null):new es(ec(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))},em.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var i=r[t];e(i.content),i.scale&&e(i.scale),i.font&&e(i.font),i.textColor&&e(i.textColor)}},em.prototype.outputDefined=function(){return!1},em.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var i=r[t];e.push(i.content.serialize());var n={};i.scale&&(n["font-scale"]=i.scale.serialize()),i.font&&(n["text-font"]=i.font.serialize()),i.textColor&&(n["text-color"]=i.textColor.serialize()),e.push(n)}return e};var ey=function(e){this.type=J,this.input=e};ey.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Z);return r?new ey(r):t.error("No image name provided.")},ey.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=eo.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},ey.prototype.eachChild=function(e){e(this.input)},ey.prototype.outputDefined=function(){return!1},ey.prototype.serialize=function(){return["image",this.input.serialize()]};var ev={"to-boolean":z,"to-color":V,"to-number":B,"to-string":Z},eb=function(e,t){this.type=e,this.args=t};eb.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var i=ev[r],n=[],s=1;s<e.length;s++){var a=t.parse(e[s],s,W);if(!a)return null;n.push(a)}return new eb(i,n)},eb.prototype.evaluate=function(e){if("boolean"===this.type.kind)return!!this.args[0].evaluate(e);if("color"===this.type.kind){for(var t,r,i=0,n=this.args;i<n.length;i+=1){if(t=n[i].evaluate(e),r=null,t instanceof I)return t;if("string"==typeof t){var s=e.parseColor(t);if(s)return s}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":el(t[0],t[1],t[2],t[3])))return new I(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ep(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,o=0,l=this.args;o<l.length;o+=1){if(null===(a=l[o].evaluate(e)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new ep("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?ea.fromString(ec(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?eo.fromString(ec(this.args[0].evaluate(e))):ec(this.args[0].evaluate(e))},eb.prototype.eachChild=function(e){this.args.forEach(e)},eb.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},eb.prototype.serialize=function(){if("formatted"===this.type.kind)return new em([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new ey(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var ex=["Unknown","Point","LineString","Polygon"],eE=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};eE.prototype.id=function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null},eE.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ex[this.feature.type]:this.feature.type:null},eE.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},eE.prototype.canonicalID=function(){return this.canonical},eE.prototype.properties=function(){return this.feature&&this.feature.properties||{}},eE.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,r=this.featureTileCoord,i=r.x,n=r.y,s=i*t-e[0],a=n*t-e[1];return this.featureDistanceData.bearing[0]*s+this.featureDistanceData.bearing[1]*a}return 0},eE.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=I.parse(e)),t};var e_=function(e,t,r,i){this.name=e,this.type=t,this._evaluate=r,this.args=i};e_.prototype.evaluate=function(e){return this._evaluate(e,this.args)},e_.prototype.eachChild=function(e){this.args.forEach(e)},e_.prototype.outputDefined=function(){return!1},e_.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},e_.parse=function(e,t){var r,i=e[0],n=e_.definitions[i];if(!n)return t.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var s=Array.isArray(n)?n[0]:n.type,a=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,o=a.filter(function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1}),l=null,u=0;u<o.length;u+=1){var h=o[u],c=h[0],d=h[1];l=new eq(t.registry,t.path,null,t.scope);for(var p=[],f=!1,g=1;g<e.length;g++){var m=e[g],y=Array.isArray(c)?c[g-1]:c.type,v=l.parse(m,1+p.length,y);if(!v){f=!0;break}p.push(v)}if(!f){if(Array.isArray(c)&&c.length!==p.length){l.error("Expected "+c.length+" arguments, but found "+p.length+" instead.");continue}for(var b=0;b<p.length;b++){var x=Array.isArray(c)?c[b]:c.type,E=p[b];l.concat(b+1).checkSubtype(x,E.type)}if(0===l.errors.length)return new e_(i,s,d,p)}}if(1===o.length)(r=t.errors).push.apply(r,l.errors);else{for(var _=(o.length?o:a).map(function(e){var t;return Array.isArray(t=e[0])?"("+t.map(Q).join(", ")+")":"("+Q(t.type)+"...)"}).join(" | "),S=[],O=1;O<e.length;O++){var R=t.parse(e[O],1+S.length);if(!R)return null;S.push(Q(R.type))}t.error("Expected arguments of type "+_+", but found ("+S.join(", ")+") instead.")}return null},e_.register=function(e,t){for(var r in e_.definitions=t,t)e[r]=e_};var eS=function(e,t,r){this.type=X,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function eO(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function eR(e,t){return!(e[0]<=t[0])&&!(e[2]>=t[2])&&!(e[1]<=t[1])&&!(e[3]>=t[3])}function eA(e,t){for(var r=!1,i=0,n=t.length;i<n;i++)for(var s,a,o=t[i],l=0,u=o.length;l<u-1;l++){if(function(e,t,r){var i=e[0]-t[0],n=e[1]-t[1],s=e[0]-r[0],a=e[1]-r[1];return i*a-s*n==0&&i*s<=0&&n*a<=0}(e,o[l],o[l+1]))return!1;s=o[l],a=o[l+1],s[1]>e[1]!=a[1]>e[1]&&e[0]<(a[0]-s[0])*(e[1]-s[1])/(a[1]-s[1])+s[0]&&(r=!r)}return r}function ew(e,t,r,i){var n=e[0]-r[0],s=e[1]-r[1],a=t[0]-r[0],o=t[1]-r[1],l=i[0]-r[0],u=i[1]-r[1],h=n*u-l*s,c=a*u-l*o;return h>0&&c<0||h<0&&c>0}function eC(e,t){for(var r=0;r<e.length;++r)if(!eA(e[r],t))return!1;for(var i=0;i<e.length-1;++i)if(function(e,t,r){for(var i=0;i<r.length;i+=1)for(var n=r[i],s=0;s<n.length-1;++s)if(function(e,t,r,i){var n,s=[t[0]-e[0],t[1]-e[1]];return 0!=(n=[i[0]-r[0],i[1]-r[1]])[0]*s[1]-n[1]*s[0]&&!!(ew(e,t,r,i)&&ew(r,i,e,t))}(e,t,n[s],n[s+1]))return!0;return!1}(e[i],e[i+1],t))return!1;return!0}function eT(e,t,r){for(var i=[],n=0;n<e.length;n++){for(var s=[],a=0;a<e[n].length;a++){var o=function(e,t){var r=(180+e[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,n=Math.pow(2,t.z);return[Math.round(r*n*8192),Math.round(i*n*8192)]}(e[n][a],r);eO(t,o),s.push(o)}i.push(s)}return i}function eL(e,t,r){for(var i=[],n=0;n<e.length;n++){var s=eT(e[n],t,r);i.push(s)}return i}function eP(e,t,r,i){if(e[0]<r[0]||e[0]>r[2]){var n=.5*i,s=e[0]-r[0]>n?-i:r[0]-e[0]>n?i:0;0===s&&(s=e[0]-r[2]>n?-i:r[2]-e[0]>n?i:0),e[0]+=s}eO(t,e)}function eI(e,t,r,i){var n=8192*Math.pow(2,i.z),s=[8192*i.x,8192*i.y],a=[];if(!e)return a;for(var o=0;o<e.length;o+=1)for(var l=e[o],u=0;u<l.length;u+=1){var h=l[u],c=[h.x+s[0],h.y+s[1]];eP(c,t,r,n),a.push(c)}return a}function eM(e,t,r,i){var n=8192*Math.pow(2,i.z),s=[8192*i.x,8192*i.y],a=[];if(!e)return a;for(var o=0;o<e.length;o+=1){for(var l=e[o],u=[],h=0;h<l.length;h+=1){var c=l[h],d=[c.x+s[0],c.y+s[1]];eO(t,d),u.push(d)}a.push(u)}if(t[2]-t[0]<=n/2){t[0]=t[1]=1/0,t[2]=t[3]=-1/0;for(var p=0;p<a.length;p+=1)for(var f=a[p],g=0;g<f.length;g+=1)eP(f[g],t,r,n)}return a}eS.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var i=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,z);if(!i)return null;var n=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,z);if(!n)return null;var s=null;return!r.locale||(s=t.parse(r.locale,1,Z))?new eS(i,n,s):null},eS.prototype.evaluate=function(e){return new en(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},eS.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},eS.prototype.outputDefined=function(){return!1},eS.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var eN=function(e,t){this.type=z,this.geojson=e,this.geometries=t};function eG(e){if(e instanceof e_){if("get"===e.name&&1===e.args.length||"feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;else if(/^filter-/.test(e.name))return!1}if(e instanceof eN)return!1;var t=!0;return e.eachChild(function(e){t&&!eG(e)&&(t=!1)}),t}function ek(e){if(e instanceof e_&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild(function(e){t&&!ek(e)&&(t=!1)}),t}function eD(e,t){if(e instanceof e_&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild(function(e){r&&!eD(e,t)&&(r=!1)}),r}eN.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(eu(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var i=0;i<r.features.length;++i){var n=r.features[i].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new eN(r,r.features[i].geometry)}else if("Feature"===r.type){var s=r.geometry.type;if("Polygon"===s||"MultiPolygon"===s)return new eN(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new eN(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},eN.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],n=e.canonicalID();if(!n)return!1;if("Polygon"===t.type){var s=eT(t.coordinates,i,n),a=eI(e.geometry(),r,i,n);if(!eR(r,i))return!1;for(var o=0;o<a.length;o+=1)if(!eA(a[o],s))return!1}if("MultiPolygon"===t.type){var l=eL(t.coordinates,i,n),u=eI(e.geometry(),r,i,n);if(!eR(r,i))return!1;for(var h=0;h<u.length;h+=1)if(!function(e,t){for(var r=0;r<t.length;r++)if(eA(e,t[r]))return!0;return!1}(u[h],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],n=e.canonicalID();if(!n)return!1;if("Polygon"===t.type){var s=eT(t.coordinates,i,n),a=eM(e.geometry(),r,i,n);if(!eR(r,i))return!1;for(var o=0;o<a.length;o+=1)if(!eC(a[o],s))return!1}if("MultiPolygon"===t.type){var l=eL(t.coordinates,i,n),u=eM(e.geometry(),r,i,n);if(!eR(r,i))return!1;for(var h=0;h<u.length;h+=1)if(!function(e,t){for(var r=0;r<t.length;r++)if(eC(e,t[r]))return!0;return!1}(u[h],l))return!1}return!0}(e,this.geometries)}return!1},eN.prototype.eachChild=function(){},eN.prototype.outputDefined=function(){return!0},eN.prototype.serialize=function(){return["within",this.geojson]};var eF=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};eF.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new eF(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},eF.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},eF.prototype.eachChild=function(){},eF.prototype.outputDefined=function(){return!1},eF.prototype.serialize=function(){return["var",this.name]};var eq=function(e,t,r,i,n){void 0===t&&(t=[]),void 0===i&&(i=new U),void 0===n&&(n=[]),this.registry=e,this.path=t,this.key=t.map(function(e){return"["+e+"]"}).join(""),this.scope=i,this.errors=n,this.expectedType=r};function ej(e,t){for(var r,i,n=e.length-1,s=0,a=n,o=0;s<=a;)if(r=e[o=Math.floor((s+a)/2)],i=e[o+1],r<=t){if(o===n||t<i)return o;s=o+1}else if(r>t)a=o-1;else throw new ep("Input is not a number.");return 0}eq.prototype.parse=function(e,t,r,i,n){return(void 0===n&&(n={}),t)?this.concat(t,r,i)._parse(e,n):this._parse(e,n)},eq.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new eg(t,[e]):"coerce"===r?new eb(t,[e]):e}if((null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e)&&(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=e[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var n=this.registry[i];if(n){var s=n.parse(e,this);if(!s)return null;if(this.expectedType){var a=this.expectedType,o=s.type;if(("string"===a.kind||"number"===a.kind||"boolean"===a.kind||"object"===a.kind||"array"===a.kind)&&"value"===o.kind)s=r(s,a,t.typeAnnotation||"assert");else if(("color"===a.kind||"formatted"===a.kind||"resolvedImage"===a.kind)&&("value"===o.kind||"string"===o.kind))s=r(s,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,o))return null}if(!(s instanceof ed)&&"resolvedImage"!==s.type.kind&&function e(t){if(t instanceof eF)return e(t.boundExpression);if(t instanceof e_&&"error"===t.name||t instanceof eS||t instanceof eN)return!1;var r=t instanceof eb||t instanceof eg,i=!0;return t.eachChild(function(t){i=r?i&&e(t):i&&t instanceof ed}),!!i&&eG(t)&&eD(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}(s)){var l=new eE;try{s=new ed(s.type,s.evaluate(l))}catch(e){return this.error(e.message),null}}return s}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},eq.prototype.concat=function(e,t,r){var i="number"==typeof e?this.path.concat(e):this.path,n=r?this.scope.concat(r):this.scope;return new eq(this.registry,i,t||null,n,this.errors)},eq.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var i=""+this.key+t.map(function(e){return"["+e+"]"}).join("");this.errors.push(new j(i,e))},eq.prototype.checkSubtype=function(e,t){var r=et(e,t);return r&&this.error(r),r};var eU=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var i=0;i<r.length;i+=1){var n=r[i],s=n[0],a=n[1];this.labels.push(s),this.outputs.push(a)}};function eH(e,t,r,i){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=i,this.p2x=r,this.p2y=i}function eB(e,t,r){return e*(1-r)+t*r}eU.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,B);if(!r)return null;var i=[],n=null;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var s=1;s<e.length;s+=2){var a=1===s?-1/0:e[s],o=e[s+1],l=s,u=s+1;if("number"!=typeof a)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(i.length&&i[i.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var h=t.parse(o,u,n);if(!h)return null;n=n||h.type,i.push([a,h])}return new eU(n,r,i)},eU.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);var n=t.length;return i>=t[n-1]?r[n-1].evaluate(e):r[ej(t,i)].evaluate(e)},eU.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},eU.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},eU.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e},eH.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},eH.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},eH.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},eH.prototype.solveCurveX=function(e,t){for(void 0===t&&(t=1e-6),n=e,a=0;a<8;a++){if(Math.abs(s=this.sampleCurveX(n)-e)<t)return n;var r,i,n,s,a,o=this.sampleCurveDerivativeX(n);if(1e-6>Math.abs(o))break;n-=s/o}if(r=0,i=1,(n=e)<r)return r;if(n>i)return i;for(;r<i&&!(Math.abs((s=this.sampleCurveX(n))-e)<t);)e>s?r=n:i=n,n=(i-r)*.5+r;return n},eH.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var eZ=Object.freeze({__proto__:null,number:eB,color:function(e,t,r){return new I(eB(e.r,t.r,r),eB(e.g,t.g,r),eB(e.b,t.b,r),eB(e.a,t.a,r))},array:function(e,t,r){return e.map(function(e,i){return eB(e,t[i],r)})}}),ez=4/29,eV=6/29,eY=6/29*3*(6/29),eW=6/29*(6/29)*(6/29),eX=Math.PI/180,eK=180/Math.PI;function eJ(e){return e>eW?Math.pow(e,1/3):e/eY+ez}function e$(e){return e>eV?e*e*e:eY*(e-ez)}function eQ(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function e0(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function e1(e){var t=e0(e.r),r=e0(e.g),i=e0(e.b),n=eJ((.4124564*t+.3575761*r+.1804375*i)/.95047),s=eJ((.2126729*t+.7151522*r+.072175*i)/1);return{l:116*s-16,a:500*(n-s),b:200*(s-eJ((.0193339*t+.119192*r+.9503041*i)/1.08883)),alpha:e.a}}function e2(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=1*e$(t),new I(eQ(3.2404542*(r=.95047*e$(r))-1.5371385*t-.4985314*(i=1.08883*e$(i))),eQ(-.969266*r+1.8760108*t+.041556*i),eQ(.0556434*r-.2040259*t+1.0572252*i),e.alpha)}var e5={forward:e1,reverse:e2,interpolate:function(e,t,r){return{l:eB(e.l,t.l,r),a:eB(e.a,t.a,r),b:eB(e.b,t.b,r),alpha:eB(e.alpha,t.alpha,r)}}},e3={forward:function(e){var t=e1(e),r=t.l,i=t.a,n=t.b,s=Math.atan2(n,i)*eK;return{h:s<0?s+360:s,c:Math.sqrt(i*i+n*n),l:r,alpha:e.a}},reverse:function(e){var t=e.h*eX,r=e.c;return e2({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){var i,n;return{h:(i=e.h,n=t.h-i,i+r*(n>180||n<-180?n-360*Math.round(n/360):n)),c:eB(e.c,t.c,r),l:eB(e.l,t.l,r),alpha:eB(e.alpha,t.alpha,r)}}},e4=function(e,t,r,i,n){this.type=e,this.operator=t,this.interpolation=r,this.input=i,this.labels=[],this.outputs=[];for(var s=0;s<n.length;s+=1){var a=n[s],o=a[0],l=a[1];this.labels.push(o),this.outputs.push(l)}};function e6(e,t,r,i){var n=i-r,s=e-r;return 0===n?0:1===t?s/n:(Math.pow(t,s)-1)/(Math.pow(t,n)-1)}e4.interpolationFactor=function(e,t,r,i){var n=0;if("exponential"===e.name)n=e6(t,e.base,r,i);else if("linear"===e.name)n=e6(t,1,r,i);else if("cubic-bezier"===e.name){var s=e.controlPoints;n=new eH(s[0],s[1],s[2],s[3]).solve(e6(t,1,r,i))}return n},e4.parse=function(e,t){var r=e[0],i=e[1],n=e[2],s=e.slice(3);if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var a=i[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:a}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type "+String(i[0]),1,0);var o=i.slice(1);if(4!==o.length||o.some(function(e){return"number"!=typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:o}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(n=t.parse(n,2,B)))return null;var l=[],u=null;"interpolate-hcl"===r||"interpolate-lab"===r?u=V:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var h=0;h<s.length;h+=2){var c=s[h],d=s[h+1],p=h+3,f=h+4;if("number"!=typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(l.length&&l[l.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',p);var g=t.parse(d,f,u);if(!g)return null;u=u||g.type,l.push([c,g])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new e4(u,r,i,n,l):t.error("Type "+Q(u)+" is not interpolatable.")},e4.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var i=this.input.evaluate(e);if(i<=t[0])return r[0].evaluate(e);var n=t.length;if(i>=t[n-1])return r[n-1].evaluate(e);var s=ej(t,i),a=t[s],o=t[s+1],l=e4.interpolationFactor(this.interpolation,i,a,o),u=r[s].evaluate(e),h=r[s+1].evaluate(e);return"interpolate"===this.operator?eZ[this.type.kind.toLowerCase()](u,h,l):"interpolate-hcl"===this.operator?e3.reverse(e3.interpolate(e3.forward(u),e3.forward(h),l)):e5.reverse(e5.interpolate(e5.forward(u),e5.forward(h),l))},e4.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},e4.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},e4.prototype.serialize=function(){e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e,t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var e8=function(e,t){this.type=e,this.args=t};e8.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,i=t.expectedType;i&&"value"!==i.kind&&(r=i);for(var n=[],s=0,a=e.slice(1);s<a.length;s+=1){var o=a[s],l=t.parse(o,1+n.length,r,void 0,{typeAnnotation:"omit"});if(!l)return null;r=r||l.type,n.push(l)}return i&&n.some(function(e){return et(i,e.type)})?new e8(W,n):new e8(r,n)},e8.prototype.evaluate=function(e){for(var t,r=null,i=0,n=0,s=this.args;n<s.length;n+=1){var a=s[n];if(i++,(r=a.evaluate(e))&&r instanceof eo&&!r.available&&(t||(t=r),r=null,i===this.args.length))return t;if(null!==r)break}return r},e8.prototype.eachChild=function(e){this.args.forEach(e)},e8.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},e8.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var e7=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};e7.prototype.evaluate=function(e){return this.result.evaluate(e)},e7.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},e7.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],i=1;i<e.length-1;i+=2){var n=e[i];if("string"!=typeof n)return t.error("Expected string, but found "+typeof n+" instead.",i);if(/[^a-zA-Z0-9_]/.test(n))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);var s=t.parse(e[i+1],i+1);if(!s)return null;r.push([n,s])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return a?new e7(r,a):null},e7.prototype.outputDefined=function(){return this.result.outputDefined()},e7.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var i=r[t],n=i[0],s=i[1];e.push(n,s.serialize())}return e.push(this.result.serialize()),e};var e9=function(e,t,r){this.type=e,this.index=t,this.input=r};e9.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,B),i=t.parse(e[2],2,$(t.expectedType||W));return r&&i?new e9(i.type.itemType,r,i):null},e9.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new ep("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new ep("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new ep("Array index must be an integer, but found "+t+" instead.");return r[t]},e9.prototype.eachChild=function(e){e(this.index),e(this.input)},e9.prototype.outputDefined=function(){return!1},e9.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var te=function(e,t){this.type=z,this.needle=e,this.haystack=t};te.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,W),i=t.parse(e[2],2,W);return r&&i?er(r.type,[z,Z,B,H,W])?new te(r,i):t.error("Expected first argument to be of type boolean, string, number or null, but found "+Q(r.type)+" instead"):null},te.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(null==r)return!1;if(!ei(t,["boolean","string","number","null"]))throw new ep("Expected first argument to be of type boolean, string, number or null, but found "+Q(eh(t))+" instead.");if(!ei(r,["string","array"]))throw new ep("Expected second argument to be of type array or string, but found "+Q(eh(r))+" instead.");return r.indexOf(t)>=0},te.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},te.prototype.outputDefined=function(){return!0},te.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var tt=function(e,t,r){this.type=B,this.needle=e,this.haystack=t,this.fromIndex=r};tt.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,W),i=t.parse(e[2],2,W);if(!r||!i)return null;if(!er(r.type,[z,Z,B,H,W]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+Q(r.type)+" instead");if(4!==e.length)return new tt(r,i);var n=t.parse(e[3],3,B);return n?new tt(r,i,n):null},tt.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!ei(t,["boolean","string","number","null"]))throw new ep("Expected first argument to be of type boolean, string, number or null, but found "+Q(eh(t))+" instead.");if(!ei(r,["string","array"]))throw new ep("Expected second argument to be of type array or string, but found "+Q(eh(r))+" instead.");if(this.fromIndex){var i=this.fromIndex.evaluate(e);return r.indexOf(t,i)}return r.indexOf(t)},tt.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},tt.prototype.outputDefined=function(){return!1},tt.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var tr=function(e,t,r,i,n,s){this.inputType=e,this.type=t,this.input=r,this.cases=i,this.outputs=n,this.otherwise=s};tr.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var r,i,n={},s=[],a=2;a<e.length-1;a+=2){var o=e[a],l=e[a+1];Array.isArray(o)||(o=[o]);var u=t.concat(a);if(0===o.length)return u.error("Expected at least one branch label.");for(var h=0,c=o;h<c.length;h+=1){var d=c[h];if("number"!=typeof d&&"string"!=typeof d)return u.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,eh(d)))return null}else r=eh(d);if(void 0!==n[String(d)])return u.error("Branch labels must be unique.");n[String(d)]=s.length}var p=t.parse(l,a,i);if(!p)return null;i=i||p.type,s.push(p)}var f=t.parse(e[1],1,W);if(!f)return null;var g=t.parse(e[e.length-1],e.length-1,i);return!g||"value"!==f.type.kind&&t.concat(1).checkSubtype(r,f.type)?null:new tr(r,i,f,n,s,g)},tr.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(eh(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},tr.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},tr.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})&&this.otherwise.outputDefined()},tr.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=Object.keys(this.cases).sort(),i=[],n={},s=0;s<r.length;s+=1){var a=r[s],o=n[this.cases[a]];void 0===o?(n[this.cases[a]]=i.length,i.push([this.cases[a],[a]])):i[o][1].push(a)}for(var l=function(t){return"number"===e.inputType.kind?Number(t):t},u=0;u<i.length;u+=1){var h=i[u],o=h[0],c=h[1];1===c.length?t.push(l(c[0])):t.push(c.map(l)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var ti=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};ti.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var r,i=[],n=1;n<e.length-1;n+=2){var s=t.parse(e[n],n,z);if(!s)return null;var a=t.parse(e[n+1],n+1,r);if(!a)return null;i.push([s,a]),r=r||a.type}var o=t.parse(e[e.length-1],e.length-1,r);return o?new ti(r,i,o):null},ti.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var i=r[t],n=i[0],s=i[1];if(n.evaluate(e))return s.evaluate(e)}return this.otherwise.evaluate(e)},ti.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var i=r[t],n=i[0],s=i[1];e(n),e(s)}e(this.otherwise)},ti.prototype.outputDefined=function(){return this.branches.every(function(e){return e[0],e[1].outputDefined()})&&this.otherwise.outputDefined()},ti.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};var tn=function(e,t,r,i){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=i};function ts(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ta(e,t,r,i){return 0===i.compare(t,r)}function to(e,t,r){var i="=="!==e&&"!="!==e;return function(){function n(e,t,r){this.type=z,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return n.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],s=t.parse(e[1],1,W);if(!s)return null;if(!ts(r,s.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Q(s.type)+"'.");var a=t.parse(e[2],2,W);if(!a)return null;if(!ts(r,a.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Q(a.type)+"'.");if(s.type.kind!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Q(s.type)+"' and '"+Q(a.type)+"'.");i&&("value"===s.type.kind&&"value"!==a.type.kind?s=new eg(a.type,[s]):"value"!==s.type.kind&&"value"===a.type.kind&&(a=new eg(s.type,[a])));var o=null;if(4===e.length){if("string"!==s.type.kind&&"string"!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(o=t.parse(e[3],3,X)))return null}return new n(s,a,o)},n.prototype.evaluate=function(n){var s=this.lhs.evaluate(n),a=this.rhs.evaluate(n);if(i&&this.hasUntypedArgument){var o=eh(s),l=eh(a);if(o.kind!==l.kind||!("string"===o.kind||"number"===o.kind))throw new ep('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+o.kind+", "+l.kind+") instead.")}if(this.collator&&!i&&this.hasUntypedArgument){var u=eh(s),h=eh(a);if("string"!==u.kind||"string"!==h.kind)return t(n,s,a)}return this.collator?r(n,s,a,this.collator.evaluate(n)):t(n,s,a)},n.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},n.prototype.outputDefined=function(){return!0},n.prototype.serialize=function(){var t=[e];return this.eachChild(function(e){t.push(e.serialize())}),t},n}()}tn.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,W),i=t.parse(e[2],2,B);if(!r||!i)return null;if(!er(r.type,[$(W),Z,W]))return t.error("Expected first argument to be of type array or string, but found "+Q(r.type)+" instead");if(4!==e.length)return new tn(r.type,r,i);var n=t.parse(e[3],3,B);return n?new tn(r.type,r,i,n):null},tn.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!ei(t,["string","array"]))throw new ep("Expected first argument to be of type array or string, but found "+Q(eh(t))+" instead.");if(this.endIndex){var i=this.endIndex.evaluate(e);return t.slice(r,i)}return t.slice(r)},tn.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},tn.prototype.outputDefined=function(){return!1},tn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var tl=to("==",function(e,t,r){return t===r},ta),tu=to("!=",function(e,t,r){return t!==r},function(e,t,r,i){return!ta(e,t,r,i)}),th=to("<",function(e,t,r){return t<r},function(e,t,r,i){return 0>i.compare(t,r)}),tc=to(">",function(e,t,r){return t>r},function(e,t,r,i){return i.compare(t,r)>0}),td=to("<=",function(e,t,r){return t<=r},function(e,t,r,i){return 0>=i.compare(t,r)}),tp=to(">=",function(e,t,r){return t>=r},function(e,t,r,i){return i.compare(t,r)>=0}),tf=function(e,t,r,i,n){this.type=Z,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=i,this.maxFractionDigits=n};tf.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,B);if(!r)return null;var i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");var n=null;if(i.locale&&!(n=t.parse(i.locale,1,Z)))return null;var s=null;if(i.currency&&!(s=t.parse(i.currency,1,Z)))return null;var a=null;if(i["min-fraction-digits"]&&!(a=t.parse(i["min-fraction-digits"],1,B)))return null;var o=null;return!i["max-fraction-digits"]||(o=t.parse(i["max-fraction-digits"],1,B))?new tf(r,n,s,a,o):null},tf.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},tf.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},tf.prototype.outputDefined=function(){return!1},tf.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var tg=function(e){this.type=B,this.input=e};tg.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Q(r.type)+" instead."):new tg(r):null},tg.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t||Array.isArray(t))return t.length;throw new ep("Expected value to be of type string or array, but found "+Q(eh(t))+" instead.")},tg.prototype.eachChild=function(e){e(this.input)},tg.prototype.outputDefined=function(){return!1},tg.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var tm={"==":tl,"!=":tu,">":tc,"<":th,">=":tp,"<=":td,array:eg,at:e9,boolean:eg,case:ti,coalesce:e8,collator:eS,format:em,image:ey,in:te,"index-of":tt,interpolate:e4,"interpolate-hcl":e4,"interpolate-lab":e4,length:tg,let:e7,literal:ed,match:tr,number:eg,"number-format":tf,object:eg,slice:tn,step:eU,string:eg,"to-boolean":eb,"to-color":eb,"to-number":eb,"to-string":eb,var:eF,within:eN};function ty(e,t){var r=t[0],i=t[1],n=t[2],s=t[3];r=r.evaluate(e),i=i.evaluate(e),n=n.evaluate(e);var a=s?s.evaluate(e):1,o=el(r,i,n,a);if(o)throw new ep(o);return new I(r/255*a,i/255*a,n/255*a,a)}function tv(e,t){var r=t[e];return void 0===r?null:r}function tb(e){return{type:e}}function tx(e){return{result:"success",value:e}}function tE(e){return{result:"error",value:e}}function t_(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}e_.register(tm,{error:[{kind:"error"},[Z],function(e,t){throw new ep(t[0].evaluate(e))}],typeof:[Z,[W],function(e,t){return Q(eh(t[0].evaluate(e)))}],"to-rgba":[$(B,4),[V],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[V,[B,B,B],ty],rgba:[V,[B,B,B,B],ty],has:{type:z,overloads:[[[Z],function(e,t){return t[0].evaluate(e) in e.properties()}],[[Z,Y],function(e,t){var r=t[0],i=t[1];return r.evaluate(e) in i.evaluate(e)}]]},get:{type:W,overloads:[[[Z],function(e,t){return tv(t[0].evaluate(e),e.properties())}],[[Z,Y],function(e,t){var r=t[0],i=t[1];return tv(r.evaluate(e),i.evaluate(e))}]]},"feature-state":[W,[Z],function(e,t){return tv(t[0].evaluate(e),e.featureState||{})}],properties:[Y,[],function(e){return e.properties()}],"geometry-type":[Z,[],function(e){return e.geometryType()}],id:[W,[],function(e){return e.id()}],zoom:[B,[],function(e){return e.globals.zoom}],pitch:[B,[],function(e){return e.globals.pitch||0}],"distance-from-center":[B,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[B,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[B,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[B,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[W,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[B,tb(B),function(e,t){for(var r=0,i=0;i<t.length;i+=1)r+=t[i].evaluate(e);return r}],"*":[B,tb(B),function(e,t){for(var r=1,i=0;i<t.length;i+=1)r*=t[i].evaluate(e);return r}],"-":{type:B,overloads:[[[B,B],function(e,t){var r=t[0],i=t[1];return r.evaluate(e)-i.evaluate(e)}],[[B],function(e,t){return-t[0].evaluate(e)}]]},"/":[B,[B,B],function(e,t){var r=t[0],i=t[1];return r.evaluate(e)/i.evaluate(e)}],"%":[B,[B,B],function(e,t){var r=t[0],i=t[1];return r.evaluate(e)%i.evaluate(e)}],ln2:[B,[],function(){return Math.LN2}],pi:[B,[],function(){return Math.PI}],e:[B,[],function(){return Math.E}],"^":[B,[B,B],function(e,t){var r=t[0],i=t[1];return Math.pow(r.evaluate(e),i.evaluate(e))}],sqrt:[B,[B],function(e,t){return Math.sqrt(t[0].evaluate(e))}],log10:[B,[B],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN10}],ln:[B,[B],function(e,t){return Math.log(t[0].evaluate(e))}],log2:[B,[B],function(e,t){return Math.log(t[0].evaluate(e))/Math.LN2}],sin:[B,[B],function(e,t){return Math.sin(t[0].evaluate(e))}],cos:[B,[B],function(e,t){return Math.cos(t[0].evaluate(e))}],tan:[B,[B],function(e,t){return Math.tan(t[0].evaluate(e))}],asin:[B,[B],function(e,t){return Math.asin(t[0].evaluate(e))}],acos:[B,[B],function(e,t){return Math.acos(t[0].evaluate(e))}],atan:[B,[B],function(e,t){return Math.atan(t[0].evaluate(e))}],min:[B,tb(B),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[B,tb(B),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[B,[B],function(e,t){return Math.abs(t[0].evaluate(e))}],round:[B,[B],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[B,[B],function(e,t){return Math.floor(t[0].evaluate(e))}],ceil:[B,[B],function(e,t){return Math.ceil(t[0].evaluate(e))}],"filter-==":[z,[Z,W],function(e,t){var r=t[0],i=t[1];return e.properties()[r.value]===i.value}],"filter-id-==":[z,[W],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[z,[Z],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[z,[Z,W],function(e,t){var r=t[0],i=t[1],n=e.properties()[r.value],s=i.value;return typeof n==typeof s&&n<s}],"filter-id-<":[z,[W],function(e,t){var r=t[0],i=e.id(),n=r.value;return typeof i==typeof n&&i<n}],"filter->":[z,[Z,W],function(e,t){var r=t[0],i=t[1],n=e.properties()[r.value],s=i.value;return typeof n==typeof s&&n>s}],"filter-id->":[z,[W],function(e,t){var r=t[0],i=e.id(),n=r.value;return typeof i==typeof n&&i>n}],"filter-<=":[z,[Z,W],function(e,t){var r=t[0],i=t[1],n=e.properties()[r.value],s=i.value;return typeof n==typeof s&&n<=s}],"filter-id-<=":[z,[W],function(e,t){var r=t[0],i=e.id(),n=r.value;return typeof i==typeof n&&i<=n}],"filter->=":[z,[Z,W],function(e,t){var r=t[0],i=t[1],n=e.properties()[r.value],s=i.value;return typeof n==typeof s&&n>=s}],"filter-id->=":[z,[W],function(e,t){var r=t[0],i=e.id(),n=r.value;return typeof i==typeof n&&i>=n}],"filter-has":[z,[W],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[z,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[z,[$(Z)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[z,[$(W)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[z,[Z,$(W)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[z,[Z,$(W)],function(e,t){var r=t[0],i=t[1];return function(e,t,r,i){for(;r<=i;){var n=r+i>>1;if(t[n]===e)return!0;t[n]>e?i=n-1:r=n+1}return!1}(e.properties()[r.value],i.value,0,i.value.length-1)}],all:{type:z,overloads:[[[z,z],function(e,t){var r=t[0],i=t[1];return r.evaluate(e)&&i.evaluate(e)}],[tb(z),function(e,t){for(var r=0;r<t.length;r+=1)if(!t[r].evaluate(e))return!1;return!0}]]},any:{type:z,overloads:[[[z,z],function(e,t){var r=t[0],i=t[1];return r.evaluate(e)||i.evaluate(e)}],[tb(z),function(e,t){for(var r=0;r<t.length;r+=1)if(t[r].evaluate(e))return!0;return!1}]]},"!":[z,[z],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[z,[Z],function(e,t){var r=t[0],i=e.globals&&e.globals.isSupportedScript;return!i||i(r.evaluate(e))}],upcase:[Z,[Z],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Z,[Z],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Z,tb(W),function(e,t){return t.map(function(t){return ec(t.evaluate(e))}).join("")}],"resolved-locale":[Z,[X],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var tS=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new eE,this._defaultValue=t?"color"===t.type&&(t_(t.default)||Array.isArray(t.default))?new I(0,0,0,0):"color"===t.type?I.parse(t.default)||null:void 0===t.default?null:t.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function tO(e,t){var r,i=new eq(tm,[],t?(r={color:V,string:Z,number:B,enum:Z,boolean:z,formatted:K,resolvedImage:J},"array"===t.type?$(r[t.value]||W,t.length):r[t.type]):void 0),n=i.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?tx(new tS(n,t)):tE(i.errors)}tS.prototype.evaluateWithoutErrorHandling=function(e,t,r,i,n,s,a,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=i||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=o||null,this.expression.evaluate(this._evaluator)},tS.prototype.evaluate=function(e,t,r,i,n,s,a,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=n||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=o||null;try{var l=this.expression.evaluate(this._evaluator);if(null==l||"number"==typeof l&&l!=l)return this._defaultValue;if(this._enumValues&&!(l in this._enumValues))throw new ep("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(l)+" instead.");return l}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var tR=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!ek(t.expression)};tR.prototype.evaluateWithoutErrorHandling=function(e,t,r,i,n,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,n,s)},tR.prototype.evaluate=function(e,t,r,i,n,s){return this._styleExpression.evaluate(e,t,r,i,n,s)};var tA=function(e,t,r,i){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!ek(t.expression),this.interpolationType=i};tA.prototype.evaluateWithoutErrorHandling=function(e,t,r,i,n,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,i,n,s)},tA.prototype.evaluate=function(e,t,r,i,n,s){return this._styleExpression.evaluate(e,t,r,i,n,s)},tA.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?e4.interpolationFactor(this.interpolationType,e,t,r):0};var tw={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant",default:"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant",default:["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,default:[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};function tC(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,r=1;r<e.length;r++)if(tC(e[r]))return!0;return!1}var tT=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function tL(e,t){return e<t?-1:e>t?1:0}function tP(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function tI(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:if(t.length>200&&!t.some(function(e){return typeof e!=typeof t[0]}))return["filter-in-large",e,["literal",t.sort(tL)]];return["filter-in-small",e,["literal",t]]}}function tM(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function tN(e){return["!",e]}var tG=["type","source","source-layer","minzoom","maxzoom","filter","layout"],tk={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},tD=/(italic|oblique)$/i,tF={},tq=function(e,t,r){var i=tF[e];if(!i){Array.isArray(e)||(e=[e]);for(var n,s,a=400,o="normal",l=[],u=0,h=e.length;u<h;++u){var c=e[u].split(" "),d=c[c.length-1].toLowerCase();for(var p in"normal"==d||"italic"==d||"oblique"==d?(o=s?o:d,c.pop(),d=c[c.length-1].toLowerCase()):tD.test(d)&&(d=d.replace(tD,""),o=s?o:c[c.length-1].replace(d,"")),tk){var f=c.length>1?c[c.length-2].toLowerCase():"";if(d==p||d==p.replace("-","")||f+"-"+d==p){a=n?a:tk[p],c.pop(),f&&p.startsWith(f)&&c.pop();break}}n||"number"!=typeof d||(a=d);var g=c.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==g.indexOf(" ")&&(g='"'+g+'"'),l.push(g)}i=tF[e]=[o,a,l]}return i[0]+" "+i[1]+" "+t+"px"+(r?"/"+r:"")+" "+i[2]},tj="https://api.mapbox.com";function tU(e){var t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}function tH(e,t){var r=tU(e);if(!r)return decodeURI(new URL(e,location.href).href);var i="styles/";if(0!==r.indexOf(i))throw Error("unexpected style url: "+e);return tj+"/styles/v1/"+r.slice(i.length)+"?&access_token="+t}function tB(e,t,r,i){var n=new URL(e,i),s=tU(e);return s?"https://{a-d}.tiles.mapbox.com/v4/"+s+"/{z}/{x}/{y}.vector.pbf?access_token="+t:(t&&n.searchParams.set(r,t),decodeURI(n.href))}function tZ(e){return e*Math.PI/180}var tz=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function tV(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var r=document.createElement("canvas");return r.width=e,r.height=t,r}var tY={};function tW(e,t,r){if(void 0===r&&(r={}),t in tY)return tY[t];var i=r.transformRequest&&r.transformRequest(t,e)||new Request(t);i.headers.get("Accept")||i.headers.set("Accept","application/json");var n=fetch(i).then(function(e){return delete tY[t],e.ok?e.json():Promise.reject(Error("Error fetching source "+t))}).catch(function(e){return delete tY[t],Promise.reject(Error("Error fetching source "+t))});return tY[t]=n,n}var tX={},tK=Array(256).join(" ");function tJ(e,t){if(t>=.05){for(var r="",i=e.split("\n"),n=tK.slice(0,Math.round(t/.1)),s=0,a=i.length;s<a;++s)s>0&&(r+="\n"),r+=i[s].split("").join(n);return r}return e}function t$(){return n||(n=tV(1,1).getContext("2d")),n}function tQ(e,t){return t$().measureText(e).width+(e.length-1)*t}var t0={};function t1(e,t,r,i){if(-1!==e.indexOf("\n")){for(var n=e.split("\n"),s=[],a=0,o=n.length;a<o;++a)s.push(t1(n[a],t,r,i));return s.join("\n")}var l=r+","+t+","+e+","+i,u=t0[l];if(!u){var h=e.split(" ");if(h.length>1){var c=t$();c.font=t;for(var d=c.measureText("M").width*r,p="",f=[],g=0,m=h.length;g<m;++g){var y=h[g],v=p+(p?" ":"")+y;tQ(v,i)<=d?p=v:(p&&f.push(p),p=y)}p&&f.push(p);for(var b=0,x=f.length;b<x&&x>1;++b){var E=f[b];if(tQ(E,i)<.35*d){var _=b>0?tQ(f[b-1],i):1/0,S=b<x-1?tQ(f[b+1],i):1/0;f.splice(b,1),x-=1,_<S?(f[b-1]+=" "+E,b-=1):f[b]=E+" "+f[b]}}for(var O=0,R=f.length-1;O<R;++O){var A=f[O],w=f[O+1];if(tQ(A,i)>.7*d&&tQ(w,i)<.6*d){var C=A.split(" "),T=C.pop();tQ(T,i)<.2*d&&(f[O]=C.join(" "),f[O+1]=T+" "+w),R-=1}}u=f.join("\n")}else u=e;u=tJ(u,i),t0[l]=u}return u}var t2=/font-family: ?([^;]*);/,t5=/("|')/g,t3={};function t4(e){var t=e.toString();if(t in t3)return t3[t];for(var r=[],i=0,n=e.length;i<n;++i){e[i]=e[i].replace("Arial Unicode MS","Arial");var s=tq(e[i],1);(0,m.registerFont)(s);var o=s.split(" ");r.push([o.slice(3).join(" ").replace(/"/g,""),o[1],o[0]])}for(var l=0,u=r.length;l<u;++l){var h=r[l],c=h[0];if(!function(e){if(!a){a={};for(var t=document.styleSheets,r=0,i=t.length;r<i;++r){var n=t[r];try{var s=n.rules||n.cssRules;if(s)for(var o=0,l=s.length;o<l;++o){var u=s[o];5==u.type&&(a[u.cssText.match(t2)[1].replace(t5,"")]=!0)}}catch(e){}}}return e in a}(c)&&100!==(0,m.checkedFonts).get(h[2]+"\n"+h[1]+" \n"+c)){var d="https://fonts.googleapis.com/css?family="+c.replace(/ /g,"+")+":"+h[1]+h[2];if(!document.querySelector('link[href="'+d+'"]')){var p=document.createElement("link");p.href=d,p.rel="stylesheet",document.head.appendChild(p)}}}return t3[t]=e,e}var t6={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},t8={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},t7=function(e,t){var r=function(e,t){if("error"===(e=tO(e,t)).result)return e;var r=e.value.expression,i=eG(r);if(!i&&!("data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]))return tE([new j("","data expressions not supported")]);var n=eD(r,["zoom","pitch","distance-from-center"]);if(!n&&!(t.expression&&t.expression.parameters.indexOf("zoom")>-1))return tE([new j("","zoom expressions not supported")]);var s=function e(t){var r=null;if(t instanceof e7)r=e(t.result);else if(t instanceof e8)for(var i=0,n=t.args;i<n.length&&!(r=e(n[i]));i+=1);else(t instanceof eU||t instanceof e4)&&t.input instanceof e_&&"zoom"===t.input.name&&(r=t);return r instanceof j||t.eachChild(function(t){var i=e(t);i instanceof j?r=i:!r&&i?r=new j("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&i&&r!==i&&(r=new j("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(r);if(!s&&!n)return tE([new j("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(s instanceof j)return tE([s]);if(s instanceof e4&&!(t.expression&&t.expression.interpolated))return tE([new j("",'"interpolate" expressions cannot be used with this property')]);if(!s)return tx(i?new tR("constant",e.value):new tR("source",e.value));var a=s instanceof e4?s.interpolation:void 0;return tx(i?new tA("camera",e.value,s.labels,a):new tA("composite",e.value,s.labels,a))}(e,t);if("error"===r.result)throw Error(r.value.map(function(e){return e.key+": "+e.message}).join(", "));return r.value},t9={},re={zoom:0};function rt(e,t,r,i,n,s,a){var o=e.id;s||(s={},console.warn("No functionCache provided to getValue()")),s[o]||(s[o]={});var l=s[o];if(!l[r]){var u,h=(e[t]||t9)[r],c=tw[t+"_"+e.type][r];void 0===h&&(h=c.default);var d=Array.isArray(u=h)&&u.length>0&&"string"==typeof u[0]&&u[0]in tm;if(!d&&t_(h)&&(h=function(e,t){var r=e.stops;if(!r)return function(e,t){var r=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",r]:r;if("enum"===t.type)return["match",r,Object.keys(t.values),r,e.default];var i=["color"===t.type?"to-color":t.type,r,M(e.default)];return"array"===t.type&&i.splice(1,0,t.value,t.length||null),i}(e,t);var i=r&&"object"==typeof r[0][0],n=i||void 0!==e.property;return(r=r.map(function(e){return!n&&t.tokens&&"string"==typeof e[1]?[e[0],function(e){for(var t=["concat"],r=/{([^{}]+)}/g,i=0,n=r.exec(e);null!==n;n=r.exec(e)){var s=e.slice(i,r.lastIndex-n[0].length);i=r.lastIndex,s.length>0&&t.push(s),t.push(["get",n[1]])}if(1===t.length)return e;if(i<e.length)t.push(e.slice(i));else if(2===t.length)return["to-string",t[1]];return t}(e[1])]:[e[0],M(e[1])]}),i)?function(e,t,r){for(var i={},n={},s=[],a=0;a<r.length;a++){var o=r[a],l=o[0].zoom;void 0===i[l]&&(i[l]={zoom:l,type:e.type,property:e.property,default:e.default},n[l]=[],s.push(l)),n[l].push([o[0].value,o[1]])}if("exponential"===q({},t)){for(var u=[N(e),["linear"],["zoom"]],h=0;h<s.length;h+=1){var c=s[h],d=k(i[c],t,n[c]);F(u,c,d,!1)}return u}for(var p=["step",["zoom"]],f=0;f<s.length;f+=1){var g=s[f],m=k(i[g],t,n[g]);F(p,g,m,!0)}return D(p),p}(e,t,r):i||!n?function(e,t,r,i){void 0===i&&(i=["zoom"]);var n,s=q(e,t),a=!1;if("interval"===s)n=["step",i],a=!0;else if("exponential"===s){var o=void 0!==e.base?e.base:1;n=[N(e),1===o?["linear"]:["exponential",o],i]}else throw Error('Unknown zoom function type "'+s+'"');for(var l=0;l<r.length;l+=1){var u=r[l];F(n,u[0],u[1],a)}return D(n),n}(e,t,r):k(e,t,r)}(h,c),d=!0),d){var p=t7(h,c);l[r]=p.evaluate.bind(p)}else"color"==c.type&&(h=I.parse(h)),l[r]=function(){return h}}return re.zoom=i,l[r](re,n,a)}function rr(e,t){if(e){if(0===e.a||0===t)return;var r=e.a;return t=void 0===t?1:t,0===r?"transparent":"rgba("+Math.round(255*e.r/r)+","+Math.round(255*e.g/r)+","+Math.round(255*e.b/r)+","+r*t+")"}return e}var ri=/\{[^{}}]*\}/g;function rn(e,t){return e.replace(ri,function(e){return t[e.slice(1,-1)]||""})}function rs(e,t,r,i,n){var s,a,m,y,A;return void 0===r&&(r=""),void 0===i&&(i={}),void 0===n&&(n=void 0),"string"==typeof i?(s=i,m={}):(s=i.styleUrl,m=i),n||(n=m.resolutions),s||"string"!=typeof t||t.trim().startsWith("{")||(s=t),s&&(y=s=s.startsWith("data:")?location.href:tH(s,m.accessToken),(A=m).accessToken||(A=Object.assign({},A),new URL(y).searchParams.forEach(function(e,t){A.accessToken=e,A.accessTokenParam=t})),m=A),new Promise(function(i,y){(function(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return tW("Style",e=tH(e,t.accessToken),t);try{var r=JSON.parse(e);return Promise.resolve(r)}catch(e){return Promise.reject(e)}})(t,m).then(function(t){if(8!=t.version)return y(Error("glStyle version 8 required."));if(!(e instanceof E.default||e instanceof S.default))return y(Error("Can only apply to VectorLayer or VectorTileLayer"));var A,w,C,T=e instanceof S.default?"vector":"geojson";if(r?a=Array.isArray(r)?t.layers.find(function(e){return e.id===r[0]}).source:r:r=a=Object.keys(t.sources).find(function(e){return t.sources[e].type===T}),!a)return y(Error("No "+T+" source found in the glStyle."));function L(){if(e instanceof S.default){var r,i,n;return(r=t.sources[a],i=s,n=m,new Promise(function(e,t){(function(e,t,r){void 0===r&&(r={});var i=[t,JSON.stringify(e)].toString(),n=tX[i];if(!n||r.transformRequest){var s=e.url;if(s&&!e.tiles){var a=tB(s,r.accessToken,r.accessTokenParam||"access_token",t||location.href);n=s.startsWith("mapbox://")?Promise.resolve(Object.assign({},e,{url:void 0,tiles:a})):tW("Source",a,r).then(function(e){for(var t=0,i=e.tiles.length;t<i;++t){var n=e.tiles[t];if(r.transformRequest){var s=r.transformRequest(a,"Source");s&&(a=s.url)}var o=tB(n,r.accessToken,r.accessTokenParam||"access_token",a);if(r.transformRequest){var l=r.transformRequest(o,"Tiles");l instanceof Request&&(o=decodeURI(l.url))}e.tiles[t]=o}return Promise.resolve(e)})}else n=Promise.resolve(Object.assign({},e=Object.assign({},e,{tiles:e.tiles.map(function(e){return tB(e,r.accessToken,r.accessTokenParam||"access_token",t||location.href)})})));tX[i]=n}return n})(r,i,n).then(function(t){var r=new x.default({tileJSON:t}),i=r.getTileJSON(),n=r.getTileGrid(),s=function(e){var t=e.bounds;if(t){var r=(0,R.fromLonLat)([t[0],t[1]]),i=(0,R.fromLonLat)([t[2],t[3]]);return[r[0],r[1],i[0],i[1]]}}(i),a=i.minzoom||0,o=i.maxzoom||22,l={attributions:r.getAttributions(),format:new v.default,tileGrid:new b.default({origin:n.getOrigin(0),extent:s||n.getExtent(),minZoom:a,resolutions:tz.slice(0,o+1),tileSize:512})};Array.isArray(i.tiles)?l.urls=i.tiles:l.url=i.tiles,t.olSourceOptions&&Object.assign(l,t.olSourceOptions),e(new O.default(l))}).catch(t)})).then(function(t){var r=e.getSource();if(r?t!==r&&(r.setTileUrlFunction(t.getTileUrlFunction()),r.format_||(r.format_=t.format_),r.getAttributions()||r.setAttributions(t.getAttributions()),r.getTileLoadFunction()===O.defaultLoadFunction&&r.setTileLoadFunction(t.getTileLoadFunction()),(0,R.equivalent)(r.getProjection(),t.getProjection())&&(r.tileGrid=t.getTileGrid())):e.setSource(t),!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())){var i=e.getSource().getTileGrid();e.setMaxResolution(i.getResolution(i.getMinZoom()))}})}var o=t.sources[a],l=e.getSource();l&&l.get("mapbox-source")===o||(l=function(e,t,r){var i=e.data,n={};if("string"==typeof i){var s=tB(i,r.accessToken,r.accessTokenParam||"access_token",t||location.href);if(r.transformRequest){var a=r.transformRequest(s,"GeoJSON");a instanceof Request&&(s=encodeURI(a.url))}n.url=s}else n.features=ra.readFeatures(i,{featureProjection:(0,R.getUserProjection)()||"EPSG:3857"});var o=new _.default(Object.assign({attributions:e.attribution,format:ra},n));return o.set("mapbox-source",e),o}(o,s,m));var u=e.getSource();return u?l!==u&&(u.getAttributions()||u.setAttributions(l.getAttributions()),u.format_||(u.format_=l.getFormat()),u.url_=l.getUrl()):e.setSource(l),Promise.resolve()}function P(){C||t.sprite&&!A?C?(e.setStyle(C),L().then(i).catch(y)):y(Error("Something went wrong trying to apply style.")):(C=function(e,t,r,i,n,s,a){if(void 0===i&&(i=tz),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===a&&(a=void 0),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw Error("glStyle version 8 required.");if(s){if("undefined"!=typeof Image){var m,y,v,b=new Image;b.crossOrigin="anonymous",b.onload=function(){m=b,y=[b.width,b.height],e.changed(),b.onload=null},b.src=s}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var x=self;x.postMessage({action:"loadImage",src:s}),x.addEventListener("message",function(e){"imageLoaded"===e.data.action&&e.data.src===s&&(y=[(m=e.data.image).width,m.height])})}}for(var E=function(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var i=0;i<e.length;i++)"ref"in e[i]&&(e[i]=function(e,t){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return tG.forEach(function(e){e in t&&(r[e]=t[e])}),r}(e[i],t[e[i].ref]));return e}(t.layers),_={},S=[],O={},R={},A={},w={},C=0,T=E.length;C<T;++C){var L=E[C],P=L.id;if("string"==typeof r&&L.source==r||-1!==r.indexOf(P)){var I=L["source-layer"];if(v){if(L.source!==v)throw Error('Layer "'+P+'" does not use source "'+v)}else{v=L.source;var M=t.sources[v];if(!M)throw Error('Source "'+v+'" is not defined');var N=M.type;if("vector"!==N&&"geojson"!==N)throw Error('Source "'+v+'" is not of type "vector" or "geojson", but "'+N+'"')}var G=_[I];G||(G=[],_[I]=G),G.push({layer:L,index:C}),S.push(P)}}var k=new p.default,D=new h.default,F=[],q=function(t,r){var s=t.getProperties(),v=_[s.layer];if(v){var b=i.indexOf(r);-1==b&&(b=function(e,t){for(var r=0,i=t.length;r<i;++r)if(t[r]<e&&r+1<i){var n=t[r]/t[r+1];return r+Math.log(t[r]/e)/Math.log(n)}return i-1}(r,i));for(var x=t6[t.getGeometry().getType()],E={properties:s,type:x},S=e.get("mapbox-featurestate")[t.getId()],C=-1,T=0,L=v.length;T<L;++T){var P=v[T],I=P.layer,M=I.id,N=I.layout||t9,G=I.paint||t9;if("none"!==N.visibility&&(!("minzoom"in I)||!(b<I.minzoom))&&(!("maxzoom"in I)||!(b>=I.maxzoom))){var q=I.filter;if(!q||(eC=b,w||console.warn("No filterCache provided to evaluateFilter()"),M in w||(w[M]=function(e,t){if(void 0===t&&(t="fill"),null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};!function e(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var r=0,i=t.slice(1);r<i.length;r+=1){var n=i[r];if(!e(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}(e)&&(e=function e(t){if(!t)return!0;var r=t[0];return t.length<=1?"any"!==r:"=="===r?tP(t[1],t[2],"=="):"!="===r?tN(tP(t[1],t[2],"==")):"<"===r||">"===r||"<="===r||">="===r?tP(t[1],t[2],r):"any"===r?["any"].concat(t.slice(1).map(e)):"all"===r?["all"].concat(t.slice(1).map(e)):"none"===r?["all"].concat(t.slice(1).map(e).map(tN)):"in"===r?tI(t[1],t.slice(2)):"!in"===r?tN(tI(t[1],t.slice(2))):"has"===r?tM(t[1]):"!has"===r?tN(tM(t[1])):"within"!==r||t}(e));var r=e,i=!0;try{i=function(e){if(!tC(e))return e;var t=function e(t){if(Array.isArray(t))return t.map(e);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var r={};for(var i in t)r[i]=e(t[i]);return r}return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}(e);return function e(t){var r=!1,i=[];if("case"===t[0]){for(var n=1;n<t.length-1;n+=2)r=r||tC(t[n]),i.push(t[n+1]);i.push(t[t.length-1])}else if("match"===t[0]){r=r||tC(t[1]);for(var s=2;s<t.length-1;s+=2)i.push(t[s+1]);i.push(t[t.length-1])}else if("step"===t[0]){r=r||tC(t[1]);for(var a=1;a<t.length-1;a+=2)i.push(t[a+1])}r&&(t.length=0,t.push.apply(t,["any"].concat(i)));for(var o=1;o<t.length;o++)e(t[o])}(t),t=function e(t){if(!Array.isArray(t))return t;var r=function(e){if(tT.has(e[0])){for(var t=1;t<e.length;t++)if(tC(e[t]))return!0}return e}(t);return!0===r?r:r.map(function(t){return e(t)})}(t)}(r)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+JSON.stringify(r,null,2)+"\n        ")}var n=tw["filter_"+t],s=tO(i,n),a=null;if("error"===s.result)throw Error(s.value.map(function(e){return e.key+": "+e.message}).join(", "));a=function(e,t,r){return s.value.evaluate(e,t,{},r)};var o=null,l=null;if(i!==r){var u=tO(r,n);if("error"===u.result)throw Error(u.value.map(function(e){return e.key+": "+e.message}).join(", "));o=function(e,t,r,i,n){return u.value.evaluate(e,t,{},r,void 0,void 0,i,n)},l=!eG(u.value.expression)}return{filter:a,dynamicFilter:o||void 0,needGeometry:function e(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(var r=1;r<t.length;r++)if(e(t[r]))return!0;return!1}(i),needFeature:!!l}}(q).filter),re.zoom=eC,w[M](re,E))){var j=void 0,U=void 0,H=void 0,B=void 0,Z=void 0,z=void 0,V=P.index;if(3==x&&("fill"==I.type||"fill-extrusion"==I.type)){if(U=rt(I,"paint",I.type+"-opacity",b,E,A,S),I.type+"-pattern" in G){var Y=rt(I,"paint",I.type+"-pattern",b,E,A,S);if(Y){var W="string"==typeof Y?rn(Y,s):Y.toString();if(m&&n&&n[W]){(!(z=F[++C])||!z.getFill()||z.getStroke()||z.getText())&&(z=new f.default({fill:new h.default}),F[C]=z),H=z.getFill(),z.setZIndex(V);var X=W+"."+U,K=R[X];if(!K){var J=n[W],$=tV(J.width,J.height),Q=$.getContext("2d");Q.globalAlpha=U,Q.drawImage(m,J.x,J.y,J.width,J.height,0,0,J.width,J.height),K=Q.createPattern($,"repeat"),R[X]=K}H.setColor(K)}}}else j=rr(rt(I,"paint",I.type+"-color",b,E,A,S),U),I.type+"-outline-color" in G&&(Z=rr(rt(I,"paint",I.type+"-outline-color",b,E,A,S),U)),Z||(Z=j),(j||Z)&&((!(z=F[++C])||j&&!z.getFill()||!j&&z.getFill()||Z&&!z.getStroke()||!Z&&z.getStroke()||z.getText())&&(z=new f.default({fill:j?new h.default:void 0,stroke:Z?new p.default:void 0}),F[C]=z),j&&(H=z.getFill()).setColor(j),Z&&((B=z.getStroke()).setColor(Z),B.setWidth(.5)),z.setZIndex(V))}if(1!=x&&"line"==I.type){j=!("line-pattern"in G)&&"line-color"in G?rr(rt(I,"paint","line-color",b,E,A,S),rt(I,"paint","line-opacity",b,E,A,S)):void 0;var ee=rt(I,"paint","line-width",b,E,A,S);j&&ee>0&&((!(z=F[++C])||!z.getStroke()||z.getFill()||z.getText())&&(z=new f.default({stroke:new p.default}),F[C]=z),(B=z.getStroke()).setLineCap(rt(I,"layout","line-cap",b,E,A,S)),B.setLineJoin(rt(I,"layout","line-join",b,E,A,S)),B.setMiterLimit(rt(I,"layout","line-miter-limit",b,E,A,S)),B.setColor(j),B.setWidth(ee),B.setLineDash(G["line-dasharray"]?rt(I,"paint","line-dasharray",b,E,A,S).map(function(e){return e*ee}):null),z.setZIndex(V))}var et=!1,er=null,ei=0,en=void 0,es=void 0,ea=void 0;if((1==x||2==x)&&"icon-image"in N){var eo=rt(I,"layout","icon-image",b,E,A,S);if(eo){en="string"==typeof eo?rn(eo,s):eo.toString();var el=void 0;if(m&&n&&n[en]){var eu=rt(I,"layout","icon-rotation-alignment",b,E,A,S);if(2==x){var eh=t.getGeometry();if(eh.getFlatMidpoint||eh.getFlatMidpoints){var ec=eh.getExtent();if(Math.sqrt(Math.max(Math.pow((ec[2]-ec[0])/r,2),Math.pow((ec[3]-ec[1])/r,2)))>150){var ed="MultiLineString"===eh.getType()?eh.getFlatMidpoints():eh.getFlatMidpoint();if(l||(o=[NaN,NaN],l=new d.default("Point",o,[],{},null)),el=l,o[0]=ed[0],o[1]=ed[1],"line"===rt(I,"layout","symbol-placement",b,E,A,S)&&"map"===eu)for(var ep=eh.getStride(),ef=eh.getFlatCoordinates(),eg=0,em=ef.length-ep;eg<em;eg+=ep){var ey=ef[eg],ev=ef[eg+1],eb=ef[eg+ep],ex=ef[eg+ep+1],eE=Math.min(ey,eb),e_=Math.min(ev,ex),eS=Math.max(ey,eb),eO=Math.max(ev,ex);if(ed[0]>=eE&&ed[0]<=eS&&ed[1]>=e_&&ed[1]<=eO){ei=Math.atan2(ev-ex,eb-ey);break}}}}}if(2!==x||el){var eR=rt(I,"layout","icon-size",b,E,A,S),eA=void 0!==G["icon-color"]?rt(I,"paint","icon-color",b,E,A,S):null;if(!eA||0!==eA.a){var ew=en+"."+eR;if(null!==eA&&(ew+="."+eA),!(es=O[ew])){var eC,eT,eL=n[en],eP=rt(I,"layout","icon-allow-overlap",eT=b,E,A)?rt(I,"layout","icon-ignore-placement",eT,E,A)?"none":"obstacle":"declutter";es=new c.default({color:eA?[255*eA.r,255*eA.g,255*eA.b,eA.a]:void 0,img:m,imgSize:y,size:[eL.width,eL.height],offset:[eL.x,eL.y],rotateWithView:"map"===eu,scale:eR/eL.pixelRatio,displacement:"icon-offset"in N?rt(I,"layout","icon-offset",b,E,A,S).map(function(e){return-e*eL.pixelRatio}):void 0,declutterMode:eP}),O[ew]=es}}es&&((!(z=F[++C])||!z.getImage()||z.getFill()||z.getStroke())&&(z=new f.default,F[C]=z),z.setGeometry(el),es.setRotation(ei+tZ(rt(I,"layout","icon-rotate",b,E,A,S))),es.setOpacity(rt(I,"paint","icon-opacity",b,E,A,S)),es.setAnchor(t8[rt(I,"layout","icon-anchor",b,E,A,S)]),z.setImage(es),er=z.getText(),z.setText(void 0),z.setZIndex(V),et=!0,ea=!1)}else ea=!0}}}if(1==x&&"circle"===I.type){(!(z=F[++C])||!z.getImage()||z.getFill()||z.getStroke())&&(z=new f.default,F[C]=z);var eI="circle-radius"in G?rt(I,"paint","circle-radius",b,E,A,S):5,eM=rr(rt(I,"paint","circle-stroke-color",b,E,A,S),rt(I,"paint","circle-stroke-opacity",b,E,A,S)),eN=rr(rt(I,"paint","circle-color",b,E,A,S),rt(I,"paint","circle-opacity",b,E,A,S)),ek=rt(I,"paint","circle-stroke-width",b,E,A,S),eD=eI+"."+eM+"."+eN+"."+ek;(es=O[eD])||(es=new u.default({radius:eI,stroke:eM&&ek>0?new p.default({width:ek,color:eM}):void 0,fill:eN?new h.default({color:eN}):void 0,declutterMode:"none"}),O[eD]=es),z.setImage(es),er=z.getText(),z.setText(void 0),z.setGeometry(void 0),z.setZIndex(V),et=!0}var eF=void 0,eq=void 0,ej=void 0,eU=void 0,eH=void 0,eB=void 0;if("text-field"in N){eU=Math.round(rt(I,"layout","text-size",b,E,A,S));var eZ=rt(I,"layout","text-font",b,E,A,S);ej=rt(I,"layout","text-line-height",b,E,A,S),(eq=tq(a?a(eZ):eZ,eU,ej)).includes("sans-serif")||(eq+=",sans-serif"),eH=rt(I,"layout","text-letter-spacing",b,E,A,S),eB=rt(I,"layout","text-max-width",b,E,A,S);var ez=rt(I,"layout","text-field",b,E,A,S);eF="object"==typeof ez&&ez.sections?1===ez.sections.length?ez.toString():ez.sections.reduce(function(e,t,r){var i=t.fontStack?t.fontStack.split(","):eZ,n=tq(a?a(i):i,eU*(t.scale||1),ej),s=t.text;if("\n"===s)return e.push("\n",""),e;if(2==x){e.push(tJ(s,eH),n);return}s=t1(s,n,eB,eH).split("\n");for(var o=0,l=s.length;o<l;++o)o>0&&e.push("\n",""),e.push(s[o],n);return e},[]):rn(ez,s).trim(),U=rt(I,"paint","text-opacity",b,E,A,S)}if(eF&&U&&!ea){et||((!(z=F[++C])||!z.getText()||z.getFill()||z.getStroke())&&(z=new f.default,F[C]=z),z.setImage(void 0),z.setGeometry(void 0)),z.getText()||z.setText(er||new g.default({padding:[2,2,2,2]})),er=z.getText();var eV=N["text-transform"];"uppercase"==eV?eF=Array.isArray(eF)?eF.map(function(e,t){return t%2?e:e.toUpperCase()}):eF.toUpperCase():"lowercase"==eV&&(eF=Array.isArray(eF)?eF.map(function(e,t){return t%2?e:e.toLowerCase()}):eF.toLowerCase());var eY=Array.isArray(eF)?eF:2==x?tJ(eF,eH):t1(eF,eq,eB,eH);er.setText(eY),er.setFont(eq),er.setRotation(tZ(rt(I,"layout","text-rotate",b,E,A,S)));var eW=rt(I,"layout","text-anchor",b,E,A,S),eX=et||1==x?"point":rt(I,"layout","symbol-placement",b,E,A,S);er.setPlacement(eX),er.setOverflow("point"===eX);var eK=rt(I,"paint","text-halo-width",b,E,A,S),eJ=rt(I,"layout","text-offset",b,E,A,S),e$=rt(I,"paint","text-translate",b,E,A,S),eQ=0,e0=0;if("point"==eX){var e1="center";-1!==eW.indexOf("left")?(e1="left",e0=eK):-1!==eW.indexOf("right")&&(e1="right",e0=-eK),er.setTextAlign(e1);var e2=rt(I,"layout","text-rotation-alignment",b,E,A,S);er.setRotateWithView("map"==e2)}else er.setMaxAngle(tZ(rt(I,"layout","text-max-angle",b,E,A,S))*eF.length/eY.length),er.setTextAlign(),er.setRotateWithView(!1);var e5="middle";0==eW.indexOf("bottom")?(e5="bottom",eQ=-eK-.5*(ej-1)*eU):0==eW.indexOf("top")&&(e5="top",eQ=eK+.5*(ej-1)*eU),er.setTextBaseline(e5),er.setOffsetX(eJ[0]*eU+e0+e$[0]),er.setOffsetY(eJ[1]*eU+eQ+e$[1]),D.setColor(rr(rt(I,"paint","text-color",b,E,A,S),U)),er.setFill(D);var e3=rr(rt(I,"paint","text-halo-color",b,E,A,S),U);if(e3){k.setColor(e3),eK*=2;var e4=.5*eU;k.setWidth(eK<=e4?eK:e4),er.setStroke(k)}else er.setStroke(void 0);var e6=rt(I,"layout","text-padding",b,E,A,S),e8=er.getPadding();e6!==e8[0]&&(e8[0]=e6,e8[1]=e6,e8[2]=e6,e8[3]=e6),z.setZIndex(V)}}}}if(C>-1)return F.length=C+1,F}};return e.setStyle(q),e.set("mapbox-source",v),e.set("mapbox-layers",S),e.set("mapbox-featurestate",{}),q}(e,t,r,n,A,w,t4),e.getStyle()?L().then(i).catch(y):y(Error("Nothing to show for source ["+a+"]")))}if(t.sprite){var I=new URL(function(e,t,r){var i=tU(e);if(!i)return decodeURI(new URL(e,r).href);var n="sprites/";if(0!==i.indexOf(n))throw Error("unexpected sprites url: "+e);return tj+"/styles/v1/"+i.slice(n.length)+"/sprite?access_token="+t}(t.sprite,m.accessToken,s||location.href)),M=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",N=I.origin+I.pathname+M+".json"+I.search;new Promise(function(e,t){tW("Sprite",N,m).then(e).catch(function(r){tW("Sprite",N=I.origin+I.pathname+".json"+I.search,m).then(e).catch(t)})}).then(function(e){if(void 0===e&&y(Error("No sprites found.")),A=e,w=I.origin+I.pathname+M+".png"+I.search,m.transformRequest){var t=m.transformRequest(w,"SpriteImage");t instanceof Request&&(w=encodeURI(t.url))}P()}).catch(function(e){y(Error("Sprites cannot be loaded: "+N+": "+e.message))})}else P()}).catch(y)})}var ra=new y.default}),a("kPMpK",function(e,r){t(e.exports,"default",()=>g);var i=s("iGyOD"),n=s("k8QYM"),a=s("29SgV"),o=s("9z1G1"),l=s("ee3b9"),u=s("63y7W"),h=s("gzr8q"),c=s("kKEgb");class d extends n.default{constructor(e){e=e||{},super(),this.dataProjection=(0,h.get)(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=(0,h.get)(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let r=null,n=p((r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t);if(this.featureClass===a.default)return(0,o.createRenderFeature)({geometry:n,id:r.id,properties:r.properties},t);let s=new i.default;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&s.setGeometryName(r.geometry_name),s.setGeometry((0,o.createGeometry)(n,t)),"id"in r&&s.setId(r.id),r.properties&&s.setProperties(r.properties,!0),s}readFeaturesFromObject(e,t){let r=null;if("FeatureCollection"===e.type){r=[];let i=e.features;for(let e=0,n=i.length;e<n;++e){let n=this.readFeatureFromObject(i[e],t);n&&r.push(n)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return function(e,t){let r=p(e,t);return(0,o.createGeometry)(r,t)}(e,t)}readProjectionFromObject(e){let t;let r=e.crs;if(r){if("name"==r.type)t=(0,h.get)(r.properties.name);else if("EPSG"===r.type)t=(0,h.get)("EPSG:"+r.properties.code);else throw Error("Unknown SRS type")}else t=this.dataProjection;return t}writeFeatureObject(e,t){t=this.adaptOptions(t);let r={type:"Feature",geometry:null,properties:null},i=e.getId();if(void 0!==i&&(r.id=i),!e.hasProperties())return r;let n=e.getProperties(),s=e.getGeometry();return s&&(r.geometry=f(s,t),delete n[e.getGeometryName()]),(0,c.isEmpty)(n)||(r.properties=n),r}writeFeaturesObject(e,t){t=this.adaptOptions(t);let r=[];for(let i=0,n=e.length;i<n;++i)r.push(this.writeFeatureObject(e[i],t));return{type:"FeatureCollection",features:r}}writeGeometryObject(e,t){return f(e,this.adaptOptions(t))}}function p(e,t){let r;if(!e)return null;switch(e.type){case"Point":r=function(e){let t=e.coordinates;return{type:"Point",flatCoordinates:t,layout:(0,u.getLayoutForStride)(t.length)}}(e);break;case"LineString":r=function(e){let t=e.coordinates,r=t.flat();return{type:"LineString",flatCoordinates:r,ends:[r.length],layout:(0,u.getLayoutForStride)(t[0].length)}}(e);break;case"Polygon":r=function(e){let t=e.coordinates,r=[],i=t[0][0].length,n=(0,l.deflateCoordinatesArray)(r,0,t,i);return{type:"Polygon",flatCoordinates:r,ends:n,layout:(0,u.getLayoutForStride)(i)}}(e);break;case"MultiPoint":r=function(e){let t=e.coordinates;return{type:"MultiPoint",flatCoordinates:t.flat(),layout:(0,u.getLayoutForStride)(t[0].length)}}(e);break;case"MultiLineString":r=function(e){let t=e.coordinates,r=t[0][0].length,i=[],n=(0,l.deflateCoordinatesArray)(i,0,t,r);return{type:"MultiLineString",flatCoordinates:i,ends:n,layout:(0,u.getLayoutForStride)(r)}}(e);break;case"MultiPolygon":r=function(e){let t=e.coordinates,r=[],i=t[0][0][0].length,n=(0,l.deflateMultiCoordinatesArray)(r,0,t,i);return{type:"MultiPolygon",flatCoordinates:r,ends:n,layout:(0,u.getLayoutForStride)(i)}}(e);break;case"GeometryCollection":r=e.geometries.map(function(e){return p(e,void 0)});break;default:throw Error("Unsupported GeoJSON type: "+e.type)}return r}function f(e,t){var r,i,n,s;let a,l,u;let h=(e=(0,o.transformGeometryWithOptions)(e,!0,t)).getType();switch(h){case"Point":a={type:"Point",coordinates:e.getCoordinates()};break;case"LineString":a={type:"LineString",coordinates:e.getCoordinates()};break;case"Polygon":r=e,t&&(l=t.rightHanded),a={type:"Polygon",coordinates:r.getCoordinates(l)};break;case"MultiPoint":a={type:"MultiPoint",coordinates:e.getCoordinates()};break;case"MultiLineString":a={type:"MultiLineString",coordinates:e.getCoordinates()};break;case"MultiPolygon":i=e,t&&(u=t.rightHanded),a={type:"MultiPolygon",coordinates:i.getCoordinates(u)};break;case"GeometryCollection":n=e,s=Object.assign({},s=t),delete s.featureProjection,a={type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(e){return f(e,s)})};break;case"Circle":a={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+h)}return a}var g=d}),a("k8QYM",function(e,r){t(e.exports,"default",()=>l);var i=s("9z1G1"),n=s("lVQul");class a extends i.default{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(o(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(o(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return(0,n.abstract)()}readFeaturesFromObject(e,t){return(0,n.abstract)()}readGeometry(e,t){return this.readGeometryFromObject(o(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return(0,n.abstract)()}readProjection(e){return this.readProjectionFromObject(o(e))}readProjectionFromObject(e){return(0,n.abstract)()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return(0,n.abstract)()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return(0,n.abstract)()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return(0,n.abstract)()}}function o(e){return"string"==typeof e?JSON.parse(e)||null:null!==e?e:null}var l=a}),a("9z1G1",function(e,r){t(e.exports,"default",()=>m),t(e.exports,"transformGeometryWithOptions",()=>y),t(e.exports,"createRenderFeature",()=>function e(t,r){var i,s;let a=t.geometry;if(!a)return[];if(Array.isArray(a))return a.map(r=>e({...t,geometry:r})).flat();let o="MultiPolygon"===a.type?"Polygon":a.type;if("GeometryCollection"===o||"Circle"===o)throw Error("Unsupported geometry type: "+o);let l=a.layout.length;return y(new(0,n.default)(o,"Polygon"===o?(i=a.flatCoordinates,Array.isArray((s=a.ends)[0])?(0,g.linearRingssAreOriented)(i,0,s,l)||(i=i.slice(),(0,g.orientLinearRingsArray)(i,0,s,l)):(0,g.linearRingsAreOriented)(i,0,s,l)||(i=i.slice(),(0,g.orientLinearRings)(i,0,s,l)),i):a.flatCoordinates,a.ends?.flat(),l,t.properties||{},t.id).enableSimplifyTransformed(),!1,r)}),t(e.exports,"createGeometry",()=>function e(t,r){if(!t)return null;if(Array.isArray(t)){let i=t.map(t=>e(t,r));return new d.default(i)}return y(new v[t.type](t.flatCoordinates,t.layout,t.ends),!1,r)});var i=s("iGyOD"),n=s("29SgV"),a=s("j2K3b"),o=s("hvEnP"),l=s("cgPpQ"),u=s("ljDIj"),h=s("7TB1l"),c=s("dEQmT"),d=s("6pyIt"),p=s("lVQul"),f=s("gzr8q"),g=s("2cCpz"),m=class{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=i.default,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let r=t.dataProjection?(0,f.get)(t.dataProjection):this.readProjection(e);t.extent&&r&&"tile-pixels"===r.getUnits()&&(r=(0,f.get)(r)).setWorldExtent(t.extent),t={dataProjection:r,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return(0,p.abstract)()}readFeature(e,t){return(0,p.abstract)()}readFeatures(e,t){return(0,p.abstract)()}readGeometry(e,t){return(0,p.abstract)()}readProjection(e){return(0,p.abstract)()}writeFeature(e,t){return(0,p.abstract)()}writeFeatures(e,t){return(0,p.abstract)()}writeGeometry(e,t){return(0,p.abstract)()}};function y(e,t,r){let i=r?(0,f.get)(r.featureProjection):null,n=r?(0,f.get)(r.dataProjection):null,s=e;if(i&&n&&!(0,f.equivalent)(i,n)){t&&(s=e.clone());let r=t?i:n,a=t?n:i;"tile-pixels"===r.getUnits()?s.transform(r,a):s.applyTransform((0,f.getTransform)(r,a))}if(t&&r&&void 0!==r.decimals){let t=Math.pow(10,r.decimals);s===e&&(s=e.clone()),s.applyTransform(function(e){for(let r=0,i=e.length;r<i;++r)e[r]=Math.round(e[r]*t)/t;return e})}return s}let v={Point:a.default,LineString:o.default,Polygon:l.default,MultiPoint:u.default,MultiLineString:h.default,MultiPolygon:c.default}}),a("6pyIt",function(e,r){t(e.exports,"default",()=>h);var i=s("cw4dl"),n=s("fvrVu"),a=s("jZquI"),o=s("bsgMw");class l extends n.default{constructor(e){super(),this.geometries_=e||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(o.unlistenByKey),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push((0,o.listen)(this.geometries_[e],i.default.CHANGE,this.changed,this))}clone(){let e=new l(null);return e.setGeometries(this.geometries_),e.applyProperties(this),e}closestPointXY(e,t,r,i){if(i<(0,a.closestSquaredDistanceXY)(this.getExtent(),e,t))return i;let n=this.geometries_;for(let s=0,a=n.length;s<a;++s)i=n[s].closestPointXY(e,t,r,i);return i}containsXY(e,t){let r=this.geometries_;for(let i=0,n=r.length;i<n;++i)if(r[i].containsXY(e,t))return!0;return!1}computeExtent(e){(0,a.createOrUpdateEmpty)(e);let t=this.geometries_;for(let r=0,i=t.length;r<i;++r)(0,a.extend)(e,t[r].getExtent());return e}getGeometries(){return u(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[],t=this.geometries_;for(let r=0,i=t.length;r<i;++r)t[r].getType()===this.getType()?e=e.concat(t[r].getGeometriesArrayRecursive()):e.push(t[r]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;let t=[],r=this.geometries_,i=!1;for(let n=0,s=r.length;n<s;++n){let s=r[n],a=s.getSimplifiedGeometry(e);t.push(a),a!==s&&(i=!0)}if(i){let e=new l(null);return e.setGeometriesArray(t),e}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this}getType(){return"GeometryCollection"}intersectsExtent(e){let t=this.geometries_;for(let r=0,i=t.length;r<i;++r)if(t[r].intersectsExtent(e))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(e,t){let r=this.geometries_;for(let i=0,n=r.length;i<n;++i)r[i].rotate(e,t);this.changed()}scale(e,t,r){r||(r=(0,a.getCenter)(this.getExtent()));let i=this.geometries_;for(let n=0,s=i.length;n<s;++n)i[n].scale(e,t,r);this.changed()}setGeometries(e){this.setGeometriesArray(u(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){let t=this.geometries_;for(let r=0,i=t.length;r<i;++r)t[r].applyTransform(e);this.changed()}translate(e,t){let r=this.geometries_;for(let i=0,n=r.length;i<n;++i)r[i].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function u(e){let t=[];for(let r=0,i=e.length;r<i;++r)t.push(e[r].clone());return t}var h=l}),a("9MiJs",function(r,i){t(r.exports,"default",()=>E);var n=s("9z1G1"),a=s("hvEnP"),o=s("7TB1l"),l=s("ljDIj"),u=s("dEQmT"),h=s("88FmG"),c=s("j2K3b"),d=s("cgPpQ"),p=s("5zIbz"),f=s("29SgV"),g=s("gzr8q"),m=s("2cCpz");class y extends n.default{constructor(e){super(),e=e||{},this.dataProjection=new p.default({code:"",units:"tile-pixels"}),this.featureClass_=e.featureClass?e.featureClass:f.default,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,r,i){e.pos=t.geometry;let n=e.readVarint()+e.pos,s=1,a=0,o=0,l=0,u=0,h=0;for(;e.pos<n;){if(!a){let t=e.readVarint();s=7&t,a=t>>3}if(a--,1===s||2===s)o+=e.readSVarint(),l+=e.readSVarint(),1===s&&u>h&&(i.push(u),h=u),r.push(o,l),u+=2;else if(7===s)u>h&&(r.push(r[h],r[h+1]),u+=2);else throw Error("Invalid command found in the PBF")}u>h&&(i.push(u),h=u)}createFeature_(e,t,r){var i;let s,h,p;let g=t.type;if(0===g)return null;let y=t.properties;this.idProperty_?(h=y[this.idProperty_],delete y[this.idProperty_]):h=t.id,y[this.layerName_]=t.layer.name;let v=[],b=[];this.readRawGeometry_(e,t,v,b);let x=(i=b.length,1===g?p=1===i?"Point":"MultiPoint":2===g?p=1===i?"LineString":"MultiLineString":3===g&&(p="Polygon"),p);if(this.featureClass_===f.default)(s=new this.featureClass_(x,v,b,2,y,h)).transform(r.dataProjection);else{let e;if("Polygon"==x){let t=(0,m.inflateEnds)(v,b);e=t.length>1?new u.default(v,"XY",t):new d.default(v,"XY",b)}else e="Point"===x?new c.default(v,"XY"):"LineString"===x?new a.default(v,"XY"):"MultiPoint"===x?new l.default(v,"XY"):"MultiLineString"===x?new o.default(v,"XY",b):null;s=new this.featureClass_,this.geometryName_&&s.setGeometryName(this.geometryName_);let t=(0,n.transformGeometryWithOptions)(e,!1,r);s.setGeometry(t),void 0!==h&&s.setId(h),s.setProperties(y,!0)}return s}getType(){return"arraybuffer"}readFeatures(t,r){let i=this.layers_;r=this.adaptOptions(r);let n=(0,g.get)(r.dataProjection);n.setWorldExtent(r.extent),r.dataProjection=n;let s=new(e(h))(t),a=s.readFields(v,{}),o=[];for(let e in a){if(i&&!i.includes(e))continue;let t=a[e],l=t?[0,0,t.extent,t.extent]:null;n.setExtent(l);for(let e=0,i=t.length;e<i;++e){let i=function(e,t,r){e.pos=t.features[r];let i=e.readVarint()+e.pos,n={layer:t,type:0,properties:{}};return e.readFields(x,n,i),n}(s,t,e),n=this.createFeature_(s,i,r);null!==n&&o.push(n)}}return o}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function v(e,t,r){if(3===e){let e={keys:[],values:[],features:[]},i=r.readVarint()+r.pos;r.readFields(b,e,i),e.length=e.features.length,e.length&&(t[e.name]=e)}}function b(e,t,r){if(15===e)t.version=r.readVarint();else if(1===e)t.name=r.readString();else if(5===e)t.extent=r.readVarint();else if(2===e)t.features.push(r.pos);else if(3===e)t.keys.push(r.readString());else if(4===e){let i=null,n=r.readVarint()+r.pos;for(;r.pos<n;)i=1==(e=r.readVarint()>>3)?r.readString():2===e?r.readFloat():3===e?r.readDouble():4===e?r.readVarint64():5===e?r.readVarint():6===e?r.readSVarint():7===e?r.readBoolean():null;t.values.push(i)}}function x(e,t,r){if(1==e)t.id=r.readVarint();else if(2==e){let e=r.readVarint()+r.pos;for(;r.pos<e;){let e=t.layer.keys[r.readVarint()],i=t.layer.values[r.readVarint()];t.properties[e]=i}}else 3==e?t.type=r.readVarint():4==e&&(t.geometry=r.pos)}var E=y}),a("88FmG",function(e,t){e.exports=i;var r=s("7y6mg");function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var n="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function a(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function o(e,t,r){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(i);for(var n=r.pos-1;n>=e;n--)r.buf[n+i]=r.buf[n]}function l(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function u(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function h(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function c(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function d(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function p(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function f(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function g(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function m(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function v(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var i=this.readVarint(),n=i>>3,s=this.pos;this.type=7&i,e(n,t,this),this.pos===s&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=y(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=b(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=y(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=y(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,i=this.buf;return(t=127&(r=i[this.pos++]),r<128)?t:(t|=(127&(r=i[this.pos++]))<<7,r<128)?t:(t|=(127&(r=i[this.pos++]))<<14,r<128)?t:(t|=(127&(r=i[this.pos++]))<<21,r<128)?t:function(e,t,r){var i,n,s,a,o=r.buf;if(s=(112&(a=o[r.pos++]))>>4,a<128||(s|=(127&(a=o[r.pos++]))<<3,a<128)||(s|=(127&(a=o[r.pos++]))<<10,a<128)||(s|=(127&(a=o[r.pos++]))<<17,a<128)||(s|=(127&(a=o[r.pos++]))<<24,a<128)||(s|=(1&(a=o[r.pos++]))<<31,a<128)){return i=e,n=s,t?4294967296*n+(i>>>0):(n>>>0)*4294967296+(i>>>0)}throw Error("Expected varint not more than 10 bytes")}(t|=(15&(r=i[this.pos]))<<28,e,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?-((e+1)/2):e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e,t=this.readVarint()+this.pos,r=this.pos;return(this.pos=t,t-r>=12&&n)?(e=this.buf,n.decode(e.subarray(r,t))):function(e,t,r){for(var i="",n=t;n<r;){var s,a,o,l=e[n],u=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h>r)break;1===h?l<128&&(u=l):2===h?(192&(s=e[n+1]))==128&&(u=(31&l)<<6|63&s)<=127&&(u=null):3===h?(s=e[n+1],a=e[n+2],(192&s)==128&&(192&a)==128&&((u=(15&l)<<12|(63&s)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===h&&(s=e[n+1],a=e[n+2],o=e[n+3],(192&s)==128&&(192&a)==128&&(192&o)==128&&((u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,h=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),n+=h}return i}(this.buf,r,t)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var r=a(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else if(t===i.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(23283064365386963e-26*e),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e||0)>268435455||e<0){(function(e,t){var r,i,n,s,a,o;if(e>=0?(r=e%4294967296|0,i=e/4294967296|0):(r=~(-e%4294967296),i=~(-e/4294967296),4294967295^r?r=r+1|0:(r=0,i=i+1|0)),e>=18446744073709552e3||e<-18446744073709552e3)throw Error("Given varint doesn't fit into 10 bytes");t.realloc(10),n=r,t.buf[t.pos++]=127&n|128,n>>>=7,t.buf[t.pos++]=127&n|128,n>>>=7,t.buf[t.pos++]=127&n|128,n>>>=7,t.buf[t.pos++]=127&n|128,n>>>=7,t.buf[t.pos]=127&n,s=i,a=t,o=(7&s)<<4,a.buf[a.pos++]|=o|((s>>>=3)?128:0),!s||(a.buf[a.pos++]=127&s|((s>>>=7)?128:0),!s)||(a.buf[a.pos++]=127&s|((s>>>=7)?128:0),!s)||(a.buf[a.pos++]=127&s|((s>>>=7)?128:0),s&&(a.buf[a.pos++]=127&s|((s>>>=7)?128:0),s&&(a.buf[a.pos++]=127&s)))})(e,this);return}this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-(2*e)-1:2*e)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var i,n,s=0;s<t.length;s++){if((i=t.charCodeAt(s))>55295&&i<57344){if(n){if(i<56320){e[r++]=239,e[r++]=191,e[r++]=189,n=i;continue}i=n-55296<<10|i-56320|65536,n=null}else{i>56319||s+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):n=i;continue}}else n&&(e[r++]=239,e[r++]=191,e[r++]=189,n=null);i<128?e[r++]=i:(i<2048?e[r++]=i>>6|192:(i<65536?e[r++]=i>>12|224:(e[r++]=i>>18|240,e[r++]=i>>12&63|128),e[r++]=i>>6&63|128),e[r++]=63&i|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&o(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var i=this.pos-r;i>=128&&o(r,i,this),this.pos=r-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,r){this.writeTag(e,i.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,l,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}}}),a("co8nU",function(e,r){t(e.exports,"default",()=>f);var i=s("jRKCY"),n=s("3QMf6"),a=s("eJ4LZ"),o=s("a6roo"),l=s("jZquI"),u=s("9YraL"),h=s("4NB4B"),c=s("kBSVF"),d=s("6BjcK");let p=[0,0,0];var f=class{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,(0,a.assert)((0,c.isSorted)(this.resolutions_,(e,t)=>t-e,!0),"`resolutions` must be sorted in descending order"),!e.origins)for(let e=0,r=this.resolutions_.length-1;e<r;++e)if(t){if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}else t=this.resolutions_[e]/this.resolutions_[e+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,(0,a.assert)(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));let r=e.extent;void 0===r||this.origin_||this.origins_||(this.origin_=(0,l.getTopLeft)(r)),(0,a.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,(0,a.assert)(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:n.DEFAULT_TILE_SIZE,(0,a.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((e,t)=>{let n=new i.default(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(r){let e=this.getTileRangeForExtentAndZ(r,t);n.minX=Math.max(e.minX,n.minX),n.maxX=Math.min(e.maxX,n.maxX),n.minY=Math.max(e.minY,n.minY),n.maxY=Math.min(e.maxY,n.maxY)}return n}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,t,r){let i=this.getTileRangeForExtentAndZ(e,t);for(let e=i.minX,n=i.maxX;e<=n;++e)for(let n=i.minY,s=i.maxY;n<=s;++n)r([t,e,n])}forEachTileCoordParentTileRange(e,t,r,n){let s,a,o;let l=null,u=e[0]-1;for(2===this.zoomFactor_?(a=e[1],o=e[2]):l=this.getTileCoordExtent(e,n);u>=this.minZoom;){if(void 0!==a&&void 0!==o?(a=Math.floor(a/2),o=Math.floor(o/2),s=(0,i.createOrUpdate)(a,a,o,o,r)):s=this.getTileRangeForExtentAndZ(l,u,r),t(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){let r=2*e[1],n=2*e[2];return(0,i.createOrUpdate)(r,r+1,n,n+1,t)}let n=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,r){if(t>this.maxZoom||t<this.minZoom)return null;let n=e[0],s=e[1],a=e[2];if(t===n)return(0,i.createOrUpdate)(s,a,s,a,r);if(this.zoomFactor_){let e=Math.pow(this.zoomFactor_,t-n),o=Math.floor(s*e),l=Math.floor(a*e);if(t<n)return(0,i.createOrUpdate)(o,o,l,l,r);let u=Math.floor(e*(s+1))-1,h=Math.floor(e*(a+1))-1;return(0,i.createOrUpdate)(o,u,l,h,r)}let o=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t,r)}getTileRangeForExtentAndZ(e,t,r){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,p);let n=p[1],s=p[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,p);let a=p[1],o=p[2];return(0,i.createOrUpdate)(n,a,s,o,r)}getTileCoordCenter(e){let t=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=(0,d.toSize)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*r,t[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,t){let r=this.getOrigin(e[0]),i=this.getResolution(e[0]),n=(0,d.toSize)(this.getTileSize(e[0]),this.tmpSize_),s=r[0]+e[1]*n[0]*i,a=r[1]-(e[2]+1)*n[1]*i,o=s+n[0]*i,u=a+n[1]*i;return(0,l.createOrUpdate)(s,a,o,u,t)}getTileCoordForCoordAndResolution(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)}getTileCoordForXYAndResolution_(e,t,r,i,n){let s=this.getZForResolution(r),a=r/this.getResolution(s),l=this.getOrigin(s),h=(0,d.toSize)(this.getTileSize(s),this.tmpSize_),c=a*(e-l[0])/r/h[0],p=a*(l[1]-t)/r/h[1];return i?(c=(0,o.ceil)(c,5)-1,p=(0,o.ceil)(p,5)-1):(c=(0,o.floor)(c,5),p=(0,o.floor)(p,5)),(0,u.createOrUpdate)(s,c,p,n)}getTileCoordForXYAndZ_(e,t,r,i,n){let s=this.getOrigin(r),a=this.getResolution(r),l=(0,d.toSize)(this.getTileSize(r),this.tmpSize_),h=(e-s[0])/a/l[0],c=(s[1]-t)/a/l[1];return i?(h=(0,o.ceil)(h,5)-1,c=(0,o.ceil)(c,5)-1):(h=(0,o.floor)(h,5),c=(0,o.floor)(c,5)),(0,u.createOrUpdate)(r,h,c,n)}getTileCoordForCoordAndZ(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){let r=(0,c.linearFindNearest)(this.resolutions_,e,t||0);return(0,o.clamp)(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return(0,h.intersectsLinearRing)(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){let t=this.resolutions_.length,r=Array(t);for(let i=this.minZoom;i<t;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}}),a("9YraL",function(e,r){function i(e,t,r,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=r,i):[e,t,r]}function n(e,t,r){return e+"/"+t+"/"+r}function s(e){return n(e[0],e[1],e[2])}function a(e){let[t,r,i]=e.substring(e.lastIndexOf("/")+1,e.length).split(",").map(Number);return n(t,r,i)}function o(e){return e.split("/").map(Number)}function l(e){return(e[1]<<e[0])+e[2]}function u(e,t){let r=e[0],i=e[1],n=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;let s=t.getFullTileRange(r);return!s||s.containsXY(i,n)}t(e.exports,"createOrUpdate",()=>i),t(e.exports,"getKeyZXY",()=>n),t(e.exports,"getKey",()=>s),t(e.exports,"getCacheKeyForTileKey",()=>a),t(e.exports,"fromKey",()=>o),t(e.exports,"hash",()=>l),t(e.exports,"withinExtentAndZ",()=>u)}),a("4evd8",function(e,r){t(e.exports,"default",()=>c);var i=s("42VYg"),n=s("jZquI"),a=s("ga5CQ"),o=s("5NhYx"),l=s("gzr8q"),u=s("gNxZS");class h extends i.default{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:(0,l.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url){if(e.jsonp)(0,u.jsonp)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{let t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){let t=e.target;if(!t.status||t.status>=200&&t.status<300){let e;try{e=JSON.parse(t.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(e)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){let t;let r=(0,l.get)("EPSG:4326"),i=this.getProjection();if(void 0!==e.bounds){let s=(0,l.getTransformFromProjections)(r,i);t=(0,n.applyTransform)(e.bounds,s)}let s=(0,o.extentFromProjection)(i),u=e.minzoom||0,h=e.maxzoom||22,c=(0,o.createXYZ)({extent:s,maxZoom:h,minZoom:u,tileSize:this.tileSize_});if(this.tileGrid=c,this.tileUrlFunction=(0,a.createFromTemplates)(e.tiles,c),e.attribution&&!this.getAttributions()){let r=void 0!==t?t:s;this.setAttributions(function(t){return(0,n.intersects)(r,t.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}var c=h}),a("42VYg",function(e,r){t(e.exports,"default",()=>m);var i=s("cw4dl"),n=s("6EHBB"),a=s("lUH7Q"),o=s("85w1a"),l=s("av38f"),u=s("5k6kp"),h=s("gzr8q"),c=s("9YraL"),d=s("5NhYx"),p=s("lVQul");class f extends u.default{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:g,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:n.default,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(let e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,t){let r=this.getTileCacheForProjection(e);for(let e in this.tileCache.expireCache(this.tileCache==r?t:{}),this.tileCacheForProjection){let i=this.tileCacheForProjection[e];i.expireCache(i==r?t:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!(0,h.equivalent)(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return(!this.getProjection()||!e||!!(0,h.equivalent)(this.getProjection(),e))&&super.getOpaque(e)}getTileGridForProjection(e){let t=this.getProjection();if(this.tileGrid&&(!t||(0,h.equivalent)(t,e)))return this.tileGrid;let r=(0,p.getUid)(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=(0,d.getForProjection)(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){let t=this.getProjection();if(!t||(0,h.equivalent)(t,e))return this.tileCache;let r=(0,p.getUid)(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new o.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,t,r,n,s,a){let o=[e,t,r],u=this.getTileCoordForTileUrlFunction(o,s),h=u?this.tileUrlFunction(u,n,s):void 0,c=new this.tileClass(o,void 0!==h?l.default.IDLE:l.default.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=a,c.addEventListener(i.default.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,t,r,i,n){let s;let o=this.getProjection();if(!o||!n||(0,h.equivalent)(o,n))return this.getTileInternal(e,t,r,i,o||n);let l=this.getTileCacheForProjection(n),u=[e,t,r],d=(0,c.getKey)(u);l.containsKey(d)&&(s=l.get(d));let p=this.getKey();if(s&&s.key==p)return s;let f=this.getTileGridForProjection(o),g=this.getTileGridForProjection(n),m=this.getTileCoordForTileUrlFunction(u,n),y=new a.default(o,f,n,g,u,m,this.getTilePixelRatio(i),this.getGutter(),(e,t,r,i)=>this.getTileInternal(e,t,r,i,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return y.key=p,s?(y.interimTile=s,y.refreshInterimChain(),l.replace(d,y)):l.set(d,y),y}getTileInternal(e,t,r,i,n){let s=null,a=(0,c.getKeyZXY)(e,t,r),o=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=o){let u=s;s=this.createTile_(e,t,r,i,n,o),u.getState()==l.default.IDLE?s.interimTile=u.interimTile:s.interimTile=u,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(e,t,r,i,n,o),this.tileCache.set(a,s);return s}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){for(let t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(e,t){let r=(0,h.get)(e);if(r){let e=(0,p.getUid)(r);e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}clear(){for(let e in super.clear(),this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function g(e,t){e.getImage().src=t}var m=f}),a("85w1a",function(e,r){t(e.exports,"default",()=>o);var i=s("1rfTO"),n=s("9YraL");class a extends i.default{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey() in e);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;let e=this.peekFirstKey(),t=(0,n.fromKey)(e)[0];this.forEach(e=>{e.tileCoord[0]!==t&&(this.remove((0,n.getKey)(e.tileCoord)),e.release())})}}var o=a}),a("1rfTO",function(e,r){t(e.exports,"default",()=>n);var i=s("eJ4LZ"),n=class{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){let r=this.entries_[e];return(0,i.assert)(void 0!==r,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){let t=this.entries_[e];return(0,i.assert)(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){let e;let t=Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t}getValues(){let e;let t=Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return this.entries_[e]?.value_}pop(){let e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){(0,i.assert)(!(e in this.entries_),"Tried to set a value for a key that is used already");let r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}}),a("5k6kp",function(e,r){t(e.exports,"default",()=>c);var i=s("65P3L"),n=s("cpPSZ"),a=s("av38f"),o=s("ga5CQ"),l=s("9YraL"),u=s("lVQul");class h extends n.default{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===h.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){let t;let r=e.target,s=(0,u.getUid)(r),o=r.getState();o==a.default.LOADING?(this.tileLoadingKeys_[s]=!0,t=i.default.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],t=o==a.default.ERROR?i.default.TILELOADERROR:o==a.default.LOADED?i.default.TILELOADEND:void 0),void 0!=t&&this.dispatchEvent(new n.TileSourceEvent(t,r))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()}setUrl(e){let t=(0,o.expandUrl)(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;let t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,o.createFromTemplates)(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,r){}useTile(e,t,r){let i=(0,l.getKeyZXY)(e,t,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}var c=h}),a("65P3L",function(e,r){t(e.exports,"default",()=>i);var i={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}}),a("cpPSZ",function(e,r){t(e.exports,"TileSourceEvent",()=>g),t(e.exports,"default",()=>m);var i=s("iTTi2"),n=s("205E0"),a=s("85w1a"),o=s("av38f"),l=s("lVQul"),u=s("eJ4LZ"),h=s("gzr8q"),c=s("9YraL"),d=s("5NhYx"),p=s("6BjcK");class f extends n.default{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&(0,p.toSize)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new a.default(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,t){let r=this.getTileCacheForProjection(e);r&&r.expireCache(t)}forEachLoadedTile(e,t,r,i){let n,s,a;let l=this.getTileCacheForProjection(e);if(!l)return!1;let u=!0;for(let e=r.minX;e<=r.maxX;++e)for(let h=r.minY;h<=r.maxY;++h)s=(0,c.getKeyZXY)(t,e,h),a=!1,l.containsKey(s)&&(a=(n=l.get(s)).getState()===o.default.LOADED)&&(a=!1!==i(n)),a||(u=!1);return u}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){let t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,r,i,n){return(0,l.abstract)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:(0,d.getForProjection)(e)}getTileCacheForProjection(e){let t=this.getProjection();return(0,u.assert)(null===t||(0,h.equivalent)(t,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,r){let i=this.getTileGridForProjection(r),n=this.getTilePixelRatio(t),s=(0,p.toSize)(i.getTileSize(e),this.tmpSize);return 1==n?s:(0,p.scale)(s,n,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){t=void 0!==t?t:this.getProjection();let r=this.getTileGridForProjection(t);return this.getWrapX()&&t.isGlobal()&&(e=(0,d.wrapX)(r,e,t)),(0,c.withinExtentAndZ)(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,t){let r=this.getTileCacheForProjection(t);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,t,r,i){}}class g extends i.default{constructor(e,t){super(e),this.tile=t}}var m=f}),a("5NhYx",function(e,r){t(e.exports,"getForProjection",()=>u),t(e.exports,"wrapX",()=>h),t(e.exports,"extentFromProjection",()=>p),t(e.exports,"createXYZ",()=>c);var i=s("co8nU"),n=s("3QMf6"),a=s("gzr8q"),o=s("jZquI"),l=s("6BjcK");function u(e){let t=e.getDefaultTileGrid();return t||(t=function(e,t,r,n){n=void 0!==n?n:"top-left";let s=d(e,t,r);return new i.default({extent:e,origin:(0,o.getCorner)(e,n),resolutions:s,tileSize:r})}(p(e),void 0,void 0,void 0),e.setDefaultTileGrid(t)),t}function h(e,t,r){let i=t[0],n=e.getTileCoordCenter(t),s=p(r);if(!(0,o.containsCoordinate)(s,n)){let t=(0,o.getWidth)(s),r=Math.ceil((s[0]-n[0])/t);return n[0]+=t*r,e.getTileCoordForCoordAndZ(n,i)}return t}function c(e){let t=e||{},r=t.extent||(0,a.get)("EPSG:3857").getExtent(),n={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:d(r,t.maxZoom,t.tileSize,t.maxResolution)};return new i.default(n)}function d(e,t,r,i){t=void 0!==t?t:n.DEFAULT_MAX_ZOOM,r=(0,l.toSize)(void 0!==r?r:n.DEFAULT_TILE_SIZE);let s=(0,o.getHeight)(e),a=(0,o.getWidth)(e);i=i>0?i:Math.max(a/r[0],s/r[1]);let u=t+1,h=Array(u);for(let e=0;e<u;++e)h[e]=i/Math.pow(2,e);return h}function p(e){let t=(e=(0,a.get)(e)).getExtent();if(!t){let r=180*a.METERS_PER_UNIT.degrees/e.getMetersPerUnit();t=(0,o.createOrUpdate)(-r,-r,r,r)}return t}}),a("ga5CQ",function(e,r){t(e.exports,"createFromTemplates",()=>a),t(e.exports,"createFromTileUrlFunctions",()=>o),t(e.exports,"expandUrl",()=>l);var i=s("a6roo"),n=s("9YraL");function a(e,t){let r=e.length,i=Array(r);for(let n=0;n<r;++n)i[n]=function(e,t){let r=/\{z\}/g,i=/\{x\}/g,n=/\{y\}/g,s=/\{-y\}/g;return function(a,o,l){if(a)return e.replace(r,a[0].toString()).replace(i,a[1].toString()).replace(n,a[2].toString()).replace(s,function(){let e=a[0],r=t.getFullTileRange(e);if(!r)throw Error("The {-y} placeholder requires a tile grid with extent");return(r.getHeight()-a[2]-1).toString()})}}(e[n],t);return o(i)}function o(e){return 1===e.length?e[0]:function(t,r,s){if(!t)return;let a=(0,n.hash)(t),o=(0,i.modulo)(a,e.length);return e[o](t,r,s)}}function l(e){let t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){let i;let n=r[1].charCodeAt(0),s=r[2].charCodeAt(0);for(i=n;i<=s;++i)t.push(e.replace(r[0],String.fromCharCode(i)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e)){let i=parseInt(r[2],10);for(let n=parseInt(r[1],10);n<=i;n++)t.push(e.replace(r[0],n.toString()));return t}return t.push(e),t}}),a("gNxZS",function(e,r){t(e.exports,"jsonp",()=>n);var i=s("lVQul");function n(e,t,r,n){let s=document.createElement("script"),a="olc_"+(0,i.getUid)(t);function o(){delete window[a],s.parentNode.removeChild(s)}s.async=!0,s.src=e+(e.includes("?")?"&":"?")+(n||"callback")+"="+a;let l=setTimeout(function(){o(),r&&r()},1e4);window[a]=function(e){clearTimeout(l),o(),t(e)},document.head.appendChild(s)}}),a("eEuqc",function(e,r){t(e.exports,"default",()=>o);var i=s("g0oXy"),n=s("1FnBm");class a extends i.default{constructor(e){super(e)}createRenderer(){return new n.default(this)}}var o=a}),a("g0oXy",function(e,r){t(e.exports,"default",()=>o);var i=s("2K2IB"),n=s("8ElLP");class a extends i.default{constructor(e){let t=Object.assign({},e=e||{});delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getPreload(){return this.get(n.default.PRELOAD)}setPreload(e){this.set(n.default.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(n.default.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(n.default.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}var o=a}),a("5Nyxy",function(e,r){t(e.exports,"defaultLoadFunction",()=>x),t(e.exports,"default",()=>b);var i=s("cw4dl"),n=s("cFxEe"),a=s("85w1a"),o=s("co8nU"),l=s("av38f"),u=s("5k6kp"),h=s("25aE7"),c=s("3QMf6"),d=s("jZquI"),p=s("5NhYx"),f=s("9YraL"),g=s("kKEgb"),m=s("kWPIP"),y=s("6BjcK");class v extends u.default{constructor(e){let t=e.projection||"EPSG:3857";super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:t,state:e.state,tileGrid:e.tileGrid||(0,p.createXYZ)({extent:e.extent||(0,p.extentFromProjection)(t),maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512}),tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:x,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection}),this.format_=e.format?e.format:null,this.sourceTileCache=new a.default(this.tileCache.highWaterMark),this.overlaps_=void 0==e.overlaps||e.overlaps,this.tileClass=e.tileClass?e.tileClass:n.default,this.tileGrids_={}}getFeaturesInExtent(e){let t=[],r=this.tileCache;if(0===r.getCount())return t;let i=(0,f.fromKey)(r.peekFirstKey())[0],n=this.tileGrid;return r.forEach(function(r){if(r.tileCoord[0]!==i||r.getState()!==l.default.LOADED)return;let s=r.getSourceTiles();for(let r=0,i=s.length;r<i;++r){let i=s[r],a=i.tileCoord;if((0,d.intersects)(e,n.getTileCoordExtent(a))){let r=i.getFeatures();if(r)for(let i=0,n=r.length;i<n;++i){let n=r[i],s=n.getGeometry();(0,d.intersects)(e,s.getExtent())&&t.push(n)}}}}),t}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear(),this.sourceTileCache.clear()}expireCache(e,t){let r=this.getTileCacheForProjection(e),i=Object.keys(t).reduce((e,t)=>{let i=(0,f.getCacheKeyForTileKey)(t),n=r.peek(i);if(n){let t=n.sourceTiles;for(let r=0,i=t.length;r<i;++r)e[t[r].getKey()]=!0}return e},{});super.expireCache(e,t),this.sourceTileCache.expireCache(i)}getSourceTiles(e,t,r){if(r.getState()===l.default.IDLE){r.setState(l.default.LOADING);let n=r.wrappedTileCoord,s=this.getTileGridForProjection(t),a=s.getTileCoordExtent(n),o=n[0],u=s.getResolution(o);(0,d.buffer)(a,-u,a);let h=this.tileGrid,c=h.getExtent();c&&(0,d.getIntersection)(a,c,a);let p=h.getZForResolution(u,this.zDirection);h.forEachTileCoord(a,p,n=>{let s=this.tileUrlFunction(n,e,t),a=this.sourceTileCache.containsKey(s)?this.sourceTileCache.get(s):new this.tileClass(n,s?l.default.IDLE:l.default.EMPTY,s,this.format_,this.tileLoadFunction);r.sourceTiles.push(a);let o=a.getState();if(o<l.default.LOADED){let e=t=>{this.handleTileChange(t);let n=a.getState();if(n===l.default.LOADED||n===l.default.ERROR){let t=a.getKey();t in r.errorTileKeys?a.getState()===l.default.LOADED&&delete r.errorTileKeys[t]:r.loadingSourceTiles--,n===l.default.ERROR?r.errorTileKeys[t]=!0:a.removeEventListener(i.default.CHANGE,e),0===r.loadingSourceTiles&&r.setState((0,g.isEmpty)(r.errorTileKeys)?l.default.LOADED:l.default.ERROR)}};a.addEventListener(i.default.CHANGE,e),r.loadingSourceTiles++}o===l.default.IDLE&&(a.extent=h.getTileCoordExtent(n),a.projection=t,a.resolution=h.getResolution(n[0]),this.sourceTileCache.set(s,a),a.load())}),r.loadingSourceTiles||r.setState(r.sourceTiles.some(e=>e.getState()===l.default.ERROR)?l.default.ERROR:l.default.LOADED)}return r.sourceTiles}getTile(e,t,r,i,n){let s;let a=(0,f.getKeyZXY)(e,t,r),o=this.getKey();if(this.tileCache.containsKey(a)&&(s=this.tileCache.get(a)).key===o)return s;let u=[e,t,r],c=this.getTileCoordForTileUrlFunction(u,n),p=this.getTileGrid().getExtent(),g=this.getTileGridForProjection(n);if(c&&p){let t=g.getTileCoordExtent(c);(0,d.buffer)(t,-g.getResolution(e),t),(0,d.intersects)(p,t)||(c=null)}let m=!0;if(null!==c){let t=this.tileGrid,r=g.getResolution(e),s=t.getZForResolution(r,1),a=g.getTileCoordExtent(c);(0,d.buffer)(a,-r,a),t.forEachTileCoord(a,s,e=>{m=m&&!this.tileUrlFunction(e,i,n)})}let y=new h.default(u,m?l.default.EMPTY:l.default.IDLE,c,this.getSourceTiles.bind(this,i,n));return y.key=o,s?(y.interimTile=s,y.refreshInterimChain(),this.tileCache.replace(a,y)):this.tileCache.set(a,y),y}getTileGridForProjection(e){let t=e.getCode(),r=this.tileGrids_[t];if(!r){let e=this.tileGrid,i=e.getResolutions().slice(),n=i.map(function(t,r){return e.getOrigin(r)}),s=i.map(function(t,r){return e.getTileSize(r)}),a=c.DEFAULT_MAX_ZOOM+1;for(let e=i.length;e<a;++e)i.push(i[e-1]/2),n.push(n[e-1]),s.push(s[e-1]);r=new o.default({extent:e.getExtent(),origins:n,resolutions:i,tileSizes:s}),this.tileGrids_[t]=r}return r}getTilePixelRatio(e){return e}getTilePixelSize(e,t,r){let i=this.getTileGridForProjection(r),n=(0,y.toSize)(i.getTileSize(e),this.tmpSize);return[Math.round(n[0]*t),Math.round(n[1]*t)]}updateCacheSize(e,t){super.updateCacheSize(2*e,t),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(t).highWaterMark}}var b=v;function x(e,t){e.setLoader(function(r,i,n){(0,m.loadFeaturesXhr)(t,e.getFormat(),r,i,n,e.onLoad.bind(e),e.onError.bind(e))})}}),a("cFxEe",function(e,r){t(e.exports,"default",()=>o);var i=s("hMeZw"),n=s("av38f");class a extends i.default{constructor(e,t,r,i,n,s){super(e,t,s),this.extent=null,this.format_=i,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=n,this.url_=r,this.key=r}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==n.default.IDLE&&(this.setState(n.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(n.default.ERROR)}setFeatures(e){this.features_=e,this.setState(n.default.LOADED)}setLoader(e){this.loader_=e}}var o=a}),a("25aE7",function(e,r){t(e.exports,"default",()=>u);var i=s("hMeZw"),n=s("cgxQK"),a=s("lVQul");let o=[];class l extends i.default{constructor(e,t,r,i){super(e,t,{transition:0}),this.context_={},this.executorGroups={},this.declutterExecutorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=i.bind(void 0,this),this.wrappedTileCoord=r}getContext(e){let t=(0,a.getUid)(e);return t in this.context_||(this.context_[t]=(0,n.createCanvasContext2D)(1,1,o)),this.context_[t]}hasContext(e){return(0,a.getUid)(e) in this.context_}getImage(e){return this.hasContext(e)?this.getContext(e).canvas:null}getReplayState(e){let t=(0,a.getUid)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){for(let e in this.context_){let t=this.context_[e];(0,n.releaseCanvas)(t),o.push(t.canvas),delete this.context_[e]}super.release()}}var u=l}),a("fkmMz",function(e,r){t(e.exports,"default",()=>a);var i=s("fnScq"),n=class extends i.default{constructor(e){e=e||{},super(),this._auth=e.auth,this.set("dataType",e.dataType||"JSON")}static get(e){var t=new n(e);e.success&&t.on("success",function(t){e.success(t.response,t)}),e.error&&t.on("error",function(t){e.error(t)}),t.send(e.url,e.data,e.options)}static getCORS(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.send(),r.onreadystatechange=function(){this.readyState==this.HEADERS_RECEIVED&&t(r.getResponseHeader("Access-Control-Allow-Origin"))}}send(e,t,r){var i=this,n=!1!==(r=r||{}).encode;n&&(e=encodeURI(e));var s="";for(var a in t)t.hasOwnProperty(a)&&void 0!==t[a]&&(s+=(s?"&":"?")+a+"="+(n?encodeURIComponent(t[a]):t[a]));this._request&&!1!==r.abort&&this._request.abort();var o=this._request=new XMLHttpRequest;o.open("GET",e+s,!0),r.timeout&&(o.timeout=r.timeout),this._auth&&o.setRequestHeader("Authorization","Basic "+this._auth),this.dispatchEvent({type:"loadstart"}),o.onload=function(){if(i._request=null,i.dispatchEvent({type:"loadend"}),this.status>=200&&this.status<400){var e;try{e="JSON"===i.get("dataType")?JSON.parse(this.response):this.response}catch(e){i.dispatchEvent({type:"error",status:0,statusText:"parsererror",error:e,options:r,jqXHR:this});return}i.dispatchEvent({type:"success",response:e,status:this.status,statusText:this.statusText,options:r,jqXHR:this})}else i.dispatchEvent({type:"error",status:this.status,statusText:this.statusText,options:r,jqXHR:this})},o.ontimeout=function(){i._request=null,i.dispatchEvent({type:"loadend"}),i.dispatchEvent({type:"error",status:this.status,statusText:"Timeout",options:r,jqXHR:this})},o.onerror=function(){i._request=null,i.dispatchEvent({type:"loadend"}),i.dispatchEvent({type:"error",status:this.status,statusText:this.statusText,options:r,jqXHR:this})},o.send()}},a=n}),a("6cpWg",function(e,r){t(e.exports,"default",()=>n);var i=s("4DafG"),n=class extends i.default{constructor(e){e=e||{};var t=document.createElement("DIV");if(t.classList.add("ol-unselectable","ol-control","ol-bar"),e.className){var r=e.className.split(" ").filter(function(e){return e.length>0});t.classList.add.apply(t.classList,r)}if(e.group&&t.classList.add("ol-group"),super({element:t,target:e.target}),this.set("toggleOne",e.toggleOne),this.set("autoDeactivate",e.autoDeactivate),this.controls_=[],e.controls instanceof Array)for(var i=0;i<e.controls.length;i++)this.addControl(e.controls[i])}setVisible(e){e?this.element.style.display="":this.element.style.display="none"}getVisible(){return"none"!=this.element.style.display}setMap(e){super.setMap(e);for(var t=0;t<this.controls_.length;t++)this.controls_[t].setMap(e)}getControls(){return this.controls_}setPosition(e){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),e=e.split("-");for(var t=0;t<e.length;t++)switch(e[t]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+e[t])}}addControl(e){this.controls_.push(e),e.setTarget(this.element),this.getMap()&&this.getMap().addControl(e),e._activateBar&&e.un("change:active",e._activateBar),e._activateBar=(function(t){this.onActivateControl_(t,e)}).bind(this),e.on("change:active",e._activateBar),e.getActive&&this.onActivateControl_({target:e,active:e.getActive()},e)}removeControl(e){let t=this.controls_.indexOf(e);t>-1&&(this.controls_.splice(t,1),this.getMap()&&this.getMap().removeControl(e),e._activateBar&&e.un("change:active",e._activateBar),delete e._activateBar)}deactivateControls(e){for(var t=0;t<this.controls_.length;t++)this.controls_[t]!==e&&this.controls_[t].setActive&&this.controls_[t].setActive(!1)}getActiveControls(){for(var e,t=[],r=0;e=this.controls_[r];r++)e.getActive&&e.getActive()&&t.push(e);return t}setActive(e){if(!e&&this.get("autoDeactivate")&&this.deactivateControls(),e)for(var t,r=this.getControls(),i=0;t=r[i];i++)t.get("autoActivate")&&t.setActive(!0)}onActivateControl_(e,t){if(this.get("toggleOne")){if(e.active){var r;for(r=0;r<this.controls_.length&&this.controls_[r]!==t;r++);if(r==this.controls_.length)return;this.deactivateControls(this.controls_[r])}else if(!this.getActiveControls().length){for(var i,n=0;i=this.controls_[n];n++)if(i.get("autoActivate")){i.setActive(!0);break}}}e.type?this.dispatchEvent({type:"control:active",control:t,active:e.active}):this.dispatchEvent({type:"control:add",control:t,active:e.active})}getControlsByName(e){return this.getControls().filter(function(t){return t.get("name")===e})}}}),a("93mJv",function(e,r){t(e.exports,"default",()=>h);var i=s("ejLRd"),n=s("ao9pQ"),a=s("l9IGS"),o=s("lqNjm"),l=s("6sFdl"),u=s("iQyfo"),h=class extends n.default{constructor(e){super(e=e||{}),this.element.classList.add("ol-canvas-control"),this.setCanvas(!!e.canvas),e||(e={}),e.style||(e.style=new a.default),this.setStyle(e.style)}setCanvas(e){if(this.isCanvas_=e,e&&this.setCollapsed(!1),this.element.style.visibility=e?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch(e){}}setStyle(e){var t=e.getText();this.font_=t?t.getFont():"10px sans-serif";var r=t?t.getStroke():null,i=t?t.getFill():null;this.fontStrokeStyle_=r?(0,o.asString)(r.getColor()):"#fff",this.fontFillStyle_=i?(0,o.asString)(i.getColor()):"#000",this.fontStrokeWidth_=r?r.getWidth():3,this.getMap()&&this.getMap().render()}setMap(e){(0,l.default).prototype.getCanvas.call(this,e);var t=this.getMap();if(this._listener&&(0,i.unByKey)(this._listener),this._listener=null,super.setMap(e),t)try{t.renderSync()}catch(e){}e&&(this._listener=e.on("postcompose",this.drawAttribution_.bind(this))),this.setCanvas(this.isCanvas_)}drawAttribution_(e){if(this.isCanvas_){var t,r=this.getContext(e);if(r){var i="";Array.prototype.slice.call(this.element.querySelectorAll("li")).filter(function(e){return"none"!==e.style.display}).map(function(e){i+=(i?" - ":"")+e.textContent});var n=e.frameState.pixelRatio;r.save(),r.scale(n,n);var s=this.element.getBoundingClientRect(),a=this.getMap().getViewport().getBoundingClientRect(),o=this.getMap().getSize()[0]/a.width;r.translate((s.left-a.left)*o,(s.top-a.top)*o);var l=this.element.clientHeight,h=this.element.clientWidth,c=(0,u.default).getStyle(this.element,"textAlign")||"center";switch(c){case"left":t=0;break;case"right":t=h;break;default:t=h/2}r.beginPath(),r.strokeStyle=this.fontStrokeStyle_,r.fillStyle=this.fontFillStyle_,r.lineWidth=this.fontStrokeWidth_,r.textAlign=c,r.textBaseline="middle",r.font=this.font_,r.lineJoin="round",r.strokeText(i,t,l/2),r.fillText(i,t,l/2),r.closePath(),r.restore()}}}getContext(e){return(0,l.default).prototype.getContext.call(this,e)}}}),a("6sFdl",function(e,r){t(e.exports,"default",()=>c);var i=s("4DafG"),n=s("ejLRd"),a=s("l9IGS"),o=s("2zf1Y"),l=s("d5AAH"),u=s("kuKBR"),h=s("9EqYA"),c=class extends i.default{constructor(e){super(e=e||{}),this.setStyle(e.style)}setMap(e){this.getCanvas(e);var t=this.getMap();if(this._listener&&((0,n.unByKey)(this._listener),this._listener=null),super.setMap(e),t)try{t.renderSync()}catch(e){}e&&(this._listener=e.on("postcompose",this._draw.bind(this)))}getCanvas(e){return(0,h.default)(e)}getContext(e){var t=e.context;if(!t&&this.getMap()){var r=this.getMap().getViewport().getElementsByClassName("ol-fixedoverlay")[0];t=r?r.getContext("2d"):null}return t}setStyle(e){this._style=e||new a.default({})}getStyle(){return this._style}getStroke(){return this._style.getStroke()||this._style.setStroke(new l.default({color:"#000",width:1.25})),this._style.getStroke()}getFill(){return this._style.getFill()||this._style.setFill(new o.default({color:"#fff"})),this._style.getFill()}getTextStroke(){var e=this._style.getText();return e||(e=new u.default({})),e.getStroke()||e.setStroke(new l.default({color:"#fff",width:3})),e.getStroke()}getTextFill(){var e=this._style.getText();return e||(e=new u.default({})),e.getFill()||e.setFill(new o.default({color:"#fff"})),e.getFill()}getTextFont(){var e=this._style.getText();return e||(e=new u.default({})),e.getFont()||e.setFont("12px sans-serif"),e.getFont()}_draw(){console.warn("[CanvasBase] draw function not implemented.")}}}),a("9EqYA",function(e,r){t(e.exports,"default",()=>i);var i=function(e){if(!e)return null;var t=e.getViewport().getElementsByClassName("ol-fixedoverlay")[0];return t||(e.getViewport().querySelector(".ol-layers")?((t=document.createElement("canvas")).className="ol-fixedoverlay",e.getViewport().querySelector(".ol-layers").after(t),e.on("precompose",function(r){t.width=e.getSize()[0]*r.frameState.pixelRatio,t.height=e.getSize()[1]*r.frameState.pixelRatio})):t=e.getViewport().querySelector("canvas")),t}}),a("945U7",function(e,r){t(e.exports,"default",()=>h);var i=s("ejLRd"),n=s("19kfR"),a=s("l9IGS"),o=s("lqNjm"),l=s("6sFdl"),u=s("iQyfo"),h=class extends n.default{constructor(e){super(e),this.element.classList.add("ol-canvas-control"),this.scaleHeight_=6,e||(e={}),e.style||(e.style=new a.default),this.setStyle(e.style)}setMap(e){(0,l.default).prototype.getCanvas.call(this,e);var t=this.getMap();if(this._listener&&(0,i.unByKey)(this._listener),this._listener=null,super.setMap(e),t)try{t.renderSync()}catch(e){}e&&(this._listener=e.on("postcompose",this.drawScale_.bind(this))),this.element.style.visibility="hidden",this.olscale=this.element.querySelector(".ol-scale-line-inner")}setStyle(e){var t=e.getStroke();this.strokeStyle_=t?(0,o.asString)(t.getColor()):"#000",this.strokeWidth_=t?t.getWidth():2;var r=e.getFill();this.fillStyle_=r?(0,o.asString)(r.getColor()):"#fff";var i=e.getText();this.font_=i?i.getFont():"10px Arial",t=i?i.getStroke():null,r=i?i.getFill():null,this.fontStrokeStyle_=t?(0,o.asString)(t.getColor()):this.fillStyle_,this.fontStrokeWidth_=t?t.getWidth():3,this.fontFillStyle_=r?(0,o.asString)(r.getColor()):this.strokeStyle_,this.getMap()&&this.getMap().render()}drawScale_(e){if("hidden"===this.element.style.visibility&&"none"!==(0,u.default).getStyle(this.element,"display")){var t=this.getContext(e);if(t){var r=parseInt(this.olscale.style.width);if(r){var i=this.olscale.textContent,n={left:this.element.offsetLeft,top:this.element.offsetTop},s=e.frameState.pixelRatio;t.save(),t.scale(s,s),n.top+=this.element.clientHeight-this.scaleHeight_,t.beginPath(),t.strokeStyle=this.fontStrokeStyle_,t.fillStyle=this.fontFillStyle_,t.lineWidth=this.fontStrokeWidth_,t.textAlign="center",t.textBaseline="bottom",t.font=this.font_,t.lineJoin="round",t.strokeText(i,n.left+r/2,n.top),t.fillText(i,n.left+r/2,n.top),t.closePath(),n.top+=2,t.lineWidth=this.strokeWidth_,t.strokeStyle=this.strokeStyle_;for(var a=4,o=parseInt(i);o%10==0;)o/=10;o%5==0&&(a=5);for(var l=0;l<a;l++)t.beginPath(),t.fillStyle=l%2?this.fillStyle_:this.strokeStyle_,t.rect(n.left+l*r/a,n.top,r/a,this.scaleHeight_),t.stroke(),t.fill(),t.closePath();t.restore()}}}}getContext(e){return(0,l.default).prototype.getContext.call(this,e)}}}),a("19kfR",function(e,r){t(e.exports,"default",()=>c);var i=s("4DafG"),n=s("erROg"),a=s("gzr8q");let o="units",l=[1,2,5],u=25.4/.28;class h extends i.default{constructor(e){e=e||{};let t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;let r=void 0!==e.className?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=r+"-inner",this.element.className=r+" "+n.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==e.minWidth?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(o,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(o)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(o,e)}setDpi(e){this.dpi_=e}updateElement_(){let e,t,r,i,n,s;let o=this.viewState_;if(!o){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}let h=o.center,c=o.projection,d=this.getUnits(),p=(0,a.getPointResolution)(c,o.resolution,h,"degrees"==d?"degrees":"m"),f=this.minWidth_*(this.dpi_||u)/u,g=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||u)/u:void 0,m=f*p,y="";if("degrees"==d){let e=a.METERS_PER_UNIT.degrees;(m*=e)<e/60?(y="″",p*=3600):m<e?(y="′",p*=60):y="°"}else if("imperial"==d)m<.9144?(y="in",p/=.0254):m<1609.344?(y="ft",p/=.3048):(y="mi",p/=1609.344);else if("nautical"==d)p/=1852,y="NM";else if("metric"==d)m<.001?(y="μm",p*=1e6):m<1?(y="mm",p*=1e3):m<1e3?y="m":(y="km",p/=1e3);else if("us"==d)m<.9144?(y="in",p*=39.37):m<1609.344?(y="ft",p/=.30480061):(y="mi",p/=1609.3472);else throw Error("Invalid units");let v=3*Math.floor(Math.log(f*p)/Math.log(10));for(;;){let a=Math.pow(10,r=Math.floor(v/3));if(isNaN(t=Math.round((e=l[(v%3+3)%3]*a)/p))){this.element.style.display="none",this.renderedVisible_=!1;return}if(void 0!==g&&t>=g){e=i,t=n,r=s;break}if(t>=f)break;i=e,n=t,s=r,++v}let b=this.scaleBar_?this.createScaleBar(t,e,y):e.toFixed(r<0?-r:0)+" "+y;this.renderedHTML_!=b&&(this.innerElement_.innerHTML=b,this.renderedHTML_=b),this.renderedWidth_!=t&&(this.innerElement_.style.width=t+"px",this.renderedWidth_=t),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,r){let i=this.getScaleForResolution(),n=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),s=this.scaleBarSteps_,a=e/s,o=[this.createMarker("absolute")];for(let i=0;i<s;++i){let n=i%2==0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";o.push(`<div><div class="ol-scale-singlebar ${n}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(i%2==0||2===s?this.createStepText(i,e,!1,t,r):"")+"</div>")}return o.push(this.createStepText(s,e,!0,t,r)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+n+"</div>":"")+o.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${"absolute"===e?3:-10}px;"></div>`}createStepText(e,t,r,i,n){let s=0===e?0:Math.round(i/this.scaleBarSteps_*e*100)/100,a=0===e?-3:-(t/this.scaleBarSteps_*1),o=0===e?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${a}px;text-align: ${0===e?"left":"center"};min-width: ${o}px;left: ${r?t+"px":"unset"};">`+s+(0===e?"":" "+n)+"</div>"}getScaleForResolution(){return 1e3/25.4*(0,a.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m")*(this.dpi_||u)}render(e){let t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}var c=h}),a("oelnd",function(e,r){t(e.exports,"default",()=>o);var i=s("gzr8q"),n=s("lMlc8"),a=s("fSP3G"),o=class extends a.default{constructor(e){(e=e||{}).className=e.className||"IGNF",e.typing=e.typing||500,1==e.version?(e.url="https://wxs.ign.fr/"+(e.apiKey||"essentiels")+"/ols/apis/completion",e.copy='<a href="https://www.geoportail.gouv.fr/" target="new">&copy; IGN-Géoportail</a>'):2==e.version?(e.url="https://wxs.ign.fr/"+(e.apiKey||"essentiels")+"/geoportail/geocodage/rest/0.1/completion",e.copy='<a href="https://www.geoportail.gouv.fr/" target="new">&copy; IGN-Géoportail</a>'):(e.url="https://data.geopf.fr/geocodage/completion",e.copy='<a href="https://geoservices.ign.fr/" target="new">&copy; IGN-Géoplateforme</a>'),super(e),this.set("position",e.position),this.set("useExtent",e.useExtent),this.set("bbox",e.bbox),this.set("type",e.type||"StreetAddress,PositionOfInterest"),this.set("terr",e.terr),this.set("timeout",e.timeout||2e3)}reverseGeocode(e,t){var r=(0,i.transform)(e,this.getMap().getView().getProjection(),"EPSG:4326");this._handleSelect({x:r[0],y:r[1],fulltext:r[0].toFixed(6)+","+r[1].toFixed(6)},!0,t);var n="Commune"===this.get("type")?"PositionOfInterest":this.get("type")||"StreetAddress";/,/.test(n)&&(n="StreetAddress");var s=this.get("url").replace("ols/apis/completion","geoportail/ols").replace("completion","reverse");if(/ols/.test(s)){var a='<?xml version="1.0" encoding="UTF-8"?><XLS xmlns:xls="http://www.opengis.net/xls" xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.opengis.net/xls" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.2" xsi:schemaLocation="http://www.opengis.net/xls http://schemas.opengis.net/ols/1.2/olsAll.xsd"> <Request requestID="1" version="1.2" methodName="ReverseGeocodeRequest" maximumResponses="1" >  <ReverseGeocodeRequest>   <ReverseGeocodePreference>'+n+"</ReverseGeocodePreference>   <Position>    <gml:Point><gml:pos>"+r[1]+" "+r[0]+"</gml:pos></gml:Point>   </Position>  </ReverseGeocodeRequest> </Request></XLS>";this.ajax(s,{xls:a},(function(e){var i={};if(e){var n=(e=e.replace(/\n|\r/g,"")).replace(/.*<gml:pos>(.*)<\/gml:pos>.*/,"$1").split(" ");if(Number(n[1])||Number(n[0])){if(i.x=r[0],i.y=r[1],i.city=e.replace(/.*<Place type="Municipality">([^<]*)<\/Place>.*/,"$1"),i.insee=e.replace(/.*<Place type="INSEE">([^<]*)<\/Place>.*/,"$1"),i.zipcode=e.replace(/.*<PostalCode>([^<]*)<\/PostalCode>.*/,"$1"),/<Street>/.test(e)){i.kind="",i.country="StreetAddress",i.street=e.replace(/.*<Street>([^<]*)<\/Street>.*/,"$1");var s=e.replace(/.*<Building number="([^"]*).*/,"$1");i.fulltext=s+" "+i.street+", "+i.zipcode+" "+i.city}else i.kind=e.replace(/.*<Place type="Nature">([^<]*)<\/Place>.*/,"$1"),i.country="PositionOfInterest",i.street="",i.fulltext=i.zipcode+" "+i.city}else i={x:r[0],y:r[1],fulltext:r[0].toFixed(6)+","+r[1].toFixed(6)}}else i={x:r[0],y:r[1],fulltext:r[0].toFixed(6)+","+r[1].toFixed(6)};"function"==typeof t?t.call(this,[i]):(this.getHistory().shift(),this._handleSelect(i,!0,t))}).bind(this),{timeout:this.get("timeout"),dataType:"XML"})}else this.ajax(s+"?lon="+r[0]+"&lat="+r[1],{},(function(e){var i;try{(i=(e=JSON.parse(e).features[0]).properties).x=e.geometry.coordinates[0],i.y=e.geometry.coordinates[1],i.click=r,i.name?i.fulltext=i.name+", "+i.postcode+" "+i.city:i.fulltext=i.postcode+" "+i.city}catch(e){i={x:r[0],y:r[1],lonlat:r,fulltext:r[0].toFixed(6)+","+r[1].toFixed(6)}}"function"==typeof t?t.call(this,[i]):(this.getHistory().shift(),this._handleSelect(i,!0,t))}).bind(this),{timeout:this.get("timeout"),dataType:"XML"})}getTitle(e){return e.fulltext}requestData(e){var t={text:e,type:"Commune"===this.get("type")?"PositionOfInterest":this.get("type")||"StreetAddress,PositionOfInterest",terr:this.get("terr")||void 0,maximumResponses:this.get("maxItems")};if("Commune"===this.get("type")&&(t.poiType="commune"),this.get("position")){var r=this.getMap().getView().getCenter();t.lonlat=(0,i.transform)(r,this.getMap().getView().getProjection(),"EPSG:4326").join(",")}if(this.get("bbox"))t.bbox=(0,i.transformExtent)(this.get("bbox"),this.getMap().getView().getProjection(),"EPSG:4326").join(",");else if(this.get("useExtent")){var n=this.getMap().getView().calculateExtent();t.bbox=(0,i.transformExtent)(n,this.getMap().getView().getProjection(),"EPSG:4326").join(",")}return t}handleResponse(e){return e.results}select(e,t,r,s){if(e.x||e.y){var a=[Number(e.x),Number(e.y)];try{a=(0,i.transform)(a,"EPSG:4326",this.getMap().getView().getProjection())}catch(e){}"Commune"===this.get("type")?this.searchCommune(e,(function(){(0,n.default).prototype.select.call(this,e,t,a,s)}).bind(this)):super.select(e,t,a,s)}else this.searchCommune(e)}searchCommune(e,t){var r=this.get("url").replace("ols/apis/completion","geoportail/ols").replace("completion","reverse");if(/ols/.test(r)){var i='<?xml version="1.0" encoding="UTF-8"?><XLS xmlns:xls="http://www.opengis.net/xls" xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.opengis.net/xls" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.2" xsi:schemaLocation="http://www.opengis.net/xls http://schemas.opengis.net/ols/1.2/olsAll.xsd"><RequestHeader/><Request requestID="1" version="1.2" methodName="LocationUtilityService"><GeocodeRequest returnFreeForm="false"><Address countryCode="PositionOfInterest"><freeFormAddress>'+e.zipcode+" "+e.city+"+</freeFormAddress></Address></GeocodeRequest></Request></XLS>";this.ajax(this.get("url").replace("ols/apis/completion","geoportail/ols"),{xls:i},(function(r){if(r){var i=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("GeocodedAddress")[0],n=i.getElementsByTagName("gml:Point")[0].textContent.trim().split(" ");e.x=Number(n[1]),e.y=Number(n[0]);for(var s=i.getElementsByTagName("Place"),a=0;a<s.length;a++)switch(s[a].attributes.type.value){case"Nature":e.kind=s[a].textContent;break;case"INSEE":e.insee=s[a].textContent}(e.x||e.y)&&(t?t.call(this,[e]):this._handleSelect(e))}}).bind(this),{dataType:"XML"})}else this.ajax(r+"?lon="+e.x+"&lat="+e.y+"&index=parcel&limit=1",{},(function(r){try{var i=JSON.parse(r).features[0];e.insee=i.properties.departmentcode+i.properties.municipalitycode,e.districtcode=i.properties.districtcode,t?t.call(this,[e]):this._handleSelect(e)}catch(e){}}).bind(this),{timeout:this.get("timeout"),dataType:"XML"})}}}),a("lMlc8",function(e,r){t(e.exports,"default",()=>l);var i=s("4DafG"),n=s("ejLRd"),a=s("iQyfo"),o=class extends i.default{constructor(e){var t=((e=e||{}).className||"")+" ol-search"+(e.target?"":" ol-unselectable ol-control"),r=(0,a.default).create("DIV",{className:t});super({element:r,target:e.target});var i=this;if(void 0==e.typing&&(e.typing=300),this._classname=e.className||"search",!1!==e.collapsed&&r.classList.add("ol-collapsed"),e.target||(this.button=document.createElement("BUTTON"),this.button.setAttribute("type","button"),this.button.setAttribute("title",e.title||e.label||"Search"),this.button.addEventListener("click",function(){if(r.classList.toggle("ol-collapsed"),!r.classList.contains("ol-collapsed")){r.querySelector("input.search").focus();for(var e=r.querySelectorAll("li"),t=0;t<e.length;t++)e[t].classList.remove("select");l.value||i.drawList_()}}),r.appendChild(this.button)),e.inputLabel){var n=document.createElement("LABEL");n.innerText=e.inputLabel,r.appendChild(n)}var s,o="",l=this._input=document.createElement("INPUT");l.setAttribute("type","search"),l.setAttribute("class","search"),l.setAttribute("autocomplete","off"),l.setAttribute("placeholder",e.placeholder||"Search..."),l.addEventListener("change",function(e){i.dispatchEvent({type:"change:input",input:e,value:l.value})});var u=function(t){var n=r.querySelector("ul.autocomplete li.select"),a=l.value;if("ArrowDown"==t.key||"ArrowUp"==t.key||"Down"==t.key||"Up"==t.key)n?(n.classList.remove("select"),(n=/Down/.test(t.key)?n.nextElementSibling:n.previousElementSibling)&&n.classList.add("select")):r.querySelector("ul.autocomplete li").classList.add("select");else if("input"!=t.type||a){if(n&&("search"==t.type||"Enter"==t.key))r.classList.contains("ol-control")&&l.blur(),n.classList.remove("select"),o=a,i._handleSelect(i._list[n.getAttribute("data-search")]);else if("search"==t.type||"Enter"==t.key||o!=a&&e.typing>=0){if(o=a){s&&clearTimeout(s);var u=i.get("minLength");s=setTimeout(function(){if(o.length>=u){var e=i.autocomplete(o,function(e){i.drawList_(e)});e&&i.drawList_(e)}else i.drawList_()},e.typing)}else i.drawList_()}else(n=r.querySelector("ul.autocomplete li"))&&n.classList.remove("select")}else setTimeout(function(){i.drawList_()},200)};if(l.addEventListener("keyup",u),l.addEventListener("search",u),l.addEventListener("cut",u),l.addEventListener("paste",u),l.addEventListener("input",u),e.noCollapse||(l.addEventListener("blur",(function(){setTimeout((function(){l!==document.activeElement&&(r.classList.add("ol-collapsed"),this.set("reverse",!1),r.classList.remove("ol-revers"))}).bind(this),200)}).bind(this)),l.addEventListener("focus",(function(){this.get("reverse")||(r.classList.remove("ol-collapsed"),r.classList.remove("ol-revers"))}).bind(this))),r.appendChild(l),e.reverse){var h=(0,a.default).create("BUTTON",{type:"button",class:"ol-revers",title:e.reverseTitle||"click on the map",click:(function(){this.get("reverse")?this.set("reverse",!1):(this.set("reverse",!this.get("reverse")),l.focus(),r.classList.add("ol-revers"))}).bind(this)});r.appendChild(h)}var c=document.createElement("UL");c.classList.add("autocomplete"),r.appendChild(c),"function"==typeof e.getTitle&&(this.getTitle=e.getTitle),"function"==typeof e.autocomplete&&(this.autocomplete=e.autocomplete),this.set("copy",e.copy),this.set("minLength",e.minLength||1),this.set("maxItems",e.maxItems||10),this.set("maxHistory",e.maxHistory||e.maxItems||10),e.onselect&&this.on("select",e.onselect),e.centerOnSelect&&this.on("select",(function(e){var t=this.getMap();t&&t.getView().setCenter(e.coordinate)}).bind(this)),e.zoomOnSelect&&this.on("select",(function(t){var r=this.getMap();r&&(r.getView().setCenter(t.coordinate),r.getView().getZoom()<e.zoomOnSelect&&r.getView().setZoom(e.zoomOnSelect))}).bind(this)),this.restoreHistory(),this.drawList_()}setMap(e){this._listener&&(0,n.unByKey)(this._listener),this._listener=null,super.setMap(e),e&&(this._listener=e.on("click",this._handleClick.bind(this)))}collapse(e){!1===e?this.element.classList.remove("ol-collapsed"):this.element.classList.add("ol-collapsed")}getInputField(){return this._input}getTitle(e){return e.name||"No title"}_getTitleTxt(e){return(0,a.default).create("DIV",{html:this.getTitle(e)}).innerText}search(){var e=this.element.querySelector("input.search");this._triggerCustomEvent("search",e)}_handleClick(e){this.get("reverse")&&(document.activeElement.blur(),this.reverseGeocode(e.coordinate))}reverseGeocode(){}_triggerCustomEvent(e,t){(0,a.default).dispatchEvent(e,t)}setInput(e,t){var r=this.element.querySelector("input.search");r.value=e,t&&this._triggerCustomEvent("keyup",r)}select(e,t,r,i){var n={type:"select",search:e,reverse:!!t,coordinate:r};if(i)for(var s in i)n[s]=i[s];this.dispatchEvent(n)}_handleSelect(e,t,r){if(e){var i,n=this.get("history");try{var s=JSON.stringify(e);for(i=n.length-1;i>=0;i--)n[i]&&JSON.stringify(n[i])!==s||n.splice(i,1)}catch(t){for(i=n.length-1;i>=0;i--)n[i]===e&&n.splice(i,1)}n.unshift(e);for(var a=Math.max(0,this.get("maxHistory")||10)||0;n.length>a;)n.pop();this.saveHistory(),this.select(e,t,null,r),t&&(this.setInput(this._getTitleTxt(e)),this.drawList_(),setTimeout((function(){this.collapse(!1)}).bind(this),300))}}saveHistory(){try{this.get("maxHistory")>=0?localStorage["ol@search-"+this._classname]=JSON.stringify(this.get("history")):localStorage.removeItem("ol@search-"+this._classname)}catch(e){console.warn("Failed to access localStorage...")}}restoreHistory(){if(this._history[this._classname])this.set("history",this._history[this._classname]);else try{this._history[this._classname]=JSON.parse(localStorage["ol@search-"+this._classname]),this.set("history",this._history[this._classname])}catch(e){this.set("history",[])}}clearHistory(){this.set("history",[]),this.saveHistory(),this.drawList_()}getHistory(){return this.get("history")}autocomplete(e,t){return t([]),!1}drawList_(e){var t=this,r=this.element.querySelector("ul.autocomplete");if(r.innerHTML="",this._list=[],e)r.setAttribute("class","autocomplete");else{if(this.element.querySelector("input.search").value)return;e=this.get("history"),r.setAttribute("class","autocomplete history")}for(var i,n=Math.min(t.get("maxItems"),e.length),s=0;s<n;s++)if(e[s]&&(!s||!t.equalFeatures(e[s],e[s-1]))){(i=document.createElement("LI")).setAttribute("data-search",this._list.length),this._list.push(e[s]),i.addEventListener("click",function(e){t._handleSelect(t._list[e.currentTarget.getAttribute("data-search")])});var a=t.getTitle(e[s]);a instanceof Element?i.appendChild(a):i.innerHTML=a,r.appendChild(i)}n&&this.get("copy")&&((i=document.createElement("LI")).classList.add("copy"),i.innerHTML=this.get("copy"),r.appendChild(i))}equalFeatures(){return!1}};o.prototype._history={};var l=o}),a("fSP3G",function(e,r){t(e.exports,"default",()=>a);var i=s("lMlc8"),n=s("fkmMz"),a=class extends i.default{constructor(e){(e=e||{}).className=e.className||"JSON",delete e.autocomplete,e.minLength=e.minLength||3,e.typing=e.typing||800,super(e);var t=e.url||"";if("https:"===window.location.protocol){var r=document.createElement("a");r.href=t,r.protocol=window.location.protocol,t=r.href}this.set("url",t),this._ajax=new n.default({dataType:"JSON",auth:e.authentication}),this._ajax.on("success",(function(e){e.status>=200&&e.status<400?"function"==typeof this._callback&&this._callback(e.response):("function"==typeof this._callback&&this._callback(!1,"error"),console.log("AJAX ERROR",arguments))}).bind(this)),this._ajax.on("error",(function(){"function"==typeof this._callback&&this._callback(!1,"error"),console.log("AJAX ERROR",arguments)}).bind(this)),this._ajax.on("loadstart",(function(){this.element.classList.add("searching")}).bind(this)),this._ajax.on("loadend",(function(){this.element.classList.remove("searching")}).bind(this)),"function"==typeof e.handleResponse&&(this.handleResponse=e.handleResponse)}ajax(e,t,r,i){i=i||{},this._callback=r,this._ajax.set("dataType",i.dataType||"JSON"),this._ajax.send(e,t,i)}autocomplete(e,t){var r=this.requestData(e),i=encodeURI(this.get("url"));this.ajax(i,r,function(e){"function"==typeof t&&t(this.handleResponse(e))})}requestData(e){return{q:e}}handleResponse(e){return e}}}),a("jEzQ5",function(e,r){t(e.exports,"default",()=>u);var i=s("ejLRd"),n=s("4DafG"),a=s("gzr8q"),o=s("iQyfo"),l=s("4TTbe"),u=class extends n.default{constructor(e){var t=e||{},r=document.createElement("div");super({element:r,target:t.target});var i=this,n=document.createElement("button");if((0,o.default).create("I",{parent:n}),this.replaceState_=!1!==t.urlReplace,this.fixed_=t.fixed||6,this.hash_=t.anchor?"#":"?",this._localStorage=t.localStorage,!this._localStorage)try{localStorage.removeItem("ol@permalink")}catch(e){console.warn("Failed to access localStorage...")}function s(){"function"==typeof t.onclick?t.onclick(i.getLink()):i.setUrlReplace(!i.replaceState_)}n.addEventListener("click",s,!1),n.addEventListener("touchstart",s,!1),r.className=(t.className||"ol-permalink")+" ol-unselectable ol-control",r.appendChild(n),(t.hidden||!1===t.visible)&&(0,o.default).hide(r),this.set("geohash",t.geohash),this.set("initial",!1),this.on("change",this.viewChange_.bind(this)),this.search_={};var a={},u=document.location.hash||document.location.search||"";if(this.replaceState_&&!u&&this._localStorage)try{u=localStorage["ol@permalink"]}catch(e){console.warn("Failed to access localStorage...")}if(u){u=u.replace(/(^#|^\?)/,"").split("&");for(var h=0;h<u.length;h++){var c=u[h].split("=");switch(c[0]){case"lon":case"lat":case"z":case"r":a[c[0]]=c[1];break;case"gh":{let e=c[1].split("-"),t=(0,l.toLonLat)(e[0]);a.lon=t[0],a.lat=t[1],a.z=e[1];break}case"l":break;default:this.search_[c[0]]=c[1]}}}a.hasOwnProperty("lon")&&this.set("initial",a),this.replaceState_&&this.setPosition()}getInitialPosition(){return this.get("initial")}setMap(e){this._listener&&((0,i.unByKey)(this._listener.change),(0,i.unByKey)(this._listener.moveend)),this._listener=null,super.setMap.call(this,e),e&&(this._listener={change:e.getLayerGroup().on("change",this.layerChange_.bind(this)),moveend:e.on("moveend",this.viewChange_.bind(this))},this.setPosition())}getLayerByLink(e,t){!t&&this.getMap()&&(t=this.getMap().getLayers().getArray());for(var r=0;r<t.length;r++){if(t[r].get("permalink")==e)return t[r];if(t[r].getLayers){var i=this.getLayerByLink(e,t[r].getLayers().getArray());if(i)return i}}return!1}setGeohash(e){this.set("geohash",e),this.setUrlParam()}setPosition(e){var t=this.getMap();if(t){var r=this.replaceState_||e?document.location.hash||document.location.search:"";if(!r&&this._localStorage)try{r=localStorage["ol@permalink"]}catch(e){console.warn("Failed to access localStorage...")}if(r){var i,n,s={};for(i=0,r=r.replace(/(^#|^\?)/,"").split("&");i<r.length;i++)s[(n=r[i].split("="))[0]]=n[1];if(s.gh){var o=s.gh.split("-"),u=(0,l.toLonLat)(o[0]);s.lon=u[0],s.lat=u[1],s.z=o[1]}var h=(0,a.transform)([Number(s.lon),Number(s.lat)],"EPSG:4326",t.getView().getProjection());if(h[0]&&h[1]&&t.getView().setCenter(h),s.z&&t.getView().setZoom(Number(s.z)),s.r&&t.getView().setRotation(Number(s.r)),s.l){(function e(r){r||(r=t.getLayers().getArray());for(var i=0;i<r.length;i++)r[i].get("permalink")&&r[i].setVisible(!1),r[i].getLayers&&e(r[i].getLayers().getArray())})();var c=s.l.split("|");for(i=0;i<c.length;i++){n=c[i].split(":");var d=this.getLayerByLink(n[0]),p=Number(n[1]);d&&(d.setOpacity(p),d.setVisible(!0))}}}}}getUrlParams(){return this.search_}setUrlParam(e,t){e&&(void 0===t||""===t?delete this.search_[encodeURIComponent(e)]:this.search_[encodeURIComponent(e)]=encodeURIComponent(t)),this.viewChange_()}getUrlParam(e){return decodeURIComponent(this.search_[encodeURIComponent(e)]||"")}hasUrlParam(e){return this.search_.hasOwnProperty(encodeURIComponent(e))}getLink(e){var t=this.getMap(),r=(0,a.transform)(t.getView().getCenter(),t.getView().getProjection(),"EPSG:4326"),i=Math.round(10*t.getView().getZoom())/10,n=t.getView().getRotation(),s=this.layerStr_,o=(n?"&r="+Math.round(1e4*n)/1e4:"")+(s?"&l="+s:"");if(o=this.get("geohash")?"gh="+(0,l.fromLonLat)(r,8)+"-"+i+o:"lon="+r[0].toFixed(this.fixed_)+"&lat="+r[1].toFixed(this.fixed_)+"&z="+i+o,"position"===e)return o;for(var u in this.search_)o+="&"+u+(void 0!==this.search_[u]?"="+this.search_[u]:"");return e?o:document.location.protocol+"//"+document.location.host+document.location.pathname+this.hash_+o}getUrlReplace(){return this.replaceState_}setUrlReplace(e){try{if(this.replaceState_=e,e)window.history.replaceState(null,null,this.getLink());else{var t="";for(var r in this.search_)t+=(""==t?"?":"&")+r+(void 0!==this.search_[r]?"="+this.search_[r]:"");window.history.replaceState(null,null,document.location.origin+document.location.pathname+t)}}catch(e){}}viewChange_(){try{this.replaceState_&&window.history.replaceState(null,null,this.getLink())}catch(e){}if(this._localStorage)try{localStorage["ol@permalink"]=this.getLink(this._localStorage)}catch(e){console.warn("Failed to access localStorage...")}}layerChange_(){this._tout&&(clearTimeout(this._tout),this._tout=null),this._tout=setTimeout((function(){this._tout=null;var e="";(function t(r){for(var i=0;i<r.length;i++)r[i].getVisible()&&r[i].get("permalink")&&(e&&(e+="|"),e+=r[i].get("permalink")+":"+r[i].get("opacity")),r[i].getLayers&&t(r[i].getLayers().getArray())})(this.getMap().getLayers().getArray()),this.layerStr_=e,this.viewChange_()}).bind(this),200)}}}),a("4TTbe",function(e,r){t(e.exports,"fromLonLat",()=>n),t(e.exports,"toLonLat",()=>s);var i={base32:"0123456789bcdefghjkmnpqrstuvwxyz"},n=function(e,t){var r=e[0],a=e[1];if(!t){for(var o=1;o<=12;o++){var l=n([r,a],o),u=s(l);if(u.lat==a&&u.lon==r)return l}t=12}(t<1||t>12)&&(t=12);for(var h=0,c=0,d=!0,p="",f=-90,g=90,m=-180,y=180;p.length<t;){if(d){var v=(m+y)/2;r>=v?(h=2*h+1,m=v):(h*=2,y=v)}else{var b=(f+g)/2;a>=b?(h=2*h+1,f=b):(h*=2,g=b)}d=!d,5==++c&&(p+=i.base32.charAt(h),c=0,h=0)}return p},s=function(e){var t=a(e),r=t[1],i=t[0],n=t[3],s=t[2],o=(r+n)/2,l=(i+s)/2;return o=o.toFixed(Math.floor(2-Math.log(n-r)/Math.LN10)),[Number(l=l.toFixed(Math.floor(2-Math.log(s-i)/Math.LN10))),Number(o)]},a=function(e){if(!e)return!1;e=e.toLowerCase();for(var t=!0,r=-90,n=90,s=-180,a=180,o=0;o<e.length;o++){var l=e.charAt(o),u=i.base32.indexOf(l);if(-1==u)return!1;for(var h=4;h>=0;h--){var c=u>>h&1;if(t){var d=(s+a)/2;1==c?s=d:a=d}else{var p=(r+n)/2;1==c?r=p:n=p}t=!t}}return[s,r,a,n]}}),a("3cHIk",function(e,r){t(e.exports,"default",()=>g);var i=s("ejLRd"),n=s("4DafG"),a=s("d5AAH"),o=s("iQyfo"),l=s("6od7S"),u=s("rnKfx"),h=s("hQ5BY"),c=s("e9bRc"),d=s("bbejh"),p=s("6RZDJ"),f=class extends n.default{constructor(e){e=e||{};var t,r,n,s,f=(0,o.default).create("DIV",{className:(e.className||"ol-print")+" ol-unselectable ol-control"});super({element:f}),this._lang=e.lang||"en",e.target||(0,o.default).create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:f}),e.openWindow&&this.on("print",function(e){e.canvas&&window.open().document.write('<img src="'+e.canvas.toDataURL()+'"/>')}),e.target=e.target||(0,o.default).create("DIV");var g=this._printCtrl=new h.default(e);g.on(["print","error","printing"],(function(e){y.setAttribute("data-status",e.type),e.clipboard||this.dispatchEvent(e)}).bind(this)),this._compass=new p.default({src:e.northImage||"compact",visible:!1,className:"olext-print-compass",style:new a.default({color:"#333",width:0})});var m=this._printDialog=new l.default({target:e.targetDialog||document.body,closeBox:!0,className:"ol-ext-print-dialog"}),y=m.getContentElement();this._input={};var v=(0,o.default).create("DIV",{className:"ol-print-param",parent:y});this._pages=[(0,o.default).create("DIV",{className:"ol-page"})];var b=(0,o.default).create("DIV",{className:"ol-map",parent:this._pages[0]});(0,o.default).create("DIV",{html:this._pages[0],className:"ol-print-map",parent:y}),(0,o.default).create("H2",{html:this.i18n("title"),parent:v});var x=(0,o.default).create("UL",{parent:v}),E=(0,o.default).create("LI",{className:"ol-orientation",parent:x});this._input.orientation={list:E};var _=(0,o.default).create("LABEL",{className:"portrait",parent:E});this._input.orientation.portrait=(0,o.default).create("INPUT",{type:"radio",name:"ol-print-orientation",value:"portrait",checked:!0,on:{change:(function(e){this.setOrientation(e.target.value)}).bind(this)},parent:_}),(0,o.default).create("SPAN",{html:this.i18n("portrait"),parent:_}),_=(0,o.default).create("LABEL",{className:"landscape",parent:E}),this._input.orientation.landscape=(0,o.default).create("INPUT",{type:"radio",name:"ol-print-orientation",value:"landscape",on:{change:(function(e){this.setOrientation(e.target.value)}).bind(this)},parent:_}),(0,o.default).create("SPAN",{html:this.i18n("landscape"),parent:_}),E=(0,o.default).create("LI",{html:(0,o.default).create("LABEL",{html:this.i18n("size")}),className:"ol-size",parent:x});var S=this._input.size=(0,o.default).create("SELECT",{on:{change:(function(){this.setSize(S.value||n)}).bind(this)},parent:E});for(t in this.paperSize)(0,o.default).create("OPTION",{html:t+(this.paperSize[t]?" - "+this.paperSize[t][0]+"x"+this.paperSize[t][1]+" mm":this.i18n("custom")),value:t,parent:S});E=(0,o.default).create("LI",{html:(0,o.default).create("LABEL",{html:this.i18n("margin")}),className:"ol-margin",parent:x});var O=this._input.margin=(0,o.default).create("SELECT",{on:{change:(function(){this.setMargin(O.value)}).bind(this)},parent:E});for(t in this.marginSize)(0,o.default).create("OPTION",{html:this.i18n(t)+" - "+this.marginSize[t]+" mm",value:this.marginSize[t],parent:O});E=(0,o.default).create("LI",{html:(0,o.default).create("LABEL",{html:this.i18n("scale")}),className:"ol-scale",parent:x});var R=this._input.scale=(0,o.default).create("SELECT",{on:{change:(function(){this.setScale(parseInt(R.value))}).bind(this)},parent:E});Object.keys(this.scales).forEach((function(e){(0,o.default).create("OPTION",{html:this.scales[e],value:e,parent:R})}).bind(this)),E=(0,o.default).create("LI",{className:"ol-legend",parent:x});var A=(0,o.default).createSwitch({html:this.i18n("legend"),checked:!1,on:{change:(function(){k.legend.control.setCanvas(A.checked)}).bind(this)},parent:E});E=(0,o.default).create("LI",{className:"ol-print-north",parent:x});var w=this._input.north=(0,o.default).createSwitch({html:this.i18n("north"),checked:"checked",on:{change:(function(){w.checked?this._compass.element.classList.add("ol-print-compass"):this._compass.element.classList.remove("ol-print-compass"),this.getMap().render()}).bind(this)},parent:E});E=(0,o.default).create("LI",{className:"ol-print-title",parent:x});var C=(0,o.default).createSwitch({html:this.i18n("mapTitle"),checked:!1,on:{change:(function(e){k.title.control.setVisible(e.target.checked)}).bind(this)},parent:E}),T=(0,o.default).create("INPUT",{type:"text",placeholder:this.i18n("mapTitle"),on:{keydown:function(e){13===e.keyCode&&e.preventDefault()},keyup:function(){k.title.control.setTitle(T.value)},change:(function(){k.title.control.setTitle(T.value)}).bind(this)},parent:E}),L=(0,o.default).create("DIV",{className:"ol-user-param",parent:v});E=(0,o.default).create("LI",{className:"ol-saveas",parent:x});var P=(0,o.default).create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:E}),I=(0,o.default).create("SELECT",{on:{change:(function(){if(this.formats[I.value].clipboard)g.copyMap(this.formats[I.value],function(e){e&&(P.classList.add("visible"),setTimeout(function(){P.classList.remove("visible")},1e3))});else{var e="string"==typeof this.getSize()?this.getSize():null,t=Object.assign({format:e,size:e?this.paperSize[e]:null,orient:this.getOrientation(),margin:this.getMargin()},this.formats[I.value]);g.print(t)}I.value=""}).bind(this)},parent:E});(0,o.default).create("OPTION",{html:this.i18n("saveas"),style:{display:"none"},value:"",parent:I}),this.formats.forEach((function(t,r){if(t.pdf){if(!1===e.pdf)return}else if(t.clipboard){if(!1===e.copy)return}else if(!1===e.save)return;(0,o.default).create("OPTION",{html:this.i18n(t.title),value:r,parent:I})}).bind(this)),E=(0,o.default).create("LI",{className:"ol-savelegend",parent:x});var M=(0,o.default).create("DIV",{html:this.i18n("copied"),className:"ol-clipboard-copy",parent:E}),N=(0,o.default).create("SELECT",{on:{change:(function(){var e,t=k.legend.control.getLegend().getCanvas(),r=document.createElement("CANVAS");r.width=t.width,r.height=t.height;var i=r.getContext("2d");if(i.fillStyle="#fff",i.fillRect(0,0,r.width,r.height),i.drawImage(t,0,0),this.formats[N.value].clipboard)r.toBlob(function(e){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]),M.classList.add("visible"),setTimeout(function(){M.classList.remove("visible")},1e3)}catch(e){}},"image/png");else try{e=r.toDataURL(this.formats[N.value].imageType,this.formats[N.value].quality);var n="string"==typeof this.getSize()?this.getSize():"A4",s=r.width/96*25.4,a=r.height/96*25.4,o=this.paperSize[n];"landscape"===this.getOrientation()&&(o=[o[1],o[0]]);var l=[(o[0]-s)/2,(o[1]-a)/2];this.dispatchEvent({type:"print",print:{legend:!0,format:n,orientation:this.getOrientation(),unit:"mm",size:this.paperSize[n],position:l,imageWidth:s,imageHeight:a},image:e,imageType:this.formats[N.value].imageType,pdf:this.formats[N.value].pdf,quality:this.formats[N.value].quality,canvas:r})}catch(e){}N.value=""}).bind(this)},parent:E});(0,o.default).create("OPTION",{html:this.i18n("saveLegend"),style:{display:"none"},value:"",parent:N}),this.formats.forEach((function(e,t){(0,o.default).create("OPTION",{html:this.i18n(e.title),value:t,parent:N})}).bind(this));var G=(0,o.default).create("DIV",{className:"ol-ext-buttons",parent:v});(0,o.default).create("BUTTON",{html:this.i18n("printBt"),type:"submit",click:function(e){e.preventDefault(),window.print()},parent:G}),(0,o.default).create("BUTTON",{html:this.i18n("cancel"),type:"button",click:function(){m.hide()},parent:G}),(0,o.default).create("DIV",{html:this.i18n("errorMsg"),className:"ol-error",parent:v});var k={};m.on("show",(function(){this.dispatchEvent({type:"show",userElement:L,dialog:this._printDialog,page:this.getPage()});var e=this.getMap();e&&(document.body.classList.add("ol-print-document"),r=e.getTargetElement(),n=e.getSize(),"string"==typeof this.getSize()?this.setSize(this.getSize()):this.setSize(n),e.setTarget(b),s&&(0,i.unByKey)(s),s=e.on("moveend",(function(){this.setScale((0,d.getMapScale)(e))}).bind(this)),this.setScale((0,d.getMapScale)(e)),k={},this.getMap().getControls().forEach((function(e){e instanceof u.default&&(k.legend={control:e}),e instanceof c.default&&(k.title={control:e}),e instanceof p.default&&(k.compass?e.element.classList.remove("ol-print-compass"):(this._input.north.checked?e.element.classList.add("ol-print-compass"):e.element.classList.remove("ol-print-compass"),this._compass=e,k.compass={control:e}))}).bind(this)),k.title?(C.checked=k.title.isVisible=k.title.control.getVisible(),T.value=k.title.control.getTitle(),C.parentNode.parentNode.classList.remove("hidden")):C.parentNode.parentNode.classList.add("hidden"),k.legend?(k.legend.ison=k.legend.control.onCanvas(),k.legend.collapsed=k.legend.control.isCollapsed(),k.legend.control.collapse(!1),N.parentNode.classList.remove("hidden"),A.parentNode.parentNode.classList.remove("hidden"),A.checked=!k.legend.collapsed,k.legend.control.setCanvas(!k.legend.collapsed)):(N.parentNode.classList.add("hidden"),A.parentNode.parentNode.classList.add("hidden")))}).bind(this)),m.on("hide",(function(){document.body.classList.remove("ol-print-document"),r&&(this.getMap().setTarget(r),r=null,s&&(0,i.unByKey)(s),k.title&&k.title.control.setVisible(k.title.isVisible),k.legend&&(k.legend.control.setCanvas(k.legend.ison),k.legend.control.collapse(k.legend.collapsed)),this.dispatchEvent({type:"hide"}))}).bind(this)),window.addEventListener("resize",(function(){this.setSize()}).bind(this)),e.saveAs&&this.on("print",function(t){t.pdf||t.canvas.toBlob(function(r){var i=(t.print.legend?"legend.":"map.")+t.imageType.replace("image/","");e.saveAs(r,i)},t.imageType,t.quality)}),e.jsPDF&&this.on("print",function(t){if(t.pdf){var r=new e.jsPDF({orientation:t.print.orientation,unit:t.print.unit,format:t.print.size});r.addImage(t.image,"JPEG",t.print.position[0],t.print.position[0],t.print.imageWidth,t.print.imageHeight),r.save(t.print.legend?"legend.pdf":"map.pdf")}})}static addLang(e,t){f.prototype._labels[e]=t}isOpen(){return this._printDialog.isOpen()}i18n(e){var t=this._labels.en[e]||e;return this._labels[this._lang]&&this._labels[this._lang][e]&&(t=this._labels[this._lang][e]),t}getOrientation(){return this._orientation||"portrait"}setOrientation(e){this._orientation="landscape"===e?"landscape":"portrait",this._input.orientation[this._orientation].checked=!0,this.setSize()}getMargin(){return this._margin||0}setMargin(e){this._margin=e,this._input.margin.value=e,this.setSize()}getSize(){return this._size}setSize(e){if(this._printDialog.getContentElement().setAttribute("data-status",""),e?this._size=e:e=this._size,e){if("string"==typeof e){for(var t in this.paperSize)t&&RegExp(t,"i").test(e)&&(e=t);this.paperSize[e]||(e=this._size="A4"),this._input.size.value=e,e=[Math.trunc(96*this.paperSize[e][0]/25.4),Math.trunc(96*this.paperSize[e][1]/25.4)],"landscape"===this.getOrientation()&&(e=[e[1],e[0]]),this.getPage().classList.remove("margin")}else this._input.size.value="",this.getPage().classList.add("margin");var r=this.getPage(),i=r.parentNode.getBoundingClientRect(),n=Math.min((i.width-40)/e[0],(i.height-40)/e[1],1);r.style.width=e[0]+"px",r.style.height=e[1]+"px",r.style["-webkit-transform"]=r.style.transform="translate(-50%,-50%) scale("+n+")";var s=Math.round(5/n);r.style["-webkit-box-shadow"]=r.style["box-shadow"]=s+"px "+s+"px "+s+"px rgba(0,0,0,.6)",r.style.padding=96*this.getMargin()/25.4+"px",this.getMap()&&this.getMap().updateSize(),this.dispatchEvent({type:"dialog:refresh"})}}getContentElement(){return this._printDialog.getContentElement()}getUserElement(){return this._printDialog.getContentElement().querySelector(".ol-user-param")}getPage(){return this._pages[0]}setMap(e){this.getMap()&&(this.getMap().removeControl(this._compass),this.getMap().removeControl(this._printCtrl),this.getMap().removeControl(this._printDialog)),super.setMap(e),this.getMap()&&(this.getMap().addControl(this._compass),this.getMap().addControl(this._printCtrl),this.getMap().addControl(this._printDialog))}setScale(e){(0,d.setMapScale)(this.getMap(),e),this._input.scale.value=" "+100*Math.round(e/100)}getScale(){return(0,d.getMapScale)(this.getMap())}print(e){(e=e||{}).size&&this.setSize(e.size),e.scale&&this.setScale(e.scale),e.orientation&&this.setOrientation(e.orientation),e.margin&&this.setMargin(e.margin),this._printDialog.show()}getrintControl(){return this._printCtrl}};f.prototype._labels={en:{title:"Print",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",size:"Page size",custom:"screen size",margin:"Margin",scale:"Scale",legend:"Legend",north:"North arrow",mapTitle:"Map title",saveas:"Save as...",saveLegend:"Save legend...",copied:"✔ Copied to clipboard",errorMsg:"Can't save map canvas...",printBt:"Print...",clipboardFormat:"copy to clipboard...",jpegFormat:"save as jpeg",pngFormat:"save as png",pdfFormat:"save as pdf",none:"none",small:"small",large:"large",cancel:"cancel"},fr:{title:"Imprimer",orientation:"Orientation",portrait:"Portrait",landscape:"Paysage",size:"Taille du papier",custom:"taille écran",margin:"Marges",scale:"Echelle",legend:"Légende",north:"Flèche du nord",mapTitle:"Titre de la carte",saveas:"Enregistrer sous...",saveLegend:"Enregistrer la légende...",copied:"✔ Carte copiée",errorMsg:"Impossible d'enregistrer la carte",printBt:"Imprimer",clipboardFormat:"copier dans le presse-papier...",jpegFormat:"enregistrer un jpeg",pngFormat:"enregistrer un png",pdfFormat:"enregistrer un pdf",none:"aucune",small:"petites",large:"larges",cancel:"annuler"},de:{title:"Drucken",orientation:"Ausrichtung",portrait:"Hochformat",landscape:"Querformat",size:"Papierformat",custom:"Bildschirmgröße",margin:"Rand",scale:"Maßstab",legend:"Legende",north:"Nordpfeil",mapTitle:"Kartentitel",saveas:"Speichern als...",saveLegend:"Legende speichern...",copied:"✔ In die Zwischenablage kopiert",errorMsg:"Kann Karte nicht speichern...",printBt:"Drucken...",clipboardFormat:"in die Zwischenablage kopieren...",jpegFormat:"speichern als jpeg",pngFormat:"speichern als png",pdfFormat:"speichern als pdf",none:"kein",small:"klein",large:"groß",cancel:"abbrechen"},zh:{title:"打印",orientation:"方向",portrait:"纵向",landscape:"横向",size:"页面大小",custom:"屏幕大小",margin:"外边距",scale:"尺度",legend:"图例",north:"指北针",mapTitle:"地图名字",saveas:"保存为...",saveLegend:"保存图例为...",copied:"✔ 已复制到剪贴板",errorMsg:"无法保存地图...",printBt:"打印...",cancel:"取消"}},f.prototype.paperSize={"":null,A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],"US Letter":[215.9,279.4],A5:[148,210],B4:[257,364],B5:[182,257]},f.prototype.marginSize={none:0,small:5,large:10},f.prototype.formats=[{title:"clipboardFormat",imageType:"image/png",clipboard:!0},{title:"jpegFormat",imageType:"image/jpeg",quality:.8},{title:"pngFormat",imageType:"image/png",quality:.8},{title:"pdfFormat",imageType:"image/jpeg",pdf:!0}],f.prototype.scales={" 5000":"1/5.000"," 10000":"1/10.000"," 25000":"1/25.000"," 50000":"1/50.000"," 100000":"1/100.000"," 250000":"1/250.000"," 1000000":"1/1.000.000"};var g=f}),a("rnKfx",function(e,r){t(e.exports,"default",()=>a);var i=s("lqNjm"),n=s("6sFdl");s("3HxCM");var a=class extends n.default{constructor(e){e=e||{};var t=document.createElement("div");if(super({element:t,target:e.target}),e.target)t.className=e.className||"ol-legend";else{t.className=(e.className||"ol-legend")+" ol-unselectable ol-control"+(!1===e.collapsible?" ol-uncollapsible":" ol-collapsed");var r=document.createElement("button");r.setAttribute("type","button"),r.addEventListener("click",(function(){this.toggle()}).bind(this)),t.appendChild(r),(r=document.createElement("button")).setAttribute("type","button"),r.className="ol-closebox",r.addEventListener("click",(function(){this.toggle()}).bind(this)),t.appendChild(r)}this._legend=e.legend,this._legend.getCanvas().className="ol-legendImg",t.appendChild(this._legend.getCanvas()),t.appendChild(this._legend.getListElement()),!1!==e.collapsible&&!1===e.collapsed&&this.show(),this._legend.on("select",(function(e){this.dispatchEvent(e)}).bind(this)),this._legend.on("refresh",(function(){if(this._onCanvas&&this.getMap())try{this.getMap().renderSync()}catch(e){}}).bind(this)),this._legend.on("items",(function(t){t.nb?(this.element.classList.remove("ol-empty"),this.element.title=e.title||"legend"):(this.element.classList.add("ol-empty"),this.element.title=e.emptyTitle||"no legend"),this.dispatchEvent(t)}).bind(this))}getLegend(){return this._legend}setCanvas(e){if(this._onCanvas=e,this.element.style.visibility=e?"hidden":"visible",this.getMap())try{this.getMap().renderSync()}catch(e){}}onCanvas(){return!!this._onCanvas}_draw(e){if(this._onCanvas&&!this.element.classList.contains("ol-collapsed")){var t=this._legend.getCanvas(),r=this.getContext(e),n=r.canvas.height-t.height;r.save(),r.rect(0,n,t.width,t.height);var s="#fff";this._legend.getTextStyle().getBackgroundFill()&&(s=(0,i.asString)(this._legend.getTextStyle().getBackgroundFill().getColor())),r.fillStyle=r.strokeStyle=s,r.lineWidth=10,r.lineJoin="round",r.stroke(),r.clearRect(0,n,t.width,t.height),r.fill(),r.drawImage(t,0,n),r.restore()}}show(){if(this.element.classList.contains("ol-collapsed")&&(this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!1}),this.getMap()))try{this.getMap().renderSync()}catch(e){}}hide(){if(!this.element.classList.contains("ol-collapsed")&&(this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:!0}),this.getMap()))try{this.getMap().renderSync()}catch(e){}}collapse(e){!1===e?this.show():this.hide()}isCollapsed(){return this.element.classList.contains("ol-collapsed")}toggle(){if(this.element.classList.toggle("ol-collapsed"),this.dispatchEvent({type:"change:collapse",collapsed:this.element.classList.contains("ol-collapsed")}),this.getMap())try{this.getMap().renderSync()}catch(e){}}}}),a("3HxCM",function(e,r){t(e.exports,"default",()=>E);var i=s("fnScq"),n=s("ejLRd"),a=s("31ZqB"),o=s("lW8xZ"),l=s("jtzGF"),u=s("lqNjm"),h=s("iGyOD"),c=s("j2K3b"),d=s("hvEnP"),p=s("cgPpQ"),f=s("jZquI"),g=s("iQyfo"),m=s("kuKBR"),y=s("2zf1Y"),v=s("bJF7J"),b=s("3xROf"),x=class extends i.default{constructor(e){super(),e=e||{},this._items=new a.default;var t,r=[];this._items.on("add",(function(e){r.push({item:e.element,on:e.element.on("change",(function(){this.refresh()}).bind(this))}),t&&(clearTimeout(t),t=null),t=setTimeout((function(){this.refresh()}).bind(this),0)}).bind(this)),this._items.on("remove",(function(e){for(var i=0;i<r;i++)if(e.element===r[i].item){(0,n.unByKey)(r[i].on),r.splice(i,1);break}t&&(clearTimeout(t),t=null),t=setTimeout((function(){this.refresh()}).bind(this),0)}).bind(this)),this._listElement=(0,g.default).create("UL",{className:"ol-legend"}),this._canvas=document.createElement("canvas"),this.setLayer(e.layer),this.set("maxWidth",e.maxWidth,!0),this.set("size",e.size||[40,25],!0),this.set("margin",0===e.margin?0:e.margin||10,!0),this._textStyle=e.textStyle||new m.default({font:"16px sans-serif",fill:new y.default({color:"#333"}),backgroundFill:new y.default({color:"rgba(255,255,255,.8)"})}),this._title=new v.default({title:e.title||"",className:"ol-title"}),e.titleStyle?this._titleStyle=e.titleStyle:(this._titleStyle=this._textStyle.clone(),this._titleStyle.setFont("bold "+this._titleStyle.getFont())),this.setStyle(e.style),e.items instanceof Array&&e.items.forEach((function(e){this.addItem(e)}).bind(this)),this.refresh()}static getLegendImage(e,t,r){void 0===(e=e||{}).margin&&(e.margin=10);var i,n,s,a,u=e.size||[40,25];e.width&&(u[0]=e.width),e.heigth&&(u[1]=e.heigth),e.onload=e.onload||function(){setTimeout(function(){x.getLegendImage(e,t,r)},100)};var g=u[0]+2*e.margin,m=e.lineHeight||u[1]+2*e.margin,y=e.pixelratio||o.DEVICE_PIXEL_RATIO;t||(r=0,(t=document.createElement("canvas")).width=g*y,t.height=m*y);var v=t.getContext("2d");v.save();var b=(0,l.toContext)(v,{pixelRatio:y}),E=e.typeGeom,_=e.feature;!_&&E&&(_=new h.default(/Point/.test(E)?new c.default([0,0]):/LineString/.test(E)?new d.default([0,0]):new p.default([[0,0]])),e.properties&&_.setProperties(e.properties)),_?("function"==typeof(i=_.getStyle())&&(i=i(_)),i||(i="function"==typeof e.style?e.style(_):e.style||[]),E=_.getGeometry().getType()):i=[],i instanceof Array||(i=[i]);var S=g/2,O=m/2,R=u[0]/2,A=u[1]/2;if("Point"===E){var w=null;for(n=0;s=i[n];n++){var C=s.getImage();if(C){var T=C.getPhoto?C.getPhoto():C.getImage();if(T&&T instanceof HTMLImageElement&&!T.naturalWidth&&("function"==typeof e.onload&&T.addEventListener("load",function(){setTimeout(function(){e.onload()},100)}),C.load()),C.getAnchor){var L=C.getAnchor();if(L){var P=C.getSize(),I=L[0]-P[0],M=L[1]-P[1];w?(0,f.extend)(w,[I,M,I+P[0],M+P[1]]):w=[I,M,I+P[0],M+P[1]]}}}}w&&(S+=(w[2]+w[0])/2,O+=(w[3]+w[1])/2)}for(O+=r||0,n=0;s=i[n];n++){switch(b.setStyle(s),v.save(),E){case c.default:case"Point":case"MultiPoint":a=new c.default([S,O]);break;case d.default:case"LineString":case"MultiLineString":v.rect(e.margin*y,0,u[0]*y,t.height),v.clip(),a=new d.default([[S-R,O],[S+R,O]]);break;case p.default:case"Polygon":case"MultiPolygon":a=new p.default([[[S-R,O-A],[S+R,O-A],[S+R,O+A],[S-R,O+A],[S-R,O-A]]])}s.getGeometryFunction()&&(a=s.getGeometryFunction()(new h.default(a))),b.drawGeometry(a),v.restore()}return v.restore(),t}setTitle(e){this._title.setTitle(e),this.refresh()}getTitle(){return this._title.get("title")}setLayer(e){this._layerListener&&(0,n.unByKey)(this._layerListener),this._layer=e,e?this._layerListener=e.on("change:visible",(function(){this.refresh()}).bind(this)):this._layerListener=null}getTextStyle(){return this._textStyle}set(e,t,r){super.set(e,t,r),r||this.refresh()}getListElement(){return this._listElement}getCanvas(){return this._canvas}setStyle(e){this._style=e,this.refresh()}addItem(e){e instanceof x?(this._items.push(e),e.on("refresh",(function(){this.refresh(!0)}).bind(this))):e instanceof v.default||e instanceof b.default?this._items.push(e):this._items.push(new v.default(e))}removeItem(e){this._items.remove(e)}removeItemAt(e){this._items.removeAt(e)}getItems(){return this._items}_drawText(e,t,r,i){e.save(),e.scale(o.DEVICE_PIXEL_RATIO,o.DEVICE_PIXEL_RATIO);var n=(t=t||"").split("\n");1===n.length?e.fillText(t,r,i):(e.textBaseline="bottom",e.fillText(n[0],r,i),e.textBaseline="top",e.fillText(n[1],r,i)),e.restore()}_measureText(e,t){var r=(t||"").split("\n");if(1===r.length)return e.measureText(t);var i=e.measureText(r[0]),n=e.measureText(r[1]);return{width:Math.max(i.width,n.width),height:i.height+n.height}}refresh(e){var t=this._listElement;if(t){t.innerHTML="";var r=this.get("margin"),i=this.get("size")[0]+2*r,n=this.get("lineHeight")||this.get("size")[1]+2*r,s=this.getCanvas(),a=s.getContext("2d");a.textAlign="left",a.textBaseline="middle";var l=o.DEVICE_PIXEL_RATIO,h=Math.min(this.getWidth(),this.get("maxWidth")||1/0),c=this.getHeight();s.width=h*l,s.height=c*l,s.style.height=c+"px",a.textBaseline="middle",a.fillStyle=(0,u.asString)(this._textStyle.getFill().getColor()),this.getTitle()&&(t.appendChild(this._title.getElement([i,n],(function(e){this.dispatchEvent({type:"select",index:-1,symbol:e,item:this._title})}).bind(this))),a.font=this._titleStyle.getFont(),a.textAlign="center",this._drawText(a,this.getTitle(),s.width/l/2,n/2));var d=0;this.getTitle()&&(d=n);var p=0;this._items.forEach((function(e,o){if(e instanceof x){if((!e._layer||e._layer.getVisible())&&e.getCanvas().height){a.drawImage(e.getCanvas(),0,d*l);for(var u=e._listElement.querySelectorAll("li"),h=0;h<u.length;h++){var c=u[h].cloneNode();c.innerHTML=u[h].innerHTML,t.appendChild(c),p++}d+=e.getHeight()}}else{if(e instanceof b.default){e.get("title")&&(t.appendChild(this._title.getElement([i,n],(function(e){this.dispatchEvent({type:"select",index:-1,symbol:e,item:this._title})}).bind(this))),a.font=e.get("textStyle")?e.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(e.get("className"))?(a.textAlign="center",this._drawText(a,e.get("title"),s.width/l/2,d+n/2)):this._drawText(a,e.get("title"),r,d+n/2),d+=n);var f=e.getImage();try{a.drawImage(f,0,0,f.naturalWidth,f.naturalHeight,0,d*l,e.getWidth()*l,e.getHeight()*l)}catch(e){}d+=e.getHeight()}else{var g=e.getProperties(),m=g.height||n;a.textAlign="left",g.feature||g.typeGeom?(s=this.getLegendImage(g,s,d),a.font=e.get("textStyle")?e.get("textStyle").getFont():this._textStyle.getFont(),this._drawText(a,e.get("title"),i+r,d+m/2)):(a.font=e.get("textStyle")?e.get("textStyle").getFont():this._titleStyle.getFont(),/\bcenter\b/.test(g.className)?(a.textAlign="center",this._drawText(a,e.get("title"),s.width/l/2,d+m/2)):this._drawText(a,e.get("title"),r,d+m/2)),d+=m}t.appendChild(e.getElement([i,n],(function(t){this.dispatchEvent({type:"select",index:o,symbol:t,item:e})}).bind(this))),p++}}).bind(this)),this.set("items",p,!0),this.dispatchEvent({type:"items",nb:p}),e||this.dispatchEvent({type:"refresh",width:i,height:(this._items.length+1)*n})}}getHeight(){var e=this.get("margin"),t=this.get("lineHeight")||this.get("size")[1]+2*e,r=this.getTitle()?t:0;return this._items.forEach(function(i){i instanceof x?(!i._layer||i._layer.getVisible())&&(r+=i.getHeight()):i instanceof b.default?(i.get("title")&&(r+=t),r+=i.getHeight()):i.get("height")?r+=i.get("height")+2*e:r+=t}),r}getWidth(){var e=this.getCanvas().getContext("2d"),t=this.get("margin"),r=this.get("size")[0]+2*t;e.font=this._titleStyle.getFont();var i=this._measureText(e,this.getTitle("title")).width;return this._items.forEach((function(t){t instanceof x?(!t._layer||t._layer.getVisible())&&(i=Math.max(i,t.getWidth())):t instanceof b.default?(i=Math.max(i,t.getWidth()),t.get("title")&&(e.font=t.get("textStyle")?t.get("textStyle").getFont():this._titleStyle.getFont(),i=Math.max(i,this._measureText(e,t.get("title")).width))):t.get("feature")||t.get("typeGeom")?(e.font=t.get("textStyle")?t.get("textStyle").getFont():this._textStyle.getFont(),i=Math.max(i,this._measureText(e,t.get("title")).width+r)):(e.font=t.get("textStyle")?t.get("textStyle").getFont():this._titleStyle.getFont(),i=Math.max(i,this._measureText(e,t.get("title")).width))}).bind(this)),i+2*t}getLegendImage(e,t,r){e=e||{};var i=this.get("size");return x.getLegendImage({className:e.className,feature:e.feature,typeGeom:e.typeGeom,style:e.style||this._style,properties:e.properties,margin:e.margin||this.get("margin"),size:[e.width||i[0],e.height||i[1]],lineHeight:e.lineHeight||this.get("lineHeight"),onload:(function(){this.refresh()}).bind(this)},t,r)}},E=x}),a("jtzGF",function(e,r){t(e.exports,"toContext",()=>o);var i=s("htGzg"),n=s("lW8xZ"),a=s("14PDX");function o(e,t){let r=e.canvas,s=(t=t||{}).pixelRatio||n.DEVICE_PIXEL_RATIO,o=t.size;o&&(r.width=o[0]*s,r.height=o[1]*s,r.style.width=o[0]+"px",r.style.height=o[1]+"px");let l=[0,0,r.width,r.height],u=(0,a.scale)((0,a.create)(),s,s);return new i.default(e,s,l,u,0)}s("713Fw"),s("gzr8q")}),a("bJF7J",function(e,r){t(e.exports,"default",()=>a);var i=s("fnScq"),n=s("iQyfo"),a=class extends i.default{constructor(e){super(e=e||{}),e.feature&&this.set("feature",e.feature.clone()),this.setWidth(e.width),this.setHeight(e.height)}setTitle(e){this.set("title",e||""),this.changed()}setWidth(e){this.set("width",e||null),this.changed()}setHeight(e){this.set("heigth",e||null),this.changed()}getElement(e,t){this.get("width")&&(e[0]=this.get("width")),this.get("height")&&(e[1]=this.get("height"));var r=(0,n.default).create("LI",{className:this.get("className"),click:function(e){t(!1),e.stopPropagation()},style:{height:e[1]+"px"},"aria-label":this.get("title")});return(0,n.default).create("DIV",{click:function(e){t(!0),e.stopPropagation()},style:{width:e[0]+"px",height:e[1]+"px"},parent:r}),r}}}),a("3xROf",function(e,r){t(e.exports,"default",()=>a);var i=s("fnScq"),n=s("iQyfo"),a=class extends i.default{constructor(e){super(e=e||{}),this.set("width",e.width),this._img=e.img||new Image,this._img.onload=(function(){this.changed()}).bind(this),e.img||(this._img.src=e.src)}setTitle(e){this.set("title",e||""),this.changed()}setWidth(e){this.set("width",e||null),this.changed()}getWidth(){return this._img.naturalWidth?this.get("width")||this._img.naturalWidth:0}getHeight(){return this._img.naturalWidth?this.get("width")?this.get("width")*this._img.naturalHeight/this._img.naturalWidth:this._img.naturalHeight||0:0}getImage(){return this._img}getElement(e,t){this.get("width")&&(e[0]=this.get("width")),this.get("height")&&(e[1]=this.get("height"));var r=(0,n.default).create("LI",{className:this.get("className"),click:function(e){t(!1),e.stopPropagation()},style:{height:this.getHeight()+"px"},"aria-label":this.get("title")});return(0,n.default).create("DIV",{click:function(e){t(!0),e.stopPropagation()},style:{width:this.getWidth()+"px",height:this.getHeight()+"px"},parent:r}),r}}}),a("hQ5BY",function(e,r){t(e.exports,"default",()=>a);var i=s("4DafG"),n=s("iQyfo"),a=class extends i.default{constructor(e){e=e||{};var t=(0,n.default).create("DIV",{className:e.className||"ol-print"});super({element:t,target:e.target}),e.target||(t.classList.add("ol-unselectable","ol-control"),(0,n.default).create("BUTTON",{type:"button",title:e.title||"Print",click:(function(){this.print()}).bind(this),parent:t})),this.set("immediate",e.immediate),this.set("imageType",e.imageType||"image/jpeg"),this.set("quality",e.quality||.8),this.set("orientation",e.orientation)}toClipboard(e,t){try{e.canvas.toBlob(function(e){try{navigator.clipboard.write([new window.ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]),"function"==typeof t&&t(!0)}catch(e){"function"==typeof t&&t(!1)}})}catch(e){"function"==typeof t&&t(!1)}}copyMap(e,t){this.once("print",(function(e){this.toClipboard(e,t)}).bind(this)),this.print(e)}_getCanvas(e,t,r){var i;if(e.context)r=e.context.canvas;else{if(r)i=r.getContext("2d");else{r=document.createElement("canvas");var s=this.getMap().getSize();r.width=s[0],r.height=s[1],i=r.getContext("2d"),/jp.*g$/.test(t)&&(i.fillStyle=this.get("bgColor")||"white",i.fillRect(0,0,r.width,r.height))}this.getMap().getViewport().querySelectorAll(".ol-layers canvas, canvas.ol-fixedoverlay").forEach((function(e){if(e.width&&(i.save(),"0"!==e.parentNode.style.opacity)){i.globalAlpha=parseFloat(e.parentNode.style.opacity)||1,i.globalCompositeOperation=(0,n.default).getStyle(e.parentNode,"mix-blend-mode"),i.filter=(0,n.default).getStyle(e.parentNode,"filter");var t=(0,n.default).getStyle(e,"transform")||(0,n.default).getStyle(e,"-webkit-transform");/^matrix/.test(t)?((t=t.replace(/^matrix\(|\)$/g,"").split(",")).forEach(function(e,r){t[r]=parseFloat(e)}),i.transform(t[0],t[1],t[2],t[3],t[4],t[5]),i.drawImage(e,0,0)):i.drawImage(e,0,0,(0,n.default).getStyle(e,"width"),(0,n.default).getStyle(e,"height")),i.restore()}}).bind(this))}return r}fastPrint(e,t){e=e||{},this._ol6?requestAnimationFrame((function(){t(this._getCanvas({},e.imageType,e.canvas))}).bind(this)):(this.getMap().once("postcompose",(function(r){r.context||(this._ol6=!0),t(this._getCanvas(r,e.imageType,e.canvas))}).bind(this)),this.getMap().render())}print(e){var t=(e=e||{}).imageType||this.get("imageType"),r=e.quality||this.get("quality");if(this.getMap()){if("silent"!==e.immediate&&this.dispatchEvent(Object.assign({type:"printing"},e)),!e.immediate){setTimeout((function(){(e=Object.assign({},e)).immediate="silent",this.print(e)}).bind(this),200);return}this.getMap().once(this.get("immediate")?"postcompose":"rendercomplete",(function(i){var n,s,a,o,l=this._getCanvas(i,t),u=e.size||[210,297],h=e.format||"a4",c=e.orient||this.get("orientation"),d="number"==typeof e.margin?e.margin:10;if(l){"landscape"!==c&&"portrait"!==c&&(c=l.width>l.height?"landscape":"portrait"),"landscape"===c&&(u=[u[1],u[0]]);var p=Math.min((u[0]-2*d)/l.width,(u[1]-2*d)/l.height);n=p*l.width,s=p*l.height,a=[(u[0]-n)/2,(u[1]-s)/2]}try{o=l?l.toDataURL(t,r):null}catch(e){this.dispatchEvent({type:"error",canvas:l});return}var f=Object.assign({type:"print",print:{format:h,orientation:c,unit:"mm",size:u,position:a,imageWidth:n,imageHeight:s},image:o,imageType:t,quality:r,canvas:l},e);this.dispatchEvent(f)}).bind(this)),this.getMap().render()}}}}),a("e9bRc",function(e,r){t(e.exports,"default",()=>o);var i=s("lqNjm"),n=s("6sFdl"),a=s("iQyfo"),o=class extends n.default{constructor(e){e=e||{},super({element:(0,a.default).create("DIV",{className:(e.className||"")+" ol-control-title ol-unselectable",style:{display:"block",visibility:"hidden"}}),style:e.style}),this.setTitle(e.title||""),this.setVisible(!1!==e.visible),this.element.style.font=this.getTextFont()}setStyle(e){super.setStyle(e),this.element&&(this.element.style.font=this.getTextFont()),this.getMap()&&this.getMap().render()}setTitle(e){if(this.element.textContent=e,this.set("title",e),this.getMap())try{this.getMap().renderSync()}catch(e){}}getTitle(){return this.get("title")}setVisible(e){if(this.element.style.display=e?"block":"none",this.getMap())try{this.getMap().renderSync()}catch(e){}}getVisible(){return"none"!==this.element.style.display}_draw(e){if(this.getVisible()){var t=this.getContext(e);if(t){var r=e.frameState.pixelRatio;t.save(),t.scale(r,r);var n=this.element.getBoundingClientRect(),s=this.getMap().getViewport().getBoundingClientRect(),a=this.getMap().getSize()[0]/s.width;t.translate(Math.round((n.left-s.left)*a),Math.round((n.top-s.top)*a));var o=this.element.clientHeight,l=this.element.clientWidth,u=l/2;t.beginPath(),t.fillStyle=(0,i.asString)(this.getFill().getColor()),t.rect(0,0,l,o),t.fill(),t.closePath(),t.beginPath(),t.fillStyle=(0,i.asString)(this.getTextFill().getColor()),t.strokeStyle=(0,i.asString)(this.getTextStroke().getColor()),t.lineWidth=this.getTextStroke().getWidth(),t.textAlign="center",t.textBaseline="middle",t.font=this.getTextFont(),t.lineJoin="round",t.lineWidth&&t.strokeText(this.getTitle(),u,o/2),t.fillText(this.getTitle(),u,o/2),t.closePath(),t.restore()}}}}}),a("bbejh",function(e,r){t(e.exports,"getMapScale",()=>a),t(e.exports,"setMapScale",()=>o);var i=s("7qu5m"),n=s("gzr8q"),a=function(e,t){var r=e.getView(),s=r.getProjection(),a=r.getCenter(),o=e.getPixelFromCoordinate(a);o[1]+=1;var l=e.getCoordinateFromPixel(o);return(t||96)/.0254*(0,i.getDistance)((0,n.transform)(a,s,"EPSG:4326"),(0,n.transform)(l,s,"EPSG:4326"))},o=function(e,t,r){if(e&&t){var s=t;if("string"==typeof t&&((s=(t=t.replace(":","/").split("/"))[1])||(s=t[0]||""),s=parseInt(s=s.replace(/[^\d]/g,"")),t[1])){var a=parseInt(t[0]);a&&(s/=a)}if(s){var o=e.getView(),l=o.getProjection(),u=o.getCenter(),h=e.getPixelFromCoordinate(u);h[1]+=1;var c=e.getCoordinateFromPixel(h),d=(0,i.getDistance)((0,n.transform)(u,l,"EPSG:4326"),(0,n.transform)(c,l,"EPSG:4326"));return d*=(r||96)/.0254,o.setResolution(o.getResolution()*s/d),s}}}}),a("6RZDJ",function(e,r){t(e.exports,"default",()=>l);var i=s("6sFdl"),n=s("l9IGS"),a=s("d5AAH"),o=s("iQyfo"),l=class extends i.default{constructor(e){e=e||{};var t=document.createElement("div");t.className="ol-control ol-compassctrl ol-unselectable ol-hidden"+(e.className?" "+e.className:""),t.style.position="absolute",t.style.visibility="hidden";var r=e.style instanceof a.default?new n.default({stroke:e.style}):e.style;e.style||(r=new n.default({stroke:new a.default({width:0})})),super({element:t,style:r}),this.set("rotateVithView",!1!==e.rotateWithView),this.setVisible(!1!==e.visible),this.setImage(e.image||e.src)}setImage(e){if(e instanceof Image)this.img_=e,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch(e){}}).bind(this);else if("string"==typeof e)switch(e){case"compact":this.img_=this.compactCompass_(this.element.clientWidth,this.getStroke().getColor());break;case"default":this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor());break;default:this.img_=new Image,this.img_.onload=(function(){if(this.getMap())try{this.getMap().renderSync()}catch(e){}}).bind(this),this.img_.src=e}else this.img_=this.defaultCompass_(this.element.clientWidth,this.getStroke().getColor())}compactCompass_(e,t){var r=document.createElement("canvas"),i=r.getContext("2d"),n=(e=r.width=r.height=e||150)/2;return i.translate(n,n),i.fillStyle=t||"#963",i.lineWidth=5,i.lineJoin=i.lineCap="round",i.font="bold "+.4*n+"px sans-serif",i.textBaseline="bottom",i.textAlign="center",i.strokeStyle="#fff",i.globalAlpha=.75,i.strokeText("N",0,-n/2),i.globalAlpha=1,i.fillText("N",0,-n/2),i.beginPath(),i.moveTo(0,n/4),i.lineTo(n/3,n/2),i.lineTo(0,-n/2),i.lineTo(-n/3,n/2),i.lineTo(0,n/4),i.lineWidth=12,i.fillStyle="#fff",i.globalAlpha=.75,i.fill(),i.stroke(),i.globalAlpha=1,i.fillStyle=i.strokeStyle=t||"#963",i.lineWidth=5,i.beginPath(),i.moveTo(0,n/4),i.lineTo(0,-n/2),i.lineTo(n/3,n/2),i.lineTo(0,n/4),i.fill(),i.stroke(),i.beginPath(),i.moveTo(0,n/4),i.lineTo(0,-n/2),i.lineTo(-n/3,n/2),i.lineTo(0,n/4),i.stroke(),r}defaultCompass_(e,t){var r=document.createElement("canvas"),i=r.getContext("2d"),n=(e=r.width=r.height=e||150)/2,s=.22*n;function a(e,r){i.fillStyle=t||"#963",i.beginPath(),i.moveTo(0,0),i.lineTo(e,0),i.lineTo(r,r),i.moveTo(0,0),i.lineTo(-e,0),i.lineTo(-r,-r),i.moveTo(0,0),i.lineTo(0,e),i.lineTo(-r,r),i.moveTo(0,0),i.lineTo(0,-e),i.lineTo(r,-r),i.moveTo(0,0),i.fill(),i.stroke()}function o(e,t){i.globalCompositeOperation="destination-out",i.fillStyle="#fff",i.beginPath(),i.moveTo(0,0),i.lineTo(e,0),i.lineTo(t,-t),i.moveTo(0,0),i.lineTo(-e,0),i.lineTo(-t,t),i.moveTo(0,0),i.lineTo(0,e),i.lineTo(t,t),i.moveTo(0,0),i.lineTo(0,-e),i.lineTo(-t,-t),i.moveTo(0,0),i.fill(),i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(0,0),i.lineTo(e,0),i.lineTo(t,-t),i.moveTo(0,0),i.lineTo(-e,0),i.lineTo(-t,t),i.moveTo(0,0),i.lineTo(0,e),i.lineTo(t,t),i.moveTo(0,0),i.lineTo(0,-e),i.lineTo(-t,-t),i.moveTo(0,0),i.stroke()}return i.translate(n,n),i.strokeStyle=t||"#963",i.lineWidth=1.5,i.beginPath(),i.arc(0,0,.41*e,0,2*Math.PI),i.arc(0,0,.44*e,0,2*Math.PI),i.stroke(),i.rotate(Math.PI/4),a(.9*n,.8*s),o(.9*n,.8*s),i.rotate(-Math.PI/4),a(n,s),o(n,s),r}getVisible(){return"block"===(0,o.default).getStyle(this.element,"display")}setVisible(e){e?this.element.classList.add("ol-visible"):this.element.classList.remove("ol-visible"),this.getMap()&&this.getMap().render()}_draw(e){var t=this.getContext(e);if(t&&this.getVisible()){var r,i=t.canvas,n=[];for(r=0;r<8;r++)n[r]=[Math.cos(Math.PI*r/8),Math.sin(Math.PI*r/8)];var s=e.frameState.pixelRatio;t.save(),t.scale(s,s);var a=this.element.clientWidth,o=this.element.clientHeight,l={left:this.element.offsetLeft,top:this.element.offsetTop},u=this.img_,h=e.frameState.viewState.rotation;if(t.beginPath(),t.translate(l.left+a/2,l.top+o/2),this.get("rotateVithView")&&t.rotate(h),this.getStroke().getWidth()){t.beginPath(),t.strokeStyle=this.getStroke().getColor(),t.lineWidth=this.getStroke().getWidth();var c=Math.max(i.width,i.height);for(r=0;r<8;r++)t.moveTo(-n[r][0]*c,-n[r][1]*c),t.lineTo(n[r][0]*c,n[r][1]*c);t.stroke()}u.width&&t.drawImage(u,-a/2,-o/2,a,o),t.closePath(),t.restore()}}}}),a("loIjs",function(e,r){t(e.exports,"default",()=>d);var i=s("4DafG"),n=s("kShgF"),a=s("gzr8q"),o=s("bsgMw"),l=s("d1ltq");let u="projection",h="coordinateFormat";class c extends i.default{constructor(e){e=e||{};let t=document.createElement("div");t.className=void 0!==e.className?e.className:"ol-mouse-position",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un,this.addChangeListener(u,this.handleProjectionChanged_),e.coordinateFormat&&this.setCoordinateFormat(e.coordinateFormat),e.projection&&this.setProjection(e.projection),this.renderOnMouseOut_=void 0!==e.placeholder,this.placeholder_=this.renderOnMouseOut_?e.placeholder:"&#160;",this.renderedHTML_=t.innerHTML,this.mapProjection_=null,this.transform_=null,this.wrapX_=!1!==e.wrapX}handleProjectionChanged_(){this.transform_=null}getCoordinateFormat(){return this.get(h)}getProjection(){return this.get(u)}handleMouseMove(e){let t=this.getMap();this.updateHTML_(t.getEventPixel(e))}handleMouseOut(e){this.updateHTML_(null)}setMap(e){if(super.setMap(e),e){let t=e.getViewport();this.listenerKeys.push((0,o.listen)(t,n.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,o.listen)(t,n.default.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}}setCoordinateFormat(e){this.set(h,e)}setProjection(e){this.set(u,(0,a.get)(e))}updateHTML_(e){let t=this.placeholder_;if(e&&this.mapProjection_){if(!this.transform_){let e=this.getProjection();e?this.transform_=(0,a.getTransformFromProjections)(this.mapProjection_,e):this.transform_=a.identityTransform}let r=this.getMap().getCoordinateFromPixelInternal(e);if(r){let e=(0,a.getUserProjection)();if(e&&(this.transform_=(0,a.getTransformFromProjections)(this.mapProjection_,e)),this.transform_(r,r),this.wrapX_){let t=e||this.getProjection()||this.mapProjection_;(0,l.wrapX)(r,t)}let i=this.getCoordinateFormat();t=i?i(r):r.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)}render(e){let t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}}var d=c}),a("dbRSi",function(e,r){t(e.exports,"default",()=>a);var i=s("8rtB0"),n=s("gmF1Q"),a=class extends i.default{constructor(e){(e=e||{}).followTrack=e.followTrack||"auto",e.zoom=e.zoom||16;var t,r=new n.default(e);super({className:e.className=((e.className||"")+" ol-geobt").trim(),interaction:r,title:e.title||"Geolocation",onToggle:function(){r.pause(!0),r.setFollowTrack(e.followTrack||"auto")}}),this.setActive(!1),r.on("tracking",(function(e){this.dispatchEvent({type:"position",coordinate:e.geolocation.getPosition()})}).bind(this)),r.on("change:active",(function(){this.dispatchEvent({type:"position"}),t&&(clearTimeout(t),t=null),r.getActive()&&(t=setTimeout((function(){r.setActive(!1),t=null}).bind(this),e.delay||3e3))}).bind(this))}}}),a("8rtB0",function(e,r){t(e.exports,"default",()=>n);var i=s("QtBcx"),n=class extends i.default{constructor(e){(e=e||{}).toggleFn&&(e.onToggle=e.toggleFn),e.handleClick=function(){t.toggle(),e.onToggle&&e.onToggle.call(t,t.getActive())},e.className=(e.className||"")+" ol-toggle",super(e);var t=this;this.interaction_=e.interaction,this.interaction_&&(this.interaction_.setActive(e.active),this.interaction_.on("change:active",function(){t.setActive(t.interaction_.getActive())})),this.set("title",e.title),this.set("autoActivate",e.autoActivate),e.bar&&this.setSubBar(e.bar),this.setActive(e.active),this.setDisable(e.disable)}setMap(e){!e&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),super.setMap(e),e&&(this.interaction_&&e.addInteraction(this.interaction_),this.subbar_&&e.addControl(this.subbar_))}getSubBar(){return this.subbar_}setSubBar(e){var t=this.getMap();t&&this.subbar_&&t.removeControl(this.subbar_),this.subbar_=e,e&&(this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar"),t&&t.addControl(this.subbar_))}getDisable(){var e=this.element.querySelector("button");return e&&e.disabled}setDisable(e){this.getDisable()!=e&&(this.element.querySelector("button").disabled=e,e&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!e,disable:e}))}getActive(){return this.element.classList.contains("ol-active")}toggle(){this.getActive()?this.setActive(!1):this.setActive(!0)}setActive(e){this.interaction_&&this.interaction_.setActive(e),this.subbar_&&this.subbar_.setActive(e),this.getActive()!==e&&(e?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!e,active:e}))}setInteraction(e){this.interaction_=e}getInteraction(){return this.interaction_}}}),a("QtBcx",function(e,r){t(e.exports,"default",()=>a);var i=s("4DafG"),n=s("iQyfo"),a=class extends i.default{constructor(e){e=e||{};var t=document.createElement("div");t.className=(e.className||"")+" ol-button ol-unselectable ol-control",super({element:t,target:e.target});var r=this,i=this.button_=document.createElement(/ol-text-button/.test(e.className)?"div":"button");i.type="button",e.title&&(i.title=e.title),e.name&&(i.name=e.name),e.html instanceof Element?i.appendChild(e.html):i.innerHTML=e.html||"",i.addEventListener("click",function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),e.handleClick&&e.handleClick.call(r,t)}),t.appendChild(i),!e.title&&i.firstElementChild&&(i.title=i.firstElementChild.title),e.title&&this.set("title",e.title),e.title&&this.set("title",e.title),e.name&&this.set("name",e.name)}setVisible(e){e?(0,n.default).show(this.element):(0,n.default).hide(this.element)}setTitle(e){this.button_.setAttribute("title",e)}setHtml(e){(0,n.default).setHTML(this.button_,e)}getButtonElement(){return this.button_}}}),a("gmF1Q",function(e,r){t(e.exports,"default",()=>E);var i=s("7lBr2"),n=s("hQfiM"),a=s("4lFOe"),o=s("d5AAH"),l=s("j2K3b"),u=s("hvEnP"),h=s("cgPpQ"),c=s("iTxNH"),d=s("l9IGS"),p=s("h6Aha"),f=s("2zf1Y"),g=s("610XN"),m=s("20LS2"),y=s("iGyOD"),v=s("jZquI"),b=s("gzr8q"),x=s("7qu5m"),E=class extends i.default{constructor(e){e=e||{},super({handleEvent:function(){return!this.get("followTrack")||"auto"==this.get("followTrack")}}),this.geolocation=new n.default({projection:"EPSG:4326",trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),this.geolocation.on("change",this.draw_.bind(this)),this.path_=[],this.lastPosition_=!1;var t=[255,255,255,1],r=[0,153,255,1],i=new a.default({radius:6,fill:new f.default({color:r}),stroke:new o.default({color:t,width:1.5})}),s=[new d.default({stroke:new o.default({color:t,width:5})}),new d.default({stroke:new o.default({color:r,width:3}),fill:new f.default({color:[255,255,255,.5]})})],l=new p.default({radius:10.5,points:3,rotation:0,fill:new f.default({color:r}),stroke:new o.default({color:t,width:1.5})}),u=l.getImage(),h=u.getContext("2d"),c=document.createElement("canvas");c.width=c.height=u.width,c.getContext("2d").drawImage(u,0,0),h.clearRect(0,0,u.width,u.height),h.drawImage(c,0,0,u.width,u.height,3,0,u.width-6,u.height),this.locStyle={error:new d.default({fill:new f.default({color:[255,0,0,.2]})}),warn:new d.default({fill:new f.default({color:[255,192,0,.2]})}),ok:new d.default({fill:new f.default({color:[0,255,0,.2]})})},this.overlayLayer_=new g.default({source:new m.default,name:"GeolocationDraw overlay",style:e.style||function(e){return void 0===e.get("heading")?s[1].setImage(i):(s[1].setImage(l),l.setRotation(e.get("heading")||0)),s}}),this.sketch_=[new y.default,new y.default,new y.default],this.overlayLayer_.getSource().addFeatures(this.sketch_),this.features_=e.features,this.source_=e.source,this.condition_=e.condition||function(e){return e.getAccuracy()<this.get("minAccuracy")},this.set("type",e.type||"LineString"),this.set("attributes",e.attributes||{}),this.set("minAccuracy",e.minAccuracy||20),this.set("tolerance",e.tolerance||5),this.set("zoom",e.zoom),this.set("minZoom",e.minZoom),this.setFollowTrack(void 0===e.followTrack||e.followTrack),this.setActive(!1)}simplify3D(e,t){var r=e.getCoordinates(),i=this.getMap().getView().getProjection();"Polygon"===this.get("type")&&(r=r[0]);for(var n,s=[r[0]],a=(0,b.transform)(r[0],i,"EPSG:4326"),o=1;o<r.length;o++)n=(0,b.transform)(r[o],i,"EPSG:4326"),(0,x.getDistance)(a,n)>t&&(s.push(r[o]),a=n);return s[s.length-1]!==r[r.length-1]&&s.push(r[r.length-1]),e="Polygon"===this.get("type")?new h.default([s],"XYZM"):new u.default(s,"XYZM")}setMap(e){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),super.setMap(e),this.overlayLayer_.setMap(e),e&&this.geolocation.setProjection(e.getView().getProjection())}setActive(e){if(e!==this.getActive()){if(super.setActive(e),this.getMap()){this.geolocation.setTracking(e);try{this.getMap().renderSync()}catch(e){}}if(this.overlayLayer_){if(this.overlayLayer_.setVisible(e),this.pause(!e),e)this.reset(),this.dispatchEvent({type:"drawstart",feature:this.sketch_[1]});else{var t=this.sketch_[1].clone();t.getGeometry()&&(this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)),this.dispatchEvent({type:"drawend",feature:t})}}}}simulate(e,t){if(this._track&&clearTimeout(this._track.timeout),!e){this._track=!1;return}var r=(t=t||{}).delay||1e3;this._track={track:e,pos:0,timeout:setTimeout((function e(){if(this._track.pos>=this._track.track.length){this._track=!1;return}var i=this._track.track[this._track.pos];i[2]=i[3]||0,i[3]=new Date().getTime(),this._track.pos++,!1!==t.repeat&&(this._track.pos=this._track.pos%this._track.track.length),this.getActive()&&this.draw_(!0,i,t.accuracy),this._track.timeout=setTimeout(e.bind(this),r)}).bind(this),0)}}simulating(){return!!this._track}reset(){this.sketch_[1].setGeometry(),this.path_=[],this.lastPosition_=!1}start(){this.setActive(!0)}stop(){this.setActive(!1)}pause(e){this.pause_=!1!==e}isPaused(){return this.pause_}setFollowTrack(e){this.set("followTrack",e);var t,r=this.getMap();if(this.getActive()&&r){if("position"!==e&&(t=this.get("minZoom")?Math.max(this.get("minZoom"),r.getView().getZoom()):this.get("zoom")),!1===e||this.lastPosition_)"auto"===e&&this.lastPosition_&&r.getView().animate({center:this.lastPosition_,zoom:t});else{var i=this.path_[this.path_.length-1];i&&r.getView().animate({center:i,zoom:t})}}this.lastPosition_=!1,this.dispatchEvent({type:"follow",following:!1!==e})}draw_(e,t,r){var i,n,s,a,o,d,p=this.getMap();if(p){if(this._track){if(!0!==e)return;if(n=t,i=r||10,this.path_&&this.path_.length){var f=this.path_[this.path_.length-1];o=Math.atan2(t[0]-f[0],t[1]-f[1])}var g=new c.default(n,p.getView().getResolution()*i);s=(0,h.fromCircle)(g)}else i=(a=this.geolocation).getAccuracy(),n=this.getPosition(a),s=a.getAccuracyGeometry(),o=a.getHeading();switch(this.get("followTrack")){case!0:!0!=this.get("followTrack")||(this.get("minZoom")?this.get("minZoom")>p.getView().getZoom()&&p.getView().setZoom(this.get("minZoom")):p.getView().setZoom(this.get("zoom")||16),(0,v.containsExtent)(p.getView().calculateExtent(p.getSize()),s.getExtent())||p.getView().fit(s.getExtent())),p.getView().setCenter(n);break;case"position":p.getView().setCenter(n);break;case"auto":if(this.lastPosition_){var m=p.getView().getCenter();m[0]!=this.lastPosition_[0]||m[1]!=this.lastPosition_[1]?this.setFollowTrack(!1):(p.getView().setCenter(n),this.lastPosition_=n)}else p.getView().setCenter(n),this.get("minZoom")?this.get("minZoom")>p.getView().getZoom()&&p.getView().setZoom(this.get("minZoom")):this.get("zoom")&&p.getView().setZoom(this.get("zoom")),this.lastPosition_=n;break;case"visible":(0,v.containsCoordinate)(p.getView().calculateExtent(p.getSize()),n)||p.getView().setCenter(n)}var y=this.sketch_[0];if(y.setGeometry(s),i<this.get("minAccuracy")/2?y.setStyle(this.locStyle.ok):i<this.get("minAccuracy")?y.setStyle(this.locStyle.warn):y.setStyle(this.locStyle.error),this.pause_&&(this.lastPosition_=n),!this.pause_&&(!a||this.condition_.call(this,a))){switch(y=this.sketch_[1],this.path_.push(n),this.get("type")){case"Point":this.path_=[n],y.setGeometry(new l.default(n,"XYZM"));var b=this.get("attributes");b.heading&&y.set("heading",a.getHeading()),b.accuracy&&y.set("accuracy",a.getAccuracy()),b.altitudeAccuracy&&y.set("altitudeAccuracy",a.getAltitudeAccuracy()),b.speed&&y.set("speed",a.getSpeed());break;case"LineString":this.path_.length>1?(d=new u.default(this.path_,"XYZM"),this.get("tolerance")&&(d=this.simplify3D(d,this.get("tolerance"))),y.setGeometry(d)):y.setGeometry();break;case"Polygon":this.path_.length>2?(d=new h.default([this.path_],"XYZM"),this.get("tolerance")&&(d=this.simplify3D(d,this.get("tolerance"))),y.setGeometry(d)):y.setGeometry()}this.dispatchEvent({type:"drawing",feature:this.sketch_[1],geolocation:a})}this.sketch_[2].setGeometry(new l.default(n)),this.sketch_[2].set("heading",o),this.dispatchEvent({type:"tracking",feature:this.sketch_[1],geolocation:a})}}getPosition(e){var t=e.getPosition();return t.push(Math.round(100*(e.getAltitude()||0))/100),t.push(Math.round(new Date().getTime()/1e3)),t}}}),a("hQfiM",function(e,r){t(e.exports,"default",()=>d);var i=s("iTTi2"),n=s("fnScq"),a=s("cgPpQ"),o=s("gzr8q"),l=s("a6roo");let u={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};class h extends i.default{constructor(e){super("error"),this.code=e.code,this.message=e.message}}class c extends n.default{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.position_=null,this.transform_=o.identityTransform,this.watchId_=void 0,this.addChangeListener(u.PROJECTION,this.handleProjectionChanged_),this.addChangeListener(u.TRACKING,this.handleTrackingChanged_),void 0!==e.projection&&this.setProjection(e.projection),void 0!==e.trackingOptions&&this.setTrackingOptions(e.trackingOptions),this.setTracking(void 0!==e.tracking&&e.tracking)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){let e=this.getProjection();e&&(this.transform_=(0,o.getTransformFromProjections)((0,o.get)("EPSG:4326"),e),this.position_&&this.set(u.POSITION,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){let e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(e){let t=e.coords;this.set(u.ACCURACY,t.accuracy),this.set(u.ALTITUDE,null===t.altitude?void 0:t.altitude),this.set(u.ALTITUDE_ACCURACY,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(u.HEADING,null===t.heading?void 0:(0,l.toRadians)(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];let r=this.transform_(this.position_);this.set(u.POSITION,r.slice()),this.set(u.SPEED,null===t.speed?void 0:t.speed);let i=(0,a.circular)(this.position_,t.accuracy);i.applyTransform(this.transform_),this.set(u.ACCURACY_GEOMETRY,i),this.changed()}positionError_(e){this.dispatchEvent(new h(e))}getAccuracy(){return this.get(u.ACCURACY)}getAccuracyGeometry(){return this.get(u.ACCURACY_GEOMETRY)||null}getAltitude(){return this.get(u.ALTITUDE)}getAltitudeAccuracy(){return this.get(u.ALTITUDE_ACCURACY)}getHeading(){return this.get(u.HEADING)}getPosition(){return this.get(u.POSITION)}getProjection(){return this.get(u.PROJECTION)}getSpeed(){return this.get(u.SPEED)}getTracking(){return this.get(u.TRACKING)}getTrackingOptions(){return this.get(u.TRACKING_OPTIONS)}setProjection(e){this.set(u.PROJECTION,(0,o.get)(e))}setTracking(e){this.set(u.TRACKING,e)}setTrackingOptions(e){this.set(u.TRACKING_OPTIONS,e)}}var d=c}),a("bS8Lk",function(e,r){t(e.exports,"default",()=>l);var i=s("9Idxm"),n=s("iQyfo"),a=s("kOWwI");let o=new i.default({target:document.body,className:"ol-collapsed"});(0,a.default).addControl(o),o.cancel=function(e,t,r){let i=(0,n.default).create("DIV",{html:e});"function"==typeof t&&(0,n.default).create("A",{html:r||"annuler",className:"cancel",click:()=>{o.hide(),t()},parent:i}),o.show(i,8e3)};var l=o}),a("9Idxm",function(e,r){t(e.exports,"default",()=>a);var i=s("4DafG"),n=s("iQyfo"),a=class extends i.default{constructor(e){e=e||{};var t=document.createElement("DIV");super({element:t,target:e.target}),this.contentElement=(0,n.default).create("DIV",{click:(function(){this.get("hideOnClick")&&this.hide()}).bind(this),parent:t});var r=(e.className||"")+" ol-notification";e.target||(r+=" ol-unselectable ol-control ol-collapsed"),t.setAttribute("class",r),this.set("closeBox",e.closeBox),this.set("hideOnClick",e.hideOnClick)}show(e,t){var r=this,i=this.element;e&&(e instanceof Node?(this.contentElement.innerHTML="",this.contentElement.appendChild(e)):this.contentElement.innerHTML=e,this.get("closeBox")?(this.contentElement.classList.add("ol-close"),(0,n.default).create("SPAN",{className:"closeBox",click:(function(){this.hide()}).bind(this),parent:this.contentElement})):this.contentElement.classList.remove("ol-close")),this._listener&&(clearTimeout(this._listener),this._listener=null),i.classList.add("ol-collapsed"),this._listener=setTimeout(function(){i.classList.remove("ol-collapsed"),!t||t>=0?r._listener=setTimeout(function(){i.classList.add("ol-collapsed"),r._listener=null},t||3e3):r._listener=null},100)}hide(){this._listener&&(clearTimeout(this._listener),this._listener=null),this.element.classList.add("ol-collapsed")}toggle(e){this.element.classList.contains("ol-collapsed")?this.show(null,e):this.hide()}}}),a("lUmQH",function(r,i){t(r.exports,"default",()=>g);var n=s("jQ8kQ"),a=s("iQyfo"),o=s("l956U"),l=s("kbFhP"),u=s("keikI"),h=s("1EpmD"),c=s("kPMpK"),d=s("iArnh"),p=s("bS8Lk"),f=s("2iBkg"),g=function(){let t=new n.default({switcherClass:"mainSwitcher ol-layer-shop ol-layerswitcher",oninfo:r=>{!function(t,r){let i=(0,a.default).create("DIV",{className:"md"});(0,a.default).create("DIV",{html:(0,o.default)(t.get("desc")||t.get("description"),t.getProperties()),parent:i}),t.getSource().getAttributions()&&(0,a.default).create("DIV",{className:"copy",html:t.getSource().getAttributions()({extent:[-1/0,-1/0,1/0,1/0]}).join(" - "),parent:i}),(0,l.default).show({className:"layer-info"+(t.get("exportable")?" exportable":""),title:t.get("title"),content:i,buttons:{pk:"ok"}}),(0,o.default).renderWidget(i),t.get("exportable")&&t.getSource().getFeatures().length&&(0,a.default).create("BUTTON",{html:'<i class="fi-download"></i> télécharger',className:"button, button-ghost",click:()=>{let i=t.getSource().getFeatures();if(!i.length){(0,l.default).showAlert("Aucune données à enregistrer<br/>dans ce calque...");return}let n=(new c.default).writeFeatures(i,{featureProjection:r.getView().getProjection(),rightHanded:!0});var s=new Blob([n],{type:"text/plain;charset=utf-8"});e(d).saveAs(s,t.get("title")+".geojson"),(0,l.default).close(),(0,p.default).show(i.length+" objets enregistrés...")},parent:(0,l.default).element.querySelector(".ol-buttons")})}(r,t.getMap())},selection:!1,minibar:!0});return t.set("selection",!1),t.on("drawlist",e=>{(e.layer.get("inview")||e.layer.getVisible())&&(e.layer.get("inview")||e.layer.set("inview",!0),e.li.dataset.inview="")}),(0,a.default).create("BUTTON",{html:"+ de données",click:()=>{(function(e){let t;let r=e.getMap().getLayers(),i=(0,a.default).create("DIV"),n=(0,a.default).create("INPUT",{type:"search",placeHolder:"rechercher...",parent:i});(0,a.default).addListener(n,["input"],()=>{t&&clearTimeout(t),setTimeout(()=>{let e=RegExp((0,h.default)(n.value),"i");(0,l.default).getContentElement().querySelectorAll(".theme li").forEach(t=>{e.test((0,h.default)(t.innerText))?(delete t.dataset.hidden,t.dataset.visible=""):(delete t.dataset.visible,t.dataset.hidden="")}),(0,l.default).getContentElement().querySelectorAll(".theme").forEach(e=>{e.querySelector("li[data-visible]")?delete e.dataset.hidden:e.dataset.hidden=""})},300)});let s=(0,a.default).create("UL",{parent:i}),c={};r.forEach(e=>{let t=e.get("theme")||"";c[t]||(c[t]=[]),c[t].push(e)}),Object.keys(c).reverse().forEach(e=>{let t=(0,a.default).create("LI",{class:"theme",html:(0,a.default).create("H3",{html:(0,o.default).iconize(e),click:()=>{void 0!==t.dataset.expended?delete t.dataset.expended:t.dataset.expended=""}}),parent:s});(0,a.default).create("SPAN",{className:"count",parent:t});let r=(0,a.default).create("UL",{parent:t});c[e].forEach(e=>{let t=(0,a.default).create("LI");r.prepend(t);let i=new u.default({type:"checkbox",after:e.get("title")||e.get("name"),checked:e.get("inview")||e.getVisible(),parent:t});e.get("logo")&&(0,a.default).create("DIV",{className:"img",html:(0,a.default).create("IMG",{src:(0,f.getMediaURL)(e.get("logo"))}),parent:t}),(0,a.default).create("DIV",{html:(0,o.default)(e.get("desc")||e.get("description"),e.getProperties()),parent:t}),i.on("check",t=>{e.setVisible(t.checked),e.set("inview",t.checked),d()})});let i=(0,a.default).create("LI",{className:"selall"});r.prepend(i),(0,a.default).create("BUTTON",{text:"tout sélectionner",click:()=>{i.parentNode.querySelectorAll('[type="checkbox"]').forEach(e=>{e.checked||e.click()})},parent:i}),(0,a.default).create("SPAN",{text:"/",parent:i}),(0,a.default).create("BUTTON",{text:"tout supprimer",click:()=>{i.parentNode.querySelectorAll('[type="checkbox"]').forEach(e=>{e.checked&&e.click()})},parent:i})});let d=function(){s.querySelectorAll(".count").forEach(e=>{let t=e.parentNode.querySelectorAll('[type="checkbox"]:checked').length,r=e.parentNode.querySelectorAll('[type="checkbox"]').length;e.innerText=t+" / "+r})};d(),(0,l.default).show({className:"layer-inview medium",title:"Ajouter des données",closeBox:!1,content:i,buttons:["Terminé"],onButton:()=>{e.drawPanel()}}),(0,l.default).set("hideOnBack",!0),(0,l.default).once("hide",()=>{(0,l.default).set("hideOnBack",!1)})})(t)},parent:t.getBarElement("bottom")}),t}}),a("jQ8kQ",function(e,r){t(e.exports,"default",()=>a);var i=s("iQyfo"),n=s("hddSm"),a=class extends n.default{constructor(e){(e=e||{}).selection=!0,e.noScroll=!0,super(e),this.element.classList.add("ol-layer-shop");var t=this.element.insertBefore((0,i.default).create("DIV",{className:"ol-title-bar"}),this.getPanel());this.on("select",(function(e){t.innerText=e.layer?e.layer.get("title"):"",this.element.setAttribute("data-layerClass",this.getLayerClass(e.layer))}).bind(this)),this._topbar=this.element.insertBefore((0,i.default).create("DIV",{className:"ol-bar ol-top-bar"}),this.getPanel()),this._bottombar=(0,i.default).create("DIV",{className:"ol-bar ol-bottom-bar",parent:this.element}),this._controls=[]}setMap(e){this.getMap()&&this._controls.forEach((function(e){this.getMap().removeControl(e)}).bind(this)),super.setMap(e),e&&(this.selectLayer(),this._listener.removeLayer=e.getLayers().on("remove",(function(e){e.element===this.getSelection()&&this.selectLayer()}).bind(this)),this._controls.forEach((function(e){this.getMap().addControl(e)}).bind(this)))}getBarElement(e){return"bottom"===e?this._bottombar:this._topbar}addControl(e,t){this._controls.push(e),e.setTarget("bottom"===t?this._bottombar:this._topbar),this.getMap()&&this.getMap().addControl(e)}}}),a("hddSm",function(e,r){t(e.exports,"default",()=>f);var i=s("ejLRd"),n=s("4DafG"),a=s("eEuqc"),o=s("610XN"),l=s("gNqjI"),u=s("dMe05"),h=s("8WefF"),c=s("jZquI"),d=s("iQyfo"),p=class extends n.default{constructor(e){e=e||{};var t=(0,d.default).create("DIV",{className:e.switcherClass||"ol-layerswitcher"});super({element:t,target:e.target});var r=this;this.dcount=0,this.show_progress=e.show_progress,this.oninfo="function"==typeof e.oninfo?e.oninfo:null,this.onextent="function"==typeof e.onextent?e.onextent:null,this.hasextent=e.extent||e.onextent,this.hastrash=e.trash,this.reordering=!1!==e.reordering,this._layers=[],this._layerGroup=e.layerGroup&&e.layerGroup.getLayers?e.layerGroup:null,this.onchangeCheck="function"==typeof e.onchangeCheck?e.onchangeCheck:null,"function"==typeof e.displayInLayerSwitcher&&(this.displayInLayerSwitcher=e.displayInLayerSwitcher),e.target||(t.classList.add("ol-unselectable"),t.classList.add("ol-control"),t.classList.add(!1!==e.collapsed?"ol-collapsed":"ol-forceopen"),this.button=(0,d.default).create("BUTTON",{type:"button",parent:t}),this.button.addEventListener("touchstart",function(e){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:t.classList.contains("ol-collapsed")}),e.preventDefault(),r.overflow()}),this.button.addEventListener("click",function(){t.classList.toggle("ol-forceopen"),t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!t.classList.contains("ol-forceopen")}),r.overflow()}),e.mouseover&&(t.addEventListener("mouseleave",function(){t.classList.add("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!0})}),t.addEventListener("mouseover",function(){t.classList.remove("ol-collapsed"),r.dispatchEvent({type:"toggle",collapsed:!1})})),e.minibar&&(e.noScroll=!0),e.noScroll||(this.topv=(0,d.default).create("DIV",{className:"ol-switchertopdiv",parent:t,click:function(){r.overflow("+50%")}}),this.botv=(0,d.default).create("DIV",{className:"ol-switcherbottomdiv",parent:t,click:function(){r.overflow("-50%")}})),this._noScroll=e.noScroll),this.panel_=(0,d.default).create("UL",{className:"panel"}),this.panelContainer_=(0,d.default).create("DIV",{className:"panel-container",html:this.panel_,parent:t}),e.target||e.noScroll||(0,d.default).addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(e){r.overflow(Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)))&&(e.stopPropagation(),e.preventDefault())}),this.header_=(0,d.default).create("LI",{className:"ol-header",parent:this.panel_}),this.set("drawDelay",e.drawDelay||0),this.set("selection",e.selection),e.minibar&&setTimeout((function(){var e=(0,d.default).scrollDiv(this.panelContainer_,{mousewheel:!0,vertical:!0,minibar:!0});this.on(["drawlist","toggle"],function(){e.refresh()})}).bind(this))}displayInLayerSwitcher(e){return!1!==e.get("displayInLayerSwitcher")}setMap(e){if(super.setMap(e),this.drawPanel(),this._listener)for(var t in this._listener)(0,i.unByKey)(this._listener[t]);this._listener=null,e&&(this._listener={moveend:e.on("moveend",this.viewChange.bind(this)),size:e.on("change:size",this.overflow.bind(this))},this._layerGroup?this._listener.change=this._layerGroup.getLayers().on("change:length",this.drawPanel.bind(this)):this._listener.change=e.getLayerGroup().getLayers().on("change:length",this.drawPanel.bind(this)))}show(){this.element.classList.add("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!1})}hide(){this.element.classList.remove("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!0})}toggle(){this.element.classList.toggle("ol-forceopen"),this.overflow(),this.dispatchEvent({type:"toggle",collapsed:!this.isOpen()})}isOpen(){return this.element.classList.contains("ol-forceopen")}setHeader(e){(0,d.default).setHTML(this.header_,e)}overflow(e){if(!this.button||this._noScroll)return!1;if((0,d.default).hidden(this.panel_)){(0,d.default).setStyle(this.element,{height:"auto"});return}var t=(0,d.default).outerHeight(this.element),r=(0,d.default).outerHeight(this.panel_),i=this.button.offsetTop+(0,d.default).outerHeight(this.button),n=this.panel_.offsetTop-i;if(!(r>t-i))return(0,d.default).setStyle(this.element,{height:"auto"}),(0,d.default).setStyle(this.panel_,{top:0}),(0,d.default).hide(this.botv),(0,d.default).hide(this.topv),!1;(0,d.default).setStyle(this.element,{height:"100%"});var s=this.panel_.querySelectorAll("li.ol-visible .li-content")[0],a=s?2*(0,d.default).getStyle(s,"height"):0;switch(e){case 1:n+=a;break;case -1:n-=a;break;case"+50%":n+=Math.round(t/2);break;case"-50%":n-=Math.round(t/2)}return n+r<=t-3*i/2?(n=t-3*i/2-r,(0,d.default).hide(this.botv)):(0,d.default).show(this.botv),n>=0?(n=0,(0,d.default).hide(this.topv)):(0,d.default).show(this.topv),(0,d.default).setStyle(this.panel_,{top:n+"px"}),!0}_setLayerForLI(e,t){var r=[];t.getLayers&&r.push(t.getLayers().on("change:length",this.drawPanel.bind(this))),e&&(r.push(t.on("change:opacity",(function(){this.setLayerOpacity(t,e)}).bind(this))),r.push(t.on("change:visible",(function(){this.setLayerVisibility(t,e)}).bind(this)))),r.push(t.on("propertychange",(function(e){("displayInLayerSwitcher"===e.key||"openInLayerSwitcher"===e.key||"title"===e.key||"name"===e.key)&&this.drawPanel(e)}).bind(this))),this._layers.push({li:e,layer:t,listeners:r})}setLayerOpacity(e,t){var r=t.querySelector(".layerswitcher-opacity-cursor");r&&(r.style.left=100*e.getOpacity()+"%"),this.dispatchEvent({type:"layer:opacity",layer:e})}setLayerVisibility(e,t){var r=t.querySelector(".ol-visibility");r&&(r.checked=e.getVisible()),e.getVisible()?t.classList.add("ol-visible"):t.classList.remove("ol-visible"),this.dispatchEvent({type:"layer:visible",layer:e})}_clearLayerForLI(){this._layers.forEach(function(e){e.listeners.forEach(function(e){(0,i.unByKey)(e)})}),this._layers=[]}_getLayerForLI(e){for(var t,r=0;t=this._layers[r];r++)if(t.li===e)return t.layer;return null}viewChange(){this.panel_.querySelectorAll("li").forEach((function(e){var t=this._getLayerForLI(e);t&&(this.testLayerVisibility(t)?e.classList.remove("ol-layer-hidden"):e.classList.add("ol-layer-hidden"))}).bind(this))}getPanel(){return this.panelContainer_}drawPanel(){if(this.getMap()){var e=this;this.dcount++,setTimeout(function(){e.drawPanel_()},this.get("drawDelay")||0)}}drawPanel_(){if(!--this.dcount&&!this.dragging_){var e=this.panelContainer_.scrollTop;this._clearLayerForLI(),this.panel_.querySelectorAll("li").forEach((function(e){e.classList.contains("ol-header")||e.remove()}).bind(this)),this._layerGroup?this.drawList(this.panel_,this._layerGroup.getLayers()):this.getMap()&&this.drawList(this.panel_,this.getMap().getLayers()),this.panelContainer_.scrollTop=e}}switchLayerVisibility(e,t){e.get("baseLayer")?(e.getVisible()||e.setVisible(!0),t.forEach(function(t){e!==t&&t.get("baseLayer")&&t.getVisible()&&t.setVisible(!1)})):e.setVisible(!e.getVisible())}testLayerVisibility(e){if(!this.getMap())return!0;var t=this.getMap().getView().getResolution(),r=this.getMap().getView().getZoom();if(e.getMaxResolution()<=t||e.getMinResolution()>=t||e.getMinZoom&&(e.getMinZoom()>=r||e.getMaxZoom()<r))return!1;var i=e.getExtent();if(i){var n=this.getMap().getView().calculateExtent(this.getMap().getSize());return(0,c.intersects)(n,i)}return!0}dragOrdering_(e){e.stopPropagation(),e.preventDefault();var t,r,i,n,s,a=this,o=e.currentTarget.parentNode.parentNode,l=!0,u=this.panel_,h=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY;function c(e){if(t=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,l&&Math.abs(h-t)>2&&(l=!1,o.classList.add("drag"),n=a._getLayerForLI(o),r=!1,s=a._getLayerForLI(o.parentNode.parentNode),i=(0,d.default).create("LI",{className:"ol-dragover",html:o.innerHTML,style:{position:"absolute","z-index":1e4,left:o.offsetLeft,opacity:.5,width:(0,d.default).outerWidth(o),height:(0,d.default).getStyle(o,"height")},parent:u}),a.element.classList.add("drag"),a.dispatchEvent({type:"reorder-start",layer:n,group:s})),!l){var c;for(e.preventDefault(),e.stopPropagation(),(0,d.default).setStyle(i,{top:t-(0,d.default).offsetRect(u).top+u.scrollTop+5}),(c=e.touches?document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY):e.target).classList.contains("ol-switcherbottomdiv")?a.overflow(-1):c.classList.contains("ol-switchertopdiv")&&a.overflow(1);c&&"LI"!==c.tagName;)c=c.parentNode;c&&c.classList.contains("dropover")||o.parentNode.querySelectorAll("li").forEach(function(e){e.classList.remove("dropover"),e.classList.remove("dropover-after"),e.classList.remove("dropover-before")}),c&&c.parentNode.classList.contains("drag")&&c!==o?((r=a._getLayerForLI(c))&&!r.get("allwaysOnTop")==!n.get("allwaysOnTop")?(c.classList.add("dropover"),c.classList.add(o.offsetTop<c.offsetTop?"dropover-after":"dropover-before")):r=!1,(0,d.default).show(i)):(r=!1,c===o?(0,d.default).hide(i):(0,d.default).show(i)),r?i.classList.remove("forbidden"):i.classList.add("forbidden")}}o.parentNode.classList.add("drag"),(0,d.default).addListener(document,"mousemove touchmove",c),(0,d.default).addListener(document,"mouseup touchend touchcancel",function e(){if(r){var t=n,l=a.getSelection()===t;if(t&&r){for(var u,h=(u=s?s.getLayers():a._layerGroup?a._layerGroup.getLayers():a.getMap().getLayers()).getArray(),p=0;p<h.length;p++)if(h[p]==t){u.removeAt(p);break}for(var f=0;f<h.length;f++)if(h[f]===r){p>f?u.insertAt(f,t):u.insertAt(f+1,t);break}}l&&a.selectLayer(t),a.dispatchEvent({type:"reorder-end",layer:t,group:s})}o.parentNode.querySelectorAll("li").forEach(function(e){e.classList.remove("dropover"),e.classList.remove("dropover-after"),e.classList.remove("dropover-before")}),o.classList.remove("drag"),o.parentNode.classList.remove("drag"),a.element.classList.remove("drag"),i&&i.remove(),(0,d.default).removeListener(document,"mousemove touchmove",c),(0,d.default).removeListener(document,"mouseup touchend touchcancel",e)})}dragOpacity_(e){e.stopPropagation(),e.preventDefault();var t=this,r=e.target,i=this._getLayerForLI(r.parentNode.parentNode.parentNode);if(i){var n=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,s=(0,d.default).getStyle(r,"left")-n;t.dragging_=!0,(0,d.default).addListener(document,"mouseup touchend touchcancel",function e(){(0,d.default).removeListener(document,"mouseup touchend touchcancel",e),(0,d.default).removeListener(document,"mousemove touchmove",a),t.dragging_=!1}),(0,d.default).addListener(document,"mousemove touchmove",a)}function a(e){var t=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,n=Math.max(0,Math.min(1,(s+t)/(0,d.default).getStyle(r.parentNode,"width")));(0,d.default).setStyle(r,{left:100*n+"%"}),r.parentNode.nextElementSibling.innerHTML=Math.round(100*n),i.setOpacity(n)}}drawList(e,t){var r=this,i=t.getArray(),n=function(e){e.stopPropagation(),e.preventDefault();var i=r._getLayerForLI(this.parentNode.parentNode);r.switchLayerVisibility(i,t),r.get("selection")&&i.getVisible()&&r.selectLayer(i),r.onchangeCheck&&r.onchangeCheck(i)};function s(e){e.stopPropagation(),e.preventDefault();var t=r._getLayerForLI(this.parentNode.parentNode);r.oninfo(t),r.dispatchEvent({type:"info",layer:t})}function o(e){e.stopPropagation(),e.preventDefault();var t=r._getLayerForLI(this.parentNode.parentNode);r.onextent?r.onextent(t):r.getMap().getView().fit(t.getExtent(),r.getMap().getSize()),r.dispatchEvent({type:"extent",layer:t})}function l(e){e.stopPropagation(),e.preventDefault();var t,i=this.parentNode.parentNode.parentNode.parentNode,n=r._getLayerForLI(i);n?(t=r._getLayerForLI(this.parentNode.parentNode),n.getLayers().remove(t),0!=n.getLayers().getLength()||n.get("noSwitcherDelete")||l.call(i.querySelectorAll(".layerTrash")[0],e)):(i=this.parentNode.parentNode,r.getMap().removeLayer(r._getLayerForLI(i)))}function u(t){if(!this.displayInLayerSwitcher(t)){this._setLayerForLI(null,t);return}var u=(0,d.default).create("LI",{className:(t.getVisible()?"ol-visible ":" ")+(t.get("baseLayer")?"baselayer":""),parent:e});this._setLayerForLI(u,t),this._selectedLayer===t&&u.classList.add("ol-layer-select");var c=(0,d.default).create("DIV",{className:"ol-layerswitcher-buttons",parent:u}),p=(0,d.default).create("DIV",{className:"li-content",parent:u});(0,d.default).create("INPUT",{type:t.get("baseLayer")?"radio":"checkbox",className:"ol-visibility",checked:t.getVisible(),click:n,parent:p});var f=(0,d.default).create("LABEL",{title:t.get("title")||t.get("name"),click:n,style:{userSelect:"none"},parent:p});if(f.addEventListener("selectstart",function(){return!1}),(0,d.default).create("SPAN",{html:t.get("title")||t.get("name"),click:(function(e){this.get("selection")&&(e.stopPropagation(),this.selectLayer(t))}).bind(this),parent:f}),this.reordering&&(h<i.length-1&&(t.get("allwaysOnTop")||!i[h+1].get("allwaysOnTop"))||h>0&&(!t.get("allwaysOnTop")||i[h-1].get("allwaysOnTop")))&&(0,d.default).create("DIV",{className:"layerup ol-noscroll",title:this.tip.up,on:{"mousedown touchstart":function(e){r.dragOrdering_(e)}},parent:c}),t.getLayers){var g=0;t.getLayers().forEach(function(e){r.displayInLayerSwitcher(e)&&g++}),g&&(0,d.default).create("DIV",{className:t.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var e=r._getLayerForLI(this.parentNode.parentNode);e.set("openInLayerSwitcher",!e.get("openInLayerSwitcher"))},parent:c})}if(this.oninfo&&(0,d.default).create("DIV",{className:"layerInfo",title:this.tip.info,click:s,parent:c}),this.hastrash&&!t.get("noSwitcherDelete")&&(0,d.default).create("DIV",{className:"layerTrash",title:this.tip.trash,click:l,parent:c}),this.hasextent&&i[h].getExtent()){var m=i[h].getExtent();4==m.length&&m[0]<m[2]&&m[1]<m[3]&&(0,d.default).create("DIV",{className:"layerExtent",title:this.tip.extent,click:o,parent:c})}if(this.show_progress&&t instanceof a.default){var y=(0,d.default).create("DIV",{className:"layerswitcher-progress",parent:p});this.setprogress_(t),t.layerswitcher_progress=(0,d.default).create("DIV",{parent:y})}var v=(0,d.default).create("DIV",{className:"layerswitcher-opacity",click:function(e){if(e.target===this){e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(1,e.offsetX/(0,d.default).getStyle(this,"width")));r._getLayerForLI(this.parentNode.parentNode).setOpacity(t),this.parentNode.querySelectorAll(".layerswitcher-opacity-label")[0].innerHTML=Math.round(100*t)}},parent:p});if((0,d.default).create("DIV",{className:"layerswitcher-opacity-cursor ol-noscroll",style:{left:100*t.getOpacity()+"%"},on:{"mousedown touchstart":function(e){r.dragOpacity_(e)}},parent:v}),(0,d.default).create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(100*t.getOpacity()),parent:p}),t.getLayers&&(u.classList.add("ol-layer-group"),!0===t.get("openInLayerSwitcher"))){var b=(0,d.default).create("UL",{parent:u});this.drawList(b,t.getLayers())}u.classList.add(this.getLayerClass(t)),this.dispatchEvent({type:"drawlist",layer:t,li:u})}for(var h=i.length-1;h>=0;h--)u.call(this,i[h]);this.viewChange(),e===this.panel_&&this.overflow()}getLayerClass(e){return e?e.getLayers?"ol-layer-group":e instanceof o.default?"ol-layer-vector":e instanceof l.default?"ol-layer-vectortile":e instanceof a.default?"ol-layer-tile":e instanceof u.default?"ol-layer-image":e instanceof h.default?"ol-layer-heatmap":e.getFeatures?"ol-layer-vectorimage":"unknown":"none"}selectLayer(e,t){if(!e){if(!this.getMap())return;e=this.getMap().getLayers().item(this.getMap().getLayers().getLength()-1)}this._selectedLayer=e,this.drawPanel(),t||this.dispatchEvent({type:"select",layer:e})}getSelection(){return this._selectedLayer}setprogress_(e){if(!e.layerswitcher_progress){var t=0,r=0,i=function(){r===t?(r=t=0,(0,d.default).setStyle(e.layerswitcher_progress,{width:0})):(0,d.default).setStyle(e.layerswitcher_progress,{width:(t/r*100).toFixed(1)+"%"})};e.getSource().on("tileloadstart",function(){r++,i()}),e.getSource().on("tileloadend",function(){t++,i()}),e.getSource().on("tileloaderror",function(){t++,i()})}}};p.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"};var f=p}),a("dMe05",function(e,r){t(e.exports,"default",()=>o);var i=s("55uKe"),n=s("fnQuI");class a extends i.default{constructor(e){super(e)}createRenderer(){return new n.default(this)}getData(e){return super.getData(e)}}var o=a}),a("55uKe",function(e,r){t(e.exports,"default",()=>a);var i=s("2K2IB");class n extends i.default{constructor(e){super(e=e||{})}}var a=n}),a("8WefF",function(e,r){t(e.exports,"default",()=>d);var i=s("2YyN3"),n=s("14k51"),a=s("2q51R"),o=s("a6roo"),l=s("cgxQK");let u={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},h=["#00f","#0ff","#0f0","#ff0","#f00"];class c extends i.default{constructor(e){let t=Object.assign({},e=e||{});delete t.gradient,delete t.radius,delete t.blur,delete t.weight,super(t),this.gradient_=null,this.addChangeListener(u.GRADIENT,this.handleGradientChanged_),this.setGradient(e.gradient?e.gradient:h),this.setBlur(void 0!==e.blur?e.blur:15),this.setRadius(void 0!==e.radius?e.radius:8);let r=e.weight?e.weight:"weight";"string"==typeof r?this.weightFunction_=function(e){return e.get(r)}:this.weightFunction_=r,this.setRenderOrder(null)}getBlur(){return this.get(u.BLUR)}getGradient(){return this.get(u.GRADIENT)}getRadius(){return this.get(u.RADIUS)}handleGradientChanged_(){this.gradient_=function(e){let t=(0,l.createCanvasContext2D)(1,256),r=t.createLinearGradient(0,0,1,256),i=1/(e.length-1);for(let t=0,n=e.length;t<n;++t)r.addColorStop(t*i,e[t]);return t.fillStyle=r,t.fillRect(0,0,1,256),t.canvas}(this.getGradient())}setBlur(e){this.set(u.BLUR,e)}setGradient(e){this.set(u.GRADIENT,e)}setRadius(e){this.set(u.RADIUS,e)}createRenderer(){let e=new(0,a.ShaderBuilder)().addAttribute("float a_prop_weight").addVarying("v_prop_weight","float","a_prop_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_prop_weight)");return new n.default(this,{className:this.getClassName(),attributes:[{name:"weight",callback:e=>{let t=this.weightFunction_(e);return void 0!==t?(0,o.clamp)(t,0,1):1}}],uniforms:{u_size:()=>(this.get(u.RADIUS)+this.get(u.BLUR))*2,u_blurSlope:()=>this.get(u.RADIUS)/Math.max(1,this.get(u.BLUR))},hitDetectionEnabled:!0,vertexShader:e.getSymbolVertexShader(),fragmentShader:e.getSymbolFragmentShader(),postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;
            uniform float u_opacity;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a * u_opacity;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}var d=c}),a("14k51",function(e,r){t(e.exports,"default",()=>S);var i=s("2YyN3"),n=s("gKdkP"),a=s("bCUH1"),o=s("77SUz"),l=s("iHIuK"),u=s("4WkA9"),h=s("5XVOZ"),c=s("knkkM"),d=s("RJ0Sz"),p=s("14PDX"),f=s("eJ4LZ"),g=s("jZquI"),m=s("bxq6G"),y=s("6AH2e"),v=s("gzr8q"),b=s("lVQul"),x=s("hQEK0"),E=s("bsgMw");class _ extends l.default{constructor(e,t){let r=t.uniforms||{},i=(0,p.create)();r[c.DefaultUniform.PROJECTION_MATRIX]=i,super(e,{uniforms:r,postProcesses:t.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new o.default(h.ARRAY_BUFFER,h.DYNAMIC_DRAW),this.indicesBuffer_=new o.default(h.ELEMENT_ARRAY_BUFFER,h.DYNAMIC_DRAW),this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.program_,this.hitDetectionEnabled_=t.hitDetectionEnabled??!0;let s=t.attributes?t.attributes.map(function(e){return{name:"a_prop_"+e.name,size:1,type:c.AttributeType.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:c.AttributeType.FLOAT},{name:"a_index",size:1,type:c.AttributeType.FLOAT}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_hitColor",size:4,type:c.AttributeType.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:c.AttributeType.FLOAT})),this.attributes.push(...s),this.customAttributes=t.attributes?t.attributes:[],this.previousExtent_=(0,g.createEmpty)(),this.currentTransform_=i,this.renderTransform_=(0,p.create)(),this.invertRenderTransform_=(0,p.create)(),this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=(0,y.create)(),this.worker_.addEventListener("message",e=>{let t=e.data;if(t.type===d.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS){let r=t.projectionTransform;this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,(0,p.makeInverse)(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(e.data.renderInstructions),t.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}}),this.featureCache_={},this.featureCount_=0;let a=this.getLayer().getSource();this.sourceListenKeys_=[(0,E.listen)(a,n.default.ADDFEATURE,this.handleSourceFeatureAdded_,this),(0,E.listen)(a,n.default.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),(0,E.listen)(a,n.default.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),(0,E.listen)(a,n.default.CLEAR,this.handleSourceFeatureClear_,this)],a.forEachFeature(e=>{this.featureCache_[(0,b.getUid)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++})}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new u.default(this.helper))}handleSourceFeatureAdded_(e){let t=e.feature;this.featureCache_[(0,b.getUid)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(e){let t=e.feature;this.featureCache_[(0,b.getUid)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}}handleSourceFeatureDelete_(e){let t=e.feature;delete this.featureCache_[b.getUid(t)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(e){let t=this.helper.getGL();this.preRender(t,e);let[r,i,n]=(0,x.getWorldParameters)(e,this.getLayer());return this.renderWorlds(e,!1,r,i,n),this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent),this.hitDetectionEnabled_&&(this.renderWorlds(e,!0,r,i,n),this.hitRenderTarget_.clearCachedData()),this.postRender(t,e),this.helper.getCanvas()}prepareFrameInternal(e){let t=this.getLayer(),r=t.getSource(),n=e.viewState,s=!e.viewHints[a.default.ANIMATING]&&!e.viewHints[a.default.INTERACTING],o=!(0,g.equals)(this.previousExtent_,e.extent),l=this.sourceRevision_<r.getRevision();if(l&&(this.sourceRevision_=r.getRevision()),s&&(o||l)){let s=n.projection,a=n.resolution,o=t instanceof i.default?t.getRenderBuffer():0,l=(0,g.buffer)(e.extent,o*a);r.loadFeatures(l,a,s),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.useProgram(this.program_,e),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(e){let t,r;let i=(0,p.create)();this.helper.makeProjectionTransform(e,i);let n=(0,v.getUserProjection)(),s=(this.hitDetectionEnabled_?7:2)+this.customAttributes.length,a=s*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===a||(this.renderInstructions_=new Float32Array(a));let o=[],l=[],u=-1;for(let s in this.featureCache_)if((r=(t=this.featureCache_[s]).geometry)&&"Point"===r.getType()){if(n){let t=(0,v.fromUserCoordinate)(r.getFlatCoordinates(),e.viewState.projection);o[0]=t[0],o[1]=t[1]}else o[0]=r.getFlatCoordinates()[0],o[1]=r.getFlatCoordinates()[1];if((0,p.apply)(i,o),this.renderInstructions_[++u]=o[0],this.renderInstructions_[++u]=o[1],this.hitDetectionEnabled_){let e=(0,m.colorEncodeId)(u+5,l);this.renderInstructions_[++u]=e[0],this.renderInstructions_[++u]=e[1],this.renderInstructions_[++u]=e[2],this.renderInstructions_[++u]=e[3],this.renderInstructions_[++u]=Number(s)}for(let e=0;e<this.customAttributes.length;e++){let r=this.customAttributes[e].callback(t.feature,t.properties);this.renderInstructions_[++u]=r}}let h={id:++this.lastSentId,type:d.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:s-2};h.projectionTransform=i,this.ready=!1,this.worker_.postMessage(h,[this.renderInstructions_.buffer]),this.renderInstructions_=null}forEachFeatureAtCoordinate(e,t,r,i,n){if((0,f.assert)(this.hitDetectionEnabled_,"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has been disabled using the `disableHitDetection: true` option."),!this.renderInstructions_||!this.hitDetectionEnabled_)return;let s=(0,p.apply)(t.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(s[0]/2,s[1]/2),o=[a[0]/255,a[1]/255,a[2]/255,a[3]/255],l=(0,m.colorDecodeId)(o),u=Math.floor(this.renderInstructions_[l]).toString(),h=this.getLayer().getSource().getFeatureByUid(u);if(h)return i(h,this.getLayer(),null)}renderWorlds(e,t,r,i,n){let s=r;this.helper.useProgram(this.program_,e),t&&(this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(e,this.currentTransform_),(0,p.translate)(this.currentTransform_,s*n,0),(0,p.multiply)(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(e),this.helper.applyHitDetectionUniform(t);let r=this.indicesBuffer_.getSize();this.helper.drawElements(0,r)}while(++s<i)}disposeInternal(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(e){(0,E.unlistenByKey)(e)}),this.sourceListenKeys_=null,super.disposeInternal()}}var S=_}),a("77SUz",function(e,r){t(e.exports,"default",()=>l);var i=s("5XVOZ"),n=s("eJ4LZ");let a={STATIC_DRAW:i.STATIC_DRAW,STREAM_DRAW:i.STREAM_DRAW,DYNAMIC_DRAW:i.DYNAMIC_DRAW};function o(e){switch(e){case i.ARRAY_BUFFER:return Float32Array;case i.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}var l=class{constructor(e,t){this.array_=null,this.type_=e,(0,n.assert)(e===i.ARRAY_BUFFER||e===i.ELEMENT_ARRAY_BUFFER,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=void 0!==t?t:a.STATIC_DRAW}ofSize(e){return this.array_=new(o(this.type_))(e),this}fromArray(e){return this.array_=o(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(o(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}}),a("5XVOZ",function(e,r){t(e.exports,"ARRAY_BUFFER",()=>n),t(e.exports,"ELEMENT_ARRAY_BUFFER",()=>a),t(e.exports,"STREAM_DRAW",()=>o),t(e.exports,"STATIC_DRAW",()=>l),t(e.exports,"DYNAMIC_DRAW",()=>u),t(e.exports,"UNSIGNED_BYTE",()=>h),t(e.exports,"UNSIGNED_SHORT",()=>c),t(e.exports,"UNSIGNED_INT",()=>d),t(e.exports,"FLOAT",()=>p),t(e.exports,"getContext",()=>g);var i=s("lW8xZ");let n=34962,a=34963,o=35040,l=35044,u=35048,h=5121,c=5123,d=5125,p=5126,f=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function g(e,t){t=Object.assign({preserveDrawingBuffer:!0,antialias:!i.SAFARI_BUG_237906},t);let r=f.length;for(let i=0;i<r;++i)try{let r=e.getContext(f[i],t);if(r)return r}catch(e){}return null}}),a("iHIuK",function(e,r){t(e.exports,"default",()=>c);var i=s("7xQTT"),n=s("lgqLq"),a=s("fj1q7"),o=s("6ej6F"),l=s("knkkM"),u=s("14PDX");class h extends n.default{constructor(e,t){super(e),t=t||{},this.inversePixelTransform_=(0,u.create)(),this.pixelContext_=null,this.postProcesses_=t.postProcesses,this.uniforms_=t.uniforms,this.helper,e.addChangeListener(i.default.MAP,this.removeHelper.bind(this)),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,t){let r=this.getLayer();if(r.hasListener(o.default.PRECOMPOSE)){let i=new a.default(o.default.PRECOMPOSE,void 0,t,e);r.dispatchEvent(i)}}dispatchPostComposeEvent(e,t){let r=this.getLayer();if(r.hasListener(o.default.POSTCOMPOSE)){let i=new a.default(o.default.POSTCOMPOSE,void 0,t,e);r.dispatchEvent(i)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let t,r=!0,i=-1;for(let n=0,s=e.layerStatesArray.length;n<s;n++){let s=e.layerStatesArray[n].layer,a=s.getRenderer();if(!(a instanceof h)){r=!0;continue}let o=s.getClassName();if((r||o!==t)&&(i+=1,r=!1),t=o,a===this)break}let n="map/"+e.mapId+"/group/"+i;(!this.helper||!this.helper.canvasCacheKeyMatches(n)||this.helper.needsToBeRecreated())&&(this.removeHelper(),this.helper=new l.default({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:n}),t&&(this.helper.getCanvas().className=t),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}disposeInternal(){this.removeHelper(),super.disposeInternal()}dispatchRenderEvent_(e,t,r){let i=this.getLayer();if(i.hasListener(e)){(0,u.compose)(this.inversePixelTransform_,0,0,r.pixelRatio,-r.pixelRatio,0,0,-r.size[1]);let n=new a.default(e,this.inversePixelTransform_,r,t);i.dispatchEvent(n)}}preRender(e,t){this.dispatchRenderEvent_(o.default.PRERENDER,e,t)}postRender(e,t){this.dispatchRenderEvent_(o.default.POSTRENDER,e,t)}}var c=h}),a("knkkM",function(e,r){t(e.exports,"DefaultUniform",()=>d),t(e.exports,"AttributeType",()=>p),t(e.exports,"default",()=>v);var i=s("6M4MS"),n=s("jjfV9"),a=s("aMlwv"),o=s("5XVOZ"),l=s("kKEgb"),u=s("14PDX"),h=s("jYEYW"),c=s("lVQul");let d={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},p={UNSIGNED_BYTE:o.UNSIGNED_BYTE,UNSIGNED_SHORT:o.UNSIGNED_SHORT,UNSIGNED_INT:o.UNSIGNED_INT,FLOAT:o.FLOAT},f={},g=0;class m extends n.default{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?"shared/"+e.canvasCacheKey:function(){let e="unique/"+g;return g+=1,e}(),this.gl_=function(e){let t=f[e];if(!t){let r=document.createElement("canvas");r.width=1,r.height=1,r.style.position="absolute",r.style.left="0",t={users:0,context:(0,o.getContext)(r)},f[e]=t}return t.users+=1,t.context}(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;let t=this.gl_.canvas;t.addEventListener(i.default.LOST,this.boundHandleWebGLContextLost_),t.addEventListener(i.default.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=(0,u.create)(),this.offsetScaleMatrix_=(0,u.create)(),this.tmpMat4_=(0,h.create)(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(e=>new a.default({webGlContext:this.gl_,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})):[new a.default({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(let t in e)this.uniforms_.push({name:t,value:e[t]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_==="shared/"+e}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];let t=this.gl_.getExtension(e);return this.extensionCache_[e]=t,t}bindBuffer(e){let t=this.gl_,r=(0,c.getUid)(e),i=this.bufferCache_[r];i||(i={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[r]=i),t.bindBuffer(e.getType(),i.webGlBuffer)}flushBufferData(e){let t=this.gl_;this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){let t=this.gl_,r=(0,c.getUid)(e),i=this.bufferCache_[r];i&&!t.isContextLost()&&t.deleteBuffer(i.webGlBuffer),delete this.bufferCache_[r]}disposeInternal(){let e=this.gl_.canvas;e.removeEventListener(i.default.LOST,this.boundHandleWebGLContextLost_),e.removeEventListener(i.default.RESTORED,this.boundHandleWebGLContextRestored_),function(e){let t=f[e];if(!t||(t.users-=1,t.users>0))return;let r=t.context,i=r.getExtension("WEBGL_lose_context");i&&i.loseContext();let n=r.canvas;n.width=1,n.height=1,delete f[e]}(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,t,r){let i=this.gl_,n=this.getCanvas(),s=e.size,a=e.pixelRatio;(n.width!==s[0]*a||n.height!==s[1]*a)&&(n.width=s[0]*a,n.height=s[1]*a,n.style.width=s[0]+"px",n.style.height=s[1]+"px");for(let t=this.postProcessPasses_.length-1;t>=0;t--)this.postProcessPasses_[t].init(e);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,t?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}bindTexture(e,t,r){let i=this.gl_;i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(this.getUniformLocation(r),t)}prepareDrawToRenderTarget(e,t,r,i){let n=this.gl_,s=t.getSize();n.bindFramebuffer(n.FRAMEBUFFER,t.getFramebuffer()),n.bindRenderbuffer(n.RENDERBUFFER,t.getDepthbuffer()),n.viewport(0,0,s[0],s[1]),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.clearColor(0,0,0,0),n.depthRange(0,1),n.clearDepth(1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),i?(n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL)):n.disable(n.DEPTH_TEST)}drawElements(e,t){let r=this.gl_;this.getExtension("OES_element_index_uint");let i=r.UNSIGNED_INT;r.drawElements(r.TRIANGLES,t-e,i,4*e)}finalizeDraw(e,t,r){for(let i=0,n=this.postProcessPasses_.length;i<n;i++)i===n-1?this.postProcessPasses_[i].apply(e,null,t,r):this.postProcessPasses_[i].apply(e,this.postProcessPasses_[i+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){let t=e.size,r=e.viewState.rotation,i=e.pixelRatio;this.setUniformFloatValue(d.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(d.ZOOM,e.viewState.zoom),this.setUniformFloatValue(d.RESOLUTION,e.viewState.resolution),this.setUniformFloatValue(d.PIXEL_RATIO,i),this.setUniformFloatVec2(d.VIEWPORT_SIZE_PX,[t[0],t[1]]),this.setUniformFloatValue(d.ROTATION,r)}applyHitDetectionUniform(e){let t=this.getUniformLocation(d.HIT_DETECTION);this.getGL().uniform1i(t,e?1:0),e&&this.setUniformFloatValue(d.PIXEL_RATIO,.5)}applyUniforms(e){let t;let r=this.gl_,i=0;this.uniforms_.forEach(n=>{if((t="function"==typeof n.value?n.value(e):n.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)n.texture||(n.prevValue=void 0,n.texture=r.createTexture()),this.bindTexture(n.texture,i,n.name),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t instanceof HTMLImageElement&&!t.complete||n.prevValue===t||(n.prevValue=t,r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t)),i++;else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(n.name,(0,h.fromTransform)(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:r.uniform2f(this.getUniformLocation(n.name),t[0],t[1]);return;case 3:r.uniform3f(this.getUniformLocation(n.name),t[0],t[1],t[2]);return;case 4:r.uniform4f(this.getUniformLocation(n.name),t[0],t[1],t[2],t[3]);return;default:return}else"number"==typeof t&&r.uniform1f(this.getUniformLocation(n.name),t)})}useProgram(e,t){this.gl_.useProgram(e),this.currentProgram_=e,this.applyFrameState(t),this.applyUniforms(t)}compileShader(e,t){let r=this.gl_,i=r.createShader(t);return r.shaderSource(i,e),r.compileShader(i),i}getProgram(e,t){let r=this.gl_,i=this.compileShader(e,r.FRAGMENT_SHADER),n=this.compileShader(t,r.VERTEX_SHADER),s=r.createProgram();if(r.attachShader(s,i),r.attachShader(s,n),r.linkProgram(s),!r.getShaderParameter(i,r.COMPILE_STATUS))throw Error(`Fragment shader compilation failed: ${r.getShaderInfoLog(i)}`);if(r.deleteShader(i),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error(`Vertex shader compilation failed: ${r.getShaderInfoLog(n)}`);if(r.deleteShader(n),!r.getProgramParameter(s,r.LINK_STATUS))throw Error(`GL program linking failed: ${r.getProgramInfoLog(s)}`);return s}getUniformLocation(e){let t=(0,c.getUid)(this.currentProgram_);return void 0===this.uniformLocationsByProgram_[t]&&(this.uniformLocationsByProgram_[t]={}),void 0===this.uniformLocationsByProgram_[t][e]&&(this.uniformLocationsByProgram_[t][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[t][e]}getAttributeLocation(e){let t=(0,c.getUid)(this.currentProgram_);return void 0===this.attribLocationsByProgram_[t]&&(this.attribLocationsByProgram_[t]={}),void 0===this.attribLocationsByProgram_[t][e]&&(this.attribLocationsByProgram_[t][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[t][e]}makeProjectionTransform(e,t){let r=e.size,i=e.viewState.rotation,n=e.viewState.resolution,s=e.viewState.center;return(0,u.compose)(t,0,0,2/(n*r[0]),2/(n*r[1]),-i,-s[0],-s[1]),t}setUniformFloatValue(e,t){this.gl_.uniform1f(this.getUniformLocation(e),t)}setUniformFloatVec2(e,t){this.gl_.uniform2fv(this.getUniformLocation(e),t)}setUniformFloatVec4(e,t){this.gl_.uniform4fv(this.getUniformLocation(e),t)}setUniformMatrixValue(e,t){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,t)}enableAttributeArray_(e,t,r,i,n){let s=this.getAttributeLocation(e);s<0||(this.gl_.enableVertexAttribArray(s),this.gl_.vertexAttribPointer(s,t,r,!1,i,n))}enableAttributes(e){let t=function(e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];t+=i.size*y(i.type)}return t}(e),r=0;for(let i=0;i<e.length;i++){let n=e[i];this.enableAttributeArray_(n.name,n.size,n.type||o.FLOAT,t,r),r+=n.size*y(n.type)}}handleWebGLContextLost(e){(0,l.clear)(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,t,r){let i=this.gl_;r=r||i.createTexture();let n=i.RGBA,s=i.RGBA,a=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,r),t?i.texImage2D(i.TEXTURE_2D,0,n,s,a,t):i.texImage2D(i.TEXTURE_2D,0,n,e[0],e[1],0,s,a,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),r}}function y(e){switch(e){case p.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case p.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case p.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case p.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var v=m}),a("6M4MS",function(e,r){t(e.exports,"default",()=>i);var i={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}}),a("aMlwv",function(e,r){t(e.exports,"default",()=>o);var i=s("lVQul");let n=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,a=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`;var o=class{constructor(e){this.gl_=e.webGlContext;let t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer(),this.depthBuffer_=t.createRenderbuffer();let r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e.vertexShader||n),t.compileShader(r);let i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,e.fragmentShader||a),t.compileShader(i),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,r),t.attachShader(this.renderTargetProgram_,i),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(r=>{this.uniforms_.push({value:e.uniforms[r],location:t.getUniformLocation(this.renderTargetProgram_,r)})})}getGL(){return this.gl_}init(e){let t=this.getGL(),r=[t.drawingBufferWidth*this.scaleRatio_,t.drawingBufferHeight*this.scaleRatio_];if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.bindRenderbuffer(t.RENDERBUFFER,this.getDepthBuffer()),t.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;let e=t.RGBA,i=t.RGBA,n=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,e,r[0],r[1],0,i,n,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r[0],r[1]),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthBuffer_)}}apply(e,t,r,n){let s=this.getGL(),a=e.size;if(s.bindFramebuffer(s.FRAMEBUFFER,t?t.getFrameBuffer():null),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.renderTargetTexture_),!t){let t=(0,i.getUid)(s.canvas);if(!e.renderTargets[t]){let r=s.getContextAttributes();r&&r.preserveDrawingBuffer&&(s.clearColor(0,0,0,0),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)),e.renderTargets[t]=!0}}s.disable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.bindBuffer(s.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),s.useProgram(this.renderTargetProgram_),s.enableVertexAttribArray(this.renderTargetAttribLocation_),s.vertexAttribPointer(this.renderTargetAttribLocation_,2,s.FLOAT,!1,0,0),s.uniform2f(this.renderTargetUniformLocation_,a[0],a[1]),s.uniform1i(this.renderTargetTextureLocation_,0);let o=e.layerStatesArray[e.layerIndex].opacity;s.uniform1f(this.renderTargetOpacityLocation_,o),this.applyUniforms(e),r&&r(s,e),s.drawArrays(s.TRIANGLES,0,6),n&&n(s,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){let t;let r=this.getGL(),i=1;this.uniforms_.forEach(function(n){if((t="function"==typeof n.value?n.value(e):n.value)instanceof HTMLCanvasElement||t instanceof ImageData)n.texture||(n.texture=r.createTexture()),r.activeTexture(r[`TEXTURE${i}`]),r.bindTexture(r.TEXTURE_2D,n.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,t.width,t.height,0,r.UNSIGNED_BYTE,new Uint8Array(t.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(n.location,i++);else if(Array.isArray(t))switch(t.length){case 2:r.uniform2f(n.location,t[0],t[1]);return;case 3:r.uniform3f(n.location,t[0],t[1],t[2]);return;case 4:r.uniform4f(n.location,t[0],t[1],t[2],t[3]);return;default:return}else"number"==typeof t&&r.uniform1f(n.location,t)})}}}),a("jYEYW",function(e,r){function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function n(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}t(e.exports,"create",()=>i),t(e.exports,"fromTransform",()=>n)}),a("4WkA9",function(e,r){t(e.exports,"default",()=>a);var i=s("kBSVF");let n=new Uint8Array(4);var a=class{constructor(e,t){this.helper_=e;let r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.depthbuffer_=r.createRenderbuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(e){(0,i.equals)(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){let e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n;this.readAll();let r=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return n[0]=this.data_[4*r],n[1]=this.data_[4*r+1],n[2]=this.data_[4*r+2],n[3]=this.data_[4*r+3],n}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){let e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),t.bindRenderbuffer(t.RENDERBUFFER,this.depthbuffer_),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e[0],e[1]),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(e[0]*e[1]*4)}}}),a("RJ0Sz",function(e,r){t(e.exports,"WebGLWorkerMessageType",()=>i);let i={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"}}),a("bxq6G",function(e,r){t(e.exports,"LINESTRING_ANGLE_COSINE_CUTOFF",()=>i),t(e.exports,"colorEncodeId",()=>n),t(e.exports,"colorDecodeId",()=>a),s("lIQYe"),s("14PDX"),s("a6roo");let i=.985;function n(e,t){return(t=t||[])[0]=Math.floor(e/256/256/256)/255,t[1]=Math.floor(e/256/256)%256/255,t[2]=Math.floor(e/256)%256/255,t[3]=e%256/255,t}function a(e){return 0+(Math.round(16777216*e[0]*255)+Math.round(65536*e[1]*255)+Math.round(256*e[2]*255)+Math.round(255*e[3]))}}),a("lIQYe",function(e,t){function r(e,t,r){r=r||2;var c,d,g,y,v,b,x,E=t&&t.length,_=E?t[0]*r:e.length,S=i(e,0,_,r,!0),O=[];if(!S||S.next===S.prev)return O;if(E&&(S=function(e,t,r,a){var u,h,c,d,g,m=[];for(u=0,h=t.length;u<h;u++)c=t[u]*a,d=u<h-1?t[u+1]*a:e.length,(g=i(e,c,d,a,!1))===g.next&&(g.steiner=!0),m.push(function(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e)return r}(g));for(m.sort(s),u=0;u<m.length;u++)r=function(e,t){var r=function(e,t){var r,i,n,s=t,a=e.x,u=e.y,h=-1/0;do{if(u<=s.y&&u>=s.next.y&&s.next.y!==s.y){var c=s.x+(u-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(c<=a&&c>h&&(h=c,n=s.x<s.next.x?s:s.next,c===a))return n}s=s.next}while(s!==t)if(!n)return null;var d,f=n,g=n.x,m=n.y,y=1/0;s=n;do a>=s.x&&s.x>=g&&a!==s.x&&o(u<m?a:h,u,g,m,u<m?h:a,u,s.x,s.y)&&(d=Math.abs(u-s.y)/(a-s.x),p(s,e)&&(d<y||d===y&&(s.x>n.x||s.x===n.x&&(r=n,i=s,0>l(r.prev,r,i.prev)&&0>l(i.next,r,r.next))))&&(n=s,y=d)),s=s.next;while(s!==f)return n}(e,t);if(!r)return t;var i=f(r,e);return n(i,i.next),n(r,r.next)}(m[u],r);return r}(e,t,S,r)),e.length>80*r){c=g=e[0],d=y=e[1];for(var R=r;R<_;R+=r)v=e[R],b=e[R+1],v<c&&(c=v),b<d&&(d=b),v>g&&(g=v),b>y&&(y=b);x=0!==(x=Math.max(g-c,y-d))?32767/x:0}return function e(t,r,i,s,c,d,g){if(t){!g&&d&&function(e,t,r,i){var n=e;do 0===n.z&&(n.z=a(n.x,n.y,t,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e)n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,r,i,n,s,a,o,l,u=1;do{for(r=e,e=null,s=null,a=0;r;){for(a++,i=r,o=0,t=0;t<u&&(o++,i=i.nextZ);t++);for(l=u;o>0||l>0&&i;)0!==o&&(0===l||!i||r.z<=i.z)?(n=r,r=r.nextZ,o--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;r=i}s.nextZ=null,u*=2}while(a>1)}(n)}(t,s,c,d);for(var y,v,b=t;t.prev!==t.next;){if(y=t.prev,v=t.next,d?function(e,t,r,i){var n=e.prev,s=e.next;if(l(n,e,s)>=0)return!1;for(var u=n.x,h=e.x,c=s.x,d=n.y,p=e.y,f=s.y,g=u<h?u<c?u:c:h<c?h:c,m=d<p?d<f?d:f:p<f?p:f,y=u>h?u>c?u:c:h>c?h:c,v=d>p?d>f?d:f:p>f?p:f,b=a(g,m,t,r,i),x=a(y,v,t,r,i),E=e.prevZ,_=e.nextZ;E&&E.z>=b&&_&&_.z<=x;){if(E.x>=g&&E.x<=y&&E.y>=m&&E.y<=v&&E!==n&&E!==s&&o(u,d,h,p,c,f,E.x,E.y)&&l(E.prev,E,E.next)>=0||(E=E.prevZ,_.x>=g&&_.x<=y&&_.y>=m&&_.y<=v&&_!==n&&_!==s&&o(u,d,h,p,c,f,_.x,_.y)&&l(_.prev,_,_.next)>=0))return!1;_=_.nextZ}for(;E&&E.z>=b;){if(E.x>=g&&E.x<=y&&E.y>=m&&E.y<=v&&E!==n&&E!==s&&o(u,d,h,p,c,f,E.x,E.y)&&l(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;_&&_.z<=x;){if(_.x>=g&&_.x<=y&&_.y>=m&&_.y<=v&&_!==n&&_!==s&&o(u,d,h,p,c,f,_.x,_.y)&&l(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}(t,s,c,d):function(e){var t=e.prev,r=e.next;if(l(t,e,r)>=0)return!1;for(var i=t.x,n=e.x,s=r.x,a=t.y,u=e.y,h=r.y,c=i<n?i<s?i:s:n<s?n:s,d=a<u?a<h?a:h:u<h?u:h,p=i>n?i>s?i:s:n>s?n:s,f=a>u?a>h?a:h:u>h?u:h,g=r.next;g!==t;){if(g.x>=c&&g.x<=p&&g.y>=d&&g.y<=f&&o(i,a,n,u,s,h,g.x,g.y)&&l(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}(t)){r.push(y.i/i|0),r.push(t.i/i|0),r.push(v.i/i|0),m(t),t=v.next,b=v.next;continue}if((t=v)===b){g?1===g?e(t=function(e,t,r){var i=e;do{var s=i.prev,a=i.next.next;!u(s,a)&&h(s,i,i.next,a)&&p(s,a)&&p(a,s)&&(t.push(s.i/r|0),t.push(i.i/r|0),t.push(a.i/r|0),m(i),m(i.next),i=e=a),i=i.next}while(i!==e)return n(i)}(n(t),r,i),r,i,s,c,d,2):2===g&&function(t,r,i,s,a,o){var c=t;do{for(var d,g,m=c.next.next;m!==c.prev;){if(c.i!==m.i&&(d=c,g=m,d.next.i!==g.i&&d.prev.i!==g.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&h(r,r.next,e,t))return!0;r=r.next}while(r!==e)return!1}(d,g)&&(p(d,g)&&p(g,d)&&function(e,t){var r=e,i=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==e)return i}(d,g)&&(l(d.prev,d,g.prev)||l(d,g.prev,g))||u(d,g)&&l(d.prev,d,d.next)>0&&l(g.prev,g,g.next)>0))){var y=f(c,m);c=n(c,c.next),y=n(y,y.next),e(c,r,i,s,a,o,0),e(y,r,i,s,a,o,0);return}m=m.next}c=c.next}while(c!==t)}(t,r,i,s,c,d):e(n(t),r,i,s,c,d,1);break}}}}(S,O,r,c,d,x,0),O}function i(e,t,r,i,n){var s,a;if(n===v(e,t,r,i)>0)for(s=t;s<r;s+=i)a=g(s,e[s],e[s+1],a);else for(s=r-i;s>=t;s-=i)a=g(s,e[s],e[s+1],a);return a&&u(a,a.next)&&(m(a),a=a.next),a}function n(e,t){if(!e)return e;t||(t=e);var r,i=e;do if(r=!1,!i.steiner&&(u(i,i.next)||0===l(i.prev,i,i.next))){if(m(i),(i=t=i.prev)===i.next)break;r=!0}else i=i.next;while(r||i!==t)return t}function s(e,t){return e.x-t.x}function a(e,t,r,i,n){return(e=((e=((e=((e=((e=(e-r)*n|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)|(t=((t=((t=((t=((t=(t-i)*n|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)<<1}function o(e,t,r,i,n,s,a,o){return(n-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(i-o)>=(r-a)*(t-o)&&(r-a)*(s-o)>=(n-a)*(i-o)}function l(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function u(e,t){return e.x===t.x&&e.y===t.y}function h(e,t,r,i){var n=d(l(e,t,r)),s=d(l(e,t,i)),a=d(l(r,i,e)),o=d(l(r,i,t));return!!(n!==s&&a!==o||0===n&&c(e,r,t)||0===s&&c(e,i,t)||0===a&&c(r,e,i)||0===o&&c(r,t,i))}function c(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function d(e){return e>0?1:e<0?-1:0}function p(e,t){return 0>l(e.prev,e,e.next)?l(e,t,e.next)>=0&&l(e,e.prev,t)>=0:0>l(e,t,e.prev)||0>l(e,e.next,t)}function f(e,t){var r=new y(e.i,e.x,e.y),i=new y(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function g(e,t,r,i){var n=new y(e,t,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function m(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function y(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function v(e,t,r,i){for(var n=0,s=t,a=r-i;s<r;s+=i)n+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return n}e.exports=r,e.exports.default=r,r.deviation=function(e,t,r,i){var n=t&&t.length,s=n?t[0]*r:e.length,a=Math.abs(v(e,0,s,r));if(n)for(var o=0,l=t.length;o<l;o++){var u=t[o]*r,h=o<l-1?t[o+1]*r:e.length;a-=Math.abs(v(e,u,h,r))}var c=0;for(o=0;o<i.length;o+=3){var d=i[o]*r,p=i[o+1]*r,f=i[o+2]*r;c+=Math.abs((e[d]-e[f])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[f+1]-e[d+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},i=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var a=0;a<t;a++)r.vertices.push(e[n][s][a]);n>0&&(i+=e[n-1].length,r.holes.push(i))}return r}}),a("6AH2e",function(e,r){t(e.exports,"create",()=>n);var i=s("awmEs").Buffer;function n(){let e='const e="GENERATE_POLYGON_BUFFERS",t="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS";function r(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function x(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new Error(t)}(0!==n,"Transformation matrix cannot be inverted");const x=t[0],i=t[1],u=t[2],o=t[3],f=t[4],s=t[5];return e[0]=o/n,e[1]=-i/n,e[2]=-u/n,e[3]=x/n,e[4]=(u*s-o*f)/n,e[5]=-(x*s-i*f)/n,e}function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var u={exports:{}};function o(e,t,n){n=n||2;var r,x,i,u,o,s,l,v=t&&t.length,h=v?t[0]*n:e.length,c=f(e,0,h,n,!0),g=[];if(!c||c.next===c.prev)return g;if(v&&(c=function(e,t,n,r){var x,i,u,o=[];for(x=0,i=t.length;x<i;x++)(u=f(e,t[x]*r,x<i-1?t[x+1]*r:e.length,r,!1))===u.next&&(u.steiner=!0),o.push(d(u));for(o.sort(p),x=0;x<o.length;x++)n=y(o[x],n);return n}(e,t,c,n)),e.length>80*n){r=i=e[0],x=u=e[1];for(var b=n;b<h;b+=n)(o=e[b])<r&&(r=o),(s=e[b+1])<x&&(x=s),o>i&&(i=o),s>u&&(u=s);l=0!==(l=Math.max(i-r,u-x))?32767/l:0}return a(c,g,n,r,x,l,0),g}function f(e,t,n,r,x){var i,u;if(x===O(e,t,n,r)>0)for(i=t;i<n;i+=r)u=P(i,e[i],e[i+1],u);else for(i=n-r;i>=t;i-=r)u=P(i,e[i],e[i+1],u);return u&&m(u,u.next)&&(B(u),u=u.next),u}function s(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{if(B(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,x,i,u){if(e){!u&&i&&function(e,t,n,r){var x=e;do{0===x.z&&(x.z=b(x.x,x.y,t,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,function(e){var t,n,r,x,i,u,o,f,s=1;do{for(n=e,e=null,i=null,u=0;n;){for(u++,r=n,o=0,t=0;t<s&&(o++,r=r.nextZ);t++);for(f=s;o>0||f>0&&r;)0!==o&&(0===f||!r||n.z<=r.z)?(x=n,n=n.nextZ,o--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;n=r}i.nextZ=null,s*=2}while(u>1)}(x)}(e,r,x,i);for(var o,f,p=e;e.prev!==e.next;)if(o=e.prev,f=e.next,i?v(e,r,x,i):l(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),B(e),e=f.next,p=f.next;else if((e=f)===p){u?1===u?a(e=h(s(e),t,n),t,n,r,x,i,2):2===u&&c(e,t,n,r,x,i):a(s(e),t,n,r,x,i,1);break}}}function l(e){var t=e.prev,n=e,r=e.next;if(w(t,n,r)>=0)return!1;for(var x=t.x,i=n.x,u=r.x,o=t.y,f=n.y,s=r.y,a=x<i?x<u?x:u:i<u?i:u,l=o<f?o<s?o:s:f<s?f:s,v=x>i?x>u?x:u:i>u?i:u,h=o>f?o>s?o:s:f>s?f:s,c=r.next;c!==t;){if(c.x>=a&&c.x<=v&&c.y>=l&&c.y<=h&&M(x,o,i,f,u,s,c.x,c.y)&&w(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function v(e,t,n,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var o=x.x,f=i.x,s=u.x,a=x.y,l=i.y,v=u.y,h=o<f?o<s?o:s:f<s?f:s,c=a<l?a<v?a:v:l<v?l:v,p=o>f?o>s?o:s:f>s?f:s,y=a>l?a>v?a:v:l>v?l:v,g=b(h,c,t,n,r),d=b(p,y,t,n,r),Z=e.prevZ,m=e.nextZ;Z&&Z.z>=g&&m&&m.z<=d;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;if(Z=Z.prevZ,m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;Z&&Z.z>=g;){if(Z.x>=h&&Z.x<=p&&Z.y>=c&&Z.y<=y&&Z!==x&&Z!==u&&M(o,a,f,l,s,v,Z.x,Z.y)&&w(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;m&&m.z<=d;){if(m.x>=h&&m.x<=p&&m.y>=c&&m.y<=y&&m!==x&&m!==u&&M(o,a,f,l,s,v,m.x,m.y)&&w(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function h(e,t,n){var r=e;do{var x=r.prev,i=r.next.next;!m(x,i)&&A(x,r,r.next,i)&&z(x,i)&&z(i,x)&&(t.push(x.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),B(r),B(r.next),r=e=i),r=r.next}while(r!==e);return s(r)}function c(e,t,n,r,x,i){var u=e;do{for(var o=u.next.next;o!==u.prev;){if(u.i!==o.i&&Z(u,o)){var f=F(u,o);return u=s(u,u.next),f=s(f,f.next),a(u,t,n,r,x,i,0),void a(f,t,n,r,x,i,0)}o=o.next}u=u.next}while(u!==e)}function p(e,t){return e.x-t.x}function y(e,t){var n=function(e,t){var n,r=t,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var o=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=x&&o>u&&(u=o,n=r.x<r.next.x?r:r.next,o===x))return n}r=r.next}while(r!==t);if(!n)return null;var f,s=n,a=n.x,l=n.y,v=1/0;r=n;do{x>=r.x&&r.x>=a&&x!==r.x&&M(i<l?x:u,i,a,l,i<l?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),z(r,e)&&(f<v||f===v&&(r.x>n.x||r.x===n.x&&g(n,r)))&&(n=r,v=f)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;var r=F(n,e);return s(r,r.next),s(n,n.next)}function g(e,t){return w(e.prev,e,t.prev)<0&&w(t.next,e,e.next)<0}function b(e,t,n,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function M(e,t,n,r,x,i,u,o){return(x-u)*(t-o)>=(e-u)*(i-o)&&(e-u)*(r-o)>=(n-u)*(t-o)&&(n-u)*(i-o)>=(x-u)*(r-o)}function Z(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&A(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(z(e,t)&&z(t,e)&&function(e,t){var n=e,r=!1,x=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&x<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(w(e.prev,e,t.prev)||w(e,t.prev,t))||m(e,t)&&w(e.prev,e,e.next)>0&&w(t.prev,t,t.next)>0)}function w(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function A(e,t,n,r){var x=I(w(e,t,n)),i=I(w(e,t,r)),u=I(w(n,r,e)),o=I(w(n,r,t));return x!==i&&u!==o||(!(0!==x||!E(e,n,t))||(!(0!==i||!E(e,r,t))||(!(0!==u||!E(n,e,r))||!(0!==o||!E(n,t,r)))))}function E(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function I(e){return e>0?1:e<0?-1:0}function z(e,t){return w(e.prev,e,e.next)<0?w(e,t,e.next)>=0&&w(e,e.prev,t)>=0:w(e,t,e.prev)<0||w(e,e.next,t)<0}function F(e,t){var n=new _(e.i,e.x,e.y),r=new _(t.i,t.x,t.y),x=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=x,x.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function P(e,t,n,r){var x=new _(e,t,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function _(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,n,r){for(var x=0,i=t,u=n-r;i<n;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}u.exports=o,u.exports.default=o,o.deviation=function(e,t,n,r){var x=t&&t.length,i=x?t[0]*n:e.length,u=Math.abs(O(e,0,i,n));if(x)for(var o=0,f=t.length;o<f;o++){var s=t[o]*n,a=o<f-1?t[o+1]*n:e.length;u-=Math.abs(O(e,s,a,n))}var l=0;for(o=0;o<r.length;o+=3){var v=r[o]*n,h=r[o+1]*n,c=r[o+2]*n;l+=Math.abs((e[v]-e[c])*(e[h+1]-e[v+1])-(e[v]-e[h])*(e[c+1]-e[v+1]))}return 0===u&&0===l?0:Math.abs((l-u)/u)},o.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<t;u++)n.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,n.holes.push(r))}return n};var N=i(u.exports);const R=[],S={vertexPosition:0,indexPosition:0};function T(e,t,n,r,x){e[t+0]=n,e[t+1]=r,e[t+2]=x}function U(e,t,n,r,x,i){const u=3+x,o=e[t+0],f=e[t+1],s=R;s.length=x;for(let n=0;n<s.length;n++)s[n]=e[t+2+n];let a=i?i.vertexPosition:0,l=i?i.indexPosition:0;const v=a/u;return T(n,a,o,f,0),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,1),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,2),s.length&&n.set(s,a+3),a+=u,T(n,a,o,f,3),s.length&&n.set(s,a+3),a+=u,r[l++]=v,r[l++]=v+1,r[l++]=v+3,r[l++]=v+1,r[l++]=v+2,r[l++]=v+3,S.vertexPosition=a,S.indexPosition=l,S}function k(e,t,n,x,i,u,o,f,s,a,l){const v=8+f.length,h=u.length/v,c=[e[t+0],e[t+1]],p=[e[n],e[n+1]],y=r(s,[...c]),g=r(s,[...p]);function b(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),x=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-x[1],x[0]],u=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),o=[(n[0]-e[0])/u,(n[1]-e[1])/u],f=0===r||0===u?0:Math.acos((s=o[0]*x[0]+o[1]*x[1],a=-1,l=1,Math.min(Math.max(s,a),l)));var s,a,l;return o[0]*i[0]+o[1]*i[1]>0?f:2*Math.PI-f}let d=-1,M=-1,Z=l;const w=null!==i;if(null!==x){d=b(y,g,r(s,[...[e[x],e[x+1]]])),Math.cos(d)<=.985&&(Z+=Math.tan((d-Math.PI)/2))}if(w){M=b(g,y,r(s,[...[e[i],e[i+1]]])),Math.cos(M)<=.985&&(Z+=Math.tan((Math.PI-M)/2))}function m(e,t){return 0===t?1e4*e:Math.sign(t)*(1e4*e+Math.abs(t))}return u.push(c[0],c[1],p[0],p[1],d,M,a,m(0,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(1,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(2,l)),u.push(...f),u.push(c[0],c[1],p[0],p[1],d,M,a,m(3,l)),u.push(...f),o.push(h,h+1,h+2,h+1,h+3,h+2),{length:a+Math.sqrt((g[0]-y[0])*(g[0]-y[0])+(g[1]-y[1])*(g[1]-y[1])),angle:Z}}function G(e,t,n,r,x){const i=2+x;let u=t;const o=e.slice(u,u+x);u+=x;const f=e[u++];let s=0;const a=new Array(f-1);for(let t=0;t<f;t++)s+=e[u++],t<f-1&&(a[t]=s);const l=e.slice(u,u+2*s),v=N(l,a,2);for(let e=0;e<v.length;e++)r.push(v[e]+n.length/i);for(let e=0;e<l.length;e+=2)n.push(l[e],l[e+1],...o);return u+2*s}const j=self;j.onmessage=r=>{const i=r.data;switch(i.type){case t:{const e=3,t=2,n=i.customAttributesSize,r=t+n,x=new Float32Array(i.renderInstructions),u=x.length/r,o=4*u*(n+e),f=new Uint32Array(6*u),s=new Float32Array(o);let a;for(let e=0;e<x.length;e+=r)a=U(x,e,s,f,n,a);const l=Object.assign({vertexBuffer:s.buffer,indexBuffer:f.buffer,renderInstructions:x.buffer},i);j.postMessage(l,[s.buffer,f.buffer,x.buffer]);break}case n:{const e=[],t=[],n=i.customAttributesSize,r=2,u=new Float32Array(i.renderInstructions);let o=0;const f=[1,0,0,1,0,0];let s,a;for(x(f,i.renderInstructionsTransform);o<u.length;){a=Array.from(u.slice(o,o+n)),o+=n,s=u[o++];const x=o,i=o+(s-1)*r,l=u[x]===u[i]&&u[x+1]===u[i+1];let v=0,h=0;for(let n=0;n<s-1;n++){let c=null;n>0?c=o+(n-1)*r:l&&(c=i-r);let p=null;n<s-2?p=o+(n+2)*r:l&&(p=x+r);const y=k(u,o+n*r,o+(n+1)*r,c,p,e,t,a,f,v,h);v=y.length,h=y.angle}o+=s*r}const l=Uint32Array.from(t),v=Float32Array.from(e),h=Object.assign({vertexBuffer:v.buffer,indexBuffer:l.buffer,renderInstructions:u.buffer},i);j.postMessage(h,[v.buffer,l.buffer,u.buffer]);break}case e:{const e=[],t=[],n=i.customAttributesSize,r=new Float32Array(i.renderInstructions);let x=0;for(;x<r.length;)x=G(r,x,e,t,n);const u=Uint32Array.from(t),o=Float32Array.from(e),f=Object.assign({vertexBuffer:o.buffer,indexBuffer:u.buffer,renderInstructions:r.buffer},i);j.postMessage(f,[o.buffer,u.buffer,r.buffer]);break}}};';return new Worker("undefined"==typeof Blob?"data:application/javascript;base64,"+i.from(e,"binary").toString("base64"):URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}}),a("hQEK0",function(e,r){t(e.exports,"getWorldParameters",()=>n);var i=s("jZquI");function n(e,t){let r=e.viewState.projection,n=t.getSource().getWrapX()&&r.canWrapX(),s=r.getExtent(),a=e.extent,o=n?(0,i.getWidth)(s):null,l=n?Math.ceil((a[2]-s[2])/o)+1:1;return[n?Math.floor((a[0]-s[0])/o):0,l,o]}}),a("2q51R",function(e,r){t(e.exports,"ShaderBuilder",()=>u);var i=s("bxq6G"),n=s("avk8s"),a=s("77Abf");let o=`#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif
uniform mat4 u_projectionMatrix;
uniform mat4 u_screenToWorldMatrix;
uniform vec2 u_viewportSizePx;
uniform float u_pixelRatio;
uniform float u_globalAlpha;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
uniform float u_rotation;
uniform vec4 u_renderExtent;
uniform vec2 u_patternOrigin;
uniform float u_depth;
uniform mediump int u_hitDetection;

const float PI = 3.141592653589793238;
const float TWO_PI = 2.0 * PI;

// this used to produce an alpha-premultiplied color from a texture
vec4 samplePremultiplied(sampler2D sampler, vec2 texCoord) {
  vec4 color = texture2D(sampler, texCoord);
  return vec4(color.rgb * color.a, color.a);
}
`,l=(0,a.createDefaultStyle)();class u{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_=`vec2(${(0,n.numberToGlsl)(l["circle-radius"])} + ${(0,n.numberToGlsl)(.5*l["circle-stroke-width"])})`,this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=(0,n.colorToGlsl)(l["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=(0,n.numberToGlsl)(l["stroke-width"]),this.strokeColorExpression_=(0,n.colorToGlsl)(l["stroke-color"]),this.strokeOffsetExpression_="0.",this.strokeCapExpression_=(0,n.stringToGlsl)("round"),this.strokeJoinExpression_=(0,n.stringToGlsl)("round"),this.strokeMiterLimitExpression_="10.",this.strokeDistanceFieldExpression_="-1000.",this.hasFill_=!1,this.fillColorExpression_=(0,n.colorToGlsl)(l["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(e){return this.uniforms_.push(e),this}addAttribute(e){return this.attributes_.push(e),this}addVarying(e,t,r){return this.varyings_.push({name:e,type:t,expression:r}),this}setSymbolSizeExpression(e){return this.hasSymbol_=!0,this.symbolSizeExpression_=e,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(e){return this.symbolRotationExpression_=e,this}setSymbolOffsetExpression(e){return this.symbolOffsetExpression_=e,this}getSymbolOffsetExpression(){return this.symbolOffsetExpression_}setSymbolColorExpression(e){return this.hasSymbol_=!0,this.symbolColorExpression_=e,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(e){return this.texCoordExpression_=e,this}setFragmentDiscardExpression(e){return this.discardExpression_=e,this}getFragmentDiscardExpression(){return this.discardExpression_}setSymbolRotateWithView(e){return this.symbolRotateWithView_=e,this}setStrokeWidthExpression(e){return this.hasStroke_=!0,this.strokeWidthExpression_=e,this}setStrokeColorExpression(e){return this.hasStroke_=!0,this.strokeColorExpression_=e,this}getStrokeColorExpression(){return this.strokeColorExpression_}setStrokeOffsetExpression(e){return this.strokeOffsetExpression_=e,this}setStrokeCapExpression(e){return this.strokeCapExpression_=e,this}setStrokeJoinExpression(e){return this.strokeJoinExpression_=e,this}setStrokeMiterLimitExpression(e){return this.strokeMiterLimitExpression_=e,this}setStrokeDistanceFieldExpression(e){return this.strokeDistanceFieldExpression_=e,this}setFillColorExpression(e){return this.hasFill_=!0,this.fillColorExpression_=e,this}getFillColorExpression(){return this.fillColorExpression_}addVertexShaderFunction(e){this.vertexShaderFunctions_.includes(e)||this.vertexShaderFunctions_.push(e)}addFragmentShaderFunction(e){this.fragmentShaderFunctions_.includes(e)||this.fragmentShaderFunctions_.push(e)}getSymbolVertexShader(){return this.hasSymbol_?`${o}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n")}
attribute vec2 a_position;
attribute float a_index;
attribute vec4 a_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
varying vec4 v_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n")}
${this.vertexShaderFunctions_.join("\n")}
vec2 pxToScreen(vec2 coordPx) {
  vec2 scaled = coordPx / u_viewportSizePx / 0.5;
  return scaled;
}

vec2 screenToPx(vec2 coordScreen) {
  return (coordScreen * 0.5 + 0.5) * u_viewportSizePx;
}

void main(void) {
  v_quadSizePx = ${this.symbolSizeExpression_};
  vec2 halfSizePx = v_quadSizePx * 0.5;
  vec2 centerOffsetPx = ${this.symbolOffsetExpression_};
  vec2 offsetPx = centerOffsetPx;
  if (a_index == 0.0) {
    offsetPx -= halfSizePx;
  } else if (a_index == 1.0) {
    offsetPx += halfSizePx * vec2(1., -1.);
  } else if (a_index == 2.0) {
    offsetPx += halfSizePx;
  } else {
    offsetPx += halfSizePx * vec2(-1., 1.);
  }
  float angle = ${this.symbolRotationExpression_};
  ${this.symbolRotateWithView_?"angle += u_rotation;":""}
  float c = cos(-angle);
  float s = sin(-angle);
  offsetPx = vec2(c * offsetPx.x - s * offsetPx.y, s * offsetPx.x + c * offsetPx.y);
  vec4 center = u_projectionMatrix * vec4(a_position, 0.0, 1.0);
  gl_Position = center + vec4(pxToScreen(offsetPx), u_depth, 0.);
  vec4 texCoord = ${this.texCoordExpression_};
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  v_hitColor = a_hitColor;
  v_angle = angle;
  c = cos(-v_angle);
  s = sin(-v_angle);
  centerOffsetPx = vec2(c * centerOffsetPx.x - s * centerOffsetPx.y, s * centerOffsetPx.x + c * centerOffsetPx.y); 
  v_centerPx = screenToPx(center.xy) + centerOffsetPx;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join("\n")}
}`:null}getSymbolFragmentShader(){return this.hasSymbol_?`${o}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec4 v_hitColor;
varying vec2 v_centerPx;
varying float v_angle;
varying vec2 v_quadSizePx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n")}
${this.fragmentShaderFunctions_.join("\n")}

void main(void) {
  if (${this.discardExpression_}) { discard; }
  vec2 coordsPx = gl_FragCoord.xy / u_pixelRatio - v_centerPx; // relative to center
  float c = cos(v_angle);
  float s = sin(v_angle);
  coordsPx = vec2(c * coordsPx.x - s * coordsPx.y, s * coordsPx.x + c * coordsPx.y);
  gl_FragColor = ${this.symbolColorExpression_};
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.05) { discard; };
    gl_FragColor = v_hitColor;
  }
}`:null}getStrokeVertexShader(){return this.hasStroke_?`${o}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n")}
attribute vec2 a_position;
attribute float a_index;
attribute vec2 a_segmentStart;
attribute vec2 a_segmentEnd;
attribute float a_parameters;
attribute float a_distance;
attribute vec2 a_joinAngles;
attribute vec4 a_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join("\n")}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n")}
${this.vertexShaderFunctions_.join("\n")}
vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

vec4 pxToScreen(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return vec4(screenPos, u_depth, 1.0);
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

vec2 getJoinOffsetDirection(vec2 normalPx, float joinAngle) {
  float halfAngle = joinAngle / 2.0;
  float c = cos(halfAngle);
  float s = sin(halfAngle);
  vec2 angleBisectorNormal = vec2(s * normalPx.x + c * normalPx.y, -c * normalPx.x + s * normalPx.y);
  float length = 1.0 / s;
  return angleBisectorNormal * length;
}

vec2 getOffsetPoint(vec2 point, vec2 normal, float joinAngle, float offsetPx) {
  // if on a cap or the join angle is too high, offset the line along the segment normal
  if (cos(joinAngle) > 0.998 || isCap(joinAngle)) {
    return point - normal * offsetPx;
  }
  // offset is applied along the inverted normal (positive offset goes "right" relative to line direction)
  return point - getJoinOffsetDirection(normal, joinAngle) * offsetPx;
}

void main(void) {
  v_angleStart = a_joinAngles.x;
  v_angleEnd = a_joinAngles.y;
  float vertexNumber = floor(abs(a_parameters) / 10000. + 0.5);
  // we're reading the fractional part while keeping the sign (so -4.12 gives -0.12, 3.45 gives 0.45)
  float angleTangentSum = fract(abs(a_parameters) / 10000.) * 10000. * sign(a_parameters);

  float lineWidth = ${this.strokeWidthExpression_};
  float lineOffsetPx = ${this.strokeOffsetExpression_};

  // compute segment start/end in px with offset
  vec2 segmentStartPx = worldToPx(a_segmentStart);
  vec2 segmentEndPx = worldToPx(a_segmentEnd);
  vec2 tangentPx = normalize(segmentEndPx - segmentStartPx);
  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);
  segmentStartPx = getOffsetPoint(segmentStartPx, normalPx, v_angleStart, lineOffsetPx),
  segmentEndPx = getOffsetPoint(segmentEndPx, normalPx, v_angleEnd, lineOffsetPx);
  
  // compute current vertex position
  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;
  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;
  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;
  vec2 joinDirection;
  vec2 positionPx = vertexNumber < 1.5 ? segmentStartPx : segmentEndPx;
  // if angle is too high, do not make a proper join
  if (cos(angle) > ${i.LINESTRING_ANGLE_COSINE_CUTOFF} || isCap(angle)) {
    joinDirection = normalPx * normalDir - tangentPx * tangentDir;
  } else {
    joinDirection = getJoinOffsetDirection(normalPx * normalDir, angle);
  }
  positionPx = positionPx + joinDirection * lineWidth * 0.5;
  gl_Position = pxToScreen(positionPx);

  v_segmentStart = segmentStartPx;
  v_segmentEnd = segmentEndPx;
  v_width = lineWidth;
  v_hitColor = a_hitColor;
  v_distanceOffsetPx = a_distance / u_resolution - (lineOffsetPx * angleTangentSum);
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join("\n")}
}`:null}getStrokeFragmentShader(){return this.hasStroke_?`${o}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n")}
varying vec2 v_segmentStart;
varying vec2 v_segmentEnd;
varying float v_angleStart;
varying float v_angleEnd;
varying float v_width;
varying vec4 v_hitColor;
varying float v_distanceOffsetPx;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n")}
${this.fragmentShaderFunctions_.join("\n")}

vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

bool isCap(float joinAngle) {
  return joinAngle < -0.1;
}

float segmentDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  vec2 tangent = normalize(end - start);
  vec2 normal = vec2(-tangent.y, tangent.x);
  vec2 startToPoint = point - start;
  return abs(dot(startToPoint, normal)) - width * 0.5;
}

float buttCapDistanceField(vec2 point, vec2 start, vec2 end) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  return dot(startToPoint, -tangent);
}

float squareCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return buttCapDistanceField(point, start, end) - width * 0.5;
}

float roundCapDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  float onSegment = max(0., 1000. * dot(point - start, end - start)); // this is very high when inside the segment
  return length(point - start) - width * 0.5 - onSegment;
}

float roundJoinDistanceField(vec2 point, vec2 start, vec2 end, float width) {
  return roundCapDistanceField(point, start, end, width);
}

float bevelJoinField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  vec2 startToPoint = point - start;
  vec2 tangent = normalize(end - start);
  float c = cos(joinAngle * 0.5);
  float s = sin(joinAngle * 0.5);
  float direction = -sign(sin(joinAngle));
  vec2 bisector = vec2(c * tangent.x - s * tangent.y, s * tangent.x + c * tangent.y);
  float radius = width * 0.5 * s;
  return dot(startToPoint, bisector * direction) - radius;
}

float miterJoinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle) {
  if (cos(joinAngle) > ${i.LINESTRING_ANGLE_COSINE_CUTOFF}) { // avoid risking a division by zero
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  float miterLength = 1. / sin(joinAngle * 0.5);
  float miterLimit = ${this.strokeMiterLimitExpression_};
  if (miterLength > miterLimit) {
    return bevelJoinField(point, start, end, width, joinAngle);
  }
  return -1000.;
}

float capDistanceField(vec2 point, vec2 start, vec2 end, float width, float capType) {
   if (capType == ${(0,n.stringToGlsl)("butt")}) {
    return buttCapDistanceField(point, start, end);
  } else if (capType == ${(0,n.stringToGlsl)("square")}) {
    return squareCapDistanceField(point, start, end, width);
  }
  return roundCapDistanceField(point, start, end, width);
}

float joinDistanceField(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float joinType) {
  if (joinType == ${(0,n.stringToGlsl)("bevel")}) {
    return bevelJoinField(point, start, end, width, joinAngle);
  } else if (joinType == ${(0,n.stringToGlsl)("miter")}) {
    return miterJoinDistanceField(point, start, end, width, joinAngle);
  }
  return roundJoinDistanceField(point, start, end, width);
}

float computeSegmentPointDistance(vec2 point, vec2 start, vec2 end, float width, float joinAngle, float capType, float joinType) {
  if (isCap(joinAngle)) {
    return capDistanceField(point, start, end, width, capType);
  }
  return joinDistanceField(point, start, end, width, joinAngle, joinType);
}

void main(void) {
  vec2 currentPoint = gl_FragCoord.xy / u_pixelRatio;
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(currentPoint);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }

  float segmentLength = length(v_segmentEnd - v_segmentStart);
  vec2 segmentTangent = (v_segmentEnd - v_segmentStart) / segmentLength;
  vec2 segmentNormal = vec2(-segmentTangent.y, segmentTangent.x);
  vec2 startToPoint = currentPoint - v_segmentStart;
  float currentLengthPx = max(0., min(dot(segmentTangent, startToPoint), segmentLength)) + v_distanceOffsetPx; 
  float currentRadiusPx = abs(dot(segmentNormal, startToPoint));
  float currentRadiusRatio = dot(segmentNormal, startToPoint) * 2. / v_width;
  vec4 color = ${this.strokeColorExpression_} * u_globalAlpha;
  float capType = ${this.strokeCapExpression_};
  float joinType = ${this.strokeJoinExpression_};
  float segmentStartDistance = computeSegmentPointDistance(currentPoint, v_segmentStart, v_segmentEnd, v_width, v_angleStart, capType, joinType);
  float segmentEndDistance = computeSegmentPointDistance(currentPoint, v_segmentEnd, v_segmentStart, v_width, v_angleEnd, capType, joinType);
  float distance = max(
    segmentDistanceField(currentPoint, v_segmentStart, v_segmentEnd, v_width),
    max(segmentStartDistance, segmentEndDistance)
  );
  distance = max(distance, ${this.strokeDistanceFieldExpression_});
  gl_FragColor = color * smoothstep(0., -1., distance);
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_hitColor;
  }
}`:null}getFillVertexShader(){return this.hasFill_?`${o}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n")}
attribute vec2 a_position;
attribute vec4 a_hitColor;
${this.attributes_.map(function(e){return"attribute "+e+";"}).join("\n")}
varying vec4 v_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n")}
${this.vertexShaderFunctions_.join("\n")}
void main(void) {
  gl_Position = u_projectionMatrix * vec4(a_position, u_depth, 1.0);
  v_hitColor = a_hitColor;
${this.varyings_.map(function(e){return"  "+e.name+" = "+e.expression+";"}).join("\n")}
}`:null}getFillFragmentShader(){return this.hasFill_?`${o}
${this.uniforms_.map(function(e){return"uniform "+e+";"}).join("\n")}
varying vec4 v_hitColor;
${this.varyings_.map(function(e){return"varying "+e.type+" "+e.name+";"}).join("\n")}
${this.fragmentShaderFunctions_.join("\n")}
vec2 pxToWorld(vec2 pxPos) {
  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;
  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;
}

vec2 worldToPx(vec2 worldPos) {
  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);
  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;
}

void main(void) {
  vec2 pxPos = gl_FragCoord.xy / u_pixelRatio;
  vec2 pxOrigin = worldToPx(u_patternOrigin);
  #ifdef GL_FRAGMENT_PRECISION_HIGH
  vec2 worldPos = pxToWorld(pxPos);
  if (
    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (
      worldPos[0] < u_renderExtent[0] ||
      worldPos[1] < u_renderExtent[1] ||
      worldPos[0] > u_renderExtent[2] ||
      worldPos[1] > u_renderExtent[3]
    )
  ) {
    discard;
  }
  #endif
  if (${this.discardExpression_}) { discard; }
  gl_FragColor = ${this.fillColorExpression_} * u_globalAlpha;
  if (u_hitDetection > 0) {
    if (gl_FragColor.a < 0.1) { discard; };
    gl_FragColor = v_hitColor;
  }
}`:null}}}),a("avk8s",function(e,r){t(e.exports,"numberToGlsl",()=>l),t(e.exports,"arrayToGlsl",()=>u),t(e.exports,"colorToGlsl",()=>h),t(e.exports,"getStringNumberEquivalent",()=>p),t(e.exports,"stringToGlsl",()=>f),t(e.exports,"uniformNameForVariable",()=>g),t(e.exports,"newCompilationContext",()=>m),t(e.exports,"PALETTE_TEXTURE_ARRAY",()=>v),t(e.exports,"buildExpression",()=>b);var i=s("bzfCn"),n=s("3oUFG"),a=s("dAsIA"),o=s("lqNjm");function l(e){let t=e.toString();return t.includes(".")?t:t+".0"}function u(e){if(e.length<2||e.length>4)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${e.length}(${e.map(l).join(", ")})`}function h(e){let t=(0,o.asArray)(e),r=t.length>3?t[3]:1;return u([t[0]/255*r,t[1]/255*r,t[2]/255*r,r])}let c={},d=0;function p(e){return e in c||(c[e]=d++),c[e]}function f(e){return l(p(e))}function g(e){return"u_var_"+e}function m(){return{inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,style:{}}}let y="getBandValue",v="u_paletteTextures";function b(e,t,r,i){let s=(0,n.parse)(e,r,t);if((0,n.isType)(s.type,n.NoneType))throw Error("No matching type was found");if(!(0,n.overlapsType)(t,s.type)){let e=(0,n.typeName)(t),r=(0,n.typeName)(s.type);throw Error(`Expected expression to be of type ${e}, got ${r}`)}return _(s,t,i)}function x(e){return(t,r,i)=>{let n=r.args.length,s=Array(n);for(let e=0;e<n;++e)s[e]=_(r.args[e],i,t);return e(s,t)}}let E={[n.Ops.Get]:(e,t)=>{let r=t.args[0].value;return r in e.properties||(e.properties[r]={name:r,type:t.type}),(e.inFragmentShader?"v_prop_":"a_prop_")+r},[n.Ops.GeometryType]:(e,t,r)=>{let i="geometryType",s=e=>{let t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return s(e.getGeometries()[0])}};return i in e.properties||(e.properties[i]={name:i,type:n.StringType,evaluator:e=>s(e.getGeometry())}),(e.inFragmentShader?"v_prop_":"a_prop_")+i},[n.Ops.Var]:(e,t)=>{let r=t.args[0].value;return r in e.variables||(e.variables[r]={name:r,type:t.type}),g(r)},[n.Ops.Resolution]:()=>"u_resolution",[n.Ops.Zoom]:()=>"u_zoom",[n.Ops.Time]:()=>"u_time",[n.Ops.Any]:x(e=>`(${e.join(" || ")})`),[n.Ops.All]:x(e=>`(${e.join(" && ")})`),[n.Ops.Not]:x(([e])=>`(!${e})`),[n.Ops.Equal]:x(([e,t])=>`(${e} == ${t})`),[n.Ops.NotEqual]:x(([e,t])=>`(${e} != ${t})`),[n.Ops.GreaterThan]:x(([e,t])=>`(${e} > ${t})`),[n.Ops.GreaterThanOrEqualTo]:x(([e,t])=>`(${e} >= ${t})`),[n.Ops.LessThan]:x(([e,t])=>`(${e} < ${t})`),[n.Ops.LessThanOrEqualTo]:x(([e,t])=>`(${e} <= ${t})`),[n.Ops.Multiply]:x(e=>`(${e.join(" * ")})`),[n.Ops.Divide]:x(([e,t])=>`(${e} / ${t})`),[n.Ops.Add]:x(e=>`(${e.join(" + ")})`),[n.Ops.Subtract]:x(([e,t])=>`(${e} - ${t})`),[n.Ops.Clamp]:x(([e,t,r])=>`clamp(${e}, ${t}, ${r})`),[n.Ops.Mod]:x(([e,t])=>`mod(${e}, ${t})`),[n.Ops.Pow]:x(([e,t])=>`pow(${e}, ${t})`),[n.Ops.Abs]:x(([e])=>`abs(${e})`),[n.Ops.Floor]:x(([e])=>`floor(${e})`),[n.Ops.Ceil]:x(([e])=>`ceil(${e})`),[n.Ops.Round]:x(([e])=>`floor(${e} + 0.5)`),[n.Ops.Sin]:x(([e])=>`sin(${e})`),[n.Ops.Cos]:x(([e])=>`cos(${e})`),[n.Ops.Atan]:x(([e,t])=>void 0!==t?`atan(${e}, ${t})`:`atan(${e})`),[n.Ops.Sqrt]:x(([e])=>`sqrt(${e})`),[n.Ops.Match]:x(e=>{let t=e[0],r=e[e.length-1],i=null;for(let n=e.length-3;n>=1;n-=2){let s=e[n],a=e[n+1];i=`(${t} == ${s} ? ${a} : ${i||r})`}return i}),[n.Ops.Between]:x(([e,t,r])=>`(${e} >= ${t} && ${e} <= ${r})`),[n.Ops.Interpolate]:x(([e,t,...r])=>{let i="";for(let n=0;n<r.length-2;n+=2){let s;let a=r[n],o=i||r[n+1],u=r[n+2],h=r[n+3];s=e===l(1)?`(${t} - ${a}) / (${u} - ${a})`:`(pow(${e}, (${t} - ${a})) - 1.0) / (pow(${e}, (${u} - ${a})) - 1.0)`,i=`mix(${o}, ${h}, clamp(${s}, 0.0, 1.0))`}return i}),[n.Ops.Case]:x(e=>{let t=e[e.length-1],r=null;for(let i=e.length-3;i>=0;i-=2){let n=e[i],s=e[i+1];r=`(${n} ? ${s} : ${r||t})`}return r}),[n.Ops.In]:x(([e,...t],r)=>{let i=`operator_in_${Object.keys(r.functions).length}`,n=[];for(let e=0;e<t.length;e+=1)n.push(`  if (inputValue == ${t[e]}) { return true; }`);return r.functions[i]=`bool ${i}(float inputValue) {
${n.join("\n")}
  return false;
}`,`${i}(${e})`}),[n.Ops.Array]:x(e=>`vec${e.length}(${e.join(", ")})`),[n.Ops.Color]:x(e=>{let t=e.slice(0,3).map(e=>`${e} / 255.0`);if(3===e.length)return`vec4(${t.join(", ")}, 1.0)`;let r=e[3];return`(${r} * vec4(${t.join(", ")}, 1.0))`}),[n.Ops.Band]:x(([e,t,r],i)=>{if(!(y in i.functions)){let e="",t=i.bandCount||1;for(let r=0;r<t;r++){let i=Math.floor(r/4),n=r%4;r===t-1&&1===n&&(n=3);let s=`${a.Uniforms.TILE_TEXTURE_ARRAY}[${i}]`;e+=`  if (band == ${r+1}.0) {
    return texture2D(${s}, v_textureCoord + vec2(dx, dy))[${n}];
  }
`}i.functions[y]=`float getBandValue(float band, float xOffset, float yOffset) {
  float dx = xOffset / ${a.Uniforms.TEXTURE_PIXEL_WIDTH};
  float dy = yOffset / ${a.Uniforms.TEXTURE_PIXEL_HEIGHT};
${e}
}`}return`${y}(${e}, ${t??"0.0"}, ${r??"0.0"})`}),[n.Ops.Palette]:(e,t)=>{let[r,...s]=t.args,a=s.length,l=new Uint8Array(4*a);for(let e=0;e<s.length;e++){let t=s[e].value,r=(0,o.asArray)(t),i=4*e;l[i]=r[0],l[i+1]=r[1],l[i+2]=r[2],l[i+3]=255*r[3]}e.paletteTextures||(e.paletteTextures=[]);let u=`${v}[${e.paletteTextures.length}]`,h=new i.default(u,l);e.paletteTextures.push(h);let c=_(r,n.NumberType,e);return`texture2D(${u}, vec2((${c} + 0.5) / ${a}.0, 0.5))`}};function _(e,t,r){if(e instanceof n.CallExpression){let i=E[e.operator];if(void 0===i)throw Error(`No compiler defined for this operator: ${JSON.stringify(e.operator)}`);return i(r,e,t)}if((e.type&n.NumberType)>0)return l(e.value);if((e.type&n.BooleanType)>0)return e.value.toString();if((e.type&n.StringType)>0)return f(e.value.toString());if((e.type&n.ColorType)>0)return h(e.value);if((e.type&n.NumberArrayType)>0)return u(e.value);throw Error(`Unexpected expression ${e.value} (expected type ${(0,n.typeName)(t)})`)}}),a("bzfCn",function(e,r){t(e.exports,"default",()=>i);var i=class{constructor(e,t){this.name=e,this.data=t,this.texture_=null}getTexture(e){if(!this.texture_){let t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=t}return this.texture_}}}),a("dAsIA",function(e,r){t(e.exports,"Uniforms",()=>y),t(e.exports,"Attributes",()=>v),t(e.exports,"default",()=>E);var i=s("fNlm8"),n=s("lUH7Q"),a=s("av38f"),o=s("1fBMl"),l=s("77SUz"),u=s("fOidj"),h=s("knkkM"),c=s("5XVOZ"),d=s("14PDX"),p=s("jZquI"),f=s("gzr8q"),g=s("jYEYW"),m=s("6BjcK");let y={...u.Uniforms,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},v={TEXTURE_COORD:"a_textureCoord"},b=[{name:v.TEXTURE_COORD,size:2,type:h.AttributeType.FLOAT}];class x extends u.default{constructor(e,t){super(e,t),this.program_,this.vertexShader_=t.vertexShader,this.fragmentShader_=t.fragmentShader,this.indices_=new l.default(c.ELEMENT_ARRAY_BUFFER,c.STATIC_DRAW),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=t.paletteTextures||[]}reset(e){super.reset(e),this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.paletteTextures_=e.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}createTileRepresentation(e){return new o.default(e)}beforeTilesRender(e,t){super.beforeTilesRender(e,t),this.helper.useProgram(this.program_,e)}renderTile(e,t,r,i,n,s,a,o,l,u,h){let c=this.helper.getGL();this.helper.bindBuffer(e.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(b);let d=0;for(;d<e.textures.length;){let t=`${y.TILE_TEXTURE_ARRAY}[${d}]`;this.helper.bindTexture(e.textures[d],d,t),++d}for(let e=0;e<this.paletteTextures_.length;++e){let t=this.paletteTextures_[e],r=t.getTexture(c);this.helper.bindTexture(r,d,t.name),++d}let f=r.viewState,m=s[0]+2*u,v=s[1]+2*u,x=e.tile.tileCoord,E=x[1],_=x[2];this.helper.setUniformMatrixValue(y.TILE_TRANSFORM,(0,g.fromTransform)(this.tempMat4,t)),this.helper.setUniformFloatValue(y.TRANSITION_ALPHA,h),this.helper.setUniformFloatValue(y.DEPTH,l);let S=i;u>0&&(S=o,(0,p.getIntersection)(S,i,S)),this.helper.setUniformFloatVec4(y.RENDER_EXTENT,S),this.helper.setUniformFloatValue(y.RESOLUTION,f.resolution),this.helper.setUniformFloatValue(y.ZOOM,f.zoom),this.helper.setUniformFloatValue(y.TEXTURE_PIXEL_WIDTH,m),this.helper.setUniformFloatValue(y.TEXTURE_PIXEL_HEIGHT,v),this.helper.setUniformFloatValue(y.TEXTURE_RESOLUTION,n),this.helper.setUniformFloatValue(y.TEXTURE_ORIGIN_X,a[0]+E*s[0]*n-u*n),this.helper.setUniformFloatValue(y.TEXTURE_ORIGIN_Y,a[1]-_*s[1]*n+u*n),this.helper.drawElements(0,this.indices_.getSize())}getData(e){let t,r,s;if(!this.helper.getGL())return null;let o=this.frameState;if(!o)return null;let l=this.getLayer(),h=(0,d.apply)(o.pixelToCoordinateTransform,e.slice()),c=o.viewState,g=l.getExtent();if(g&&!(0,p.containsCoordinate)((0,f.fromUserExtent)(g,c.projection),h))return null;let y=l.getSources((0,p.boundingExtent)([h]),c.resolution);for(t=y.length-1;t>=0;--t)if("ready"===(r=y[t]).getState()){if(s=r.getTileGridForProjection(c.projection),r.getWrapX())break;let e=s.getExtent();if(!e||(0,p.containsCoordinate)(e,h))break}if(t<0)return null;let v=this.tileRepresentationCache;for(let e=s.getZForResolution(c.resolution);e>=s.getMinZoom();--e){let t=s.getTileCoordForCoordAndZ(h,e),o=(0,u.getCacheKey)(r,t);if(!v.containsKey(o))continue;let l=v.get(o),c=l.tile;if((c instanceof n.default||c instanceof i.default)&&c.getState()===a.default.EMPTY)break;if(!l.loaded)continue;let d=s.getOrigin(e),p=(0,m.toSize)(s.getTileSize(e)),f=s.getResolution(e),g=(h[0]-d[0])/f-t[1]*p[0],y=(d[1]-h[1])/f-t[2]*p[1];return l.getPixelData(g,y)}return null}disposeInternal(){let e=this.helper;e&&(e.getGL().deleteProgram(this.program_),delete this.program_,e.deleteBuffer(this.indices_)),super.disposeInternal(),delete this.indices_}}var E=x}),a("fNlm8",function(e,r){t(e.exports,"default",()=>g);var i=s("9ndmc"),n=s("hyFBJ"),a=s("cw4dl"),o=s("av38f"),l=s("9JHmh"),u=s("gpSXC"),h=s("a6roo"),c=s("cgxQK"),d=s("jZquI"),p=s("bsgMw");class f extends n.default{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8Array(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;let t=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),r=this.targetTileGrid_.getExtent(),n=this.sourceTileGrid_.getExtent(),s=r?(0,d.getIntersection)(t,r):t;if(0===(0,d.getArea)(s)){this.state=o.default.EMPTY;return}let a=e.sourceProj,c=a.getExtent();c&&(n=n?(0,d.getIntersection)(n,c):c);let p=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),f=e.targetProj,g=(0,u.calculateSourceExtentResolution)(a,f,s,p);if(!isFinite(g)||g<=0){this.state=o.default.EMPTY;return}let m=void 0!==e.errorThreshold?e.errorThreshold:i.ERROR_THRESHOLD;if(this.triangulation_=new l.default(a,f,s,n,g*m,p),0===this.triangulation_.getTriangles().length){this.state=o.default.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(g);let y=this.triangulation_.calculateSourceExtent();if(n&&(a.canWrapX()?(y[1]=(0,h.clamp)(y[1],n[1],n[3]),y[3]=(0,h.clamp)(y[3],n[1],n[3])):y=(0,d.getIntersection)(y,n)),(0,d.getArea)(y)){let t=this.sourceTileGrid_.getTileRangeForExtentAndZ(y,this.sourceZ_),r=e.getTileFunction;for(let e=t.minX;e<=t.maxX;e++)for(let i=t.minY;i<=t.maxY;i++){let t=r(this.sourceZ_,e,i,this.pixelRatio_);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=o.default.EMPTY)}else this.state=o.default.EMPTY}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){let e=[];if(this.sourceTiles_.forEach(t=>{let r;if(!t||t.getState()!==o.default.LOADED)return;let i=t.getSize(),s=this.gutter_;r=(0,n.asArrayLike)(t.getData())||(0,n.toArray)((0,n.asImageLike)(t.getData()));let a=[i[0]+2*s,i[1]+2*s],l=r instanceof Float32Array,u=a[0]*a[1],h=l?Float32Array:Uint8Array,c=new h(r.buffer),d=h.BYTES_PER_ELEMENT,p=d*c.length/u,f=c.byteLength/a[1],g=Math.floor(f/d/a[0]),m=u*g,y=c;if(c.length!==m){y=new h(m);let e=0,t=0,r=a[0]*g;for(let i=0;i<a[1];++i){for(let i=0;i<r;++i)y[e++]=c[t+i];t+=f/d}}e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),data:new Uint8Array(y.buffer),dataType:h,bytesPerPixel:p,pixelSize:a})}),this.sourceTiles_.length=0,0===e.length)this.state=o.default.ERROR;else{let t,r;let i=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(i),s="number"==typeof n?n:n[0],a="number"==typeof n?n:n[1],l=this.targetTileGrid_.getResolution(i),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),p=e[0].bytesPerPixel,f=Math.ceil(p/3);for(let i=f-1;i>=0;--i){let n=[];for(let t=0,r=e.length;t<r;++t){let r=e[t],s=r.data,a=r.pixelSize,o=a[0],l=a[1],h=(0,c.createCanvasContext2D)(o,l,u.canvasPool),d=h.createImageData(o,l),f=d.data,g=3*i;for(let e=0,t=f.length;e<t;e+=4)f[e]=s[g],f[e+1]=s[g+1],f[e+2]=s[g+2],f[e+3]=255,g+=p;h.putImageData(d,0,0),n.push({extent:r.extent,image:h.canvas})}let o=(0,u.render)(s,a,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),l,d,this.triangulation_,n,this.gutter_,!1,!1);for(let e=0,t=n.length;e<t;++e){let t=n[e].image.getContext("2d");(0,c.releaseCanvas)(t),(0,u.canvasPool).push(t.canvas)}let f=o.getContext("2d"),g=f.getImageData(0,0,o.width,o.height);(0,c.releaseCanvas)(f),(0,u.canvasPool).push(o),t||(r=new Uint8Array(p*g.width*g.height),t=new e[0].dataType(r.buffer));let m=g.data,y=3*i;for(let e=0,t=m.length;e<t;e+=4)255===m[e+3]?(r[y]=m[e],r[y+1]=m[e+1],r[y+2]=m[e+2]):(r[y]=0,r[y+1]=0,r[y+2]=0),y+=p}this.reprojData_=t,this.reprojSize_=[Math.round(s*this.pixelRatio_),Math.round(a*this.pixelRatio_)],this.state=o.default.LOADED}this.changed()}load(){if(this.state!==o.default.IDLE&&this.state!==o.default.ERROR)return;this.state=o.default.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(t=>{let r=t.getState();if(r!==o.default.IDLE&&r!==o.default.LOADING)return;e++;let i=(0,p.listen)(t,a.default.CHANGE,function(){let r=t.getState();(r==o.default.LOADED||r==o.default.ERROR||r==o.default.EMPTY)&&((0,p.unlistenByKey)(i),0==--e&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e){e.getState()==o.default.IDLE&&e.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(p.unlistenByKey),this.sourcesListenerKeys_=null}}var g=f}),a("hyFBJ",function(e,r){t(e.exports,"asImageLike",()=>o),t(e.exports,"asArrayLike",()=>l),t(e.exports,"toArray",()=>h),t(e.exports,"default",()=>p);var i=s("hMeZw"),n=s("av38f"),a=s("cgxQK");function o(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}function l(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e instanceof DataView?e:null}let u=null;function h(e){u||(u=(0,a.createCanvasContext2D)(e.width,e.height,void 0,{willReadFrequently:!0}));let t=u.canvas,r=e.width;t.width!==r&&(t.width=r);let i=e.height;return t.height!==i&&(t.height=i),u.clearRect(0,0,r,i),u.drawImage(e,0,0),u.getImageData(0,0,r,i).data}let c=[256,256];class d extends i.default{constructor(e){super(e.tileCoord,n.default.IDLE,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null}getSize(){if(this.size_)return this.size_;let e=o(this.data_);return e?[e.width,e.height]:c}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==n.default.IDLE&&this.state!==n.default.ERROR)return;this.state=n.default.LOADING,this.changed();let e=this;this.loader_().then(function(t){e.data_=t,e.state=n.default.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=n.default.ERROR,e.changed()})}}var p=d}),a("1fBMl",function(e,r){t(e.exports,"default",()=>y);var i=s("2LCvK"),n=s("hyFBJ"),a=s("cw4dl"),o=s("6EHBB"),l=s("lUH7Q"),u=s("77SUz"),h=s("5XVOZ"),c=s("cgxQK"),d=s("6BjcK");function p(e,t,r){let i=r?e.LINEAR:e.NEAREST;e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i)}function f(e,t,r,i,n,s){let a,o,l;let u=e.getGL();r instanceof Float32Array?(a=u.FLOAT,e.getExtension("OES_texture_float"),o=null!==e.getExtension("OES_texture_float_linear")):(a=u.UNSIGNED_BYTE,o=!0),p(u,t,s&&o);let h=r.byteLength/i[1],c=1;switch(h%8==0?c=8:h%4==0?c=4:h%2==0&&(c=2),n){case 1:l=u.LUMINANCE;break;case 2:l=u.LUMINANCE_ALPHA;break;case 3:l=u.RGB;break;case 4:l=u.RGBA;break;default:throw Error(`Unsupported number of bands: ${n}`)}let d=u.getParameter(u.UNPACK_ALIGNMENT);u.pixelStorei(u.UNPACK_ALIGNMENT,c),u.texImage2D(u.TEXTURE_2D,0,l,i[0],i[1],0,l,a,r),u.pixelStorei(u.UNPACK_ALIGNMENT,d)}let g=null;class m extends i.default{constructor(e){super(e),this.textures=[],this.renderSize_=(0,d.toSize)(e.grid.getTileSize(e.tile.tileCoord[0])),this.bandCount=NaN;let t=new u.default(h.ARRAY_BUFFER,h.STATIC_DRAW);t.fromArray([0,1,1,1,1,0,0,0]),this.helper_.flushBufferData(t),this.coords=t,this.setTile(e.tile)}uploadTile(){let e;let t=this.helper_,r=t.getGL(),i=this.tile;this.textures.length=0,e=i instanceof o.default||i instanceof l.default?i.getImage():i.getData();let s=(0,n.asImageLike)(e);if(s){let e=r.createTexture();this.textures.push(e),this.bandCount=4,p(r,e,i.interpolate),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,s),this.setReady();return}e=(0,n.asArrayLike)(e);let a=i.getSize(),u=[a[0]+2*this.gutter_,a[1]+2*this.gutter_],h=e instanceof Float32Array,c=u[0]*u[1],d=h?Float32Array:Uint8Array,g=d.BYTES_PER_ELEMENT,m=e.byteLength/u[1];this.bandCount=Math.floor(m/g/u[0]);let y=Math.ceil(this.bandCount/4);if(1===y){let n=r.createTexture();this.textures.push(n),f(t,n,e,u,this.bandCount,i.interpolate),this.setReady();return}let v=Array(y);for(let e=0;e<y;++e){let t=r.createTexture();this.textures.push(t);let i=e<y-1?4:(this.bandCount-1)%4+1;v[e]=new d(c*i)}let b=0,x=0,E=u[0]*this.bandCount;for(let t=0;t<u[1];++t){for(let t=0;t<E;++t){let r=e[x+t],i=Math.floor(b/this.bandCount),n=t%this.bandCount,s=v[Math.floor(n/4)],a=s.length/c;s[i*a+n%4]=r,++b}x+=m/g}for(let e=0;e<y;++e){let r=this.textures[e],n=v[e],s=n.length/c;f(t,r,n,u,s,i.interpolate)}this.setReady()}disposeInternal(){let e=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(let t=0;t<this.textures.length;++t)e.deleteTexture(this.textures[t]);this.tile.removeEventListener(a.default.CHANGE,this.handleTileChange_)}getImagePixelData_(e,t,r){let i;let n=this.gutter_,s=this.renderSize_[0],a=this.renderSize_[1];g||(g=(0,c.createCanvasContext2D)(1,1,void 0,{willReadFrequently:!0})),g.clearRect(0,0,1,1);let o=e.width,l=e.height;try{g.drawImage(e,n+Math.floor(t/s*(o-2*n)),n+Math.floor(r/a*(l-2*n)),1,1,0,0,1,1),i=g.getImageData(0,0,1,1).data}catch(e){return g=null,null}return i}getArrayPixelData_(e,t,r,i){let n=this.gutter_,s=this.renderSize_[0],a=this.renderSize_[1],o=t[0],l=t[1],u=o+2*n,h=n+Math.floor(r/s*o),c=n+Math.floor(i/a*l);if(e instanceof DataView){let t=e.byteLength/(u*(l+2*n)),r=t*(c*u+h),i=e.buffer.slice(r,r+t);return new DataView(i)}let d=this.bandCount*(c*u+h);return e.slice(d,d+this.bandCount)}getPixelData(e,t){if(!this.loaded)return null;if(this.tile instanceof n.default){let r=this.tile.getData(),i=(0,n.asArrayLike)(r);if(i){let r=this.tile.getSize();return this.getArrayPixelData_(i,r,e,t)}return this.getImagePixelData_((0,n.asImageLike)(r),e,t)}return this.getImagePixelData_(this.tile.getImage(),e,t)}}var y=m}),a("2LCvK",function(e,r){t(e.exports,"default",()=>h);var i=s("9LzRi"),n=s("cw4dl"),a=s("6EHBB"),o=s("av38f"),l=s("lVQul");class u extends i.default{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter_=e.gutter||0,this.helper_=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile){if(this.tile&&this.tile.removeEventListener(n.default.CHANGE,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===o.default.LOADED,this.loaded)this.uploadTile();else{if(e instanceof a.default){let t=e.getImage();t instanceof Image&&!t.crossOrigin&&(t.crossOrigin="anonymous")}e.addEventListener(n.default.CHANGE,this.handleTileChange_)}}}uploadTile(){(0,l.abstract)()}setReady(){this.ready=!0,this.dispatchEvent(n.default.CHANGE)}handleTileChange_(){this.tile.getState()===o.default.LOADED&&(this.loaded=!0,this.uploadTile())}disposeInternal(){this.tile.removeEventListener(n.default.CHANGE,this.handleTileChange_)}}var h=u}),a("fOidj",function(e,r){t(e.exports,"Uniforms",()=>v),t(e.exports,"getCacheKey",()=>S),t(e.exports,"default",()=>R);var i=s("1rfTO"),n=s("fNlm8"),a=s("lUH7Q"),o=s("jRKCY"),l=s("av38f"),u=s("iHIuK"),h=s("lVQul"),c=s("jYEYW"),d=s("9YraL"),p=s("14PDX"),f=s("kBSVF"),g=s("gzr8q"),m=s("jZquI"),y=s("6BjcK");let v={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"},b={};function x(e,t){return e.tileIds.has((0,h.getUid)(t))}function E(e,t,r){let i=e.representationsByZ;r in i||(i[r]=new Set),i[r].add(t),e.tileIds.add((0,h.getUid)(t.tile))}function _(e,t){let r=e.layerStatesArray[e.layerIndex];r.extent&&(t=(0,m.getIntersection)(t,(0,g.fromUserExtent)(r.extent,e.viewState.projection)));let i=r.layer.getRenderSource();if(!i.getWrapX()){let r=i.getTileGridForProjection(e.viewState.projection).getExtent();r&&(t=(0,m.getIntersection)(t,r))}return t}function S(e,t){return`${e.getKey()},${(0,d.getKey)(t)}`}class O extends u.default{constructor(e,t){super(e,{uniforms:t.uniforms,postProcesses:t.postProcesses}),this.renderComplete=!1,this.tileTransform_=(0,p.create)(),this.tempMat4=(0,c.create)(),this.tempTileRange_=new o.default(0,0,0,0),this.tempTileCoord_=(0,d.createOrUpdate)(0,0,0),this.tempSize_=[0,0];let r=void 0!==t.cacheSize?t.cacheSize:512;this.tileRepresentationCache=new i.default(r),this.frameState=null,this.projection_=void 0}reset(e){super.reset({uniforms:e.uniforms})}isDrawableTile_(e){let t=this.getLayer(),r=e.getState(),i=t.getUseInterimTilesOnError();return r==l.default.LOADED||r==l.default.EMPTY||r==l.default.ERROR&&!i}prepareFrameInternal(e){this.projection_?e.viewState.projection!==this.projection_&&(this.clearCache(),this.projection_=e.viewState.projection):this.projection_=e.viewState.projection;let t=this.getLayer().getRenderSource();return!(!t||(0,m.isEmpty)(_(e,e.extent)))&&"ready"===t.getState()}createTileRepresentation(e){return(0,h.abstract)()}enqueueTiles(e,t,r,i,n){let s=e.viewState,a=this.getLayer(),o=a.getRenderSource(),u=o.getTileGridForProjection(s.projection),c=o.getGutterForProjection(s.projection),p=(0,h.getUid)(o);p in e.wantedTiles||(e.wantedTiles[p]={});let f=e.wantedTiles[p],g=this.tileRepresentationCache,m=a.getMapInternal(),y=Math.max(r-n,u.getMinZoom(),u.getZForResolution(Math.min(a.getMaxResolution(),m?m.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):u.getResolution(0)),o.zDirection));for(let n=r;n>=y;--n){let r=u.getTileRangeForExtentAndZ(t,n,this.tempTileRange_),a=u.getResolution(n);for(let t=r.minX;t<=r.maxX;++t)for(let h=r.minY;h<=r.maxY;++h){let r,m;let y=(0,d.createOrUpdate)(n,t,h,this.tempTileCoord_),v=S(o,y);if(g.containsKey(v)&&(m=(r=g.get(v)).tile),r&&r.tile.key===o.getKey()||(m=o.getTile(n,t,h,e.pixelRatio,s.projection)),x(i,m))continue;if(r){if(this.isDrawableTile_(m))r.setTile(m);else{let e=m.getInterimTile();r.setTile(e)}}else r=this.createTileRepresentation({tile:m,grid:u,helper:this.helper,gutter:c}),g.set(v,r);E(i,r,n);let b=m.getKey();f[b]=!0,m.getState()!==l.default.IDLE||e.tileQueue.isKeyQueued(b)||e.tileQueue.enqueue([m,p,u.getTileCoordCenter(y),a])}}}beforeTilesRender(e,t){this.helper.prepareDraw(this.frameState,!t,!0)}beforeTilesMaskRender(e){return!1}renderTile(e,t,r,i,n,s,a,o,l,u,h){}renderTileMask(e,t,r,i){}drawTile_(e,t,r,i,n,s,a){if(!t.ready)return;let o=t.tile.tileCoord,l=(0,d.getKey)(o),u=l in s?s[l]:1,h=a.getResolution(r),c=(0,y.toSize)(a.getTileSize(r),this.tempSize_),f=a.getOrigin(r),g=a.getTileCoordExtent(o),m=u<1?-1:1/(r+2);u<1&&(e.animate=!0);let v=e.viewState,b=v.center[0],x=v.center[1],E=c[0]+2*i,_=c[1]+2*i,S=(b-f[0])/(c[0]*h),O=(f[1]-x)/(c[1]*h),R=v.resolution/h,A=o[1],w=o[2];(0,p.reset)(this.tileTransform_),(0,p.scale)(this.tileTransform_,2/(e.size[0]*R/E),-2/(e.size[1]*R/E)),(0,p.rotate)(this.tileTransform_,v.rotation),(0,p.scale)(this.tileTransform_,1,1/(E/_)),(0,p.translate)(this.tileTransform_,(c[0]*(A-S)-i)/E,(c[1]*(w-O)-i)/_),this.renderTile(t,this.tileTransform_,e,n,h,c,f,g,m,i,u)}renderFrame(e){this.frameState=e,this.renderComplete=!0;let t=this.helper.getGL();this.preRender(t,e);let r=e.viewState,i=this.getLayer(),s=i.getRenderSource(),o=s.getTileGridForProjection(r.projection),u=s.getGutterForProjection(r.projection),c=_(e,e.extent),p=o.getZForResolution(r.resolution,s.zDirection),g={tileIds:new Set,representationsByZ:{}},m=i.getPreload();if(e.nextExtent){let t=o.getZForResolution(r.nextResolution,s.zDirection),i=_(e,e.nextExtent);this.enqueueTiles(e,i,t,g,m)}this.enqueueTiles(e,c,p,g,0),m>0&&setTimeout(()=>{this.enqueueTiles(e,c,p-1,g,m-1)},0);let y={},v=(0,h.getUid)(this),x=e.time,E=!1;for(let e of g.representationsByZ[p]){let t=e.tile;if((t instanceof a.default||t instanceof n.default)&&t.getState()===l.default.EMPTY)continue;let r=t.tileCoord;if(e.ready){let e=t.getAlpha(v,x);if(1===e){t.endTransition(v);continue}E=!0,y[(0,d.getKey)(r)]=e}if(this.renderComplete=!1,this.findAltTiles_(o,r,p+1,g))continue;let i=o.getMinZoom();for(let e=p-1;e>=i&&!this.findAltTiles_(o,r,e,g);--e);}let S=g.representationsByZ,O=Object.keys(S).map(Number).sort(f.descending);if(this.beforeTilesMaskRender(e))for(let e=0,t=O.length;e<t;++e){let t=O[e];for(let e of S[t]){let r=e.tile.tileCoord;if((0,d.getKey)(r) in y)continue;let i=o.getTileCoordExtent(r);this.renderTileMask(e,t,i,1/(t+2))}}this.beforeTilesRender(e,E);for(let t=0,r=O.length;t<r;++t){let r=O[t];for(let t of S[r]){let i=t.tile.tileCoord;(0,d.getKey)(i) in y||this.drawTile_(e,t,r,u,c,y,o)}}for(let t of S[p]){let r=t.tile.tileCoord;(0,d.getKey)(r) in y&&this.drawTile_(e,t,p,u,c,y,o)}this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);let R=this.helper.getCanvas(),A=this.tileRepresentationCache;for(;A.canExpireCache();)A.pop().dispose();return e.postRenderFunctions.push(function(e,t){s.updateCacheSize(.1,t.viewState.projection),s.expireCache(t.viewState.projection,b)}),this.postRender(t,e),R}findAltTiles_(e,t,r,i){let n=e.getTileRangeForTileCoordAndZ(t,r,this.tempTileRange_);if(!n)return!1;let s=!0,a=this.tileRepresentationCache,o=this.getLayer().getRenderSource();for(let e=n.minX;e<=n.maxX;++e)for(let t=n.minY;t<=n.maxY;++t){let n=S(o,[r,e,t]),l=!1;if(a.containsKey(n)){let e=a.get(n);e.ready&&!x(i,e.tile)&&(E(i,e,r),l=!0)}l||(s=!1)}return s}clearCache(){let e=this.tileRepresentationCache;e.forEach(e=>e.dispose()),e.clear()}removeHelper(){this.helper&&this.clearCache(),super.removeHelper()}disposeInternal(){super.disposeInternal(),delete this.frameState}}var R=O}),a("77Abf",function(e,r){t(e.exports,"createDefaultStyle",()=>i);function i(){return{"fill-color":"rgba(255,255,255,0.4)","stroke-color":"#3399CC","stroke-width":1.25,"circle-radius":5,"circle-fill-color":"rgba(255,255,255,0.4)","circle-stroke-width":1.25,"circle-stroke-color":"#3399CC"}}}),a("iArnh",function(e,t){var i;e.exports,i=function(){function t(e,t,r){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){o(i.response,t,r)},i.onerror=function(){console.error("could not download file")},i.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,r,a){var o=s.URL||s.webkitURL,l=document.createElement("a");r=r||e.name||"download",l.download=r,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):i(l.href)?t(e,r,a):n(l,l.target="_blank")):(l.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,s){if(r=r||e.name||"download","string"!=typeof e){var a;navigator.msSaveOrOpenBlob((void 0===(a=s)?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e),r)}else if(i(e))t(e,r,s);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){n(o)})}}:function(e,r,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,i);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l||a)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var e=h.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},h.readAsDataURL(e)}else{var c=s.URL||s.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});s.saveAs=o.saveAs=o,e.exports=o},"function"==typeof define&&define.amd?define([],i):i()}),a("5VeMq",function(e,r){t(e.exports,"default",()=>a);var i=s("VCbYw"),n=s("iQyfo"),a=class extends i.default{constructor(e){e=e||{};var t=document.createElement("div");e.element=t,super(e),"number"==typeof e.offsetBox?this.offsetBox=[e.offsetBox,e.offsetBox,e.offsetBox,e.offsetBox]:this.offsetBox=e.offsetBox,this.closeBox=e.closeBox,this.onclose=e.onclose,this.onshow=e.onshow,(0,n.default).create("BUTTON",{className:"closeBox"+(e.closeBox?" hasclosebox":""),type:"button",click:(function(){this.hide()}).bind(this),parent:t}),!1!==e.anchor&&(0,n.default).create("DIV",{className:"anchor",parent:t}),this.content=(0,n.default).create("DIV",{html:e.html||"",className:"ol-popup-content",parent:t}),e.minibar&&(0,n.default).scrollDiv(this.content,{vertical:!0,mousewheel:!0,minibar:!0}),e.stopEvent&&(t.addEventListener("mousedown",function(e){e.stopPropagation()}),t.addEventListener("touchstart",function(e){e.stopPropagation()})),this._elt=t,this.setPositioning(e.positioning||"auto"),this.setPopupClass(e.popupClass||e.className||"default"),e.anim&&this.addPopupClass("anim"),e.position&&setTimeout((function(){this.show(e.position)}).bind(this))}getClassPositioning(){var e="",t=this.getPositioning();return/bottom/.test(t)&&(e+="ol-popup-bottom "),/top/.test(t)&&(e+="ol-popup-top "),/left/.test(t)&&(e+="ol-popup-left "),/right/.test(t)&&(e+="ol-popup-right "),/^center/.test(t)&&(e+="ol-popup-middle "),/center$/.test(t)&&(e+="ol-popup-center "),e}setClosebox(e){this.closeBox=e,e?this.element.classList.add("hasclosebox"):this.element.classList.remove("hasclosebox")}setPopupClass(e){var t=["ol-popup"];this.getVisible()&&t.push("visible"),this.element.className="";var r=this.getClassPositioning().split(" ").filter(function(e){return e.length>0});e?e.split(" ").filter(function(e){return e.length>0}).forEach(function(e){t.push(e)}):t.push("default"),r.forEach(function(e){t.push(e)}),this.closeBox&&t.push("hasclosebox"),this.element.classList.add.apply(this.element.classList,t)}addPopupClass(e){this.element.classList.add(e)}removePopupClass(e){this.element.classList.remove(e)}setPositioning(e){void 0!==e&&(/auto/.test(e)?(this.autoPositioning=e.split("-"),1==this.autoPositioning.length&&(this.autoPositioning[1]="auto")):this.autoPositioning=!1,"center"==(e=e.replace(/auto/g,"center"))&&(e="bottom-center"),this.setPositioning_(e))}setPositioning_(e){if(this.element){super.setPositioning(e),this.element.classList.remove("ol-popup-top","ol-popup-bottom","ol-popup-left","ol-popup-right","ol-popup-center","ol-popup-middle");var t=this.getClassPositioning().split(" ").filter(function(e){return e.length>0});this.element.classList.add.apply(this.element.classList,t)}}getVisible(){return this.element.classList.contains("visible")}show(e,t){t||"string"!=typeof e||(t=e,e=null),!0===e&&(e=this.getPosition());var r=this,i=this.getMap();if(i&&(t&&t!==this.prevHTML&&(this.prevHTML=t,this.content.innerHTML="",t instanceof Element?this.content.appendChild(t):(0,n.default).create("DIV",{html:t,parent:this.content}),Array.prototype.slice.call(this.content.querySelectorAll("img")).forEach(function(e){e.addEventListener("load",function(){try{i.renderSync()}catch(e){}r.content.dispatchEvent(new Event("scroll"))})})),e)){if(this.autoPositioning){var s=i.getPixelFromCoordinate(e),a=i.getSize(),o=[];"auto"==this.autoPositioning[0]?o[0]=s[1]<a[1]/3?"top":"bottom":o[0]=this.autoPositioning[0],o[1]=s[0]<2*a[0]/3?"left":"right",this.setPositioning_(o[0]+"-"+o[1]),this.offsetBox&&this.setOffset([this.offsetBox["left"==o[1]?2:0],this.offsetBox["top"==o[0]?3:1]])}else this.offsetBox&&this.setOffset(this.offsetBox);this.setPosition(e),this.element.parentElement.style.display="","function"==typeof this.onshow&&this.onshow(),this.dispatchEvent({type:"show"}),this._tout=setTimeout(function(){r.element.classList.add("visible")},0)}}hide(){void 0!=this.getPosition()&&("function"==typeof this.onclose&&this.onclose(),this.setPosition(void 0),this._tout&&clearTimeout(this._tout),this.element.classList.remove("visible"),this.dispatchEvent({type:"hide"}))}}}),a("17jqf",function(e,r){t(e.exports,"default",()=>l);var i=s("ejLRd"),n=s("7lBr2"),a=s("7qu5m"),o=s("5VeMq"),l=class extends o.default{constructor(e){(e=e||{}).popupClass=e.popupClass||e.className||"tooltips black",e.positioning=e.positioning||"center-left",e.stopEvent=!!e.stopEvent,super(e),this.set("maximumFractionDigits",e.maximumFractionDigits||2),"function"==typeof e.formatLength&&(this.formatLength=e.formatLength),"function"==typeof e.formatArea&&(this.formatArea=e.formatArea),"function"==typeof e.getHTML&&(this.getHTML=e.getHTML),this._interaction=new n.default({handleEvent:(function(e){if("pointermove"===e.type||"click"===e.type){var t=this.getHTML(this._feature,this.get("info"));t?this.show(e.coordinate,t):this.hide(),this._coord=e.coordinate}return!0}).bind(this)})}setMap(e){this.getMap()&&this.getMap().removeInteraction(this._interaction),super.setMap(e),this.getMap()&&this.getMap().addInteraction(this._interaction)}getHTML(e,t){return this.get("measure")?this.get("measure")+(t?"<br/>"+t:""):t||""}setInfo(e){e?setTimeout((function(){this.set("info",e),this.show(this._coord,this.get("info"))}).bind(this)):(this.set("info",""),this.hide())}removeFeature(){this.setFeature()}formatArea(e){return e>Math.pow(10,-1*this.get("maximumFractionDigits"))?e>1e4?(e/1e6).toLocaleString(void 0,{maximumFractionDigits:this.get("maximumFractionDigits)")})+" km²":e.toLocaleString(void 0,{maximumFractionDigits:this.get("maximumFractionDigits")})+" m²":""}formatLength(e){return e>Math.pow(10,-1*this.get("maximumFractionDigits"))?e>100?(e/1e3).toLocaleString(void 0,{maximumFractionDigits:this.get("maximumFractionDigits")})+" km":e.toLocaleString(void 0,{maximumFractionDigits:this.get("maximumFractionDigits")})+" m":""}setFeature(e){e&&e.feature&&(e=e.feature),this._feature=e,this._listener&&this._listener.forEach(function(e){(0,i.unByKey)(e)}),this._listener=[],this.set("measure",""),e&&this._listener.push(e.getGeometry().on("change",(function(e){var t,r=e.target;r.getArea?t=this.formatArea((0,a.getArea)(r,{projection:this.getMap().getView().getProjection()})):r.getLength&&(t=this.formatLength((0,a.getLength)(r,{projection:this.getMap().getView().getProjection()}))),this.set("measure",t)}).bind(this)))}}}),a("6yJ0x",function(e,r){t(e.exports,"default",()=>n);var i=s("7lBr2"),n=class extends i.default{constructor(e){e||(e=e||{});var t=!1;super({handleEvent:function(i){if(!r.getActive())return!0;switch(i.type){case"pointerdrag":t=!0;break;case"pointerup":t=!1;break;case"pointermove":t||r.handleMove_(i)}return!e.handleEvent||e.handleEvent(i)}});var r=this;this.setLayerFilter(e.layerFilter),e.layers&&e.layers.length&&this.setLayerFilter(function(t){return e.layers.indexOf(t)>=0}),this.setFeatureFilter(e.featureFilter),this.set("hitTolerance",e.hitTolerance),this.setCursor(e.cursor)}setMap(e){void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),super.setMap(e)}setActive(e){if(super.setActive(e),this.cursor_&&this.getMap()&&this.getMap().getTargetElement()){var t=this.getMap().getTargetElement().style;void 0!==this.previousCursor_&&(t.cursor=this.previousCursor_,this.previousCursor_=void 0)}}setCursor(e){!e&&void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),this.cursor_=e}setFeatureFilter(e){"function"==typeof e?this.featureFilter_=e:this.featureFilter_=function(){return!0}}setLayerFilter(e){"function"==typeof e?this.layerFilter_=e:this.layerFilter_=function(){return!0}}handleMove_(e){var t=this.getMap();if(t){var r,i,n=this,s=t.forEachFeatureAtPixel(e.pixel,function(e,t){return n.featureFilter_.call(null,e,t)?(r=e,i=t,!0):(r=i=null,!1)},{hitTolerance:this.get("hitTolerance"),layerFilter:n.layerFilter_});if(s&&this.dispatchEvent({type:"hover",feature:r,layer:i,coordinate:e.coordinate,pixel:e.pixel,map:e.map,originalEvent:e.originalEvent,dragging:e.dragging}),this.feature_===r&&this.layer_===i||(this.feature_=r,this.layer_=i,r?this.dispatchEvent({type:"enter",feature:r,layer:i,coordinate:e.coordinate,pixel:e.pixel,map:e.map,originalEvent:e.originalEvent,dragging:e.dragging}):this.dispatchEvent({type:"leave",coordinate:e.coordinate,pixel:e.pixel,map:e.map,originalEvent:e.originalEvent,dragging:e.dragging})),this.cursor_){var a=t.getTargetElement().style;s?a.cursor!=this.cursor_&&(this.previousCursor_=a.cursor,a.cursor=this.cursor_):void 0!==this.previousCursor_&&(a.cursor=this.previousCursor_,this.previousCursor_=void 0)}}}}}),a("lbwk5",function(e,r){t(e.exports,"default",()=>A);var i=s("6vpLi"),n=s("gzr8q"),a=s("e7Hhj"),o=s("6v9hi"),l=s("lMv07"),u=s("de6E4"),h=s("cBppj"),c=s("cLiWE"),d=s("5UlEr"),p=s("DXhxE"),f=s("iKsmi"),g=s("1RZpL"),m=s("2x3of"),y=s("c614M"),v=s("l1YgS"),b=s("eRyYI"),x=s("4Esdr"),E=s("ikPfL"),_=s("6ClR3"),S=s("fRAGe"),O=s("8qGq9");class R extends i.default{constructor(){super()}}R.layerFormats=[a.default,o.default,u.default,h.default,l.default,d.default,c.default,v.default,m.default,y.default,b.default,x.default,E.default,_.default,S.default,O.default],R.prototype.read=function(e,t){(0,g.upgradeCarte)(t);let r=e.map;return e.layerId_=0,r.set("title",t.param.title||t.param.titre||""),r.set("description",t.param.description||""),this.readView(e,t),r.getLayers().clear(),this.readLayers(t,e.get("key")).forEach(e=>r.addLayer(e)),this.readControls(e,t),e.getSymbolLib().clear(),t.symbolLib.forEach(t=>{/Point|Polygon|LineString/.test(t.type)&&e.addSymbolLib(t)}),e},R.prototype.readView=function(e,t){let r=e.map.getView();r.setCenter((0,n.fromLonLat)([t.param.lon,t.param.lat],r.getProjection())),r.setZoom(t.param.zoom),r.setRotation(t.param.rot);let i=e.getControl("permalink").getUrlReplace(),s=e.getControl("permalink");s.setPosition(!0),e.map.set("noMouseWheel",s.hasUrlParam("noZoom")),i||e.getControl("permalink").setUrlReplace(!1)},R.prototype.readControls=function(e,t){let r=t.controls;for(let t in r)e.showControl(t,r[t]);new p.default(e.getControl("mousePosition"),r.mousePosition),new f.default(e.getControl("legend"),r.legend,!1,e.getMap().getLayers().getArray()),e.showControl("legend",r.legend.visible)},R.prototype.readLayers=function(e,t){let r=[];return e.layers.forEach(e=>{let i=this.readLayer(e,t);i&&r.push(i)}),r},R.prototype.readLayer=function(e,t){for(let r=0;r<R.layerFormats.length;r++){let i=(new R.layerFormats[r]).read(e,t);if(i)return i}return null},R.prototype.writeLayers=function(e,t){let r=[];return e.forEach(e=>{let i=this.writeLayer(e,t);i?r.push(i):(console.warn("Layer ["+e.get("type")+":"+e.get("title")+"]  has no writer..."),console.log(e))}),r},R.prototype.writeLayer=function(e,t){for(let r=0;r<R.layerFormats.length;r++){let i=(new R.layerFormats[r]).write(e,t);if(i)return i}return null},R.prototype.write=function(e,t){let r={param:{titre:e.get("title"),description:e.get("description")}},i=e.getMap().getView(),s=(0,n.toLonLat)(i.getCenter());return r.param.lon=s[0],r.param.lat=s[1],r.param.zoom=i.getZoom(),r.param.rot=i.getRotation(),r.param.controlParams={zoomBtn:e.hasControl("zoom"),scaleLine:e.hasControl("scaleLine"),pSearchBar:e.hasControl("searchBar"),legend:e.hasControl("legend"),coords:e.hasControl("mousePosition"),selectLayer:e.hasControl("layerSwitcher"),geoloc:e.hasControl("locate"),profil:e.hasControl("profil"),printDlg:e.hasControl("printDlg")},r.param.proj=new(0,p.default)().write(e.getControl("mousePosition")),r.legende=(new(0,f.default)).write(e.getControl("legend")),r.layers=this.writeLayers(e.getMap().getLayers(),t),r.symbolLib=[],e.getSymbolLib().forEach(e=>{r.symbolLib.push(e.stringify())}),r},window.format=new R;var A=R}),a("6vpLi",function(e,r){t(e.exports,"default",()=>a);var i=s("fnScq");class n extends i.default{constructor(){super()}}n.prototype.read=function(){return console.warn("[Abstract] read method not implemented..."),null},n.prototype.write=function(){return console.warn("[Abstract] write method not implemented..."),""};var a=n}),a("e7Hhj",function(e,r){t(e.exports,"default",()=>o);var i=s("bqoF2"),n=s("5TDW7");class a extends n.default{constructor(){super()}}a.prototype.read=function(e,t){if("Geoportail"===e.type){switch(e.layer){case"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD":case"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.ROUTIER":case"GEOGRAPHICALGRIDSYSTEMS.PLANIGN":e.layer="GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2";break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.NIVEAUXGRIS":e.layer="GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",e.grayscale=!0}try{let r=new i.default({gppKey:t,layer:e.layer,preload:10});return this.readOptions(r,e),r}catch(e){return console.error(e.message),!1}}},a.prototype.write=function(e){if("Geoportail"!==e.get("type"))return!1;var t=this.writeOptions(e);return t.layer=e.get("layer"),t};var o=a}),a("bqoF2",function(e,r){t(e.exports,"default",()=>a);var i=s("6gELa");s("2C2LU");class n extends i.default{constructor(e,t){e.gppKey=e.key="",super(e,t)}}var a=n}),a("6gELa",function(e,r){t(e.exports,"default",()=>h);var i=s("eEuqc"),n=s("kUWI9"),a=s("fkmMz"),o=s("gzr8q"),l=s("k7cyy"),u=class extends i.default{constructor(e,t,r){t=t||{},r=r||{},"string"!=typeof e&&(r=t||{},e=(t=e).layer);var i=t.maxZoom;t.source&&(e=t.source.getLayer(),t.gppKey=t.source.getGPPKey());var n=window.geoportailConfig&&(window.geoportailConfig.capabilities[t.gppKey||t.key]||window.geoportailConfig.capabilities.default)||u.capabilities;for(var s in(n=n[e])||(n=u.capabilities[e]),n||(n={title:e,originators:[]},console.error('ol.layer.Geoportail: no layer definition for "'+e+'"\nTry to use ol/layer/Geoportail~loadCapabilities() to get it.')),n)void 0===r[s]&&(r[s]=n[s]);(t.gppKey||t.key)&&(r.gppKey=t.gppKey||t.key),t.source||(t.source=new l.default(e,r)),t.title||(t.title=n.title),t.name||(t.name=e),t.layer=e,t.queryable||(t.queryable=n.queryable),t.desc||(t.desc=n.desc),!t.extent&&n.bbox&&n.bbox[0]>-170&&n.bbox[2]<170&&(t.extent=(0,o.transformExtent)(n.bbox,"EPSG:4326",t.projection||"EPSG:3857")),t.maxZoom=i,!t.maxResolution&&r.minZoom&&(t.source.getTileGrid().minZoom-=r.minZoom>1?2:1,t.maxResolution=t.source.getTileGrid().getResolution(t.source.getTileGrid().minZoom),t.source.getTileGrid().minZoom=r.minZoom),super(t),this._originators=n.originators}static register(e,t){u.capabilities[e]=t}static isRegistered(e){return u.capabilities[e]&&u.capabilities[e].key}static loadCapabilities(e){var t=function(){},r=function(){},i=function(){};this.getCapabilities(e).then(function(e){u.capabilities=e,t(e)}).catch(function(e){r(e)}).finally(function(e){i(e)});var n={then:function(e){return"function"==typeof e&&(t=e),n},catch:function(e){return"function"==typeof e&&(r=e),n},finally:function(e){return"function"==typeof e&&(i=e),n}};return n}static getCapabilities(e){"gpf"===e&&(e=void 0);var t=function(){},r=function(){},i=function(){},s=e?"https://data.geopf.fr/private/wmts":"https://data.geopf.fr/wmts",o=s+"?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetCapabilities";e&&(o+="&apikey="+e),(0,a.default).get({url:o,dataType:"TEXT",error:function(e){r(e),i({})},success:function(r){var a=new DOMParser().parseFromString(r,"text/xml");a=a.getElementsByTagName("Layer");for(var o=(r=new n.default().read(r)).Contents.Layer,l={},h={},c=0;c<o.length;c++){var d=o[c],p=function(e){for(var t={min:parseFloat(e[0].TileMatrix),max:parseFloat(e[0].TileMatrix)},r=1;r<e.length;r++)t.min=Math.min(t.min,parseFloat(e[r].TileMatrix)),t.max=Math.max(t.max,parseFloat(e[r].TileMatrix));return t}(d.TileMatrixSetLink[0].TileMatrixSetLimits),f=function(e){for(var t=0;t<u.themes.length;t++)if(u.themes[t].rex.test(e))return u.themes[t].theme;return"autre"}(d.Identifier);h[f]||(h[f]={});var g=[];d.Style&&d.Style.forEach(function(e){e.LegendURL&&g.push(e.LegendURL[0].href)}),h[f][d.Identifier]=l[d.Identifier]={layer:d.Identifier,key:e,theme:f,desc:d.Abstract,server:s,bbox:d.WGS84BoundingBox,format:d.Format[0],minZoom:p.min,maxZoom:p.max,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:a[c].getElementsByTagName("InfoFormat").length>0,style:d.Style&&d.Style.length?d.Style[0].Identifier:"normal",tilematrix:"PM",title:d.Title,legend:g}}t(l,h),i(l,h)}});var l={then:function(e){return"function"==typeof e&&(t=e),l},catch:function(e){return"function"==typeof e&&(r=e),l},finally:function(e){return"function"==typeof e&&(i=e),l}};return l}};u.capabilities={"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2":{layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",theme:"cartes",desc:"Cartographie multi-échelles sur le territoire national, issue des bases de données vecteur de l’IGN, mis à jour régulièrement et réalisée selon un processus entièrement automatisé.",server:"https://data.geopf.fr/wmts",bbox:[-175,-85,175,85],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Plan IGN v2"},"CADASTRALPARCELS.PARCELLAIRE_EXPRESS":{layer:"CADASTRALPARCELS.PARCELLAIRE_EXPRESS",theme:"parcellaire",desc:"Plan cadastral informatisé vecteur de la DGFIP édition Juillet 2023.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PCI vecteur"},"ORTHOIMAGERY.ORTHOPHOTOS":{layer:"ORTHOIMAGERY.ORTHOPHOTOS",theme:"ortho",desc:"Photographies aériennes",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/jpeg",minZoom:0,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Photographies aériennes"},"GEOGRAPHICALGRIDSYSTEMS.MAPS":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS",theme:"cartes",desc:"Cartes IGN",server:"https://data.geopf.fr/private/wmts",bbox:[-180,-68.1389,180,80],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartes IGN"},"ADMINEXPRESS-COG-CARTO.LATEST":{layer:"ADMINEXPRESS-COG-CARTO.LATEST",theme:"administratif",desc:"Limites administratives Express COG code officiel géographique 2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"ADMINEXPRESS COG CARTO"},"GEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAIN":{layer:"GEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAIN",theme:"cartes",desc:"Carte des zones ayant une valeur de pente supérieure à 30°-35°-40°-45° d'après la BD ALTI au pas de 5m",server:"https://data.geopf.fr/wmts",bbox:[-63.1614,-21.5446,56.0018,51.0991],format:"image/png",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte des pentes"},"ELEVATION.SLOPES":{layer:"ELEVATION.SLOPES",theme:"altimetrie",desc:"La couche altitude se compose d'un MNT (Modèle Numérique de Terrain) affiché en teintes hypsométriques et issu de la BD ALTI®.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:6,maxZoom:14,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Altitude"},"GEOGRAPHICALGRIDSYSTEMS.MAPS.BDUNI.J1":{key:"cartes",server:"https://wxs.ign.fr/geoportail/wmts",layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.BDUNI.J1",title:"Plan IGN j+1",format:"image/png",style:"normal",queryable:!1,tilematrix:"PM",minZoom:0,maxZoom:18,bbox:[-179.5,-75,179.5,75],desc:"Plan IGN j+1",originators:{IGN:{href:"http://www.ign.fr",attribution:"Institut national de l'information géographique et forestière",logo:"https://wxs.ign.fr/static/logos/IGN/IGN.gif",minZoom:0,maxZoom:18,constraint:[{minZoom:0,maxZoom:18,bbox:[-179,-80,179,80]}]}}},"TRANSPORTNETWORKS.ROADS":{layer:"TRANSPORTNETWORKS.ROADS",theme:"topographie",desc:"Affichage du réseau routier français et européen.",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Routes"},"GEOGRAPHICALNAMES.NAMES":{layer:"GEOGRAPHICALNAMES.NAMES",theme:"topographie",desc:"Affichage des noms des villes, villages, lieux-dits ...",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Dénominations géographiques",legend:["https://data.geopf.fr/annexes/ressources/legendes/LEGEND.jpg"]},"CARTES.NATURALEARTH":{layer:"CARTES.NATURALEARTH",theme:"cartes",desc:"Carte générale du monde politique avec les frontières et capitales d'Etat, les entités administratives secondaires, villes principales, fleuves, lacs et océans. Edition : 1.4.0",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:1,maxZoom:9,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Monde Natural Earth",legend:["https://data.geopf.fr/annexes/ressources/legendes/LEGEND.jpg"]},"GEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEW":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEW",key:"",theme:"cartes",desc:"Carte Mondiale pour la mini-vue",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:1,maxZoom:8,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte Mondiale pour la mini-vue",legend:["https://data.geopf.fr/annexes/ressources/legendes/LEGEND.jpg"]}},u.themes=[{theme:"edugeo",rex:/EDUGEO|PVA_IGN_zone-marais|VERDUN|DOUAUMONT/},{theme:"cartes",rex:/GEOGRAPHICALGRIDSYSTEMS|CARTES|SCAN/},{theme:"energie",rex:/CHALEUR|CHAUD|FROID|METHAN|CONSO|ENR|ELECTRIQUE|EOLIEN|SOLAIRE|PRODUCTIBLE|GEOTHERM|PROD\.INSTALLATION|POTENTIEL\.HYDRO/},{theme:"risque",rex:/SISMIC|RISKZONE/},{theme:"agriculture",rex:/AGRICULTURE|PAC/},{theme:"altimetrie",rex:/ELEVATION|SLOPE|ISOHYPSE/},{theme:"parcellaire",rex:/PARCELS|Parcellaire|RPG|PCRS|PCI/},{theme:"administratif",rex:/ADMIN/},{theme:"ocsge",rex:/OCSGE|CoSIA/},{theme:"clc",rex:/\.CLC|\.CHA/},{theme:"environnement",rex:/PROTECTEDAREAS|FORETS|DEBROUSSAILLEMENT|LANDCOVER|PROTECTEDSITES|CHASSE|INPE|OFB/},{theme:"topographie",rex:/BDCARTO|PARKING|RAILWAYS|BUILDINGS|RUNWAYS|UTILITYANDGOVERNMENTALSERVICES|GEOGRAPHICALNAMES\.NAMES|HYDROGRAPHY|TRANSPORTNETWORKS\.ROADS$|hedge.hedge/},{theme:"transport",rex:/TRANSPORT|SECUROUTE|AUTOROUT/},{theme:"economie",rex:/INSEE|AREAMANAGEMENT|PINEL|PRIORITYDISCTRICT/},{theme:"agriculture",rex:/LANDUSE|PRAIRIES/},{theme:"satellite",rex:/ORTHO-SAT|SPOT5|RAPIDEYE/},{theme:"orthohisto",rex:/ORTHOPHOTOS\d|ORTHO-EXPRESS-\d/},{theme:"ortho",rex:/ORTHOIMAGERY/}];var h=u}),a("kUWI9",function(e,r){t(e.exports,"default",()=>A);var i=s("4cjlx"),n=s("dfksr"),a=s("jZquI"),o=s("fbciu"),l=s("5kLwh"),u=s("3VMq2");let h=[null,"http://www.opengis.net/wmts/1.0"],c=[null,"http://www.opengis.net/ows/1.1"],d=(0,o.makeStructureNS)(h,{Contents:(0,o.makeObjectPropertySetter)(function(e,t){return(0,o.pushParseAndPop)({},f,e,t)})});class p extends n.default{constructor(){super(),this.owsParser_=new i.default}readFromNode(e){let t=e.getAttribute("version");t&&(t=t.trim());let r=this.owsParser_.readFromNode(e);return r?(r.version=t,(r=(0,o.pushParseAndPop)(r,d,e,[]))||null):null}}let f=(0,o.makeStructureNS)(h,{Layer:(0,o.makeObjectPropertyPusher)(function(e,t){return(0,o.pushParseAndPop)({},g,e,t)}),TileMatrixSet:(0,o.makeObjectPropertyPusher)(function(e,t){return(0,o.pushParseAndPop)({},_,e,t)})}),g=(0,o.makeStructureNS)(h,{Style:(0,o.makeObjectPropertyPusher)(function(e,t){let r=(0,o.pushParseAndPop)({},m,e,t);if(!r)return;let i="true"===e.getAttribute("isDefault");return r.isDefault=i,r}),Format:(0,o.makeObjectPropertyPusher)(l.readString),TileMatrixSetLink:(0,o.makeObjectPropertyPusher)(function(e,t){return(0,o.pushParseAndPop)({},y,e,t)}),Dimension:(0,o.makeObjectPropertyPusher)(function(e,t){return(0,o.pushParseAndPop)({},x,e,t)}),ResourceURL:(0,o.makeObjectPropertyPusher)(function(e,t){let r=e.getAttribute("format"),i=e.getAttribute("template"),n=e.getAttribute("resourceType"),s={};return r&&(s.format=r),i&&(s.template=i),n&&(s.resourceType=n),s})},(0,o.makeStructureNS)(c,{Title:(0,o.makeObjectPropertySetter)(l.readString),Abstract:(0,o.makeObjectPropertySetter)(l.readString),WGS84BoundingBox:(0,o.makeObjectPropertySetter)(O),Identifier:(0,o.makeObjectPropertySetter)(l.readString)})),m=(0,o.makeStructureNS)(h,{LegendURL:(0,o.makeObjectPropertyPusher)(function(e,t){let r={};return r.format=e.getAttribute("format"),r.href=(0,u.readHref)(e),r})},(0,o.makeStructureNS)(c,{Title:(0,o.makeObjectPropertySetter)(l.readString),Identifier:(0,o.makeObjectPropertySetter)(l.readString)})),y=(0,o.makeStructureNS)(h,{TileMatrixSet:(0,o.makeObjectPropertySetter)(l.readString),TileMatrixSetLimits:(0,o.makeObjectPropertySetter)(function(e,t){return(0,o.pushParseAndPop)([],v,e,t)})}),v=(0,o.makeStructureNS)(h,{TileMatrixLimits:(0,o.makeArrayPusher)(function(e,t){return(0,o.pushParseAndPop)({},b,e,t)})}),b=(0,o.makeStructureNS)(h,{TileMatrix:(0,o.makeObjectPropertySetter)(l.readString),MinTileRow:(0,o.makeObjectPropertySetter)(l.readPositiveInteger),MaxTileRow:(0,o.makeObjectPropertySetter)(l.readPositiveInteger),MinTileCol:(0,o.makeObjectPropertySetter)(l.readPositiveInteger),MaxTileCol:(0,o.makeObjectPropertySetter)(l.readPositiveInteger)}),x=(0,o.makeStructureNS)(h,{Default:(0,o.makeObjectPropertySetter)(l.readString),Value:(0,o.makeObjectPropertyPusher)(l.readString)},(0,o.makeStructureNS)(c,{Identifier:(0,o.makeObjectPropertySetter)(l.readString)})),E=(0,o.makeStructureNS)(c,{LowerCorner:(0,o.makeArrayPusher)(R),UpperCorner:(0,o.makeArrayPusher)(R)}),_=(0,o.makeStructureNS)(h,{WellKnownScaleSet:(0,o.makeObjectPropertySetter)(l.readString),TileMatrix:(0,o.makeObjectPropertyPusher)(function(e,t){return(0,o.pushParseAndPop)({},S,e,t)})},(0,o.makeStructureNS)(c,{SupportedCRS:(0,o.makeObjectPropertySetter)(l.readString),Identifier:(0,o.makeObjectPropertySetter)(l.readString),BoundingBox:(0,o.makeObjectPropertySetter)(O)})),S=(0,o.makeStructureNS)(h,{TopLeftCorner:(0,o.makeObjectPropertySetter)(R),ScaleDenominator:(0,o.makeObjectPropertySetter)(l.readDecimal),TileWidth:(0,o.makeObjectPropertySetter)(l.readPositiveInteger),TileHeight:(0,o.makeObjectPropertySetter)(l.readPositiveInteger),MatrixWidth:(0,o.makeObjectPropertySetter)(l.readPositiveInteger),MatrixHeight:(0,o.makeObjectPropertySetter)(l.readPositiveInteger)},(0,o.makeStructureNS)(c,{Identifier:(0,o.makeObjectPropertySetter)(l.readString)}));function O(e,t){let r=(0,o.pushParseAndPop)([],E,e,t);if(2==r.length)return(0,a.boundingExtent)(r)}function R(e,t){let r=(0,l.readString)(e).split(/\s+/);if(!r||2!=r.length)return;let i=+r[0],n=+r[1];if(!(isNaN(i)||isNaN(n)))return[i,n]}var A=p}),a("4cjlx",function(e,r){t(e.exports,"default",()=>O);var i=s("dfksr"),n=s("fbciu"),a=s("3VMq2"),o=s("5kLwh");let l=[null,"http://www.opengis.net/ows/1.1"],u=(0,n.makeStructureNS)(l,{ServiceIdentification:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},_,e,t)}),ServiceProvider:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},S,e,t)}),OperationsMetadata:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},v,e,t)})});class h extends i.default{constructor(){super()}readFromNode(e){return(0,n.pushParseAndPop)({},u,e,[])||null}}let c=(0,n.makeStructureNS)(l,{DeliveryPoint:(0,n.makeObjectPropertySetter)(o.readString),City:(0,n.makeObjectPropertySetter)(o.readString),AdministrativeArea:(0,n.makeObjectPropertySetter)(o.readString),PostalCode:(0,n.makeObjectPropertySetter)(o.readString),Country:(0,n.makeObjectPropertySetter)(o.readString),ElectronicMailAddress:(0,n.makeObjectPropertySetter)(o.readString)}),d=(0,n.makeStructureNS)(l,{Value:(0,n.makeObjectPropertyPusher)(function(e,t){return(0,o.readString)(e)})}),p=(0,n.makeStructureNS)(l,{AllowedValues:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},d,e,t)})}),f=(0,n.makeStructureNS)(l,{Phone:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},b,e,t)}),Address:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},c,e,t)})}),g=(0,n.makeStructureNS)(l,{HTTP:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},m,e,t)})}),m=(0,n.makeStructureNS)(l,{Get:(0,n.makeObjectPropertyPusher)(function(e,t){let r=(0,a.readHref)(e);if(r)return(0,n.pushParseAndPop)({href:r},x,e,t)}),Post:void 0}),y=(0,n.makeStructureNS)(l,{DCP:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},g,e,t)})}),v=(0,n.makeStructureNS)(l,{Operation:function(e,t){let r=e.getAttribute("name"),i=(0,n.pushParseAndPop)({},y,e,t);i&&(t[t.length-1][r]=i)}}),b=(0,n.makeStructureNS)(l,{Voice:(0,n.makeObjectPropertySetter)(o.readString),Facsimile:(0,n.makeObjectPropertySetter)(o.readString)}),x=(0,n.makeStructureNS)(l,{Constraint:(0,n.makeObjectPropertyPusher)(function(e,t){let r=e.getAttribute("name");if(r)return(0,n.pushParseAndPop)({name:r},p,e,t)})}),E=(0,n.makeStructureNS)(l,{IndividualName:(0,n.makeObjectPropertySetter)(o.readString),PositionName:(0,n.makeObjectPropertySetter)(o.readString),ContactInfo:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},f,e,t)})}),_=(0,n.makeStructureNS)(l,{Abstract:(0,n.makeObjectPropertySetter)(o.readString),AccessConstraints:(0,n.makeObjectPropertySetter)(o.readString),Fees:(0,n.makeObjectPropertySetter)(o.readString),Title:(0,n.makeObjectPropertySetter)(o.readString),ServiceTypeVersion:(0,n.makeObjectPropertySetter)(o.readString),ServiceType:(0,n.makeObjectPropertySetter)(o.readString)}),S=(0,n.makeStructureNS)(l,{ProviderName:(0,n.makeObjectPropertySetter)(o.readString),ProviderSite:(0,n.makeObjectPropertySetter)(a.readHref),ServiceContact:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},E,e,t)})});var O=h}),a("dfksr",function(e,r){t(e.exports,"default",()=>a);var i=s("lVQul"),n=s("fbciu"),a=class{read(e){if(!e)return null;if("string"==typeof e){let t=(0,n.parse)(e);return this.readFromDocument(t)}return(0,n.isDocument)(e)?this.readFromDocument(e):this.readFromNode(e)}readFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null}readFromNode(e){(0,i.abstract)()}}}),a("fbciu",function(e,r){let i,n;t(e.exports,"XML_SCHEMA_INSTANCE_URI",()=>o),t(e.exports,"createElementNS",()=>l),t(e.exports,"getDocument",()=>C),t(e.exports,"getAllTextContent",()=>u),t(e.exports,"isDocument",()=>h),t(e.exports,"parse",()=>c),t(e.exports,"makeArrayExtender",()=>d),t(e.exports,"makeArrayPusher",()=>p),t(e.exports,"makeReplacer",()=>f),t(e.exports,"makeObjectPropertyPusher",()=>g),t(e.exports,"makeObjectPropertySetter",()=>m),t(e.exports,"makeChildAppender",()=>y),t(e.exports,"makeArraySerializer",()=>v),t(e.exports,"makeSimpleNodeFactory",()=>b),t(e.exports,"OBJECT_PROPERTY_NODE_FACTORY",()=>x),t(e.exports,"makeSequence",()=>E),t(e.exports,"makeStructureNS",()=>_),t(e.exports,"parseNode",()=>S),t(e.exports,"pushParseAndPop",()=>O),t(e.exports,"pushSerializeAndPop",()=>A),t(e.exports,"getXMLSerializer",()=>w);var a=s("kBSVF");let o="http://www.w3.org/2001/XMLSchema-instance";function l(e,t){return C().createElementNS(e,t)}function u(e,t){return(function e(t,r,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)r?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else{let n;for(n=t.firstChild;n;n=n.nextSibling)e(n,r,i)}return i})(e,t,[]).join("")}function h(e){return"documentElement"in e}function c(e){return new DOMParser().parseFromString(e,"application/xml")}function d(e,t){return function(r,i){let n=e.call(void 0!==t?t:this,r,i);if(void 0!==n){let e=i[i.length-1];(0,a.extend)(e,n)}}}function p(e,t){return function(r,i){let n=e.call(void 0!==t?t:this,r,i);void 0!==n&&i[i.length-1].push(n)}}function f(e,t){return function(r,i){let n=e.call(void 0!==t?t:this,r,i);void 0!==n&&(i[i.length-1]=n)}}function g(e,t,r){return function(i,n){let s=e.call(void 0!==r?r:this,i,n);if(void 0!==s){let e;let r=n[n.length-1],a=void 0!==t?t:i.localName;a in r?e=r[a]:(e=[],r[a]=e),e.push(s)}}}function m(e,t,r){return function(i,n){let s=e.call(void 0!==r?r:this,i,n);void 0!==s&&(n[n.length-1][void 0!==t?t:i.localName]=s)}}function y(e,t){return function(r,i,n){e.call(void 0!==t?t:this,r,i,n),n[n.length-1].node.appendChild(r)}}function v(e,t){let r,i;return function(t,n,s){if(void 0===r){r={};let n={};n[t.localName]=e,r[t.namespaceURI]=n,i=b(t.localName)}R(r,i,n,s)}}function b(e,t){return function(r,i,n){let s=i[i.length-1].node,a=e;return void 0===a&&(a=n),l(void 0!==t?t:s.namespaceURI,a)}}let x=b();function E(e,t){let r=t.length,i=Array(r);for(let n=0;n<r;++n)i[n]=e[t[n]];return i}function _(e,t,r){let i,n;for(i=0,r=void 0!==r?r:{},n=e.length;i<n;++i)r[e[i]]=t;return r}function S(e,t,r,i){let n;for(n=t.firstElementChild;n;n=n.nextElementSibling){let t=e[n.namespaceURI];if(void 0!==t){let e=t[n.localName];void 0!==e&&e.call(i,n,r)}}}function O(e,t,r,i,n){return i.push(e),S(t,r,i,n),i.pop()}function R(e,t,r,i,n,s){let a,o;let l=(void 0!==n?n:r).length;for(let u=0;u<l;++u)void 0!==(a=r[u])&&void 0!==(o=t.call(void 0!==s?s:this,a,i,void 0!==n?n[u]:void 0))&&e[o.namespaceURI][o.localName].call(s,o,a,i)}function A(e,t,r,i,n,s,a){return n.push(e),R(t,r,i,n,s,a),n.pop()}function w(){return void 0===i&&"undefined"!=typeof XMLSerializer&&(i=new XMLSerializer),i}function C(){return void 0===n&&"undefined"!=typeof document&&(n=document.implementation.createDocument("","",null)),n}}),a("3VMq2",function(e,r){t(e.exports,"readHref",()=>i);function i(e){return e.getAttributeNS("http://www.w3.org/1999/xlink","href")}}),a("5kLwh",function(e,r){t(e.exports,"readBoolean",()=>a),t(e.exports,"readBooleanString",()=>o),t(e.exports,"readDateTime",()=>l),t(e.exports,"readDecimal",()=>u),t(e.exports,"readDecimalString",()=>h),t(e.exports,"readPositiveInteger",()=>c),t(e.exports,"readNonNegativeIntegerString",()=>d),t(e.exports,"readString",()=>p),t(e.exports,"writeBooleanTextNode",()=>f),t(e.exports,"writeStringTextNode",()=>b),t(e.exports,"writeCDATASection",()=>g),t(e.exports,"writeDateTimeTextNode",()=>m),t(e.exports,"writeDecimalTextNode",()=>y),t(e.exports,"writeNonNegativeIntegerTextNode",()=>v);var i=s("fbciu"),n=s("7f9mA");function a(e){return o((0,i.getAllTextContent)(e,!1))}function o(e){let t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t)return void 0!==t[1]}function l(e){let t=Date.parse((0,i.getAllTextContent)(e,!1));return isNaN(t)?void 0:t/1e3}function u(e){return h((0,i.getAllTextContent)(e,!1))}function h(e){let t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t)return parseFloat(t[1])}function c(e){return d((0,i.getAllTextContent)(e,!1))}function d(e){let t=/^\s*(\d+)\s*$/.exec(e);if(t)return parseInt(t[1],10)}function p(e){return(0,i.getAllTextContent)(e,!1).trim()}function f(e,t){b(e,t?"1":"0")}function g(e,t){e.appendChild((0,i.getDocument)().createCDATASection(t))}function m(e,t){let r=new Date(1e3*t),s=r.getUTCFullYear()+"-"+(0,n.padNumber)(r.getUTCMonth()+1,2)+"-"+(0,n.padNumber)(r.getUTCDate(),2)+"T"+(0,n.padNumber)(r.getUTCHours(),2)+":"+(0,n.padNumber)(r.getUTCMinutes(),2)+":"+(0,n.padNumber)(r.getUTCSeconds(),2)+"Z";e.appendChild((0,i.getDocument)().createTextNode(s))}function y(e,t){let r=t.toPrecision();e.appendChild((0,i.getDocument)().createTextNode(r))}function v(e,t){let r=t.toString();e.appendChild((0,i.getDocument)().createTextNode(r))}function b(e,t){e.appendChild((0,i.getDocument)().createTextNode(t))}}),a("k7cyy",function(e,r){t(e.exports,"default",()=>h);var i=s("gAUZM"),n=s("jZquI"),a=s("sxATa"),o=s("gzr8q"),l=s("fkmMz"),u=class extends i.default{constructor(e,t){t=t||{},e.layer&&(e=(t=e).layer);for(var r=[],i=[],s=(0,n.getWidth)((0,o.get)("EPSG:3857").getExtent())/256,l=0;l<=(t.maxZoom?t.maxZoom:20);l++)r[l]=l,i[l]=s/Math.pow(2,l);var h=new a.default({origin:[-20037508,20037508],resolutions:i,matrixIds:r});h.minZoom=t.minZoom?t.minZoom:0;var c=[u.defaultAttribution];t.attributions&&(c=t.attributions);var d=t.server||"https://data.geopf.fr/wmts",p=t.gppKey||t.key||"";super({url:u.getServiceURL(d,p),layer:e,matrixSet:"PM",format:t.format?t.format:"image/jpeg",projection:"EPSG:3857",tileGrid:h,style:t.style?t.style:"normal",attributions:c,crossOrigin:void 0===t.crossOrigin?"anonymous":t.crossOrigin,wrapX:!1!==t.wrapX}),this._server=d,this._gppKey=p,t.authentication&&this.setTileLoadFunction(u.tileLoadFunctionWithAuthentication(t.authentication,this.getFormat()))}static tileLoadFunctionWithAuthentication(e,t){if(e)return function(r,i){var n=new XMLHttpRequest;n.open("GET",i),n.setRequestHeader("Authorization","Basic "+e),n.responseType="arraybuffer",n.onload=function(){var e=new Uint8Array(this.response),i=new Blob([e],{type:t}),n=(window.URL||window.webkitURL).createObjectURL(i);r.getImage().src=n},n.onerror=function(){r.getImage().src=""},n.send()}}serviceURL(){return u.getServiceURL(this._server,this._gppKey)}getGPPKey(){return this._gppKey}setGPPKey(e,t){this._gppKey=e;var r=this.serviceURL();this.setTileUrlFunction(function(){var e=u.prototype.getTileUrlFunction().apply(this,arguments);return e?r+"?"+e.split("?")[1]:e}),t&&this.setTileLoadFunction(u.tileLoadFunctionWithAuthentication(t,this.getFormat()))}getFeatureInfoUrl(e,t,r,i){i=i||{},r||(r=this.getProjection());var n=this.tileGrid.getTileCoordForCoordAndResolution(e,t),s=this.getTileUrlFunction()(n,1,r);if(!s)return s;var a=this.tileGrid.getResolution(n[0]),o=this.tileGrid.getTileCoordExtent(n),l=Math.floor((e[0]-o[0])/(a/1)),u=Math.floor((o[3]-e[1])/(a/1));return s.replace(/Request=GetTile/i,"Request=getFeatureInfo")+"&INFOFORMAT="+(i.INFO_FORMAT||"text/plain")+"&I="+l+"&J="+u}getFeatureInfo(e,t,r){var i=this.getFeatureInfoUrl(e,t,null,r);(0,l.default).get({url:i,dataType:r.format||"text/plain",options:{encode:!1},success:function(e){r.callback&&r.callback(e)},error:r.error||function(){}})}};u.defaultAttribution='<a href="https://geoservices.ign.fr/">Géoservices</a> &copy; <a href="http://www.ign.fr/">IGN-France</a>',u.getServiceURL=function(e,t){return("gpf"===t&&(t=""),e||(e=t?"https://data.geopf.fr/private/wmts":"https://data.geopf.fr/wmts"),/geopf/.test(e))?t?e+"?apikey="+t:e:e.replace(/^(https?:\/\/[^/]*)(.*)$/,"$1/"+t+"$2")};var h=u}),a("gAUZM",function(e,r){t(e.exports,"default",()=>l);var i=s("42VYg"),n=s("9AVh1");s("jZquI"),s("sxATa");var a=s("ga5CQ");s("gzr8q");class o extends i.default{constructor(e){let t=void 0!==e.requestEncoding?e.requestEncoding:"KVP",r=e.tileGrid,i=e.urls;void 0===i&&void 0!==e.url&&(i=(0,a.expandUrl)(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=t,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=(0,a.createFromTileUrlFunctions)(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;let t=e.join("\n");this.setTileUrlFunction((0,a.createFromTileUrlFunctions)(e.map(this.createFromWMTSTemplate.bind(this))),t)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let e=this.urls?this.urls.slice(0):[];for(let t in this.dimensions_)e.push(t+"-"+this.dimensions_[t]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){let t=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==t&&Object.assign(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e="KVP"==t?(0,n.appendParams)(e,r):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase() in r?r[t.toLowerCase()]:e});let i=this.tileGrid,s=this.dimensions_;return function(r,a,o){if(!r)return;let l={TileMatrix:i.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};Object.assign(l,s);let u=e;return"KVP"==t?(0,n.appendParams)(u,l):u.replace(/\{(\w+?)\}/g,function(e,t){return l[t]})}}}var l=o}),a("9AVh1",function(e,r){t(e.exports,"appendParams",()=>i);function i(e,t){let r=[];Object.keys(t).forEach(function(e){null!==t[e]&&void 0!==t[e]&&r.push(e+"="+encodeURIComponent(t[e]))});let i=r.join("&");return e=e.replace(/[?&]$/,""),(e+=e.includes("?")?"&":"?")+i}}),a("sxATa",function(e,r){t(e.exports,"default",()=>o),t(e.exports,"createFromCapabilitiesMatrixSet",()=>l);var i=s("co8nU"),n=s("gzr8q");class a extends i.default{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}var o=a;function l(e,t,r){let i=[],s=[],o=[],l=[],u=[];r=void 0!==r?r:[];let h="TileMatrix",c="Identifier",d="ScaleDenominator",p="TopLeftCorner",f=e.SupportedCRS,g=(0,n.get)(f),m=g.getMetersPerUnit(),y="ne"==g.getAxisOrientation().substr(0,2);return e[h].sort(function(e,t){return t[d]-e[d]}),e[h].forEach(function(t){if(!(r.length>0)||r.find(function(r){return t[c]==r[h]||!t[c].includes(":")&&e[c]+":"+t[c]===r[h]})){s.push(t[c]);let e=28e-5*t[d]/m,r=t.TileWidth,n=t.TileHeight;y?o.push([t[p][1],t[p][0]]):o.push(t[p]),i.push(e),l.push(r==n?r:[r,n]),u.push([t.MatrixWidth,t.MatrixHeight])}}),new a({extent:t,origins:o,resolutions:i,matrixIds:s,tileSizes:l,sizes:u})}}),a("2C2LU",function(e,t){var r=s("bo74g");window.geoportailConfig||(window.geoportailConfig={capabilities:{}}),window.geoportailConfig.capabilities.default={"GEOGRAPHICALGRIDSYSTEMS.MAPS":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS",key:r.default.gppKey,theme:"cartes",desc:"Cartes IGN",server:"https://data.geopf.fr/private/wmts",bbox:[-180,-68.1389,180,80],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartes IGN"},"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-OACI":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-OACI",key:r.default.gppKey,theme:"cartes",desc:"Les cartes OACI (Organisation de l'aviation civile internationale) ont été conçues pour le vol à vue (VFR : Visual Flights Rules). Elles proposent des informations aéronautiques fournies par le Service de l'information aéronautique (SIA) de la Direction générale de l'aviation civile (DGAC).",server:"https://data.geopf.fr/private/wmts",bbox:[-5.99644,40.3893,11.146,51.4441],format:"image/jpeg",minZoom:6,maxZoom:11,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"carte OACI-VFR 2023"},"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN25TOUR":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN25TOUR",key:r.default.gppKey,theme:"cartes",desc:"La carte topographique représente avec précision le relief, symbolisé par des courbes de niveaux, ainsi que les détails du terrain : routes, sentiers, constructions, bois, arbre isolé, rivière, source... </br>En France, la carte topographique de base est réalisée par l'IGN. Le SCAN 25 Touristique comprend les pictogrammes du thème tourisme de la carte de base.",server:"https://data.geopf.fr/private/wmts",bbox:[-178.206,-46.5029,77.6492,51.1751],format:"image/jpeg",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte topographique (IGN Scan25)"},"GEOGRAPHICALGRIDSYSTEMS.CASSINI":{layer:"GEOGRAPHICALGRIDSYSTEMS.CASSINI",key:r.default.gppKey,theme:"cartes",desc:"Carte de Cassini en couleur (feuilles gravées et aquarellées), issue de l’exemplaire dit de « Marie-Antoinette » du XVIIIe siècle.",server:"https://data.geopf.fr/private/wmts",bbox:[-6.00063,42.019,9.2809,51.2455],format:"image/jpeg",minZoom:6,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte de Cassini (XVIIIe siècle)",legend:["https://data.geopf.fr/annexes/ressources/legendes/LEGEND.jpg"]},"ADMINEXPRESS-COG-CARTO.LATEST":{layer:"ADMINEXPRESS-COG-CARTO.LATEST",key:"",theme:"administratif",desc:"Limites administratives Express COG code officiel géographique 2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"ADMINEXPRESS COG CARTO"},"ADMINEXPRESS-COG.LATEST":{layer:"ADMINEXPRESS-COG.LATEST",key:"",theme:"administratif",desc:"Limites administratives Express COG code officiel géographique. 2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"ADMINEXPRESS COG"},"ADMINEXPRESS_2023-11-15":{layer:"ADMINEXPRESS_2023-11-15",key:"",theme:"administratif",desc:"Limites administratives mises à jour en continu ; Edition : 2023-11-15",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Limites administratives mises à jour en continu"},ADMINEXPRESS_COG_2020:{layer:"ADMINEXPRESS_COG_2020",key:"",theme:"administratif",desc:"Limites administratives Express COG code officiel géographique 2022",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"ADMINEXPRESS_COG (2022)"},ADMIN_EXPRESS:{layer:"ADMIN_EXPRESS",key:"",theme:"administratif",desc:"Limites administratives des collectivités territoriales. Régions, départements, cantons, communes, arrondissements (pour Paris, Lyon et Marseille) et établissements publics de coopération intercommunale (EPCI).",server:"https://data.geopf.fr/wmts",bbox:[-63.1618,-21.4,55.8469,51.0992],format:"application/x-protobuf",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Limites administratives"},"AREAMANAGEMENT.ZFU":{layer:"AREAMANAGEMENT.ZFU",key:"",theme:"economie",desc:"Zones franches créées au sein de quartiers de plus de 8 500 habitants particulièrement défavorisés, en tenant compte des éléments de nature à faciliter l’implantation d’entreprises ou le développement d’activités économiques.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Zones franches urbaines"},"AREAMANAGEMENT.ZUS":{layer:"AREAMANAGEMENT.ZUS",key:"",theme:"economie",desc:"Zones urbaines caractérisées par la présence de grands ensembles ou de quartiers d’habitat dégradé et par un déséquilibre accentué entre l’habitat et l’emploi.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Zones urbaines sensibles"},"Aire-Parcellaire":{layer:"Aire-Parcellaire",key:"",theme:"parcellaire",desc:"Selon les règlements européens n°110/2008 du 15 janvier 2008, n°1151/2012 du 21 novembre 2012 et n°1308/2013 de l’OCM , le cahier des charges des appellations définit l’aire géographique. Le terme de « délimitation parcellaire » désigne une aire qui repose sur les limites administratives du cadastre (les parcelles) et dont le maillage suffisamment fin permet de tenir compte de variations très localisées des éléments du milieu physique. Elle correspond à l'aire de production de la matière première. Elle est incluse dans l'aire géographique. Données produites par l'Institut National des Origines et la Qualité (INAO)",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Délimitation parcellaire AOC viticole"},"BDCARTO_ETAT-MAJOR.NIVEAU3":{layer:"BDCARTO_ETAT-MAJOR.NIVEAU3",key:"",theme:"autre",desc:"BDCARTO ETAT-MAJOR NIVEAU 3",server:"https://data.geopf.fr/wmts",bbox:[-5.15012,42.6423,7.19384,51.0938],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"BD CARTO Etat-major N3"},"BDCARTO_ETAT-MAJOR.NIVEAU4":{layer:"BDCARTO_ETAT-MAJOR.NIVEAU4",key:"",theme:"autre",desc:"BDCARTO ETAT-MAJOR NIVEAU 4",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"BD CARTO Etat-major N4"},BDTOPO:{layer:"BDTOPO",key:"",theme:"autre",desc:"La BD TOPO® contient une description vectorielle, structurée en objets, des éléments du territoire et de ses infrastructures, de précision métrique.",server:"https://data.geopf.fr/wmts",bbox:[-63.1618,-21.4,55.8469,51.0992],format:"application/x-protobuf",minZoom:4,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDTopo"},"BUILDINGS.BUILDINGS":{layer:"BUILDINGS.BUILDINGS",key:"",theme:"topographie",desc:"Affichage des constructions couvrant le territoire français.",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Bâtiments"},"CADASTRAL.PARCELS.SECTIONS":{layer:"CADASTRAL.PARCELS.SECTIONS",key:"",theme:"parcellaire",desc:"Affichage des divisions cadastrales (partie du plan cadastral correspondant à une section ou à une subdivision de section). Donnée établie d'après les plans cadastraux transmis par la DGFiP (Direction générale des Finances publiques).",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:13,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Sections cadastrales - BD PARCELLAIRE"},"CADASTRALPARCELS.HEATMAP":{layer:"CADASTRALPARCELS.HEATMAP",key:"",theme:"parcellaire",desc:"Cartographie des décalages entre les données BD Parcellaire et Parcellaire Express",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"DECALAGE DE LA REPRESENTATION CADASTRALE",tilematrix:"PM",title:"Décalage de la représentation cadastrale"},"CADASTRALPARCELS.HISTO.2008-2013.PARCELS":{layer:"CADASTRALPARCELS.HISTO.2008-2013.PARCELS",key:"",theme:"parcellaire",desc:"Limites des parcelles cadastrales historiques (2008-2013) issues de plans scannés et de plans numériques.",server:"https://data.geopf.fr/wmts",bbox:[-63.1607,-21.3922,55.8464,51.0945],format:"image/png",minZoom:0,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"bdparcellaire",tilematrix:"PM",title:"Parcelles cadastrales historiques (2008-2013)"},"CADASTRALPARCELS.PARCELLAIRE_EXPRESS":{layer:"CADASTRALPARCELS.PARCELLAIRE_EXPRESS",key:"",theme:"parcellaire",desc:"Plan cadastral informatisé vecteur de la DGFIP édition Juillet 2023.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PCI vecteur"},"CADASTRALPARCELS.PARCELS":{layer:"CADASTRALPARCELS.PARCELS",key:"",theme:"parcellaire",desc:"Limites des parcelles cadastrales issues de plans scannés et de plans numériques.",server:"https://data.geopf.fr/wmts",bbox:[-63.1607,-21.3922,55.8464,51.091],format:"image/png",minZoom:0,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"bdparcellaire",tilematrix:"PM",title:"Parcelles cadastrales"},"CADASTRALPARCELS.QUALREFBDP":{layer:"CADASTRALPARCELS.QUALREFBDP",key:"",theme:"parcellaire",desc:"Métadonnées complémentaires des divisions cadastrales. Davantage d’informations dans le document disponible https://data.geopf.fr/annexes/ressources/fiches/bdparcellaire/Metadonnees_BDPARCELLAIRE.pdf",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"DIVCAD_MTD",tilematrix:"PM",title:"Qualité du géoréférencement de la BD Parcellaire"},"CARTES-14-18-EDUGEO_PYR-PNG_FXX_WM":{layer:"CARTES-14-18-EDUGEO_PYR-PNG_FXX_WM",key:"",theme:"edugeo",desc:"Zone de Verdun et ses environs: voies de communication (novembre 1916)",server:"https://data.geopf.fr/wmts",bbox:[4.79205,48.9421,5.9969,49.5144],format:"image/png",minZoom:6,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Verdun et ses environs: voies de communication (novembre 1916)"},"CARTES.NATURALEARTH":{layer:"CARTES.NATURALEARTH",key:"",theme:"cartes",desc:"Carte générale du monde politique avec les frontières et capitales d'Etat, les entités administratives secondaires, villes principales, fleuves, lacs et océans. Edition : 1.4.0",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:1,maxZoom:9,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Monde Natural Earth"},CGET_QP_BDD_WLD_WM_WMTS_20150914:{layer:"CGET_QP_BDD_WLD_WM_WMTS_20150914",key:"",theme:"autre",desc:'<div style="text-align:justify;">Les quartiers prioritaires de la politique de la ville sont issus de la loi de programmation pour la ville et cohésion urbaine n° 2014-173 du 21 février 2014.<br/> <div style="text-decoration:underline;"><a href="http://www.ville.gouv.fr/?geographie-prioritaire-de-la" alt="http://www.ville.gouv.fr/?geographie-prioritaire-de-la">Téléchargement des données</a></div><br/> Sources : Commissariat Général à l\'Egalité des Territoires :  1er janvier 2015</div>',server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Quartiers prioritaires"},"COMMUNES.PRIORITYDISCTRICT":{layer:"COMMUNES.PRIORITYDISCTRICT",key:"",theme:"autre",desc:'<div style="text-align:justify;">Les quartiers prioritaires de la politique de la ville sont issus de la loi de programmation pour la ville et cohésion urbaine n° 2014-173 du 21 février 2014.<br/> <div style="text-decoration:underline;"><a href="http://www.ville.gouv.fr/?geographie-prioritaire-de-la" alt="http://www.ville.gouv.fr/?geographie-prioritaire-de-la">Téléchargement des données</a></div><br/> Sources : Commissariat Général à l\'Egalité des Territoires :  1er janvier 2015</div>',server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Quartiers prioritaires"},"COMMUNES.SISMICITE":{layer:"COMMUNES.SISMICITE",key:"",theme:"autre",desc:'<div style="text-align:justify;">Représentation des niveaux de sismicité pour chaque commune.</br> Le zonage sismique de la France, en vigueur à compter du 1er mai 2011, est défini par le décret n°2010-1255 du 22 octobre 2010.</br> </br> Sources :</br> Direction Générale de la Prévention des Risques : base GASPAR - 10/2014</br> IGN : BDTOPO&reg; - 04/2014',server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Communes selon les zones de sismicité"},DEBROUSSAILLEMENT:{layer:"DEBROUSSAILLEMENT",key:"",theme:"environnement",desc:"Zonage informatif des obligations légales de débroussaillement",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"nolegend",tilematrix:"PM",title:"Zonage informatif des obligations légales de débroussaillement"},"DREAL.ZONAGE_PINEL":{layer:"DREAL.ZONAGE_PINEL",key:"",theme:"autre",desc:"La réduction d'impôt « Pinel » (code général des impôts) s'applique à l’investissement locatif réalisé dans les zones où la tension entre l'offre et la demande de logements est la plus forte. La loi n°2019-1479 du 28 décembre 2019 de finances pour 2020, prévoit à titre expérimental, un dispositif dérogatoire au droit commun pour la Bretagne. Ainsi, les communes ou parties de communes éligibles à la réduction d'impôt « Pinel » sont fixées par arrêté du préfet de région. Cet arrêté est pris après avis du président du conseil régional et du comité régional de l'habitat et de l'hébergement. Cet article prévoit également que le préfet de région fixe, par arrêté, les plafonds de loyer et de ressources du locataire pour chaque commune ou partie de commune éligible et par type de logement. L’une des particularités de cette expérimentation réside dans l’éligibilité du dispositif qui peut être limitée à une partie seulement du territoire communal. Lorsqu’une commune n’est éligible que pour une partie de son territoire, deux approches sont distinguées, à savoir à la maille de l’IRIS (correspondant à un quartier) ou à la maille du carreau de 200 mètres sur 200 mètres.",server:"https://data.geopf.fr/wmts",bbox:[-5.15012,47.2719,-1.00687,48.9064],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Zonage du dispositif Pinel en Bretagne 2020-2021"},"EDUGEO.LANDUSE.AGRICULTURE2012":{layer:"EDUGEO.LANDUSE.AGRICULTURE2012",key:"",theme:"edugeo",desc:"Registre parcellaire graphique : zones de culture déclarées par les exploitants en 2012",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2012"},"EDUGEO.NATURALRISKZONES.1910FLOODEDWATERSHEDS":{layer:"EDUGEO.NATURALRISKZONES.1910FLOODEDWATERSHEDS",key:"",theme:"edugeo",desc:"Carte des plus hautes eaux connues (PHEC) sur le bassin de la Seine : crue de la seine et de ses affluents en 1910, ainsi que d'autres crues à des dates postérieures sur d'autres cours d'eau.",server:"https://data.geopf.fr/wmts",bbox:[.419457,47.4163,5.43248,50.064],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Crues du bassin de la Seine - PHEC"},"ELEVATION.CONTOUR.LINE":{layer:"ELEVATION.CONTOUR.LINE",key:"",theme:"altimetrie",desc:"Le produit « Courbes de niveau » est un modèle numérique de terrain sous forme de courbes de même altitude, appelées aussi « isoplèthes d’altitude », ou plus techniquement « isohypses ». Ces courbes permettent la description du relief français.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Courbes de niveau"},"ELEVATION.ELEVATIONGRIDCOVERAGE":{layer:"ELEVATION.ELEVATIONGRIDCOVERAGE",key:"",theme:"altimetrie",desc:"BDAlti V1 au pas de 25m",server:"https://data.geopf.fr/wmts",bbox:[-64,-23,168,52],format:"image/x-bil;bits=32",minZoom:0,maxZoom:11,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"MNT BDAlti V1"},"ELEVATION.ELEVATIONGRIDCOVERAGE.HIGHRES":{layer:"ELEVATION.ELEVATIONGRIDCOVERAGE.HIGHRES",key:"",theme:"altimetrie",desc:"Modèle Numérique de Terrain issu du RGEALTI",server:"https://data.geopf.fr/wmts",bbox:[-62.9528,-13.0078,45.3043,51.1053],format:"image/x-bil;bits=32",minZoom:6,maxZoom:14,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Modèle Numérique de Terrain issu du RGEALTI"},"ELEVATION.ELEVATIONGRIDCOVERAGE.HIGHRES.MNS":{layer:"ELEVATION.ELEVATIONGRIDCOVERAGE.HIGHRES.MNS",key:"",theme:"altimetrie",desc:"Modèle numérique de surface",server:"https://data.geopf.fr/wmts",bbox:[-63.1968,-21.4338,55.8639,51.22],format:"image/x-bil;bits=32",minZoom:4,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Modèle numérique de surface"},"ELEVATION.ELEVATIONGRIDCOVERAGE.SHADOW":{layer:"ELEVATION.ELEVATIONGRIDCOVERAGE.SHADOW",key:"",theme:"altimetrie",desc:"Couche d'ombrage calculée à partir des données altimétriques de l'IGN permettant de mieux appréhender le relief. L'estompage proposé est réalisé à partir des données MNT BDAlti au pas de 25m avec deux soleils : un au nord-est de hauteur 45°, l'autre zénithal.",server:"https://data.geopf.fr/wmts",bbox:[-63.187,-21.4069,55.8884,50.9218],format:"image/png",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"estompage_grayscale",tilematrix:"PM",title:"Estompage"},"ELEVATION.ELEVATIONGRIDCOVERAGE.SRTM3":{layer:"ELEVATION.ELEVATIONGRIDCOVERAGE.SRTM3",key:"",theme:"altimetrie",desc:"MNT SRTM3 construit par la NASA et le NGA.",server:"https://data.geopf.fr/wmts",bbox:[-180,-56.0004,180,61.0004],format:"image/x-bil;bits=32",minZoom:1,maxZoom:10,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"MNT SRTM3"},"ELEVATION.ELEVATIONGRIDCOVERAGE.THRESHOLD":{layer:"ELEVATION.ELEVATIONGRIDCOVERAGE.THRESHOLD",key:"",theme:"altimetrie",desc:"La carte expérimentale des seuils de pente pour l'agriculture est dérivée du MNT RGEAlti, modèle numérique de terrain maillé au pas de 1 m. Les seuils de représentation de cette carte sont : 7% à 10% : bleu, 10% à 15% : mauve, 15% à 20% : orange, plus de 20% : rouge. Données disponibles en France Métropolitaine du 1/4265 au 1/69885283 - mise à jour du 30/06/2017.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:3,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"ELEVATION.ELEVATIONGRIDCOVERAGE.THRESHOLD",tilematrix:"PM",title:"Seuils de pente pour l'agriculture"},"ELEVATION.LEVEL0":{layer:"ELEVATION.LEVEL0",key:"",theme:"altimetrie",desc:"Formalisation de la limite entre le domaine terrestre et le domaine marin.",server:"https://data.geopf.fr/wmts",bbox:[-63.2529,-21.51,55.9472,51.1388],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Trait de côte Histolitt"},"ELEVATION.SLOPES":{layer:"ELEVATION.SLOPES",key:"",theme:"altimetrie",desc:"La couche altitude se compose d'un MNT (Modèle Numérique de Terrain) affiché en teintes hypsométriques et issu de la BD ALTI®.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:6,maxZoom:14,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Altitude"},"ELEVATION.SLOPES.HIGHRES":{layer:"ELEVATION.SLOPES.HIGHRES",key:"",theme:"altimetrie",desc:"Modèle numérique continu terre-mer sur la frange littorale.",server:"https://data.geopf.fr/wmts",bbox:[5.75296,42.9786,6.25761,43.2733],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Litto3D ®"},"ELEVATIONGRIDCOVERAGE.HIGHRES.QUALITY":{layer:"ELEVATIONGRIDCOVERAGE.HIGHRES.QUALITY",key:"",theme:"altimetrie",desc:"Informations sur la précision du RGEAlti.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"Graphe de source du RGE Alti",tilematrix:"PM",title:"Masque de source du RGE Alti"},"EVOL-SURFACE-FORESTIERE-1980-2011_EDUGEO_PYR-PNG_FXX_LAMB93_20150918":{layer:"EVOL-SURFACE-FORESTIERE-1980-2011_EDUGEO_PYR-PNG_FXX_LAMB93_20150918",key:"",theme:"edugeo",desc:"Évolution annuelle des surfaces forestières entre les années 1980 et 2011",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Évolution des surfaces forestières (1980 et 2011)"},"FORETS.PUBLIQUES":{layer:"FORETS.PUBLIQUES",key:"",theme:"environnement",desc:"Localisation des forêts publiques domaniales et non domaniales (communales, sectionales, départementales et d'établissements publics) gérées par l'Office national des forêts (ONF).",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:3,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"FORETS PUBLIQUES ONF",tilematrix:"PM",title:"Forêts publiques"},"GEOGRAPHICALGRIDSYSTEMS.1900TYPEMAPS":{layer:"GEOGRAPHICALGRIDSYSTEMS.1900TYPEMAPS",key:"",theme:"cartes",desc:"Carte topographique de Paris et de ses environs éditée en 1906.",server:"https://data.geopf.fr/wmts",bbox:[1.62941,48.4726,3,49.1548],format:"image/jpeg",minZoom:10,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte topographique - environs de Paris (1906)"},"GEOGRAPHICALGRIDSYSTEMS.1914_11_15_ARRAS_VERDUN_BELFORT_fronts_600K":{layer:"GEOGRAPHICALGRIDSYSTEMS.1914_11_15_ARRAS_VERDUN_BELFORT_fronts_600K",key:"",theme:"edugeo",desc:"Zone de front : Arras Verdun Belfort (15 novembre 1914)",server:"https://data.geopf.fr/wmts",bbox:[.87353,47.3396,8.88521,51.2857],format:"image/png",minZoom:6,maxZoom:10,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Front : Arras Verdun Belfort (15 novembre 1914)"},"GEOGRAPHICALGRIDSYSTEMS.BONNE":{layer:"GEOGRAPHICALGRIDSYSTEMS.BONNE",key:"",theme:"cartes",desc:"Carte de Guyane française établie par M. Bonne, Ingénieur-Hydrographe de la Marine. Cette carte figure dans l'\"atlas de toutes les parties connues du globe terrestre\", ouvrage rédigé par l'abbé Guillaume-Thomas RAYNAL et publié à Genève en 1780.",server:"https://data.geopf.fr/wmts",bbox:[-55.9127,-.49941,-50.0835,7.88966],format:"image/jpeg",minZoom:0,maxZoom:10,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Guyane française (1780)"},"GEOGRAPHICALGRIDSYSTEMS.COASTALMAPS":{layer:"GEOGRAPHICALGRIDSYSTEMS.COASTALMAPS",key:"",theme:"cartes",desc:"Assemblage des cartes marines du Service hydrographique et océanographique de la marine (SHOM) et des cartes terrestres de l’IGN. Attention : Cette donnée n’est pas destinée à la navigation maritime.",server:"https://data.geopf.fr/wmts",bbox:[-61.8799,-21.5205,56.1352,51.1895],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte littorale (SHOM/IGN)"},"GEOGRAPHICALGRIDSYSTEMS.DOUAUMONT_FORT_positions_5K_18mai1916":{layer:"GEOGRAPHICALGRIDSYSTEMS.DOUAUMONT_FORT_positions_5K_18mai1916",key:"",theme:"edugeo",desc:"Zone du Fort de Douaumont (18 mai 1916)",server:"https://data.geopf.fr/wmts",bbox:[5.42696,49.2064,5.45493,49.2229],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Fort Douaumont (18 mai 1916)"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.AJACCIO1976":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.AJACCIO1976",key:"",theme:"edugeo",desc:"Zone d'Ajaccio - Cartographie 1976",server:"https://data.geopf.fr/wmts",bbox:[8.507,41.6654,9.13252,42.0381],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie AJACCIO 1976"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BELFORT-MONTBELLIARD1973":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BELFORT-MONTBELLIARD1973",key:"",theme:"edugeo",desc:"Zone d'Ajaccio - BELFORT MONTBELLIARD 1973",server:"https://data.geopf.fr/wmts",bbox:[6.50535,47.3676,7.25597,47.8735],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie BELFORT MONTBELLIARD 1973"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BERRY-SUD1952":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BERRY-SUD1952",key:"",theme:"edugeo",desc:"Zone de BERRY SUD - Cartographie 1952",server:"https://data.geopf.fr/wmts",bbox:[1.00082,46.168,1.75144,46.6854],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie BERRY SUD 1952"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BETHUNE1956":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BETHUNE1956",key:"",theme:"edugeo",desc:"Zone de BETHUNE 1956",server:"https://data.geopf.fr/wmts",bbox:[2.37696,50.17,3.37778,50.6484],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie BETHUNE 1956"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BIARRITZ1979":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BIARRITZ1979",key:"",theme:"edugeo",desc:"Zone de Biarritz 1979",server:"https://data.geopf.fr/wmts",bbox:[-1.87654,43.1433,-1.25103,43.6885],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie BIARRITZ 1979"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BOURG-ST-MAURICE1974":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.BOURG-ST-MAURICE1974",key:"",theme:"edugeo",desc:"Zone de BOURG St-MAURICE - Cartographie 1974",server:"https://data.geopf.fr/wmts",bbox:[6.50535,45.3827,7.13087,45.7331],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie BOURG St-MAURICE 1974"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CAEN1969":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CAEN1969",key:"",theme:"edugeo",desc:"Zone de CAEN - Cartographie 1969",server:"https://data.geopf.fr/wmts",bbox:[-.875721,49.035,-.125103,49.4434],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie CAEN 1969"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CAP-DAGDE1971":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CAP-DAGDE1971",key:"",theme:"edugeo",desc:"Zone du Cap d'Agde 1971",server:"https://data.geopf.fr/wmts",bbox:[3.00247,43.1433,3.62799,43.5073],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Cap d'AGDE 1971"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CLERMONT-FERRAND1966":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CLERMONT-FERRAND1966",key:"",theme:"edugeo",desc:"Zone de CLERMONT FERRAND 1966",server:"https://data.geopf.fr/wmts",bbox:[2.75227,45.6457,3.37778,45.9944],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie CLERMONT FERRAND 1966"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CREIL-SUD-PICARDIE1979":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.CREIL-SUD-PICARDIE1979",key:"",theme:"edugeo",desc:"Zone de CREIL SUD PICARDIE 1979",server:"https://data.geopf.fr/wmts",bbox:[2.25185,49.035,3.12757,49.6058],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie CREIL SUD PICARDIE 1979"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.DIJON1962":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.DIJON1962",key:"",theme:"edugeo",desc:"Zone de Dijon 1962",server:"https://data.geopf.fr/wmts",bbox:[4.75391,46.9422,5.37943,47.5368],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Dijon 1962"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.Douaumont1916":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.Douaumont1916",key:"",theme:"edugeo",desc:"Zone de Douaumont et ses environs (avril 1916)",server:"https://data.geopf.fr/wmts",bbox:[5.38761,49.1519,5.49243,49.2326],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Douaumont et ses environs (avril 1916)"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GRENOBLE1965":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GRENOBLE1965",key:"",theme:"edugeo",desc:"Zone de Grenoble 1965",server:"https://data.geopf.fr/wmts",bbox:[5.50453,44.9416,6.13005,45.3827],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie GRENOBLE 1965"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GRENOBLE1976":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GRENOBLE1976",key:"",theme:"edugeo",desc:"Zone de Grenoble 1976",server:"https://data.geopf.fr/wmts",bbox:[5.50453,45.0301,6.25515,45.4705],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie GRENOBLE 1976"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GRENOBLE1991":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GRENOBLE1991",key:"",theme:"edugeo",desc:"Zone de Grenoble 1991",server:"https://data.geopf.fr/wmts",bbox:[5.50453,44.9416,6.13005,45.3827],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie GRENOBLE 1991"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GUADELOUPE1955":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GUADELOUPE1955",key:"",theme:"edugeo",desc:"Zone de Guadeloupe 1955",server:"https://data.geopf.fr/wmts",bbox:[-61.6758,16.1695,-61.3005,16.6495],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Guadeloupe 1955"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GUYANE1958":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.GUYANE1958",key:"",theme:"edugeo",desc:"Zone de Guyane 1958",server:"https://data.geopf.fr/wmts",bbox:[-54.4198,5.12238,-53.419,5.99398],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Guyane 1958"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LA-REUNION1980":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LA-REUNION1980",key:"",theme:"edugeo",desc:"Zone de la Réunion 1980",server:"https://data.geopf.fr/wmts",bbox:[55.0453,-21.4954,55.6708,-20.6783],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie LA REUNION 1980"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LA-ROCHELLE-ROCHEFORT1959":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LA-ROCHELLE-ROCHEFORT1959",key:"",theme:"edugeo",desc:"Zone de LA ROCHELLE-ROCHEFORT 1959",server:"https://data.geopf.fr/wmts",bbox:[-1.37613,45.7331,-.750618,46.4273],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie LA ROCHELLE-ROCHEFORT 1959"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LE-HAVRE1975":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LE-HAVRE1975",key:"",theme:"edugeo",desc:"Zone de Le Havre - Cartographie 1975",server:"https://data.geopf.fr/wmts",bbox:[-.125103,49.2805,.500412,49.6868],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Le Havre 1975"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LE-HAVRE1979":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LE-HAVRE1979",key:"",theme:"edugeo",desc:"Zone de Le Havre - Cartographie 1979",server:"https://data.geopf.fr/wmts",bbox:[-.125103,49.2805,.625515,49.6868],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Le Havre 1979"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LIMOGES1966":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LIMOGES1966",key:"",theme:"edugeo",desc:"Zone de Limoges 1966",server:"https://data.geopf.fr/wmts",bbox:[1.00082,45.6457,1.50124,45.9944],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Limoges 1966"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LYON1947":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LYON1947",key:"",theme:"edugeo",desc:"Zone de LYON - Cartographie 1947",server:"https://data.geopf.fr/wmts",bbox:[4.50371,45.4705,5.37943,46.0813],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie LYON 1947"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LYON1980":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LYON1980",key:"",theme:"edugeo",desc:"Zone de LYON - Cartographie 1980",server:"https://data.geopf.fr/wmts",bbox:[4.62881,45.4705,5.12922,45.9944],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie LYON 1980"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LYON1985":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.LYON1985",key:"",theme:"edugeo",desc:"Zone de LYON - Cartographie 1985",server:"https://data.geopf.fr/wmts",bbox:[4.62881,45.5582,5.12922,45.9944],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie LYON 1985"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.Le-Mort-Homme-et-ses-environs-avril-1916":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.Le-Mort-Homme-et-ses-environs-avril-1916",key:"",theme:"edugeo",desc:"Zone du Mort Homme et ses environs (avril 1916)",server:"https://data.geopf.fr/wmts",bbox:[5.20969,49.1978,5.31045,49.2602],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Le Mort Homme et ses environs (avril 1916)"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARNE-LA-VALLEE1966":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARNE-LA-VALLEE1966",key:"",theme:"edugeo",desc:"Zone de MARNE LA VALLÉE 1966",server:"https://data.geopf.fr/wmts",bbox:[2.37696,48.7059,3.12757,49.035],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie MARNE LA VALLÉE 1966"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARNE-LA-VALLEE1978":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARNE-LA-VALLEE1978",key:"",theme:"edugeo",desc:"Zone de MARNE LA VALLÉE 1978",server:"https://data.geopf.fr/wmts",bbox:[2.37696,48.7059,2.75227,49.035],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie MARNE LA VALLÉE 1978"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARNE-LA-VALLEE1987":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARNE-LA-VALLEE1987",key:"",theme:"edugeo",desc:"Zone de MARNE LA VALLÉE 1987",server:"https://data.geopf.fr/wmts",bbox:[2.37696,48.7059,3.12757,49.035],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie MARNE LA VALLÉE 1987"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARSEILLE-MARTIGUES1947":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARSEILLE-MARTIGUES1947",key:"",theme:"edugeo",desc:"Zone de MARSEILLE MARTIGUES 1947",server:"https://data.geopf.fr/wmts",bbox:[4.50371,43.052,5.62963,43.6885],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie MARSEILLE MARTIGUES 1947"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARSEILLE-MARTIGUES1980":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARSEILLE-MARTIGUES1980",key:"",theme:"edugeo",desc:"Zone de MARSEILLE MARTIGUES 1980",server:"https://data.geopf.fr/wmts",bbox:[5.00412,43.052,5.62963,43.5073],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie MARSEILLE MARTIGUES 1980"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARSEILLE-MARTIGUES1986":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.MARSEILLE-MARTIGUES1986",key:"",theme:"edugeo",desc:"Zone de MARSEILLE MARTIGUES 1986",server:"https://data.geopf.fr/wmts",bbox:[4.87902,43.052,5.62963,43.6885],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie MARSEILLE MARTIGUES 1986"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.METZ-NANCY1983":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.METZ-NANCY1983",key:"",theme:"edugeo",desc:"Zone de METZ NANCY 1983",server:"https://data.geopf.fr/wmts",bbox:[5.75474,48.4576,6.50535,49.362],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie METZ NANCY 1983"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.NANTES1972":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.NANTES1972",key:"",theme:"edugeo",desc:"Zone de NANTES 1972",server:"https://data.geopf.fr/wmts",bbox:[-2.50206,47.0276,-1.25103,47.4522],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie NANTES 1972"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.PARIS1964":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.PARIS1964",key:"",theme:"edugeo",desc:"Zone de Paris - Cartographie 1964",server:"https://data.geopf.fr/wmts",bbox:[2.00165,48.7884,2.50206,49.117],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie 1964"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.PARIS1979":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.PARIS1979",key:"",theme:"edugeo",desc:"Zone de Paris - Cartographie 1979",server:"https://data.geopf.fr/wmts",bbox:[2.00165,48.7059,2.62716,49.035],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie 1979"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.Positions_20K_avr1916":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.Positions_20K_avr1916",key:"",theme:"edugeo",desc:"Zone de l'Organisation défensive sur la Meuse (avril 1916)",server:"https://data.geopf.fr/wmts",bbox:[5.11659,49.1307,5.58059,49.2732],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Organisation défensive sur la Meuse (avril 1916)"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.REIMS1974":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.REIMS1974",key:"",theme:"edugeo",desc:"Zone de REIMS 1974",server:"https://data.geopf.fr/wmts",bbox:[3.75309,49.035,4.50371,49.4434],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie REIMS 1974"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.ROISSY1973":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.ROISSY1973",key:"",theme:"edugeo",desc:"Zone de Roissy - Cartographie 1973",server:"https://data.geopf.fr/wmts",bbox:[2.25185,48.8707,2.75227,49.117],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Roissy 1973"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.ROISSY1978":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.ROISSY1978",key:"",theme:"edugeo",desc:"Zone de Roissy - Cartographie 1978",server:"https://data.geopf.fr/wmts",bbox:[2.25185,48.8707,2.75227,49.2805],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Roissy 1978"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.STRASBOURG1956":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.STRASBOURG1956",key:"",theme:"edugeo",desc:"Zone de STRASBOURG 1956",server:"https://data.geopf.fr/wmts",bbox:[7.25597,48.2081,8.13169,48.7884],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie STRASBOURG 1956"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.STRASBOURG1978":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.STRASBOURG1978",key:"",theme:"edugeo",desc:"Zone de STRASBOURG 1978",server:"https://data.geopf.fr/wmts",bbox:[7.25597,48.1246,8.00659,48.8707],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie STRASBOURG 1978"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.TOULON-HYERES1976":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.TOULON-HYERES1976",key:"",theme:"edugeo",desc:"Zone de TOULON HYERES 1976",server:"https://data.geopf.fr/wmts",bbox:[5.62963,42.8689,6.38025,43.2345],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie TOULON HYERES 1976"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.TOULOUSE1948":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.TOULOUSE1948",key:"",theme:"edugeo",desc:"Zone de TOULOUSE 1948",server:"https://data.geopf.fr/wmts",bbox:[1.12593,43.4165,1.75144,43.7789],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie TOULOUSE 1948"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VANNES-GOLFE-DU-MORBIHAN1960":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VANNES-GOLFE-DU-MORBIHAN1960",key:"",theme:"edugeo",desc:"Zone de Vannes Golfe du Morbihan - Cartographie 1960",server:"https://data.geopf.fr/wmts",bbox:[-3.37778,47.3676,-2.50206,47.8735],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Vannes Golfe du Morbihan 1960"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VANNES-GOLFE-DU-MORBIHAN1971":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VANNES-GOLFE-DU-MORBIHAN1971",key:"",theme:"edugeo",desc:"Zone de Vannes Golfe du Morbihan - Cartographie 1971",server:"https://data.geopf.fr/wmts",bbox:[-3.37778,47.3676,-2.50206,47.8735],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Vannes Golfe du Morbihan 1971"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VERDUN_NORD_fronts_francais_20K":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VERDUN_NORD_fronts_francais_20K",key:"",theme:"edugeo",desc:"Zone de Verdun nord : fronts français (21-26 février 1916)",server:"https://data.geopf.fr/wmts",bbox:[5.29434,49.168,5.58034,49.3036],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Verdun nord : fronts français (21-26 février 1916)"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VERDUN_NORD_organisations_defensives_20K":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VERDUN_NORD_organisations_defensives_20K",key:"",theme:"edugeo",desc:"Zone de Verdun nord : organisations défensives (21 février 1916)",server:"https://data.geopf.fr/wmts",bbox:[5.28694,49.1609,5.58493,49.3069],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Verdun nord : organisations défensives (21 février 1916)"},"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VERSAILLES1979":{layer:"GEOGRAPHICALGRIDSYSTEMS.EDUGEO.VERSAILLES1979",key:"",theme:"edugeo",desc:"Zone de Versailles - Cartographie 1979",server:"https://data.geopf.fr/wmts",bbox:[1.87654,48.5405,2.50206,49.035],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Versailles 1979"},"GEOGRAPHICALGRIDSYSTEMS.ETATMAJOR10":{layer:"GEOGRAPHICALGRIDSYSTEMS.ETATMAJOR10",key:"",theme:"cartes",desc:"Carte des environs de Paris au 1 : 10 000 établie entre 1818 et 1824.",server:"https://data.geopf.fr/wmts",bbox:[1.82682,48.3847,2.79738,49.5142],format:"image/jpeg",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte de l'état-major - environs de Paris (1818 - 1824)"},"GEOGRAPHICALGRIDSYSTEMS.ETATMAJOR40":{layer:"GEOGRAPHICALGRIDSYSTEMS.ETATMAJOR40",key:"",theme:"cartes",desc:"Carte française en couleurs du XIXè siècle en couleurs superposable aux cartes et données modernes.",server:"https://data.geopf.fr/wmts",bbox:[-6.08889,41.1844,10.961,51.2745],format:"image/jpeg",minZoom:6,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte de l'état-major (1820-1866)"},"GEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEW":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.OVERVIEW",key:"",theme:"cartes",desc:"Carte Mondiale pour la mini-vue",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:1,maxZoom:8,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte Mondiale pour la mini-vue"},"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN50.1950":{layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN50.1950",key:"",theme:"cartes",desc:"SCAN50 produit par l'IGN en 1950",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:3,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"SCAN50_1950",tilematrix:"PM",title:"SCAN50 Historique de 1950"},"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2":{layer:"GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",key:"",theme:"cartes",desc:"Cartographie multi-échelles sur le territoire national, issue des bases de données vecteur de l’IGN, mis à jour régulièrement et réalisée selon un processus entièrement automatisé.",server:"https://data.geopf.fr/wmts",bbox:[-175,-85,175,85],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Plan IGN v2"},"GEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAIN":{layer:"GEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAIN",key:"",theme:"cartes",desc:"Carte des zones ayant une valeur de pente supérieure à 30°-35°-40°-45° d'après la BD ALTI au pas de 5m",server:"https://data.geopf.fr/wmts",bbox:[-63.1614,-21.5446,56.0018,51.0991],format:"image/png",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte des pentes"},"GEOGRAPHICALGRIDSYSTEMS.SLOPES.PAC":{layer:"GEOGRAPHICALGRIDSYSTEMS.SLOPES.PAC",key:"",theme:"cartes",desc:"Carte des zones ayant une valeur de pente supérieure à 10% - source : RGEALTI 2017 au pas de 5m - disponible jusqu'au 1/17062 - métropole uniquement - mise à jour le 12/10/2017",server:"https://data.geopf.fr/wmts",bbox:[-63.1614,-21.5446,56.0018,51.0991],format:"image/png",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte des pentes pour l'agriculture sur la métropole"},"GEOGRAPHICALGRIDSYSTEMS.TERRIER_V1":{layer:"GEOGRAPHICALGRIDSYSTEMS.TERRIER_V1",key:"",theme:"cartes",desc:"Plan Terrier Corse V1 (XVIIIe siècle) - GEOGRAPHICALGRIDSYSTEMS.TERRIER_V1",server:"https://data.geopf.fr/wmts",bbox:[8.36284,41.2568,9.75281,43.1174],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Plan Terrier V1 (XVIIIe siècle)"},"GEOGRAPHICALGRIDSYSTEMS.TERRIER_V2":{layer:"GEOGRAPHICALGRIDSYSTEMS.TERRIER_V2",key:"",theme:"cartes",desc:"Plan Terrier, cartographie ancienne du XVIIIème siècle sur la Corse version est une version numérisée par les archives militaires du Ministère de la Défense",server:"https://data.geopf.fr/wmts",bbox:[8.36284,41.2568,9.75282,43.1174],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Plan Terrier V2 (XVIIIe siècle)"},"GEOGRAPHICALGRIDSYSTEMS.VERDUN_ENVIRONS_NORD_fronts_offensves_50K":{layer:"GEOGRAPHICALGRIDSYSTEMS.VERDUN_ENVIRONS_NORD_fronts_offensves_50K",key:"",theme:"edugeo",desc:"Zone de Verdun et ses environs : offensives (février 1916 à aout1917 )",server:"https://data.geopf.fr/wmts",bbox:[4.99018,49.0887,5.65437,49.4144],format:"image/png",minZoom:6,maxZoom:14,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Verdun et ses environs : offensives (février 1916 à aout1917 )"},"GEOGRAPHICALGRIDSYSTEMS.VERDUN_ENVIRONS_SUD_NORD_com_group_80K":{layer:"GEOGRAPHICALGRIDSYSTEMS.VERDUN_ENVIRONS_SUD_NORD_com_group_80K",key:"",theme:"edugeo",desc:"Zone de Verdun et ses environs: voies de communication (novembre 1916)",server:"https://data.geopf.fr/wmts",bbox:[4.79205,48.9421,5.9969,49.5144],format:"image/png",minZoom:6,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Verdun et ses environs: voies de communication (novembre 1916)"},"GEOGRAPHICALGRIDSYSTEMS.VERDUN_ENVIRONS_fronts_50K_21-26fevr1916":{layer:"GEOGRAPHICALGRIDSYSTEMS.VERDUN_ENVIRONS_fronts_50K_21-26fevr1916",key:"",theme:"edugeo",desc:"Zone de Verdun et ses environs : fronts français (21-26 février 1916)",server:"https://data.geopf.fr/wmts",bbox:[4.98696,49.0849,5.64305,49.3719],format:"image/png",minZoom:6,maxZoom:14,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Verdun et ses environs : fronts français (21-26 février 1916)"},"GEOGRAPHICALNAMES.NAMES":{layer:"GEOGRAPHICALNAMES.NAMES",key:"",theme:"topographie",desc:"Affichage des noms des villes, villages, lieux-dits ...",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Dénominations géographiques"},"HR.ORTHOIMAGERY.ORTHOPHOTOS":{layer:"HR.ORTHOIMAGERY.ORTHOPHOTOS",key:"",theme:"ortho",desc:"Le produit BD ORTHO® V3 est une collection de mosaïques d'orthophotographies numériques en couleurs ou en Infra Rouge couleurs, rectifiées dans la projection adaptée au territoire couvert. La BD ORTHO® V3 se compose d'images numériques (sans habillage ni surcharge) et d'indications de géoréférencement. Le contenu informationnel permet localement une utilisation jusqu'au 1 :2,000ième pour mettre en valeur le territoire, enrichir la visualisation des données et des projets.",server:"https://data.geopf.fr/wmts",bbox:[-180,-90,180,90],format:"image/jpeg",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Ortho 20 cm"},"HYDROGRAPHY.BCAE.2020":{layer:"HYDROGRAPHY.BCAE.2020",key:"",theme:"topographie",desc:"Le code rural et de la pêche maritime prévoit que les agriculteurs qui demandent des aides de la PAC implantent des bandes enherbées le long de certains cours d’eau au titre des bonnes conditions agricoles et environnementales (BCAE). Cette carte représente les cours d’eau concernés pour les départements listés ci-dessous. Pour les autres départements, veuillez-vous référer à l’arrêté du 24 avril 2015 relatif aux BCAE Cette carte est en vigueur du 1er janvier 2020 au 31 décembre 2020.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Cours d'eau BCAE 2020"},"HYDROGRAPHY.BCAE.2021":{layer:"HYDROGRAPHY.BCAE.2021",key:"",theme:"topographie",desc:"Identification des cours d'eau concernés par les règles des bonnes conditions agricoles et environnementales (BCAE) en 2021 pour les départements métropolitains. Le code rural et de la pêche maritime prévoit que les agriculteurs qui demandent des aides de la PAC implantent des bandes enherbées le long de certains cours d'eau au titre des bonnes conditions agricoles et environnementales. Cette carte est en vigueur du 1er janvier 2021 au 31 décembre 2021. Pour les départements non métropolitains, veuillez-vous référer aux arrêtés préfectoraux relatifs aux BCAE.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Cours d'eau BCAE 2021"},"HYDROGRAPHY.BCAE.2022":{layer:"HYDROGRAPHY.BCAE.2022",key:"",theme:"topographie",desc:"Le code rural et de la pêche maritime prévoit que les agriculteurs qui demandent des aides de la PAC implantent des bandes enherbées le long de certains cours d'eau au titre des bonnes conditions agricoles et environnementales. Cette carte est en vigueur du 1er janvier 2022 au 31 décembre 2022. Pour les départements non métropolitains, veuillez-vous référer aux arrêtés préfectoraux relatifs aux BCAE.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cours d'eau BCAE 2022"},"HYDROGRAPHY.BCAE.2024":{layer:"HYDROGRAPHY.BCAE.2024",key:"",theme:"topographie",desc:"Le code rural et de la pêche maritime prévoit que les agriculteurs qui demandent des aides de la PAC implantent des bandes enherbées le long de certains cours d’eau au titre des bonnes conditions agricoles et environnementales. Ce référentiel est en vigueur du 1er janvier 2024 au 31 décembre 2024.",server:"https://data.geopf.fr/wmts",bbox:[-5.1505,41.3252,9.5705,51.0991],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cours d'eau BCAE 2024"},"HYDROGRAPHY.BCAE.LATEST":{layer:"HYDROGRAPHY.BCAE.LATEST",key:"",theme:"topographie",desc:"Le code rural et de la pêche maritime prévoit que les agriculteurs qui demandent des aides de la PAC implantent des bandes enherbées le long de certains cours d'eau au titre des bonnes conditions agricoles et environnementales. Cette carte est en vigueur du 1er janvier 2024 au 31 décembre 2024. Pour les départements non métropolitains, veuillez-vous référer aux arrêtés préfectoraux relatifs aux BCAE.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cours d'eau BCAE dernière édition"},"HYDROGRAPHY.HYDROGRAPHY":{layer:"HYDROGRAPHY.HYDROGRAPHY",key:"",theme:"topographie",desc:"Affichage des lacs, réservoirs, rivières et cours d'eau en France.",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Hydrographie"},"INSEE.FILOSOFI.ENFANTS.0.17.ANS.SECRET":{layer:"INSEE.FILOSOFI.ENFANTS.0.17.ANS.SECRET",key:"",theme:"economie",desc:"Nombre d’individus âgés de 0 à 17 ans dans la population (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% des 0-17 ans (secret signalé)"},"INSEE.FILOSOFI.LOGEMENTS.SURFACE.MOYENNE.SECRET":{layer:"INSEE.FILOSOFI.LOGEMENTS.SURFACE.MOYENNE.SECRET",key:"",theme:"economie",desc:"Surface moyenne des logements (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"Surface moyenne des logements (secret signalé)"},"INSEE.FILOSOFI.NIVEAU.DE.VIE.SECRET":{layer:"INSEE.FILOSOFI.NIVEAU.DE.VIE.SECRET",key:"",theme:"economie",desc:"Niveau de vie des individus, retraité des valeurs extrêmes (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"Niveau de vie winsorisé des individus (secret signalé)"},"INSEE.FILOSOFI.PART.FAMILLES.MONOPARENTALES.SECRET":{layer:"INSEE.FILOSOFI.PART.FAMILLES.MONOPARENTALES.SECRET",key:"",theme:"economie",desc:"Part des familles monoparentales (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% familles monoparentales (secret signalé)"},"INSEE.FILOSOFI.PART.INDIVIDUS.25.39.ANS.SECRET":{layer:"INSEE.FILOSOFI.PART.INDIVIDUS.25.39.ANS.SECRET",key:"",theme:"economie",desc:"Nombre d’individus âgés de 25 à 39 ans dans la population (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% des 25-39 ans (secret signalé)"},"INSEE.FILOSOFI.PART.INDIVIDUS.40.54.ANS.SECRET":{layer:"INSEE.FILOSOFI.PART.INDIVIDUS.40.54.ANS.SECRET",key:"",theme:"economie",desc:"Nombre d’individus âgés de 40 à 54 ans dans la population (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% des 40-54 ans (secret signalé)"},"INSEE.FILOSOFI.PART.INDIVIDUS.55.64.ANS.SECRET":{layer:"INSEE.FILOSOFI.PART.INDIVIDUS.55.64.ANS.SECRET",key:"",theme:"economie",desc:"Nombre d’individus âgés de 55 à 64 ans dans la population (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% des 55-64 ans (secret signalé)"},"INSEE.FILOSOFI.PART.LOGEMENTS.APRES.1990.SECRET":{layer:"INSEE.FILOSOFI.PART.LOGEMENTS.APRES.1990.SECRET",key:"",theme:"economie",desc:"Part des logements construits après 1990 (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% de logements construits après 1990 (secret signalé)"},"INSEE.FILOSOFI.PART.LOGEMENTS.AVANT.1945.SECRET":{layer:"INSEE.FILOSOFI.PART.LOGEMENTS.AVANT.1945.SECRET",key:"",theme:"economie",desc:"Part des logements construits avant 1945 (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% de logements construits avant 1945 (secret signalé)"},"INSEE.FILOSOFI.PART.LOGEMENTS.COLLECTIFS.SECRET":{layer:"INSEE.FILOSOFI.PART.LOGEMENTS.COLLECTIFS.SECRET",key:"",theme:"economie",desc:"Part des ménages habitant en logement collectif (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% de logements collectifs (secret signalé)"},"INSEE.FILOSOFI.PART.LOGEMENTS.CONSTRUITS.1945.1970.SECRET":{layer:"INSEE.FILOSOFI.PART.LOGEMENTS.CONSTRUITS.1945.1970.SECRET",key:"",theme:"economie",desc:"Part des logements construits entre 1945 et 1970 (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% de logements construits entre 1945 et 1970 (secret signalé)"},"INSEE.FILOSOFI.PART.LOGEMENTS.CONSTRUITS.1970.1990.SECRET":{layer:"INSEE.FILOSOFI.PART.LOGEMENTS.CONSTRUITS.1970.1990.SECRET",key:"",theme:"economie",desc:"Part des logements construits entre 1970 et 1990 (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% de logements construits entre 1970 et 1990 (secret signalé)"},"INSEE.FILOSOFI.PART.LOGEMENTS.SOCIAUX.SECRET":{layer:"INSEE.FILOSOFI.PART.LOGEMENTS.SOCIAUX.SECRET",key:"",theme:"economie",desc:"Nombre de ménages habitant en logement social – voir définition- (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% de logements sociaux (secret signalé)"},"INSEE.FILOSOFI.PART.MENAGES.1.PERSONNE.SECRET":{layer:"INSEE.FILOSOFI.PART.MENAGES.1.PERSONNE.SECRET",key:"",theme:"economie",desc:"Part des ménages de 1 personne (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% ménages de 1 personne (secret signalé)"},"INSEE.FILOSOFI.PART.MENAGES.5.PERSONNES.OUPLUS.SECRET":{layer:"INSEE.FILOSOFI.PART.MENAGES.5.PERSONNES.OUPLUS.SECRET",key:"",theme:"economie",desc:"Part des ménages de 5 personnes ou plus (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% ménages de 5 personnes ou + (secret signalé)"},"INSEE.FILOSOFI.PART.MENAGES.MAISON.SECRET":{layer:"INSEE.FILOSOFI.PART.MENAGES.MAISON.SECRET",key:"",theme:"economie",desc:"Part des ménages vivant en maison (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% ménages en maison (secret signalé)"},"INSEE.FILOSOFI.PART.MENAGES.PAUVRES.SECRET":{layer:"INSEE.FILOSOFI.PART.MENAGES.PAUVRES.SECRET",key:"",theme:"economie",desc:"Part des ménages pauvres (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% ménages pauvres (secret signalé)"},"INSEE.FILOSOFI.PART.MENAGES.PROPRIETAIRES.SECRET":{layer:"INSEE.FILOSOFI.PART.MENAGES.PROPRIETAIRES.SECRET",key:"",theme:"economie",desc:"Part des ménages propriétaires (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% ménages propriétaires (secret signalé)"},"INSEE.FILOSOFI.PART.PLUS.65.ANS.SECRET":{layer:"INSEE.FILOSOFI.PART.PLUS.65.ANS.SECRET",key:"",theme:"economie",desc:"Nombre d’individus âgés de plus de 65 ans dans la population (les cases hachurées correspondent aux données secrétisées)",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"% des plus de 65 ans (secret signalé)"},"INSEE.FILOSOFI.POPULATION":{layer:"INSEE.FILOSOFI.POPULATION",key:"",theme:"economie",desc:"Nombre d'individus par km²",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"INSEE",tilematrix:"PM",title:"Densité de population"},ISOHYPSE:{layer:"ISOHYPSE",key:"",theme:"autre",desc:"Courbes de niveau",server:"https://data.geopf.fr/wmts",bbox:[-5.625,40.9799,9.84375,51.1793],format:"application/x-protobuf",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Courbes de niveau"},"LANDCOVER.CHA00":{layer:"LANDCOVER.CHA00",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 1990 et 2000 suivant la nomenclature CORINE Land Cover en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base des changements CORINE Land Cover 1990-2000, a été réalisée à partir de CLC 1990 et de CLC 2000.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - Changements 1990-2000"},"LANDCOVER.CHA00_FR":{layer:"LANDCOVER.CHA00_FR",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 1990 et 2000 suivant la nomenclature CORINE Land Cover en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base des changements CORINE Land Cover 1990-2000, a été réalisée à partir de CLC 1990 et de CLC 2000.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - Changements 1990-2000"},"LANDCOVER.CHA06":{layer:"LANDCOVER.CHA06",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2000 et 2006 suivant la nomenclature CORINE Land Cover en 44 postes pour la métropole et 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base des changements CORINE Land Cover 2000-2006, a été réalisée à partir d'images satellitaires des années 2000 et 2006 pour la métropole, d'images satellitaires des périodes 1998-2003 et 2005-2008 pour les DOM et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - Changements 2000-2006"},"LANDCOVER.CHA06_DOM":{layer:"LANDCOVER.CHA06_DOM",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2000 et 2006 suivant la nomenclature CORINE Land Cover en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base des changements CORINE Land Cover DOM 2000-2006 a été réalisée à partir d'images satellitaires des périodes 1998-2003 et 2005-2008, et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - Changements 2000-2006"},"LANDCOVER.CHA06_FR":{layer:"LANDCOVER.CHA06_FR",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2000 et 2006 suivant la nomenclature CORINE Land Cover en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base des changements CORINE Land Cover 2000-2006, a été réalisée à partir d'images satellitaires des années 2000 et 2006 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - Changements 2000-2006"},"LANDCOVER.CHA12":{layer:"LANDCOVER.CHA12",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2006 et 2012 suivant la nomenclature CORINE Land Cover en 44 postes pour la métropole et 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base des changements CORINE Land Cover 2006-2012, a été réalisée à partir d'images satellitaires des années 2006 et 2012 pour la métropole, d'images satellitaires des périodes 2005-2008 et 2011-2012 pour les DOM et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - Changements 2006-2012"},"LANDCOVER.CHA12_DOM":{layer:"LANDCOVER.CHA12_DOM",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2006 et 212 suivant la nomenclature CORINE Land Cover en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base des changements CORINE Land Cover DOM 2006-2012 a été réalisée à partir d'images satellitaires des périodes 2005-2008 et 2011-2012, et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - Changements 2006-2012"},"LANDCOVER.CHA12_FR":{layer:"LANDCOVER.CHA12_FR",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2006 et 2012 suivant la nomenclature CORINE Land Cover en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base des changements CORINE Land Cover 2006-2012, a été réalisée à partir d'images satellitaires des années 2006 et 2012 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - Changements 2006-2012"},"LANDCOVER.CHA18":{layer:"LANDCOVER.CHA18",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2012 et 2018 suivant la nomenclature CORINE Land Cover en 50 postes pour les DOM et 44 postes pour la Métropole. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base des changements CORINE Land Cover 2012-2018 a été réalisée à partir d'images satellitaires des périodes 2011-2012 et 2016-2017, et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover",tilematrix:"PM",title:"CORINE Land Cover - Changements 2012-2018"},"LANDCOVER.CHA18_DOM":{layer:"LANDCOVER.CHA18_DOM",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2012 et 2018 suivant la nomenclature CORINE Land Cover en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base des changements CORINE Land Cover DOM 2012-2018 a été réalisée à partir d'images satellitaires des périodes 2011-2012 et 2016-2017, et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - Changements 2012-2018"},"LANDCOVER.CHA18_FR":{layer:"LANDCOVER.CHA18_FR",key:"",theme:"clc",desc:"Inventaire biophysique du changement d'occupation des sols entre 2012 et 2018 suivant la nomenclature CORINE Land Cover en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base des changements CORINE Land Cover 2012-2018, a été réalisée à partir d'images satellitaires des années 2011-2012 et 2017 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - Changements 2012-2018"},"LANDCOVER.CLC00":{layer:"LANDCOVER.CLC00",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2000 en 44 postes pour la Métropole et 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2000, dite CLC 2000, a été réalisée à partir d'images satellitaires de l'année 2000 et de données d'appui pour la Métropole, de CORINE Land Cover DOM 2006 et de la base des changements 2000-2006 pour les DOM.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - 2000"},"LANDCOVER.CLC00R":{layer:"LANDCOVER.CLC00R",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2000 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2000 révisée, dite CLC 2000 révisée, est une correction de CLC 2000 réalisée à partir d'images satellitaires de l'année 2000 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - 2000 révisée"},"LANDCOVER.CLC00R_FR":{layer:"LANDCOVER.CLC00R_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2000 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2000 révisée, dite CLC 2000 révisée, est une correction de CLC 2000 réalisée à partir d'images satellitaires de l'année 2000 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 2000 révisée"},"LANDCOVER.CLC00_DOM":{layer:"LANDCOVER.CLC00_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2000 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2000 a été réalisée à partir de CORINE Land Cover DOM 2006 et de la base des changements 2000-2006.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - 2000"},"LANDCOVER.CLC00_FR":{layer:"LANDCOVER.CLC00_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2000 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2000, dite CLC 2000, a été réalisée à partir d'images satellitaires de l'année 2000 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 2000"},"LANDCOVER.CLC06":{layer:"LANDCOVER.CLC06",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 44 postes pour la Métropole et 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2006, dite CLC 2006, a été réalisée à partir de CLC 2000 révisée et de la base des changements 2000-2006 pour la Métropole, d'images satellitaires prises entre 2005 et 2008 et de données d'appui pour les DOM.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - 2006"},"LANDCOVER.CLC06R":{layer:"LANDCOVER.CLC06R",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 44 postes pour la métropole et 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2006 révisée, dite CLC 2006 révisée, est une correction de CLC 2006 réalisée à partir d'images satellitaires de l'année 2006 pour la métropole, d'images satellitaires prises entre 2005 et 2008 pour les DOM et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - 2006 révisée"},"LANDCOVER.CLC06R_DOM":{layer:"LANDCOVER.CLC06R_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover 2006 révisée, dite CLC 2006 révisée, est une correction de CLC 2006 réalisée à partir d'images satellitaires prises entre 2005 et 2008 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - 2006 révisée"},"LANDCOVER.CLC06R_FR":{layer:"LANDCOVER.CLC06R_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2006 révisée, dite CLC 2006 révisée, est une correction de CLC 2006 réalisée à partir d'images satellitaires de l'année 2006 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 2006 révisée"},"LANDCOVER.CLC06_DOM":{layer:"LANDCOVER.CLC06_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2006 a été réalisée à partir d'images satellitaires prises entre 2005 et 2008 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - 2006"},"LANDCOVER.CLC06_FR":{layer:"LANDCOVER.CLC06_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2006, dite CLC 2006, a été réalisée à partir de CLC 2000 révisée et de la base des changements 2000-2006.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 2006"},"LANDCOVER.CLC12":{layer:"LANDCOVER.CLC12",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2012 en 44 postes pour la Métropole et 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2012, dite CLC 2012, a été réalisée à partir de CLC 2006 révisée et de la base des changements 2006-2012.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - 2012"},"LANDCOVER.CLC12R":{layer:"LANDCOVER.CLC12R",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2012 en 50 postes pour les DOM et 44 postes pour la Métropole. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover 2012 révisée, dite CLC 2012 révisée, est une correction de CLC 2012 réalisée à partir d'images satellitaires prises entre 2011 et 2012 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover",tilematrix:"PM",title:"CORINE Land Cover - 2012 révisée"},"LANDCOVER.CLC12R_DOM":{layer:"LANDCOVER.CLC12R_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2012 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover 2012 révisée, dite CLC 2012 révisée, est une correction de CLC 2012 réalisée à partir d'images satellitaires prises entre 2011 et 2012 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - 2012 révisée"},"LANDCOVER.CLC12R_FR":{layer:"LANDCOVER.CLC12R_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2012 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2012 révisée, dite CLC 2012 révisée, est une correction de CLC 2012 réalisée à partir d'images satellitaires des années 2011-2012 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 2012 révisée"},"LANDCOVER.CLC12_DOM":{layer:"LANDCOVER.CLC12_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2012 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2012 a été réalisée à partir de CORINE Land Cover DOM 2006 révisée et de la base des changements 2006-2012.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - 2012"},"LANDCOVER.CLC12_FR":{layer:"LANDCOVER.CLC12_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2012 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2012, dite CLC 2012, a été réalisée à partir de CLC 2006 révisée et de la base des changements 2006-2012.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 2012"},"LANDCOVER.CLC18":{layer:"LANDCOVER.CLC18",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2018 en 50 postes pour les DOM et 44 postes pour la Métropole. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover 2018 a été réalisée à partir de CORINE Land Cover 2012 révisée et de la base des changements 2012-2018.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover",tilematrix:"PM",title:"CORINE Land Cover - 2018"},"LANDCOVER.CLC18_DOM":{layer:"LANDCOVER.CLC18_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2018 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2018 a été réalisée à partir de CORINE Land Cover DOM 2012 révisée et de la base des changements 2012-2018.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,47.1747],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"CORINE Land Cover - DOM - 2018"},"LANDCOVER.CLC18_FR":{layer:"LANDCOVER.CLC18_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2018 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2018, dite CLC 2018, a été réalisée à partir de CLC 2012 révisée et de la base des changements 2012-2018.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 2018"},"LANDCOVER.CLC90":{layer:"LANDCOVER.CLC90",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 1990 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 1990, dite CLC 1990, a été réalisée à partir d'images satellitaires de l'année 1990 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - 1990"},"LANDCOVER.CLC90_FR":{layer:"LANDCOVER.CLC90_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 1990 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 1990, dite CLC 1990, a été réalisée à partir d'images satellitaires de l'année 1990 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"CORINE Land Cover - France métropolitaine - 1990"},"LANDCOVER.EDUGEO.EVOL_SURFACE_FORESTIERE_1980-2011":{layer:"LANDCOVER.EDUGEO.EVOL_SURFACE_FORESTIERE_1980-2011",key:"",theme:"edugeo",desc:"Évolution annuelle des surfaces forestières entre les années 1980 et 2011",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Évolution des surfaces forestières (1980 et 2011)"},"LANDCOVER.EDUGEO.KLAUS":{layer:"LANDCOVER.EDUGEO.KLAUS",key:"",theme:"edugeo",desc:"Cartographie des dégâts de la tempête Klaus",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Tempête Klaus"},"LANDCOVER.EDUGEO.LGV_archeologie":{layer:"LANDCOVER.EDUGEO.LGV_archeologie",key:"",theme:"edugeo",desc:"Cartographie des principaux sites de fouille archéologique le long de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Fouilles archéologiques le long de la LGV SEA."},"LANDCOVER.EDUGEO.LGV_faune":{layer:"LANDCOVER.EDUGEO.LGV_faune",key:"",theme:"edugeo",desc:"Cartographie des principaux sites d’intérêt faunistique le long de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-.898315,44.8631,.898315,47.4145],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Faune le long de la LGV SEA."},"LANDCOVER.EDUGEO.LGV_flore":{layer:"LANDCOVER.EDUGEO.LGV_flore",key:"",theme:"edugeo",desc:"Cartographie des principaux sites d’intérêt floristique le long de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-.898315,44.8631,.898315,47.4145],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Flore le long de la LGV SEA."},"LANDCOVER.EDUGEO.LGV_technique":{layer:"LANDCOVER.EDUGEO.LGV_technique",key:"",theme:"edugeo",desc:"Cartographie des caractéristiques techniques de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-.898315,44.8631,.898315,47.4145],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Caractéristiques techniques de la LGV SEA."},"LANDCOVER.EDUGEO.TAUX_BOISEMENT_2009-2013":{layer:"LANDCOVER.EDUGEO.TAUX_BOISEMENT_2009-2013",key:"",theme:"edugeo",desc:"Taux de boisement par département sur les années 2009-2013 (année moyenne 2011)",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Taux de boisement (année moyenne 2011)"},"LANDCOVER.FORESTAREAS":{layer:"LANDCOVER.FORESTAREAS",key:"",theme:"environnement",desc:"Cette cartographie représente des zones homogènes du point de vue des types de forêt ou de paysage sur la base de conditions physiques dominantes (climat, sol, relief).",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Régions forestières nationales"},"LANDCOVER.FORESTINVENTORY.V1":{layer:"LANDCOVER.FORESTINVENTORY.V1",key:"",theme:"environnement",desc:"La cartographie forestière est une base de données cartographique des formations végétales forestières et naturelles. Elle couvre l'ensemble du territoire de France métropolitaine. Elle est réalisée par interprétation de photographies aériennes infrarouges et affinée par des contrôles sur le terrain (le seuil minimal de surface cartographiée est de 2,25 ha).",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte forestière v1 (1987-2004)"},"LANDCOVER.FORESTINVENTORY.V2":{layer:"LANDCOVER.FORESTINVENTORY.V2",key:"",theme:"environnement",desc:"Localisation de 32 types de formations végétales sur le territoire. Carte en cours de réalisation depuis 2006.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte forestière (v2 : 2006-)"},"LANDCOVER.GRID.CLC00":{layer:"LANDCOVER.GRID.CLC00",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2000 en 44 postes pour la Métropole, 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2000 a été réalisée à partir de CORINE Land Cover DOM 2006 et de la base des changements 2000-2006 pour les DOM, et à partir d'images satellitaires de l'année 2000 et de données d'appui pour la Métropole.",server:"https://data.geopf.fr/wmts",bbox:[-61.9063,-21.4825,55.9362,51.1827],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover",tilematrix:"PM",title:"Raster CORINE Land Cover - 2000"},"LANDCOVER.GRID.CLC00R_FR":{layer:"LANDCOVER.GRID.CLC00R_FR",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2000 en 44 postes pour la Métropole. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover 2000 révisée, dite CLC 2000 révisée, est une correction de CLC 2000 réalisée à partir d'images satellitaires de l'année 2000 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-5.68494,41.1779,10.8556,51.1827],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"Raster CORINE Land Cover - 2000 révisée"},"LANDCOVER.GRID.CLC00_DOM":{layer:"LANDCOVER.GRID.CLC00_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2000 en 44 postes sur la métropole et 50 sur les DOMs CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2000, dite CLC 2000, a été réalisée à partir d'images satellitaires de l'année 2000 et de données d'appuis",server:"https://data.geopf.fr/wmts",bbox:[-61.9063,-21.4825,55.9362,16.6077],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"Raster CORINE Land Cover - DOM - 2000"},"LANDCOVER.GRID.CLC00_FR":{layer:"LANDCOVER.GRID.CLC00_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2000 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2000, dite CLC 2000, a été réalisée à partir d'images satellitaires de l'année 2000 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-5.68494,41.1779,10.8556,51.1827],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"Raster CORINE Land Cover - France métropolitaine - 2000"},"LANDCOVER.GRID.CLC06":{layer:"LANDCOVER.GRID.CLC06",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2006 en 44 postes pour la Métropole, 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2006 a été réalisée à partir d'images satellitaires prises entre 2005 et 2008 et de données d'appui pour les DOM, et à partir de CLC 2000 révisée et de la base des changements 2000-2006 pour la Métropole.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover",tilematrix:"PM",title:"Raster CORINE Land Cover - 2006"},"LANDCOVER.GRID.CLC06R":{layer:"LANDCOVER.GRID.CLC06R",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2006 en 44 postes pour la Métropole, 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2006 révisée, dite CLC 2006 révisée, est une correction de CLC 2006 réalisée à partir d'images satellitaires prises entre 2005 et 2008 et de données d'appui pour les DOM, et à partir d'images satellitaires de l'année 2006 et de données d'appui pour la Métropole.",server:"https://data.geopf.fr/wmts",bbox:[-61.9063,-21.4825,55.9362,51.2963],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover",tilematrix:"PM",title:"Raster CORINE Land Cover - 2006 révisée"},"LANDCOVER.GRID.CLC06R_DOM":{layer:"LANDCOVER.GRID.CLC06R_DOM",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 44 postes pour la Métropole et 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2006 révisée, dite CLC 2006 révisée, est une correction de CLC 2006 réalisée à partir d'images satellitaires de l'année 2006 pour la Métropole, d'images satellitaires prises entre 2005 et 2008 pour les DOM et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-61.9063,-21.4825,55.9362,16.6077],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"Raster CORINE Land Cover - DOM - 2006 - révisée"},"LANDCOVER.GRID.CLC06R_FR":{layer:"LANDCOVER.GRID.CLC06R_FR",key:"",theme:"clc",desc:"Inventaire biophysique de l'occupation des sols en 2006 en 44 postes pour la métropole . CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2006 révisée, dite CLC 2006 révisée, est une correction de CLC 2006 réalisée à partir d'images satellitaires de l'année 2006 pour la métropole, d'images satellitaires prises entre 2005 et 2008 pour les DOM et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-5.91689,41.0278,11.0883,51.2963],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"Raster CORINE Land Cover - France métropolitaine - 2006 révisée"},"LANDCOVER.GRID.CLC06_DOM":{layer:"LANDCOVER.GRID.CLC06_DOM",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2006 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de l'observation et des statistiques du ministère chargé de l'environnement. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2006 a été réalisée à partir de CORINE Land Cover DOM 2000 révisée et de la base des changements 200062006.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"Raster CORINE Land Cover - DOM - 2006"},"LANDCOVER.GRID.CLC06_FR":{layer:"LANDCOVER.GRID.CLC06_FR",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2006 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de l'observation et des statistiques du ministère chargé de l'environnement. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2006, dite CLC 2006, a été réalisée à partir de CLC 2000 révisée et de la base des changements 2000-2006.",server:"https://data.geopf.fr/wmts",bbox:[-5.68494,41.1779,10.8556,51.1827],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"Raster CORINE Land Cover - France métropolitaine - 2006"},"LANDCOVER.GRID.CLC12":{layer:"LANDCOVER.GRID.CLC12",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2012 en 44 postes pour la Métropole, 50 postes pour les DOM. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover 2012, dite CLC 2012, a été réalisée à partir de CORINE Land Cover 2006 révisée et de la base des changements 2006-2012.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover",tilematrix:"PM",title:"Raster CORINE Land Cover - 2012"},"LANDCOVER.GRID.CLC12_DOM":{layer:"LANDCOVER.GRID.CLC12_DOM",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2012 en 50 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de l'observation et des statistiques du ministère chargé de l'environnement. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover DOM 2012 a été réalisée à partir de CORINE Land Cover DOM 2006 révisée et de la base des changements 2006-2012.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - DOM",tilematrix:"PM",title:"Raster CORINE Land Cover - DOM - 2012"},"LANDCOVER.GRID.CLC12_FR":{layer:"LANDCOVER.GRID.CLC12_FR",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 2012 en 44 postes. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de l'observation et des statistiques du ministère chargé de l'environnement. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et plus généralement de l'aménagement de l'espace. La base de données CORINE Land Cover 2012, dite CLC 2012, a été réalisée à partir de CLC 2006 révisée et de la base des changements 2006-2012.",server:"https://data.geopf.fr/wmts",bbox:[-5.91689,41.0278,11.0883,51.2963],format:"image/png",minZoom:0,maxZoom:12,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"Raster CORINE Land Cover - France métropolitaine - 2012"},"LANDCOVER.GRID.CLC90_FR":{layer:"LANDCOVER.GRID.CLC90_FR",key:"",theme:"clc",desc:"Raster au pas de 25m de l'inventaire biophysique de l'occupation des sols en 1990 en 44 postes pour la Métropole. CORINE Land Cover est une base de données d’occupation des sols produite dans le cadre du programme européen d’observation de la Terre Copernicus. Cet inventaire biophysique de l’occupation des terres fournit une information géographique de référence pour 39 États européens. La continuité du programme et la diffusion des données CORINE Land Cover sont pilotées par l'Agence européenne pour l'environnement. Le producteur pour la France est le Service de la donnée et des études statistiques du ministère chargé de l’écologie. L'utilisation de cette base de données permet des applications variées adaptées aux problématiques de l'environnement et à celles de l'aménagement du territoire : production cartographique, exploitation à des fins statistiques ou bien encore analyses géographiques en combinaison avec d'autres bases de données. Outil de connaissance et d'analyse, CORINE Land Cover apporte également une aide à la décision comme instrument de suivi, de surveillance et de gestion de l'environnement, des milieux naturels et de l'aménagement de l'espace. La base de données CORINE Land Cover 1990, dite CLC 1990, a été réalisée à partir d'images satellitaires de l'année 1990 et de données d'appui.",server:"https://data.geopf.fr/wmts",bbox:[-5.68494,41.1779,10.8556,51.1827],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - France métropolitaine",tilematrix:"PM",title:"Raster CORINE Land Cover - 1990"},"LANDCOVER.HR.DLT.CLC12":{layer:"LANDCOVER.HR.DLT.CLC12",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de l'observation et des statistiques du ministère chargé de l'environnement a la responsabilité des vérifications et des améliorations de ces produits. Le type de forêt cartographie la distinction feuillus ou résineux majoritairement présents dans les pixels, avec un taux de couvert arboré de plus de 10%. Ce produit permet d’approcher le plus possible des forêts au sens de la définition de l’Organisation des Nations unies pour l'alimentation et l'agriculture (FAO). La surface minimale cartographiée est de 0,52 ha, ce qui correspond à un groupement de 13 pixels. Les valeurs cartographiées sont : - 0 : Zone non-arborée - 1 : Feuillus - 2 : Conifères - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - type de forêts",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution du type de forêts - Résolution 20m - 2012"},"LANDCOVER.HR.DLT.CLC15":{layer:"LANDCOVER.HR.DLT.CLC15",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de l'observation et des statistiques du ministère chargé de l'environnement a la responsabilité des vérifications et des améliorations de ces produits. Le type de forêt cartographie la distinction feuillus ou résineux majoritairement présents dans les pixels, avec un taux de couvert arboré de plus de 10%. Ce produit permet d’approcher le plus possible des forêts au sens de la définition de l’Organisation des Nations unies pour l'alimentation et l'agriculture (FAO). La surface minimale cartographiée est de 0,52 ha, ce qui correspond à un groupement de 13 pixels. Les valeurs cartographiées sont : - 0 : Zone non-arborée - 1 : Feuillus - 2 : Conifères - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - type de forêts",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution du type de forêts - Résolution 20m - 2015"},"LANDCOVER.HR.GRA.CLC15":{layer:"LANDCOVER.HR.GRA.CLC15",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de la donnée et des études statistiques du ministère chargé de l’écologie a la responsabilité des vérifications et des améliorations de ces produits. Les valeurs cartographiées sont : - 0 : Zone non-herbeuse - 1 : Zone herbeuse et non-arborée - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - prairies",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution des prairies - Résolution 20m - 2015"},"LANDCOVER.HR.IMD.CLC12":{layer:"LANDCOVER.HR.IMD.CLC12",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de l'observation et des statistiques du ministère chargé de l'environnement a la responsabilité des vérifications et des améliorations de ces produits. Le taux d’imperméabilisation des sols cartographie le pourcentage des sols imperméabilisés par pixels de 20 m de côté. Le revêtement des sols imperméabilisés, issu de l’artificialisation des terres, est maintenu en général sur de longues périodes. La surface minimale cartographiée est de 20 m x 20 m. Les valeurs cartographiées sont : - 0 : Zone non-imperméable - 1-100 : Taux d'imperméabilisation - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - taux d'imperméabilisation des sols",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution du taux d'imperméabilisation des sols - Résolution 20m - 2012"},"LANDCOVER.HR.IMD.CLC15":{layer:"LANDCOVER.HR.IMD.CLC15",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de l'observation et des statistiques du ministère chargé de l'environnement a la responsabilité des vérifications et des améliorations de ces produits. Le taux d’imperméabilisation des sols cartographie le pourcentage des sols imperméabilisés par pixels de 20 m de côté. Le revêtement des sols imperméabilisés, issu de l’artificialisation des terres, est maintenu en général sur de longues périodes. La surface minimale cartographiée est de 20 m x 20 m. Les valeurs cartographiées sont : - 0 : Zone non-imperméable - 1-100 : Taux d'imperméabilisation - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - taux d'imperméabilisation des sols",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution du taux d'imperméabilisation des sols - Résolution 20m - 2015"},"LANDCOVER.HR.TCD.CLC12":{layer:"LANDCOVER.HR.TCD.CLC12",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de l'observation et des statistiques du ministère chargé de l'environnement a la responsabilité des vérifications et des améliorations de ces produits. Le taux de couvert arboré cartographie le pourcentage de couverture arborée par pixels de 20 m de côté. Sont ainsi cartographiées les surfaces arborées en zones urbaines, agricoles ou forestières. La surface minimale cartographiée est de 20 m x 20 m. Les valeurs cartographiées sont : - 0 : Zone non-arborée - 1-100 : Taux de couvert arboré - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - taux de couvert arboré",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution du taux de couvert arboré - Résolution 20m - 2012"},"LANDCOVER.HR.TCD.CLC15":{layer:"LANDCOVER.HR.TCD.CLC15",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de l'observation et des statistiques du ministère chargé de l'environnement a la responsabilité des vérifications et des améliorations de ces produits. Le taux de couvert arboré cartographie le pourcentage de couverture arborée par pixels de 20 m de côté. Sont ainsi cartographiées les surfaces arborées en zones urbaines, agricoles ou forestières. La surface minimale cartographiée est de 20 m x 20 m. Les valeurs cartographiées sont : - 0 : Zone non-arborée - 1-100 : Taux de couvert arboré - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - taux de couvert arboré",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution du taux de couvert arboré - Résolution 20m - 2015"},"LANDCOVER.HR.WAW.CLC15":{layer:"LANDCOVER.HR.WAW.CLC15",key:"",theme:"clc",desc:"Les couches haute résolution sont des couches thématiques d’occupation des sols, produites par le service Territoire du programme européen d'observation de la Terre Copernicus. Ce programme est coordonné par la Commission européenne et associe l’Agence spatiale européenne, l’Agence européenne pour l’environnement ainsi que les États membres. Ces données sont produites automatiquement à partir d’images satellite. Elles sont ensuite vérifiées puis améliorées manuellement. La production et la diffusion de ces couches haute résolution sont pilotées par l'Agence européenne pour l'environnement. Pour la France, le Service de l'observation et des statistiques du ministère chargé de l'environnement a la responsabilité des vérifications et des améliorations de ces produits. Les zones humides et surfaces en eaux permanentes cartographient la présence ou non de surfaces en eau permanentes et la présence ou non de zones humides. Ces surfaces sont identifiées à partir d’analyses d’images satellite prises à différentes saisons (de 4 à 5 images en moyenne) et différentes années. Sont ainsi cartographiées les surfaces en eau sur plusieurs dates de l’analyse. Les zones humides sont définies comme étant les zones où l'eau est le premier facteur d'influence de l'environnement et de la faune et de la flore associées. Elles surviennent là où la nappe phréatique affleure ou est proche de la surface du sol, ou quand la terre est recouverte d'une faible épaisseur d'eau. Les zones cartographiées sont recouvertes d'eau au moins une fois l'une des années observées ou présentent une humidité importante et constante. Elles sont situées dans des zones où la pente est inférieure à 10 %. Enfin, les zones cartographiées sont majoritairement couvertes d’hydrophytes ou de macrophytes. La surface minimale cartographiée est de 0,16 ha, ce qui correspond à un groupement de 4 pixels. Les valeurs cartographiées sont : - 0 : Zone non-humide - 1 : Surface en eau permanente - 2 : Surface en eau temporaire - 3 : Zone humide permanente - 4 : Zone humide temporaire - 254 : Inclassable (nuage, donnée satellite indisponible, ombre ou neige) - 255 : En dehors de la zone d'étude Ces données haute résolution peuvent être utilisées indépendamment ou en complément de CORINE Land Cover. En effet, CLC permet de cartographier des polygones homogènes d’occupation des sols tels que du tissu urbain discontinu et des zones industrielles ou commerciales. Les couches haute résolution permettent alors d’apporter une nouvelle information pour chacune de ces zones, en précisant leur degré d’imperméabilisation, leur taux de couvert arboré, etc.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:0,maxZoom:13,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"CORINE Land Cover - HR - zones humides et surfaces en eaux permanentes",tilematrix:"PM",title:"Raster CORINE Land Cover - Couche haute résolution des zones humides et surfaces en eaux permanentes - Résolution 20m - 2012"},"LANDCOVER.SYLVOECOREGIONS":{layer:"LANDCOVER.SYLVOECOREGIONS",key:"",theme:"environnement",desc:"Découpage de la France métropolitaine prenant en compte les facteurs biogéographiques déterminant la production forestière et la répartition des grands types d’habitat forestier.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Sylvoécorégions"},"LANDCOVER.SYLVOECOREGIONS.ALLUVIUM":{layer:"LANDCOVER.SYLVOECOREGIONS.ALLUVIUM",key:"",theme:"environnement",desc:"Affichage des cinq sylvoécorégions d’alluvions récentes correspondant aux cinq vallées des bassins des grands fleuves français et de leurs affluents, à enjeux importants.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Sylvoécorégions d'alluvions récentes"},"LANDUSE.AGRICULTURE.LATEST":{layer:"LANDUSE.AGRICULTURE.LATEST",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants Latest",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) Latest"},"LANDUSE.AGRICULTURE2007":{layer:"LANDUSE.AGRICULTURE2007",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2007.",server:"https://data.geopf.fr/wmts",bbox:[-63.2635,-21.419,56.0237,51.2203],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2007"},"LANDUSE.AGRICULTURE2008":{layer:"LANDUSE.AGRICULTURE2008",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2008.",server:"https://data.geopf.fr/wmts",bbox:[-63.2635,-21.419,56.0237,51.2203],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2008"},"LANDUSE.AGRICULTURE2009":{layer:"LANDUSE.AGRICULTURE2009",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2009.",server:"https://data.geopf.fr/wmts",bbox:[-63.2635,-21.419,56.0237,51.2203],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2009"},"LANDUSE.AGRICULTURE2010":{layer:"LANDUSE.AGRICULTURE2010",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de culture déclarées par les exploitants en 2010.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2010"},"LANDUSE.AGRICULTURE2011":{layer:"LANDUSE.AGRICULTURE2011",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de culture déclarées par les exploitants en 2011.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2011"},"LANDUSE.AGRICULTURE2012":{layer:"LANDUSE.AGRICULTURE2012",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de culture déclarées par les exploitants en 2012",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2012"},"LANDUSE.AGRICULTURE2013":{layer:"LANDUSE.AGRICULTURE2013",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2013",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2013"},"LANDUSE.AGRICULTURE2014":{layer:"LANDUSE.AGRICULTURE2014",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2014",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2014"},"LANDUSE.AGRICULTURE2015":{layer:"LANDUSE.AGRICULTURE2015",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2015.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique 2015"},"LANDUSE.AGRICULTURE2016":{layer:"LANDUSE.AGRICULTURE2016",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2016.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique 2016"},"LANDUSE.AGRICULTURE2017":{layer:"LANDUSE.AGRICULTURE2017",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2017.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique 2017"},"LANDUSE.AGRICULTURE2018":{layer:"LANDUSE.AGRICULTURE2018",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2018",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique 2018"},"LANDUSE.AGRICULTURE2019":{layer:"LANDUSE.AGRICULTURE2019",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2019",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique 2019"},"LANDUSE.AGRICULTURE2020":{layer:"LANDUSE.AGRICULTURE2020",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2020",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique 2020"},"LANDUSE.AGRICULTURE2021":{layer:"LANDUSE.AGRICULTURE2021",key:"",theme:"agriculture",desc:"Registre parcellaire graphique : zones de cultures déclarées par les exploitants en 2021",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique 2021"},"LGV_EDUGEO_ARCHEOLOGIE_PYR-PNG_FXX_WM_20170210":{layer:"LGV_EDUGEO_ARCHEOLOGIE_PYR-PNG_FXX_WM_20170210",key:"",theme:"edugeo",desc:"Cartographie des principaux sites de fouille archéologique le long de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Fouilles archéologiques le long de la LGV SEA."},"LGV_EDUGEO_FAUNE_PYR-PNG_FXX_WM_20170215":{layer:"LGV_EDUGEO_FAUNE_PYR-PNG_FXX_WM_20170215",key:"",theme:"edugeo",desc:"Cartographie des principaux sites d’intérêt faunistique le long de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-.898315,44.8631,.898315,47.4145],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Faune le long de la LGV SEA."},"LGV_EDUGEO_FLORE_PYR-PNG_FXX_WM_20170213":{layer:"LGV_EDUGEO_FLORE_PYR-PNG_FXX_WM_20170213",key:"",theme:"edugeo",desc:"Cartographie des principaux sites d’intérêt floristique le long de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-.898315,44.8631,.898315,47.4145],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Flore le long de la LGV SEA."},"LGV_EDUGEO_TECHNIQUE_PYR-PNG_FXX_WM_20170215":{layer:"LGV_EDUGEO_TECHNIQUE_PYR-PNG_FXX_WM_20170215",key:"",theme:"edugeo",desc:"Cartographie des caractéristiques techniques de la LGV SEA.",server:"https://data.geopf.fr/wmts",bbox:[-.898315,44.8631,.898315,47.4145],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Caractéristiques techniques de la LGV SEA."},"LIMITES_ADMINISTRATIVES_EXPRESS.LATEST":{layer:"LIMITES_ADMINISTRATIVES_EXPRESS.LATEST",key:"",theme:"administratif",desc:"Limites administratives mises à jour en continu, édition Juillet 2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Limites administratives mises à jour en continu."},LOT_CHASSE:{layer:"LOT_CHASSE",key:"",theme:"environnement",desc:"Lots de chasse",server:"https://data.geopf.fr/wmts",bbox:[-5.15053,41.3247,9.57115,51.0992],format:"application/x-protobuf",minZoom:14,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Lots de chasse"},"LSEP-CRUE_PYR-PNG_WLD_WM_EDUGEO_20130128":{layer:"LSEP-CRUE_PYR-PNG_WLD_WM_EDUGEO_20130128",key:"",theme:"edugeo",desc:"Carte des plus hautes eaux connues (PHEC) sur le bassin de la Seine : crue de la seine et de ses affluents en 1910, ainsi que d'autres crues à des dates postérieures sur d'autres cours d'eau.",server:"https://data.geopf.fr/wmts",bbox:[.419457,47.4163,5.43248,50.064],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Crues du bassin de la Seine - PHEC"},"NATURALRISKZONES.1910FLOODEDWATERSHEDS":{layer:"NATURALRISKZONES.1910FLOODEDWATERSHEDS",key:"",theme:"autre",desc:"Carte des plus hautes eaux connues (PHEC) sur le bassin de la Seine : crue de la seine et de ses affluents en 1910, ainsi que d'autres crues à des dates postérieures sur d'autres cours d'eau.",server:"https://data.geopf.fr/wmts",bbox:[.419457,47.4163,5.43248,50.064],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Crues du bassin de la Seine - PHEC"},"OCSGE.CONSTRUCTIONS":{layer:"OCSGE.CONSTRUCTIONS",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l’IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l’usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d’occupation des sols à grande échelle (CNIG).</br>",server:"https://data.geopf.fr/wmts",bbox:[-61.6644,14.2395,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Occupation du sol grande échelle - zones construites"},"OCSGE.CONSTRUCTIONS.2002":{layer:"OCSGE.CONSTRUCTIONS.2002",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l’IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l’usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d’occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2002",server:"https://data.geopf.fr/wmts",bbox:[-5.13902,41.366,9.55982,51.089],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2002 - zones contruites"},"OCSGE.CONSTRUCTIONS.2011":{layer:"OCSGE.CONSTRUCTIONS.2011",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l’IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l’usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d’occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2011",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2011 - zones contruites"},"OCSGE.CONSTRUCTIONS.2014":{layer:"OCSGE.CONSTRUCTIONS.2014",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l’IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l’usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d’occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2014",server:"https://data.geopf.fr/wmts",bbox:[-5.13902,41.366,9.55982,51.089],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2014 - zones contruites"},"OCSGE.CONSTRUCTIONS.2016":{layer:"OCSGE.CONSTRUCTIONS.2016",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l’IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l’usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d’occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2016",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2016 - zones contruites"},"OCSGE.CONSTRUCTIONS.2017":{layer:"OCSGE.CONSTRUCTIONS.2017",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l’IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l’usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d’occupation des sols à grande échelle (CNIG).</br>",server:"https://data.geopf.fr/wmts",bbox:[-61.6644,14.2395,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2017 - zones contruites"},"OCSGE.CONSTRUCTIONS.2019":{layer:"OCSGE.CONSTRUCTIONS.2019",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l’IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l’usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d’occupation des sols à grande échelle (CNIG). Source : IGN - 2019",server:"https://data.geopf.fr/wmts",bbox:[-.291052,43.3043,1.2122,44.0864],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2019 - zones contruites"},"OCSGE.COUVERTURE":{layer:"OCSGE.COUVERTURE",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle",server:"https://data.geopf.fr/wmts",bbox:[-61.6644,14.2395,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Occupation du sol grande échelle - couverture"},"OCSGE.COUVERTURE.2002":{layer:"OCSGE.COUVERTURE.2002",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2002",server:"https://data.geopf.fr/wmts",bbox:[-5.13902,41.366,9.55982,51.089],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Occupation du sol grande échelle 2002 - couverture"},"OCSGE.COUVERTURE.2011":{layer:"OCSGE.COUVERTURE.2011",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2011",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2011 - couverture"},"OCSGE.COUVERTURE.2014":{layer:"OCSGE.COUVERTURE.2014",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2014",server:"https://data.geopf.fr/wmts",bbox:[-5.13902,41.366,9.55982,51.089],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2014 - couverture"},"OCSGE.COUVERTURE.2016":{layer:"OCSGE.COUVERTURE.2016",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2016",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2016 - couverture"},"OCSGE.COUVERTURE.2017":{layer:"OCSGE.COUVERTURE.2017",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2017",server:"https://data.geopf.fr/wmts",bbox:[-61.6644,14.2395,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2017 - couverture"},"OCSGE.COUVERTURE.2019":{layer:"OCSGE.COUVERTURE.2019",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG). Source : IGN - 2019",server:"https://data.geopf.fr/wmts",bbox:[-.291052,43.3043,1.2122,44.0864],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2019 - couverture"},"OCSGE.USAGE":{layer:"OCSGE.USAGE",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).",server:"https://data.geopf.fr/wmts",bbox:[-61.6644,14.2395,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Occupation du sol grande échelle - usage"},"OCSGE.USAGE.2002":{layer:"OCSGE.USAGE.2002",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2002",server:"https://data.geopf.fr/wmts",bbox:[-5.13902,41.366,9.55982,51.089],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Occupation du sol grande échelle 2002 - usage"},"OCSGE.USAGE.2011":{layer:"OCSGE.USAGE.2011",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2011",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2011 - usage"},"OCSGE.USAGE.2014":{layer:"OCSGE.USAGE.2014",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2014",server:"https://data.geopf.fr/wmts",bbox:[-5.13902,41.366,9.55982,51.089],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Occupation du sol grande échelle 2014 - usage"},"OCSGE.USAGE.2016":{layer:"OCSGE.USAGE.2016",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br> Source : IGN - 2016",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2016 - usage"},"OCSGE.USAGE.2017":{layer:"OCSGE.USAGE.2017",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG).</br>",server:"https://data.geopf.fr/wmts",bbox:[-61.6644,14.2395,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2017 - usage"},"OCSGE.USAGE.2019":{layer:"OCSGE.USAGE.2019",key:"",theme:"ocsge",desc:"La composante Occupation du sol grande échelle retenue par l'IGN partitionne le territoire en deux vues, physionomique (la couverture) et fonctionnel (l'usage principal). La zone construite, calculée à partir de ces deux informations, délimite les espaces construits des espaces naturels, agricoles et forestiers. Les données respectent les préconisations nationales pour la production des bases de données d'occupation des sols à grande échelle (CNIG) Source : IGN - 2019",server:"https://data.geopf.fr/wmts",bbox:[-.291052,43.3043,1.2122,44.0864],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"nolegend",tilematrix:"PM",title:"Occupation du sol grande échelle 2019 - usage"},"OCSGE.VISU.2016":{layer:"OCSGE.VISU.2016",key:"",theme:"ocsge",desc:"Résultat IA aggloméré à l'ortho 2016",server:"https://data.geopf.fr/wmts",bbox:[-.318517,43.2815,1.22575,44.0543],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Visualisation OCSGE 2016"},"OCSGE.VISU.2019":{layer:"OCSGE.VISU.2019",key:"",theme:"ocsge",desc:"Résultat IA aggloméré à l'ortho 2019",server:"https://data.geopf.fr/wmts",bbox:[-.321664,43.2815,1.22575,44.1082],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Visualisation OCSGE 2019"},OCSGE_2016:{layer:"OCSGE_2016",key:"",theme:"ocsge",desc:"OCS GE 2016",server:"https://data.geopf.fr/wmts",bbox:[-.282898,43.3107,1.20369,44.0802],format:"application/x-protobuf",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"OCS GE 2016"},OCSGE_2019:{layer:"OCSGE_2019",key:"",theme:"ocsge",desc:"OCS GE 2019",server:"https://data.geopf.fr/wmts",bbox:[-.282898,43.3107,1.20369,44.0802],format:"application/x-protobuf",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"OCS GE 2019"},"ORTHO-EDUGEO_PYR-PNG_WLD_WM":{layer:"ORTHO-EDUGEO_PYR-PNG_WLD_WM",key:"",theme:"edugeo",desc:"Photographie - VANNES GOLFE DU MORBIHAN 1970",server:"https://data.geopf.fr/wmts",bbox:[-3.20264,47.4607,-2.62716,47.7138],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - VANNES GOLFE DU MORBIHAN 1970"},"ORTHO-EXPRESS-2020_PYR-JPG_WLD_WM_WMTS2":{layer:"ORTHO-EXPRESS-2020_PYR-JPG_WLD_WM_WMTS2",key:"",theme:"orthohisto",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express 2020"},"ORTHOIMAGERY.EDUGEO.AJACCIO1975":{layer:"ORTHOIMAGERY.EDUGEO.AJACCIO1975",key:"",theme:"edugeo",desc:"Photographie - Ajaccio 1975",server:"https://data.geopf.fr/wmts",bbox:[8.65713,41.8334,8.98239,42.0846],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - AJACCIO 1975"},"ORTHOIMAGERY.EDUGEO.AJACCIO1990":{layer:"ORTHOIMAGERY.EDUGEO.AJACCIO1990",key:"",theme:"edugeo",desc:"Photographie - Ajaccio 1990",server:"https://data.geopf.fr/wmts",bbox:[8.64462,41.7868,8.98239,42.0939],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - AJACCIO 1990"},"ORTHOIMAGERY.EDUGEO.ARCACHON2010":{layer:"ORTHOIMAGERY.EDUGEO.ARCACHON2010",key:"",theme:"edugeo",desc:"Zone d'ARCACHON - 2010",server:"https://data.geopf.fr/wmts",bbox:[-1.87654,44.2289,-.750618,45.0301],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT ARCACHON 2010"},"ORTHOIMAGERY.EDUGEO.ARRAS-LENS-BETHUNE2008":{layer:"ORTHOIMAGERY.EDUGEO.ARRAS-LENS-BETHUNE2008",key:"",theme:"edugeo",desc:"Zone de ARRAS LENS BETHUNE - 2008",server:"https://data.geopf.fr/wmts",bbox:[1.75144,49.929,3.25268,50.8068],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT ARRAS LENS BETHUNE 2008"},"ORTHOIMAGERY.EDUGEO.BELFORT-MONTBELLIARD1951":{layer:"ORTHOIMAGERY.EDUGEO.BELFORT-MONTBELLIARD1951",key:"",theme:"edugeo",desc:"Photographie - BELFORT MONTBELLIARD 1951",server:"https://data.geopf.fr/wmts",bbox:[6.69301,47.4607,6.96824,47.6801],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BELFORT MONTBELLIARD 1951"},"ORTHOIMAGERY.EDUGEO.BERRY-SUD1950":{layer:"ORTHOIMAGERY.EDUGEO.BERRY-SUD1950",key:"",theme:"edugeo",desc:"Photographie - BERRY SUD 1950",server:"https://data.geopf.fr/wmts",bbox:[1.23852,46.3669,1.48873,46.4531],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BERRY SUD 1950"},"ORTHOIMAGERY.EDUGEO.BERRY-SUD1970":{layer:"ORTHOIMAGERY.EDUGEO.BERRY-SUD1970",key:"",theme:"edugeo",desc:"Photographie - BERRY SUD 1970",server:"https://data.geopf.fr/wmts",bbox:[1.01333,46.6081,1.42617,46.7283],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BERRY SUD 1970"},"ORTHOIMAGERY.EDUGEO.BETHUNE1963":{layer:"ORTHOIMAGERY.EDUGEO.BETHUNE1963",key:"",theme:"edugeo",desc:"Photographie - BETHUNE 1963",server:"https://data.geopf.fr/wmts",bbox:[2.62716,50.3939,2.95243,50.5054],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BETHUNE 1963"},"ORTHOIMAGERY.EDUGEO.BETHUNE1964":{layer:"ORTHOIMAGERY.EDUGEO.BETHUNE1964",key:"",theme:"edugeo",desc:"Photographie - BETHUNE 1964",server:"https://data.geopf.fr/wmts",bbox:[2.83984,50.33,3.29021,50.4098],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BETHUNE 1964"},"ORTHOIMAGERY.EDUGEO.BETHUNE1988":{layer:"ORTHOIMAGERY.EDUGEO.BETHUNE1988",key:"",theme:"edugeo",desc:"Photographie - BETHUNE 1988",server:"https://data.geopf.fr/wmts",bbox:[2.5521,50.322,3.24017,50.4895],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BETHUNE 1988"},"ORTHOIMAGERY.EDUGEO.BIARRITZ1977":{layer:"ORTHOIMAGERY.EDUGEO.BIARRITZ1977",key:"",theme:"edugeo",desc:"Photographie de Biarritz 1977",server:"https://data.geopf.fr/wmts",bbox:[-1.8265,43.3165,-1.18848,43.7157],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Biarritz 1977"},"ORTHOIMAGERY.EDUGEO.BIARRTITZ1979":{layer:"ORTHOIMAGERY.EDUGEO.BIARRTITZ1979",key:"",theme:"edugeo",desc:"Photographie - Biarritz 1979",server:"https://data.geopf.fr/wmts",bbox:[-1.13844,43.6795,-.975803,43.7609],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BIARRTITZ 1979"},"ORTHOIMAGERY.EDUGEO.BORDEAUX2003":{layer:"ORTHOIMAGERY.EDUGEO.BORDEAUX2003",key:"",theme:"edugeo",desc:"Zone de Bordeaux 2003",server:"https://data.geopf.fr/wmts",bbox:[-1.12593,44.6754,.125103,45.5582],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT BORDEAUX 2003"},"ORTHOIMAGERY.EDUGEO.BOURG-ST-MAURICE1956":{layer:"ORTHOIMAGERY.EDUGEO.BOURG-ST-MAURICE1956",key:"",theme:"edugeo",desc:"Photographie - BOURG SAINT MAURICE 1956",server:"https://data.geopf.fr/wmts",bbox:[6.61795,45.4793,6.85564,45.6282],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - BOURG SAINT MAURICE 1956"},"ORTHOIMAGERY.EDUGEO.CAEN1991":{layer:"ORTHOIMAGERY.EDUGEO.CAEN1991",key:"",theme:"edugeo",desc:"Photographie - CAEN 1991",server:"https://data.geopf.fr/wmts",bbox:[-.975803,49.035,.0250206,49.4109],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - CAEN 1991"},"ORTHOIMAGERY.EDUGEO.CAP-D-AGDE1968":{layer:"ORTHOIMAGERY.EDUGEO.CAP-D-AGDE1968",key:"",theme:"edugeo",desc:"Photographie du Cap d'Agde 1968",server:"https://data.geopf.fr/wmts",bbox:[3.02749,43.1889,3.60297,43.3984],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Le Cap d'Agde 1968"},"ORTHOIMAGERY.EDUGEO.CAP-D-AGDE2008":{layer:"ORTHOIMAGERY.EDUGEO.CAP-D-AGDE2008",key:"",theme:"edugeo",desc:"Zone du Cap d'Agde - 2008",server:"https://data.geopf.fr/wmts",bbox:[3.12757,43.1433,3.75309,43.5073],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT Cap d'Agde 2008"},"ORTHOIMAGERY.EDUGEO.CAP-DAGE1981":{layer:"ORTHOIMAGERY.EDUGEO.CAP-DAGE1981",key:"",theme:"edugeo",desc:"Photographie du Cap d'Agde 1981",server:"https://data.geopf.fr/wmts",bbox:[3.01498,43.1889,3.66552,43.3984],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Le Cap d'Agde 1981"},"ORTHOIMAGERY.EDUGEO.CLERMONT-FERRAND1965":{layer:"ORTHOIMAGERY.EDUGEO.CLERMONT-FERRAND1965",key:"",theme:"edugeo",desc:"Photographie - CLERMONT FERRAND 1965",server:"https://data.geopf.fr/wmts",bbox:[2.82733,45.7156,3.29021,45.9596],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - CLERMONT FERRAND 1965"},"ORTHOIMAGERY.EDUGEO.CLERMONT-FERRAND1985":{layer:"ORTHOIMAGERY.EDUGEO.CLERMONT-FERRAND1985",key:"",theme:"edugeo",desc:"Photographie - CLERMONT FERRAND 1985",server:"https://data.geopf.fr/wmts",bbox:[2.88988,45.7069,3.2777,45.9423],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - CLERMONT FERRAND 1985"},"ORTHOIMAGERY.EDUGEO.CREIL-SUD-PICARDIE1975":{layer:"ORTHOIMAGERY.EDUGEO.CREIL-SUD-PICARDIE1975",key:"",theme:"edugeo",desc:"Photographie - CREIL SUD PICARDIE 1975",server:"https://data.geopf.fr/wmts",bbox:[2.25185,49.076,2.96494,49.5085],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - CREIL SUD PICARDIE 1975"},"ORTHOIMAGERY.EDUGEO.DIJON1971":{layer:"ORTHOIMAGERY.EDUGEO.DIJON1971",key:"",theme:"edugeo",desc:"Photographie de Dijon 1971",server:"https://data.geopf.fr/wmts",bbox:[4.87902,47.1893,5.24181,47.3676],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Dijon 1971"},"ORTHOIMAGERY.EDUGEO.GRENOBLE1966":{layer:"ORTHOIMAGERY.EDUGEO.GRENOBLE1966",key:"",theme:"edugeo",desc:"Photographie de Grenoble 1966",server:"https://data.geopf.fr/wmts",bbox:[5.61712,45.0655,5.94239,45.286],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Grenoble 1966"},"ORTHOIMAGERY.EDUGEO.GRENOBLE1989":{layer:"ORTHOIMAGERY.EDUGEO.GRENOBLE1989",key:"",theme:"edugeo",desc:"Photographie de Grenoble 1989",server:"https://data.geopf.fr/wmts",bbox:[5.54206,45.0566,5.96741,45.3387],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Grenoble 1989"},"ORTHOIMAGERY.EDUGEO.GUADELOUPE1984":{layer:"ORTHOIMAGERY.EDUGEO.GUADELOUPE1984",key:"",theme:"edugeo",desc:"Photographie - GUADELOUPE 1984",server:"https://data.geopf.fr/wmts",bbox:[-61.7633,15.9411,-61.4756,16.3376],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - GUADELOUPE 1984"},"ORTHOIMAGERY.EDUGEO.GUYANE1955":{layer:"ORTHOIMAGERY.EDUGEO.GUYANE1955",key:"",theme:"edugeo",desc:"Photographie - Guyane 1955",server:"https://data.geopf.fr/wmts",bbox:[-54.1321,5.384,-53.5065,5.79487],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - GUYANE 1955"},"ORTHOIMAGERY.EDUGEO.LA-REUNION1961":{layer:"ORTHOIMAGERY.EDUGEO.LA-REUNION1961",key:"",theme:"edugeo",desc:"Photographie - LA REUNION 1961",server:"https://data.geopf.fr/wmts",bbox:[55.258,-21.3906,55.5833,-20.8538],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - LA REUNION 1961"},"ORTHOIMAGERY.EDUGEO.LA-REUNION1980":{layer:"ORTHOIMAGERY.EDUGEO.LA-REUNION1980",key:"",theme:"edugeo",desc:"Photographie - LA REUNION 1980",server:"https://data.geopf.fr/wmts",bbox:[55.1579,-21.4372,55.6583,-20.7836],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - LA REUNION 1980"},"ORTHOIMAGERY.EDUGEO.LA-REUNION1989":{layer:"ORTHOIMAGERY.EDUGEO.LA-REUNION1989",key:"",theme:"edugeo",desc:"Photographie - LA REUNION 1989",server:"https://data.geopf.fr/wmts",bbox:[55.2079,-21.4022,55.7334,-20.8538],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - LA REUNION 1989"},"ORTHOIMAGERY.EDUGEO.LA-REUNION2010":{layer:"ORTHOIMAGERY.EDUGEO.LA-REUNION2010",key:"",theme:"edugeo",desc:"Zone de la Réunion - 2010",server:"https://data.geopf.fr/wmts",bbox:[55.0453,-21.4954,55.921,-20.6783],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT Ls Réunion 2010"},"ORTHOIMAGERY.EDUGEO.LA-ROCHELLE-ROCHEFORT1973":{layer:"ORTHOIMAGERY.EDUGEO.LA-ROCHELLE-ROCHEFORT1973",key:"",theme:"edugeo",desc:"Photographie de La Rochelle Rochefort 1973",server:"https://data.geopf.fr/wmts",bbox:[-1.37613,46.0726,-1.03835,46.2286],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - LA-ROCHELLE-ROCHEFORT 1973"},"ORTHOIMAGERY.EDUGEO.LE-HAVRE1955":{layer:"ORTHOIMAGERY.EDUGEO.LE-HAVRE1955",key:"",theme:"edugeo",desc:"Photographie du Havre 1955",server:"https://data.geopf.fr/wmts",bbox:[.0500412,49.4597,.387819,49.5409],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Le Havre 1955"},"ORTHOIMAGERY.EDUGEO.LE-HAVRE1964":{layer:"ORTHOIMAGERY.EDUGEO.LE-HAVRE1964",key:"",theme:"edugeo",desc:"Photographie du Havre 1964",server:"https://data.geopf.fr/wmts",bbox:[.0500412,49.4434,.375309,49.622],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Le Havre 1964"},"ORTHOIMAGERY.EDUGEO.LE-HAVRE2008":{layer:"ORTHOIMAGERY.EDUGEO.LE-HAVRE2008",key:"",theme:"edugeo",desc:"Zone du HAVRE - 2008",server:"https://data.geopf.fr/wmts",bbox:[-.375309,49.035,1.00082,49.8484],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT LE HAVRE 2008"},"ORTHOIMAGERY.EDUGEO.LIMOGES1974":{layer:"ORTHOIMAGERY.EDUGEO.LIMOGES1974",key:"",theme:"edugeo",desc:"Photographie de Limoges 1974",server:"https://data.geopf.fr/wmts",bbox:[1.00082,45.7069,1.42617,45.9596],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Limoges 1974"},"ORTHOIMAGERY.EDUGEO.LYON1965":{layer:"ORTHOIMAGERY.EDUGEO.LYON1965",key:"",theme:"edugeo",desc:"Photographie - LYON 1965",server:"https://data.geopf.fr/wmts",bbox:[4.71638,45.5494,5.07918,45.8987],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - LYON 1965"},"ORTHOIMAGERY.EDUGEO.LYON1984":{layer:"ORTHOIMAGERY.EDUGEO.LYON1984",key:"",theme:"edugeo",desc:"Photographie - LYON 1984",server:"https://data.geopf.fr/wmts",bbox:[4.70387,45.7069,5.17926,45.8726],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - LYON 1984"},"ORTHOIMAGERY.EDUGEO.LYON1988":{layer:"ORTHOIMAGERY.EDUGEO.LYON1988",key:"",theme:"edugeo",desc:"Photographie - LYON 1988",server:"https://data.geopf.fr/wmts",bbox:[4.62881,45.5319,5.12922,45.9161],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - LYON 1988"},"ORTHOIMAGERY.EDUGEO.LYON2008":{layer:"ORTHOIMAGERY.EDUGEO.LYON2008",key:"",theme:"edugeo",desc:"Zone de LYON - 2008",server:"https://data.geopf.fr/wmts",bbox:[4.50371,45.2067,5.75474,45.9944],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT LYON 2008"},"ORTHOIMAGERY.EDUGEO.MARNE-LA-VALLEE1965":{layer:"ORTHOIMAGERY.EDUGEO.MARNE-LA-VALLEE1965",key:"",theme:"edugeo",desc:"Photographie de Marne la Vallée 1965",server:"https://data.geopf.fr/wmts",bbox:[2.40198,48.846,2.93992,48.9858],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Marne La Vallée 1965"},"ORTHOIMAGERY.EDUGEO.MARNE-LA-VALLEE1977":{layer:"ORTHOIMAGERY.EDUGEO.MARNE-LA-VALLEE1977",key:"",theme:"edugeo",desc:"Photographie de Marne la Vallée 1977",server:"https://data.geopf.fr/wmts",bbox:[2.48955,48.8131,2.92741,48.9694],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Marne La Vallée 1977"},"ORTHOIMAGERY.EDUGEO.MARNE-LA-VALLEE1987":{layer:"ORTHOIMAGERY.EDUGEO.MARNE-LA-VALLEE1987",key:"",theme:"edugeo",desc:"Photographie de Marne la Vallée 1987",server:"https://data.geopf.fr/wmts",bbox:[2.47704,48.8625,2.92741,48.9447],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Marne la Vallée 1987"},"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1969":{layer:"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1969",key:"",theme:"edugeo",desc:"Photographie MARSEILLE MARTIGUES1969",server:"https://data.geopf.fr/wmts",bbox:[5.20428,43.1798,5.69219,43.3984],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - MARSEILLE MARTIGUES 1969"},"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1980":{layer:"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1980",key:"",theme:"edugeo",desc:"Photographie MARSEILLE MARTIGUES1980",server:"https://data.geopf.fr/wmts",bbox:[4.67885,43.3165,5.29186,43.5708],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - MARSEILLE MARTIGUES 1980"},"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1987":{layer:"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1987",key:"",theme:"edugeo",desc:"Photographie MARSEILLE MARTIGUES1987",server:"https://data.geopf.fr/wmts",bbox:[4.65383,43.3165,5.1042,43.5708],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - MARSEILLE MARTIGUES 1987"},"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1988":{layer:"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES1988",key:"",theme:"edugeo",desc:"Photographie MARSEILLE MARTIGUES1988",server:"https://data.geopf.fr/wmts",bbox:[4.91655,43.3711,5.39194,43.5708],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - MARSEILLE MARTIGUES 1988"},"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES2010":{layer:"ORTHOIMAGERY.EDUGEO.MARSEILLE-MARTIGUES2010",key:"",theme:"edugeo",desc:"Zone de MARSEILLE-MARTIGUES - 2010",server:"https://data.geopf.fr/wmts",bbox:[5.25433,43.1433,5.75474,43.4165],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT MARSEILLE-MARTIGUES 2010"},"ORTHOIMAGERY.EDUGEO.MARTINIQUE1988":{layer:"ORTHOIMAGERY.EDUGEO.MARTINIQUE1988",key:"",theme:"edugeo",desc:"Photographie de la Martinique 1988",server:"https://data.geopf.fr/wmts",bbox:[-61.1378,14.3713,-60.8251,14.7104],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - La Martinique 1988"},"ORTHOIMAGERY.EDUGEO.METZ-NANCY1982":{layer:"ORTHOIMAGERY.EDUGEO.METZ-NANCY1982",key:"",theme:"edugeo",desc:"Photographie - METZ NANCY 1982",server:"https://data.geopf.fr/wmts",bbox:[5.9549,48.5902,6.43029,49.3376],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - METZ NANCY 1982"},"ORTHOIMAGERY.EDUGEO.NANTES1971":{layer:"ORTHOIMAGERY.EDUGEO.NANTES1971",key:"",theme:"edugeo",desc:"Photographie de Nantes 1971",server:"https://data.geopf.fr/wmts",bbox:[-2.27687,47.1042,-1.40115,47.3591],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Nantes 1971"},"ORTHOIMAGERY.EDUGEO.PARIS1949":{layer:"ORTHOIMAGERY.EDUGEO.PARIS1949",key:"",theme:"edugeo",desc:"Photographie - Paris 1949",server:"https://data.geopf.fr/wmts",bbox:[2.20181,48.7636,2.52708,48.9529],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Paris 1949"},"ORTHOIMAGERY.EDUGEO.PARIS1965":{layer:"ORTHOIMAGERY.EDUGEO.PARIS1965",key:"",theme:"edugeo",desc:"Photographie - Paris 1965",server:"https://data.geopf.fr/wmts",bbox:[2.02667,48.846,2.48955,48.9858],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Paris 1965"},"ORTHOIMAGERY.EDUGEO.PARIS2010SPOT":{layer:"ORTHOIMAGERY.EDUGEO.PARIS2010SPOT",key:"",theme:"edugeo",desc:"Zone de Paris - SPOT 2010",server:"https://data.geopf.fr/wmts",bbox:[1.87654,48.5405,3.00247,49.362],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT PARIS 2010"},"ORTHOIMAGERY.EDUGEO.REIMS1963":{layer:"ORTHOIMAGERY.EDUGEO.REIMS1963",key:"",theme:"edugeo",desc:"Photographie de Reims 1963",server:"https://data.geopf.fr/wmts",bbox:[3.95325,49.117,4.21597,49.2968],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Reims 1963"},"ORTHOIMAGERY.EDUGEO.REIMS1973":{layer:"ORTHOIMAGERY.EDUGEO.REIMS1973",key:"",theme:"edugeo",desc:"Photographie de Reims 1973",server:"https://data.geopf.fr/wmts",bbox:[3.95325,49.1252,4.22848,49.2886],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Reims 1973"},"ORTHOIMAGERY.EDUGEO.REIMS1988":{layer:"ORTHOIMAGERY.EDUGEO.REIMS1988",key:"",theme:"edugeo",desc:"Photographie de Reims 1988",server:"https://data.geopf.fr/wmts",bbox:[3.91572,49.1252,4.2535,49.2805],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Reims 1988"},"ORTHOIMAGERY.EDUGEO.REIMS2010":{layer:"ORTHOIMAGERY.EDUGEO.REIMS2010",key:"",theme:"edugeo",desc:"Zone de Paris - REIMS 2010",server:"https://data.geopf.fr/wmts",bbox:[3.50288,48.9529,4.75391,49.362],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT REIMS 2010"},"ORTHOIMAGERY.EDUGEO.ROISSY1965":{layer:"ORTHOIMAGERY.EDUGEO.ROISSY1965",key:"",theme:"edugeo",desc:"Photographie - ROISSY 1965",server:"https://data.geopf.fr/wmts",bbox:[2.35194,48.9036,2.70222,49.0432],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - ROISSY 1965"},"ORTHOIMAGERY.EDUGEO.ROISSY1987":{layer:"ORTHOIMAGERY.EDUGEO.ROISSY1987",key:"",theme:"edugeo",desc:"Photographie - ROISSY 1987",server:"https://data.geopf.fr/wmts",bbox:[2.45202,48.9447,2.65218,49.035],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - ROISSY 1987"},"ORTHOIMAGERY.EDUGEO.STRASBOURG1975":{layer:"ORTHOIMAGERY.EDUGEO.STRASBOURG1975",key:"",theme:"edugeo",desc:"Photographie de Strasbourg 1975",server:"https://data.geopf.fr/wmts",bbox:[7.31852,48.4078,7.93153,48.6563],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Strasbourg 1975"},"ORTHOIMAGERY.EDUGEO.STRASBOURG1985":{layer:"ORTHOIMAGERY.EDUGEO.STRASBOURG1985",key:"",theme:"edugeo",desc:"Photographie de Strasbourg 1985",server:"https://data.geopf.fr/wmts",bbox:[7.46865,48.3995,7.894,48.6232],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Strasbourg 1985"},"ORTHOIMAGERY.EDUGEO.STRASBOURG2010":{layer:"ORTHOIMAGERY.EDUGEO.STRASBOURG2010",key:"",theme:"edugeo",desc:"Zone de Paris - STRASBOURG 2010",server:"https://data.geopf.fr/wmts",bbox:[7.13087,48.0411,8.2568,48.8707],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT STRASBOURG 2010"},"ORTHOIMAGERY.EDUGEO.TOULON-HYERES1972":{layer:"ORTHOIMAGERY.EDUGEO.TOULON-HYERES1972",key:"",theme:"edugeo",desc:"Photographie de TOULON-HYERES 1972",server:"https://data.geopf.fr/wmts",bbox:[5.74223,42.9696,6.33021,43.2163],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - TOULON-HYERES 1972"},"ORTHOIMAGERY.EDUGEO.TOULOUSE1954":{layer:"ORTHOIMAGERY.EDUGEO.TOULOUSE1954",key:"",theme:"edugeo",desc:"Photographie de Toulouse 1954",server:"https://data.geopf.fr/wmts",bbox:[1.23852,43.5618,1.55128,43.7247],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie -Toulouse 1954"},"ORTHOIMAGERY.EDUGEO.VALEE-DU-DRAC2010":{layer:"ORTHOIMAGERY.EDUGEO.VALEE-DU-DRAC2010",key:"",theme:"edugeo",desc:"Zone de la Vallée du Drac - 2010",server:"https://data.geopf.fr/wmts",bbox:[5.12922,44.7643,6.25515,45.0301],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT Vallée du Drac 2010"},"ORTHOIMAGERY.EDUGEO.VANNES-GOLFE-DU-MORBIHAN1970":{layer:"ORTHOIMAGERY.EDUGEO.VANNES-GOLFE-DU-MORBIHAN1970",key:"",theme:"edugeo",desc:"Photographie - VANNES GOLFE DU MORBIHAN 1970",server:"https://data.geopf.fr/wmts",bbox:[-3.20264,47.4607,-2.62716,47.7138],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - VANNES GOLFE DU MORBIHAN 1970"},"ORTHOIMAGERY.EDUGEO.VERSAILLES1965":{layer:"ORTHOIMAGERY.EDUGEO.VERSAILLES1965",key:"",theme:"edugeo",desc:"Photographie - Versailles 1965",server:"https://data.geopf.fr/wmts",bbox:[1.98914,48.6067,2.32692,48.8789],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Versailles 1965"},"ORTHOIMAGERY.EDUGEO.VERSAILLES1989":{layer:"ORTHOIMAGERY.EDUGEO.VERSAILLES1989",key:"",theme:"edugeo",desc:"Photographie de Versailles 1989",server:"https://data.geopf.fr/wmts",bbox:[1.87654,48.6315,2.33943,48.8789],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographie - Versailles 1989"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2012":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2012",key:"",theme:"satellite",desc:"Agrégation des images Pléiades de l'année 2012.",server:"https://data.geopf.fr/wmts",bbox:[-53.2686,-21.3539,55.5544,50.6037],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2012"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2013":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2013",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2013",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2013"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2014":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2014",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2014",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2014"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2015":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2015",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2015",server:"https://data.geopf.fr/wmts",bbox:[-178.196,-37.8942,77.6156,51.0283],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2015"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2016":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2016",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2016",server:"https://data.geopf.fr/wmts",bbox:[-54.1373,-21.32,55.8441,50.6549],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2016"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2017":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2017",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2017",server:"https://data.geopf.fr/wmts",bbox:[-63.1796,-21.4013,55.8465,51.1117],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2017"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2018":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2018",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2018",server:"https://data.geopf.fr/wmts",bbox:[-63.1702,-21.4094,55.8649,51.0841],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2018"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2019":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2019",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2019",server:"https://data.geopf.fr/wmts",bbox:[-63.1702,-21.4094,55.8649,51.1117],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2019"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2020":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2020",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2020",server:"https://data.geopf.fr/wmts",bbox:[-63.1724,-13.0169,45.3136,51.1117],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2020"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2021":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2021",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2021",server:"https://data.geopf.fr/wmts",bbox:[-61.8234,-21.4013,55.8464,51.13],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2021"},"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2022":{layer:"ORTHOIMAGERY.ORTHO-SAT.PLEIADES.2022",key:"",theme:"satellite",desc:"Agrégation des images Pleiades de l'année 2022",server:"https://data.geopf.fr/wmts",bbox:[-67.7132,-21.3733,55.7216,69.3108],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PLEIADES - 2022"},"ORTHOIMAGERY.ORTHO-SAT.RAPIDEYE.2010":{layer:"ORTHOIMAGERY.ORTHO-SAT.RAPIDEYE.2010",key:"",theme:"satellite",desc:"￼Image satellitaire de la France métropolitaine effectuée en 2010 par les satellites de télédétection RapidEye dans le cadre du projet EQUIPEX GEOSUD.",server:"https://data.geopf.fr/wmts",bbox:[-5.80725,41.2014,10.961,50.9218],format:"image/jpeg",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"RAPIDEYE 2010"},"ORTHOIMAGERY.ORTHO-SAT.RAPIDEYE.2011":{layer:"ORTHOIMAGERY.ORTHO-SAT.RAPIDEYE.2011",key:"",theme:"satellite",desc:"Image satellitaire de la France métropolitaine effectuée en 2011 par les satellites de télédétection RapidEye dans le cadre du projet EQUIPEX GEOSUD.",server:"https://data.geopf.fr/wmts",bbox:[-5.80725,41.0227,10.961,51.1752],format:"image/jpeg",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"RAPIDEYE - 2011"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2013":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2013",key:"",theme:"satellite",desc:"Agrégation des images Spot de l'année 2013",server:"https://data.geopf.fr/wmts",bbox:[.563585,44.8809,4.29191,50.3879],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Millésime Spot 2013"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2014":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2014",key:"",theme:"satellite",desc:"Agrégation des images Spot de l'année 2014. <br/><br/> <b>Financeurs de la couverture SPOT 6-7 : <br/>CNES, IGN, GEOSUD</b>",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2014"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2015":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2015",key:"",theme:"satellite",desc:"Agrégation des images Spot de l'année 2015. <br/><br/> <b>Financeurs de la télémesure SPOT 6-7 : <br/>CIRAD, CNES, CNRS, IGN, IRD, Irstea, GEOSUD</b>",server:"https://data.geopf.fr/wmts",bbox:[-61.8141,-21.4104,55.856,51.106],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2015"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2016":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2016",key:"",theme:"satellite",desc:"Agrégation des images Spot de l'année 2016. <br/><br/> <b>Financeurs de la télémesure SPOT 6-7 : <br/>CIRAD, CNES, CNRS, IGN, IRD, Irstea, GEOSUD</b>",server:"https://data.geopf.fr/wmts",bbox:[-61.85,-21.4104,55.8562,51.1123],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2016"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2017":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2017",key:"",theme:"satellite",desc:"Agrégation des images Spot de l'année 2017",server:"https://data.geopf.fr/wmts",bbox:[-61.8534,-21.4104,55.8562,51.1123],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2017"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2018":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2018",key:"",theme:"satellite",desc:"Agrégation des images Spot de l'année 2018",server:"https://data.geopf.fr/wmts",bbox:[-5.57103,41.2593,10.7394,51.1123],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2018"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2019":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2019",key:"",theme:"satellite",desc:"Agrégation des images SPOT 2019",server:"https://data.geopf.fr/wmts",bbox:[-5.57103,41.2593,10.7394,51.1123],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2019"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2020":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2020",key:"",theme:"satellite",desc:"Agrégation des images SPOT 2020",server:"https://data.geopf.fr/wmts",bbox:[-5.57103,41.2593,10.7394,51.1123],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2020"},"ORTHOIMAGERY.ORTHO-SAT.SPOT.2021":{layer:"ORTHOIMAGERY.ORTHO-SAT.SPOT.2021",key:"",theme:"satellite",desc:"Agrégation des images SPOT 2021",server:"https://data.geopf.fr/wmts",bbox:[-5.57103,41.2593,10.7394,51.1123],format:"image/jpeg",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT 6-7 - 2021"},"ORTHOIMAGERY.ORTHOPHOS.RESTRICTEDAREAS":{layer:"ORTHOIMAGERY.ORTHOPHOS.RESTRICTEDAREAS",key:"",theme:"ortho",desc:"Zones interdites à la captation aérienne des données (ZICAD) fixées par voie d'arrêté (arrêté du 02-01-2023 fixant la liste des zones interdites à la prise de vue aérienne par appareil photographique, cinématographique ou tout autre capteur). Édition 02-01-2023",server:"https://data.geopf.fr/wmts",bbox:[-178.309,-22.9723,168.298,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Zones interdites à la captation aérienne des données"},"ORTHOIMAGERY.ORTHOPHOTOS":{layer:"ORTHOIMAGERY.ORTHOPHOTOS",key:"",theme:"ortho",desc:"Photographies aériennes",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/jpeg",minZoom:0,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Photographies aériennes"},"ORTHOIMAGERY.ORTHOPHOTOS.1950-1965":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.1950-1965",key:"",theme:"ortho",desc:"Couverture en photographies aériennes de la France des années 50, telle qu'elle se présentait avant les grands aménagements des années 60. Cette couverture a été réalisée à partir des photographies aériennes historiques numérisées par l'IGN. Elle est disponible sur la France métropolitaine, les départements et régions d'Outre-Mer (la Guyane n'est que partiellement couverte) et les collectivités d'Outre-Mer sauf la Polynésie française. Les photographies sont orthorectifiées, c'est-à-dire corrigées des déformations dues à la prise de vue et au relief du terrain, et assemblées pour fournir une visualisation continue superposable avec le Référentiel à Grande Echelle (RGE®) ou les cartes.",server:"https://data.geopf.fr/wmts",bbox:[-67.7214,-21.4013,55.8464,51.0945],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"BDORTHOHISTORIQUE",tilematrix:"PM",title:"Photographies aériennes historiques 1950-1965"},"ORTHOIMAGERY.ORTHOPHOTOS.1965-1980":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.1965-1980",key:"",theme:"ortho",desc:"Couverture en photographies aériennes de la France des années 1965 à 1980. Cette couverture a été réalisée à partir des photographies aériennes historiques numérisées par l'IGN. Elle est disponible sur la France métropolitaine, les départements et régions d'Outre-Mer (la Guyane n'est que partiellement couverte) et les collectivités d'Outre-Mer sauf la Polynésie française. Les photographies sont orthorectifiées, c'est-à-dire corrigées des déformations dues à la prise de vue et au relief du terrain, et assemblées pour fournir une visualisation continue superposable avec le Référentiel à Grande Echelle (RGE®) ou les cartes.",server:"https://data.geopf.fr/wmts",bbox:[-2.27523,47.0831,2.61963,49.0193],format:"image/png",minZoom:3,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"BDORTHOHISTORIQUE",tilematrix:"PM",title:"BDOrtho Historique 1965-1980"},"ORTHOIMAGERY.ORTHOPHOTOS.1980-1995":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.1980-1995",key:"",theme:"ortho",desc:"Couverture en photographies aériennes de la France des années 11980 à 1995. Cette couverture a été réalisée à partir des photographies aériennes historiques numérisées par l'IGN. Elle est disponible sur la France métropolitaine, les départements et régions d'Outre-Mer (la Guyane n'est que partiellement couverte) et les collectivités d'Outre-Mer sauf la Polynésie française. Les photographies sont orthorectifiées, c'est-à-dire corrigées des déformations dues à la prise de vue et au relief du terrain, et assemblées pour fournir une visualisation continue superposable avec le Référentiel à Grande Echelle (RGE®) ou les cartes.",server:"https://data.geopf.fr/wmts",bbox:[-2.37153,41.3125,9.67536,49.7785],format:"image/png",minZoom:3,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"BDORTHOHISTORIQUE",tilematrix:"PM",title:"Ortho Historique 1980-1995"},"ORTHOIMAGERY.ORTHOPHOTOS.BDORTHO":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.BDORTHO",key:"",theme:"ortho",desc:"Le produit BD ORTHO® est une collection de mosaïques d'orthophotographies numériques en couleurs ou en Infra Rouge couleurs, rectifiées dans la projection adaptée au territoire couvert.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Ortho 50 cm"},"ORTHOIMAGERY.ORTHOPHOTOS.COAST2000":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.COAST2000",key:"",theme:"ortho",desc:"Donnée issue du Référentiel géographique du littoral. Zone de couverture de l'orthophotographie : côte de la mer du Nord, de la Manche et de l'Atlantique.",server:"https://data.geopf.fr/wmts",bbox:[-5.21565,43.301,2.60783,51.1233],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Ortholittorale 2000"},"ORTHOIMAGERY.ORTHOPHOTOS.GENEVE":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.GENEVE",key:"",theme:"ortho",desc:"Photographie aérienne du canton de Genève.",server:"https://data.geopf.fr/wmts",bbox:[5.95007,46.1241,6.31198,46.3658],format:"image/png",minZoom:6,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Suisse - photographies aériennes du canton de Genève (SITG)"},"ORTHOIMAGERY.ORTHOPHOTOS.ILESDUNORD":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ILESDUNORD",key:"",theme:"ortho",desc:"Ce flux regroupe des données ortho-rectifiées issues des prises de vue aériennes de Saint Martin (2017) et Saint Barthélémy (2016).",server:"https://data.geopf.fr/wmts",bbox:[-63.1986,17.8626,-62.7828,18.1701],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Données ortho-réctifiées antérieures au passage d'Irma"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC",key:"",theme:"ortho",desc:"BDORTHO en infrarouge fausses couleurs",server:"https://data.geopf.fr/wmts",bbox:[-62.9717,-21.4013,55.8464,51.1124],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2018":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2018",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express IRC 2018"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2019":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2019",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express IRC 2019"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2020":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2020",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express IRC 2020"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2021":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC-EXPRESS.2021",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express IRC 2021"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2012":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2012",key:"",theme:"ortho",desc:"BDORTHO 2012 en infrarouge fausses couleurs",server:"https://data.geopf.fr/wmts",bbox:[6.6094,43.4465,7.74363,44.377],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2012 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2013":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2013",key:"",theme:"ortho",desc:"BDORTHO 2013 en infrarouge fausses couleurs.",server:"https://data.geopf.fr/wmts",bbox:[-3.74871,42.5538,7.17132,50.3767],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2013 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2014":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2014",key:"",theme:"ortho",desc:"BDORTHO 2014 en infrarouge fausses couleurs.",server:"https://data.geopf.fr/wmts",bbox:[-2.37153,43.1508,7.22637,49.6341],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2014 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2015":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2015",key:"",theme:"ortho",desc:"BDORTHO 2015 en infrarouge fausses couleurs.",server:"https://data.geopf.fr/wmts",bbox:[-5.20863,42.3163,8.25674,51.0945],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2015 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2016":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2016",key:"",theme:"ortho",desc:"BDORTHO 2016 en infrarouge fausses couleurs.",server:"https://data.geopf.fr/wmts",bbox:[-3.74871,41.3215,9.66314,50.1839],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2016 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2017":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2017",key:"",theme:"ortho",desc:"BDORTHO 2017 en infrarouge fausses couleurs",server:"https://data.geopf.fr/wmts",bbox:[-.185295,42.9454,7.74363,46.4137],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2017 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2018":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2018",key:"",theme:"ortho",desc:"BDORTHO 2018 en infrarouge fausses couleurs.",server:"https://data.geopf.fr/wmts",bbox:[-63.1702,2.10403,8.25765,51.1124],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2018 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2019":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2019",key:"",theme:"ortho",desc:"BDORTHO 2019 en infrarouge fausses couleurs.",server:"https://data.geopf.fr/wmts",bbox:[-3.74871,41.3125,9.66314,50.1928],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2019 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2020":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.IRC.2020",key:"",theme:"ortho",desc:"BDORTHO 2020 en infrarouge fausses couleurs.",server:"https://data.geopf.fr/wmts",bbox:[-2.68142,42.9454,7.74363,49.4512],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDORTHO 2020 en infrarouge fausses couleurs"},"ORTHOIMAGERY.ORTHOPHOTOS.NCL":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.NCL",key:"",theme:"ortho",desc:"La BDORTHO-NC est une orthophotographie du territoire de Nouvelle-Calédonie réalisée par la DITTT pour le compte du Gouvernement de Nouvelle-Calédonie.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"inspire_common:DEFAULT",tilematrix:"PM",title:"BDORTHO-NC V2"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2020":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2020",key:"",theme:"agriculture",desc:"ortho ASP PAC 2020",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ORTHO-ASP_PAC2020"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2021":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2021",key:"",theme:"agriculture",desc:"orthos ASP PAC 2021",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ORTHO-ASP_PAC2021"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2022":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-ASP_PAC2022",key:"",theme:"agriculture",desc:"orthos ASP PAC 2022",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ORTHO-ASP_PAC2022"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2017":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2017",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express 2017"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2018":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2018",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express 2018"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2019":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2019",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express 2019"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2020":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2020",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express 2020"},"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2021":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.ORTHO-EXPRESS.2021",key:"",theme:"ortho",desc:"L’Ortho Express est une mosaïque d’ortho‐images numériques. Elle se différencie des autres produits orthophotographiques de l’IGN par le fait que, par souci de minimiser les délais de sa production, elle résulte d’un traitement massivement automatisé . L’Ortho Express vise en premier lieu à répondre à une exigence sur les délais de production. Il s’agit donc d’un produit dont les caractéristiques techniques sont contraintes par cette exigence forte.",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ortho-express 2021"},"ORTHOIMAGERY.ORTHOPHOTOS.PRE.IRMA":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.PRE.IRMA",key:"",theme:"ortho",desc:"Ce flux regroupe des données ortho-rectifiées issues des prises de vue aériennes de Saint Martin (2017) et Saint Barthélémy (2016).",server:"https://data.geopf.fr/wmts",bbox:[-63.1986,17.8626,-62.7828,18.1701],format:"image/png",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Données ortho-réctifiées antérieures au passage d'Irma"},"ORTHOIMAGERY.ORTHOPHOTOS.RAPIDEYE":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.RAPIDEYE",key:"",theme:"satellite",desc:"Image satellitaire de la France métropolitaine effectuée en 2011 par les satellites de télédétection RapidEye dans le cadre du projet EQUIPEX GEOSUD.",server:"https://data.geopf.fr/wmts",bbox:[-5.80725,41.0227,10.961,51.1752],format:"image/jpeg",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"GEOSUD / RapidEye (2011)"},"ORTHOIMAGERY.ORTHOPHOTOS.SOCLE-ASP.2018":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.SOCLE-ASP.2018",key:"",theme:"ortho",desc:"bdortho-asp et ortho-socle 2018",server:"https://data.geopf.fr/wmts",bbox:[-179.5,-75,179.5,75],format:"image/jpeg",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"bdortho-asp ortho-socle 2018"},"ORTHOIMAGERY.ORTHOPHOTOS.SPOT5":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.SPOT5",key:"",theme:"satellite",desc:"Cette couche est formée d'images prises par le satellite SPOT 5 en 2009 et 2010 depuis une altitude de 800 km. La résolution des images initiales est de 2,5 mètres/pixel, ce qui permet d'identifier l'existence de bâtiments, routes et chemins, et sa précision est homogène avec celle du référentiel à Grande Echelle. Le satellite SPOT 5 est exploité depuis 2002 par le Centre national d'études spatiales (CNES) et les images sont distribuées par la société Spot Image (Astrium GEO-Information Services). L'expertise de l'IGN menée à la demande du CNES a permis d'affiner les performances géométriques du capteur SPOT5, dans l'intérêt de tous les utilisateurs. La couche \" SPOT 5 \" visible sur Géoportail est issue de la co-édition Reference3D® entre Spot Image et l'IGN. Aucune légende n'est associée à cette couche. La radiométrie des images est traitée par des couleurs naturelles.",server:"https://data.geopf.fr/wmts",bbox:[-2.10938,41.9023,5.09766,46.0732],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Spot 5"},"ORTHOIMAGERY.ORTHOPHOTOS.URGENCE.ALEX":{layer:"ORTHOIMAGERY.ORTHOPHOTOS.URGENCE.ALEX",key:"",theme:"ortho",desc:"Orthophotographie réalisée suite au passage de la tempête Alex dans les Alpes Maritimes",server:"https://data.geopf.fr/wmts",bbox:[7.07917,43.8095,7.64199,44.1903],format:"image/jpeg",minZoom:6,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Orthophotographie d’urgence Alex"},"ORTHOIMAGERY.ORTHOPHOTOS2000":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2000",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2000.",server:"https://data.geopf.fr/wmts",bbox:[-61.2472,14.372,7.13497,49.0193],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2000"},"ORTHOIMAGERY.ORTHOPHOTOS2000-2005":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2000-2005",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires pour les années 2000 à 2005",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2000-2005"},"ORTHOIMAGERY.ORTHOPHOTOS2001":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2001",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2001.",server:"https://data.geopf.fr/wmts",bbox:[-61.2472,4.47153,7.23234,50.3765],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2001"},"ORTHOIMAGERY.ORTHOPHOTOS2002":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2002",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2002",server:"https://data.geopf.fr/wmts",bbox:[-61.2472,4.49867,9.68861,50.3765],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2002"},"ORTHOIMAGERY.ORTHOPHOTOS2003":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2003",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2003.",server:"https://data.geopf.fr/wmts",bbox:[-61.2472,-21.4013,55.8561,50.3765],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2003"},"ORTHOIMAGERY.ORTHOPHOTOS2004":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2004",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2004.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2004"},"ORTHOIMAGERY.ORTHOPHOTOS2005":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2005",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2005.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2005"},"ORTHOIMAGERY.ORTHOPHOTOS2006":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2006",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2006.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2006"},"ORTHOIMAGERY.ORTHOPHOTOS2006-2010":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2006-2010",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin des années 2006 à 2010",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2006-2010"},"ORTHOIMAGERY.ORTHOPHOTOS2007":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2007",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2007.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2007"},"ORTHOIMAGERY.ORTHOPHOTOS2008":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2008",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2008.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2008"},"ORTHOIMAGERY.ORTHOPHOTOS2009":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2009",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2009.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2009"},"ORTHOIMAGERY.ORTHOPHOTOS2010":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2010",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2010.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2010"},"ORTHOIMAGERY.ORTHOPHOTOS2011":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2011",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2011.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2011"},"ORTHOIMAGERY.ORTHOPHOTOS2011-2015":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2011-2015",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin des années 2011 à 2015",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.0945],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2011-2015"},"ORTHOIMAGERY.ORTHOPHOTOS2012":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2012",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2012.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2012"},"ORTHOIMAGERY.ORTHOPHOTOS2013":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2013",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2013.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.091],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2013"},"ORTHOIMAGERY.ORTHOPHOTOS2014":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2014",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2014.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.0945],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2014"},"ORTHOIMAGERY.ORTHOPHOTOS2015":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2015",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2015.",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.0945],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2015"},"ORTHOIMAGERY.ORTHOPHOTOS2016":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2016",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2016 (travail en cours).",server:"https://data.geopf.fr/wmts",bbox:[-178.187,-21.4013,55.8561,51.0945],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2016"},"ORTHOIMAGERY.ORTHOPHOTOS2017":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2017",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2017.",server:"https://data.geopf.fr/wmts",bbox:[-63.1607,-21.4013,55.8464,50.3856],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2017"},"ORTHOIMAGERY.ORTHOPHOTOS2018":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2018",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2018.",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/jpeg",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2018"},"ORTHOIMAGERY.ORTHOPHOTOS2019":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2019",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2019",server:"https://data.geopf.fr/wmts",bbox:[-3.74871,41.3125,9.66314,50.1928],format:"image/jpeg",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2019"},"ORTHOIMAGERY.ORTHOPHOTOS2020":{layer:"ORTHOIMAGERY.ORTHOPHOTOS2020",key:"",theme:"orthohisto",desc:"Prises de vues aériennes des territoires disponibles à la fin de l'année 2020",server:"https://data.geopf.fr/wmts",bbox:[-2.68142,42.9454,7.74363,49.4512],format:"image/jpeg",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes 2020"},"OSM.POI":{layer:"OSM.POI",key:"",theme:"autre",desc:"Données points d'intérêts OSM décembre 2023",server:"https://data.geopf.fr/wmts",bbox:[-8.32304,35.2703,14.2547,53.345],format:"application/x-protobuf",minZoom:14,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Points d'intérêts OSM"},PCI:{layer:"PCI",key:"",theme:"autre",desc:"Plan cadastral informatisé vecteur tuilé de la DGFIP",server:"https://data.geopf.fr/wmts",bbox:[-63.1618,-21.4,55.8469,51.0992],format:"application/x-protobuf",minZoom:5,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"PCI vecteur"},"PCRS.LAMB93":{layer:"PCRS.LAMB93",key:"",theme:"autre",desc:"Données du Plan Corps de Rue Simplifié",server:"https://data.geopf.fr/wmts",bbox:[-5,40,10,52],format:"image/jpeg",minZoom:6,maxZoom:22,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"PCRS"},"PLAN.IGN":{layer:"PLAN.IGN",key:"",theme:"autre",desc:"Plan IGN personnalisable",server:"https://data.geopf.fr/wmts",bbox:[-63.2812,-21.5355,55.9424,51.1238],format:"application/x-protobuf",minZoom:0,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Plan IGN"},POI_OSM:{layer:"POI_OSM",key:"",theme:"autre",desc:"Points d'intérêts issu de la base OSM.",server:"https://data.geopf.fr/wmts",bbox:[-6.67969,35.1172,11.9531,53.3781],format:"application/x-protobuf",minZoom:10,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"POI OSM"},"PRAIRIES.SENSIBLES.BCAE":{layer:"PRAIRIES.SENSIBLES.BCAE",key:"",theme:"agriculture",desc:"Préservation des prairies et pâturages permanents en zone Natura 2000 - Couche pour la nouvelle PAC produite par l’Observatoire du développement rural (ODR) en lien avec l’INRAE.",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"nolegend",tilematrix:"PM",title:"Préservation des prairies et pâturages permanents en zone Natura 2000"},"PROTECTEDAREAS.APB":{layer:"PROTECTEDAREAS.APB",key:"",theme:"environnement",desc:"Conservation de l'habitat d'espèces protégées. Outil réglementaires de niveau départemental.Mise à jour 04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.APB",tilematrix:"PM",title:"Biotopes d'espèces protégées"},"PROTECTEDAREAS.APG":{layer:"PROTECTEDAREAS.APG",key:"",theme:"environnement",desc:"Sites d'intérêt géologique faisant l'objet d’une interdiction de destruction, d'altération ou de dégradation du site, ainsi que de prélèvement, de destruction ou de dégradation de fossiles, minéraux et concrétions présents sur ces sites appelés « aires de protection de géotope».",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Arrêtés de protection de géotope"},"PROTECTEDAREAS.APHN":{layer:"PROTECTEDAREAS.APHN",key:"",theme:"environnement",desc:"Dispositif visant à protéger un habitat naturel (récif corallien, tourbière, prairie, etc.) en tant que tel, sans qu'il soit besoin d'établir qu'il constitue par ailleurs un habitat d'espèces protégées. Mise à jour 04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-53.6279,82.645,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Arrêtés de protection d’habitats naturels"},"PROTECTEDAREAS.APLG":{layer:"PROTECTEDAREAS.APLG",key:"",theme:"environnement",desc:"L'arrêté préfectoral fixant la liste départementale de sites d'intérêt géologique est un outil règlementaire qui vise à protéger, par des mesures générales, les sites géologiques qui sont mentionnés en son sein. Il s'agit d'un des deux outils mis en place par le décret du 28 décembre 2015 codifié aux articles R.411-17-1 et 17-2 du code de l'environnement et précisé par la Note du 1er décembre 2016 relative à la protection des sites d'intérêt géologique",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-53.6279,82.645,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"nolegend",tilematrix:"PM",title:"Arrêtés listes de sites d'intérêt géologique"},"PROTECTEDAREAS.BIOS":{layer:"PROTECTEDAREAS.BIOS",key:"",theme:"environnement",desc:"Réserves naturelles reconnues par le Programme sur l'Homme et la Biosphère créé par l'Unesco. 09-2022",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.BIOS",tilematrix:"PM",title:"Réserves de biosphère"},"PROTECTEDAREAS.GP":{layer:"PROTECTEDAREAS.GP",key:"",theme:"environnement",desc:"Les géoparcs mondiaux UNESCO sont des espaces géographiques unifiés, où les sites et paysages de portée géologique internationale sont gérés selon un concept global de protection, d’éducation et de développement durable",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Géoparcs"},"PROTECTEDAREAS.INPG":{layer:"PROTECTEDAREAS.INPG",key:"",theme:"environnement",desc:"L'Inventaire National du Patrimoine Géologique (INPG) est un programme initié en 2007 de connaissance géologique du territoire métropolitain et outre-mer, dans lequel chaque site géologique naturel est renseigné sur une application web dédiée (InvenTerre) de façon textuelle avec une évaluation patrimoniale et une cartographie associées.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-53.6279,82.645,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Inventaire National du Patrimoine Géologique (INPG)"},"PROTECTEDAREAS.MNHN.CDL.PARCELS":{layer:"PROTECTEDAREAS.MNHN.CDL.PARCELS",key:"",theme:"parcellaire",desc:"Les sites du conservatoire du littoral ont pour vocation la sauvegarde des espaces côtiers et lacustres. Leur accès au public est encouragé mais reste défini dans des limites compatibles avec la vulnérabilité de chaque site",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"PROTECTEDAREAS.MNHN.CDL.PARCELS",tilematrix:"PM",title:"Conservatoire du littoral - sites sous responsabilité du conservatoire"},"PROTECTEDAREAS.MNHN.CDL.PERIMETER":{layer:"PROTECTEDAREAS.MNHN.CDL.PERIMETER",key:"",theme:"environnement",desc:"Les sites du conservatoire du littoral ont pour vocation la sauvegarde des espaces côtiers et lacustres. Leur accès au public est encouragé mais reste défini dans des limites compatibles avec la vulnérabilité de chaque site.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Conservatoire du littoral : Les périmètres autorisés"},"PROTECTEDAREAS.MNHN.CONSERVATOIRES":{layer:"PROTECTEDAREAS.MNHN.CONSERVATOIRES",key:"",theme:"environnement",desc:"Les conservatoires d'espaces naturels organisent la maîtrise foncière de terrains en vue d'assurer la protection des espèces qui y résident. 05-2022",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Terrains des conservatoires d'espaces naturels"},"PROTECTEDAREAS.MNHN.RN.PERIMETER":{layer:"PROTECTEDAREAS.MNHN.RN.PERIMETER",key:"",theme:"environnement",desc:"Un périmètre de protection peut être institué en périphérie d’une réserve naturelle. Il concerne des espaces qui n’ont pas été classés en réserve et qui constituent une zone « tampon » autour de l’espace classé. Ils améliorent les échanges écologiques entre la réserve et sa périphérie. 04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-53.6279,82.645,51.3121],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"périmètres de protection de réserves naturelles"},"PROTECTEDAREAS.PN":{layer:"PROTECTEDAREAS.PN",key:"",theme:"environnement",desc:"Les parcs nationaux sont de vastes espaces protégés terrestres ou marins dont le patrimoine naturel est exceptionnel, et dont le but est à la fois de protéger des processus écologiques à large échelle et de fournir des possibilités de découverte de la nature. Mise à jour 04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.PN",tilematrix:"PM",title:"Parcs nationaux"},"PROTECTEDAREAS.PNM":{layer:"PROTECTEDAREAS.PNM",key:"",theme:"environnement",desc:'Zones maritimes identifiées pour leur biodiversité ou par les activités humaines faisant l\'objet de protection. </br><a href="https://data.geopf.fr/annexes/ressources/fiches/mnhn/actualite_donnees_mnhn.pdf" alt="Date des données" target="_blank">Date des données</a>',server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Parcs naturels marins"},"PROTECTEDAREAS.PNR":{layer:"PROTECTEDAREAS.PNR",key:"",theme:"environnement",desc:"Les parcs naturels régionaux ont pour but de valoriser de vastes espaces de fort intérêt culturel et naturel, et de veiller au développement durable de ces territoires dont le caractère rural est souvent très affirmé. 04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.PNR",tilematrix:"PM",title:"Parcs naturels régionaux"},"PROTECTEDAREAS.PRSF":{layer:"PROTECTEDAREAS.PRSF",key:"",theme:"environnement",desc:"Les Points de Rencontre de Secours en Forêt (PRSF) sont supposées connus des services de secours. Ils permettent de faciliter la localisation d'un blessé par les services de secours.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"POINT RENCONTRE SECOURS FORET",tilematrix:"PM",title:"Points de Rencontre de Secours en Forêt (PRSF)"},"PROTECTEDAREAS.RAMSAR":{layer:"PROTECTEDAREAS.RAMSAR",key:"",theme:"environnement",desc:"Un site Ramsar est un espace désigné en application de la Convention relative aux zones humides d'importance internationale, particulièrement comme habitats des oiseaux d'eau, dont le traité a été signé en 1971 sur les bords de la mer Caspienne (Iran). 16-11-2021",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.RAMSAR",tilematrix:"PM",title:"Zones humides d'importance internationale"},"PROTECTEDAREAS.RB":{layer:"PROTECTEDAREAS.RB",key:"",theme:"environnement",desc:'Une réserve biologique est un espace protégé en milieu forestier ou en milieu associé à la forêt (landes, mares, tourbières, dunes). Ce statut s\'applique aux forêts gérées par l\'Office National des Forêts et a pour but la protection d\'habitats remarquables ou représentatifs. <br/><a href="https://data.geopf.fr/annexes/ressources/fiches/mnhn/actualite_donnees_mnhn.pdf" alt="Date des données" target="_blank">Date des données</a>',server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Réserves biologiques"},"PROTECTEDAREAS.RIPN":{layer:"PROTECTEDAREAS.RIPN",key:"",theme:"environnement",desc:"Au sein d'un cœur de parc national, il peut être institué une « réserve intégrale » afin d'assurer, dans un but scientifique, une protection plus grande de certains éléments de la faune et de la flore. 05-2022",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Réserves Intégrales de Parcs Nationaux"},"PROTECTEDAREAS.RN":{layer:"PROTECTEDAREAS.RN",key:"",theme:"environnement",desc:"Les réserves naturelles sont des espaces protégés terrestres ou marins dont le patrimoine naturel est exceptionnel, tant sur le plan de la biodiversité que parfois sur celui de la géodiversité. 04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-53.6279,82.645,51.3121],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.RN",tilematrix:"PM",title:"Réserves naturelles nationales"},"PROTECTEDAREAS.RNC":{layer:"PROTECTEDAREAS.RNC",key:"",theme:"environnement",desc:'Les réserves naturelles sont des espaces protégés terrestres ou marins dont le patrimoine naturel est exceptionnel, tant sur le plan de la biodiversité que parfois sur celui de la géodiversité. </br><a href="https://data.geopf.fr/annexes/ressources/fiches/mnhn/actualite_donnees_mnhn.pdf" alt="Date des données" target="_blank">Date des données</a>',server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"PROTECTEDAREAS.RNC",tilematrix:"PM",title:"Réserves Naturelles de Corse"},"PROTECTEDAREAS.RNCF":{layer:"PROTECTEDAREAS.RNCF",key:"",theme:"environnement",desc:"Les réserves nationales de chasse et de faune sauvage sont des espaces protégés terrestres ou marins dont la gestion est principalement assurée par l'Office National de la Chasse et de la Faune Sauvage.09-2022",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Réserves nationales de chasse et de faune sauvage"},"PROTECTEDAREAS.SIC":{layer:"PROTECTEDAREAS.SIC",key:"",theme:"environnement",desc:"Le réseau Natura 2000 s'inscrit au coeur de la politique de conservation de la nature de l'Union européenne et est un élément clé de l'objectif visant à enrayer l'érosion de la biodiversité.04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.SIC",tilematrix:"PM",title:"Sites Natura 2000 au titre de la Directive Habitats"},"PROTECTEDAREAS.UNESCO":{layer:"PROTECTEDAREAS.UNESCO",key:"",theme:"environnement",desc:'Un bien naturel ou mixte (naturel et culturel) inscrit au patrimoine mondial de l\'UNESCO est un espace qui, du fait de sa valeur patrimoniale exceptionnelle, est considéré comme héritage commun de l\'humanité. </br><a href="https://data.geopf.fr/annexes/ressources/fiches/mnhn/actualite_donnees_mnhn.pdf" alt="Date des données" target="_blank">Date des données</a>',server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Sites inscrits au patrimoine mondial de l’UNESCO (biens naturels ou mixtes)"},"PROTECTEDAREAS.ZNIEFF1":{layer:"PROTECTEDAREAS.ZNIEFF1",key:"",theme:"environnement",desc:"Inventaire des espaces naturels abritant la nature remarquable.09-2022",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.ZNIEFF1",tilematrix:"PM",title:"Zones écologiques de nature remarquable (ZNIEFF1)"},"PROTECTEDAREAS.ZNIEFF1.SEA":{layer:"PROTECTEDAREAS.ZNIEFF1.SEA",key:"",theme:"environnement",desc:"Espaces marin homogènes d’un point de vue écologique abritant au moins une espèce ou un habitat rare ou menacé, d’intérêt local ou régional, national ou communautaire. Espaces marin d’intérêt fonctionnel pour le fonctionnement écologique local.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Zones naturelles d’intérêt écologique faunistique et floristique (ZNIEFF) marine type I"},"PROTECTEDAREAS.ZNIEFF2":{layer:"PROTECTEDAREAS.ZNIEFF2",key:"",theme:"environnement",desc:'Inventaire des espaces fonctionnels indispensables à la nature remarquable.</br><a href="https://data.geopf.fr/annexes/ressources/fiches/mnhn/actualite_donnees_mnhn.pdf" alt="Date des données" target="_blank">Date des données</a>',server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.ZNIEFF2",tilematrix:"PM",title:"Zones fonctionnelles de nature remarquable (ZNIEFF2)"},"PROTECTEDAREAS.ZNIEFF2.SEA":{layer:"PROTECTEDAREAS.ZNIEFF2.SEA",key:"",theme:"environnement",desc:"Grands ensembles naturels ou peu modifiés marin offrant des potentialités biologiques importantes.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Zones naturelles d’intérêt écologique faunistique et floristique (ZNIEFF) marine type II"},"PROTECTEDAREAS.ZPS":{layer:"PROTECTEDAREAS.ZPS",key:"",theme:"environnement",desc:"Le réseau Natura 2000 s'inscrit au coeur de la politique de conservation de la nature de l'Union européenne et est un élément clé de l'objectif visant à enrayer l'érosion de la biodiversité.04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDAREAS.ZPS",tilematrix:"PM",title:"Sites NATURA 2000 au titre de la Directive Oiseaux"},"PROTECTEDSITES.MNHN.RESERVES-REGIONALES":{layer:"PROTECTEDSITES.MNHN.RESERVES-REGIONALES",key:"",theme:"environnement",desc:"Les réserves naturelles régionales sont gérées prioritairement à des fins de conservation de la nature. Elles sont placées sous la responsabilité exclusive des conseils régionaux.04-2023",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"PROTECTEDSITES.MNHN.RESERVES-REGIONALES",tilematrix:"PM",title:"Réserves naturelles régionales"},"PVA_IGN_zone-marais-de-Virvee_1945":{layer:"PVA_IGN_zone-marais-de-Virvee_1945",key:"",theme:"edugeo",desc:"zone de marais de Virvée, prise de vue IGN de 1945",server:"https://data.geopf.fr/wmts",bbox:[-.473697,44.9109,-.353311,44.9958],format:"image/png",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"BDORTHOHISTORIQUE",tilematrix:"PM",title:"PVA IGN : zone de marais de Virvée, 1945"},"PVA_IGN_zone-marais-de-Virvee_1956":{layer:"PVA_IGN_zone-marais-de-Virvee_1956",key:"",theme:"edugeo",desc:"zone de marais de Virvée, prise de vue IGN de 1956",server:"https://data.geopf.fr/wmts",bbox:[-.459808,44.943,-.400713,44.9831],format:"image/png",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"BDORTHOHISTORIQUE",tilematrix:"PM",title:"PVA IGN : zone de marais de Virvée, 1956"},"PVA_IGN_zone-marais-de-Virvee_1976":{layer:"PVA_IGN_zone-marais-de-Virvee_1976",key:"",theme:"edugeo",desc:"Zone de marais de Virvée, prise de vue IGN de 1976",server:"https://data.geopf.fr/wmts",bbox:[-.462614,44.9412,-.421769,44.9695],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"BDORTHOHISTORIQUE",tilematrix:"PM",title:"PVA IGN : zone de marais de Virvée, 1976"},"PVA_IGN_zone-marais-de-Virvee_1984":{layer:"PVA_IGN_zone-marais-de-Virvee_1984",key:"",theme:"edugeo",desc:"Zone de marais de Virvée, prise de vue IGN de 1984",server:"https://data.geopf.fr/wmts",bbox:[-.479737,44.9204,-.403842,44.9712],format:"image/png",minZoom:0,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"BDORTHOHISTORIQUE",tilematrix:"PM",title:"PVA IGN : zone de marais de Virvée, 1984"},"RAPIDEYE_PYR-JPEG_WLD_WM_2010":{layer:"RAPIDEYE_PYR-JPEG_WLD_WM_2010",key:"",theme:"satellite",desc:"Image satellitaire de la France métropolitaine effectuée en 2010 par les satellites de télédétection RapidEye dans le cadre du projet EQUIPEX GEOSUD.",server:"https://data.geopf.fr/wmts",bbox:[-5.80725,41.2014,10.961,50.9218],format:"image/jpeg",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"GEOSUD / RapidEye (2010)"},"RAPIDEYE_PYR-JPEG_WLD_WM_2011":{layer:"RAPIDEYE_PYR-JPEG_WLD_WM_2011",key:"",theme:"satellite",desc:"Image satellitaire de la France métropolitaine effectuée en 2011 par les satellites de télédétection RapidEye dans le cadre du projet EQUIPEX GEOSUD.",server:"https://data.geopf.fr/wmts",bbox:[-5.80725,41.0227,10.961,51.1752],format:"image/jpeg",minZoom:0,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"GEOSUD / RapidEye (2011)"},"RPG2012_PYR-PNG_WLD_EDUGEO_20170126":{layer:"RPG2012_PYR-PNG_WLD_EDUGEO_20170126",key:"",theme:"edugeo",desc:"Registre parcellaire graphique : zones de culture déclarées par les exploitants en 2012",server:"https://data.geopf.fr/wmts",bbox:[-5.15047,41.3252,9.57054,51.0991],format:"image/png",minZoom:0,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Registre parcellaire graphique (RPG) 2012"},RPG_2020:{layer:"RPG_2020",key:"",theme:"autre",desc:"RPG 2020",server:"https://data.geopf.fr/wmts",bbox:[-5.15053,41.3247,9.57115,51.0992],format:"application/x-protobuf",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"RPG 2020"},RUE_FEMININE:{layer:"RUE_FEMININE",key:"",theme:"autre",desc:"Représentation au niveau national des odonymes (allée, rue, bvd, place…) féminins, réalisée à l’occasion de la Journée internationale des droits des femmes du 8 mars 2022",server:"https://data.geopf.fr/wmts",bbox:[-63.3726,-21.4761,55.9259,51.3122],format:"application/x-protobuf",minZoom:14,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Odonymes féminins"},"SCAN-EDUGEO_PYR-PNG_FXX_WM":{layer:"SCAN-EDUGEO_PYR-PNG_FXX_WM",key:"",theme:"edugeo",desc:"Zone de Le Havre - Cartographie 1979",server:"https://data.geopf.fr/wmts",bbox:[-.125103,49.2805,.625515,49.6868],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Cartographie Le Havre 1979"},"SCAN1000_PYR-JPEG_WLD_WM_WMTS_3D":{layer:"SCAN1000_PYR-JPEG_WLD_WM_WMTS_3D",key:"",theme:"cartes",desc:"Le produit SCAN 1000® version 2 est une collection d'images numériques en couleurs, obtenues par rastérisation des données vecteur de la carte nationale France (901) à l'échelle 1 :1,000,000ième. Le produit couvre l'ensemble du territoire français métropolitain et la Corse.",server:"https://data.geopf.fr/wmts",bbox:[-6.42088,40.2891,13.55,51.444],format:"image/jpeg",minZoom:0,maxZoom:10,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte SCAN 1000"},"SCANREG_PYR-JPEG_WLD_WM_WMTS_3D":{layer:"SCANREG_PYR-JPEG_WLD_WM_WMTS_3D",key:"",theme:"cartes",desc:"Le produit SCAN Régional® version 2 est une collection d'images cartographiques numériques en couleur, obtenues par rastérisation des données vecteur de la série « Cartes régionales » éditées par l'IGN. Ces images couvrent l'ensemble du territoire français métropolitain.",server:"https://data.geopf.fr/wmts",bbox:[-63.1702,17.9892,-62.9905,18.1429],format:"image/png",minZoom:0,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Carte SCANREG"},"SECUROUTE.TE.1TE":{layer:"SECUROUTE.TE.1TE",key:"",theme:"transport",desc:"Tronçons routiers 1TE",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:4,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"RESEAU ROUTIER 1TE",tilematrix:"PM",title:"Tronçons routiers 1TE"},"SECUROUTE.TE.2TE48":{layer:"SECUROUTE.TE.2TE48",key:"",theme:"transport",desc:"Tronçons routiers 2TE48",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"RESEAU ROUTIER 2TE48",tilematrix:"PM",title:"Tronçons routiers 2TE48"},"SECUROUTE.TE.ALL":{layer:"SECUROUTE.TE.ALL",key:"",theme:"transport",desc:"Tous les franchissements",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"TOUS LES FRANCHISSEMENTS",tilematrix:"PM",title:"Tous les franchissements"},"SECUROUTE.TE.OA":{layer:"SECUROUTE.TE.OA",key:"",theme:"transport",desc:"Franchissements ouvrage d'art",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"AUTRES FRANCHISSEMENTS",tilematrix:"PM",title:"Franchissements ouvrage d'art"},"SECUROUTE.TE.PN":{layer:"SECUROUTE.TE.PN",key:"",theme:"transport",desc:"Franchissements passage à niveau",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"FRANCHISSEMENTS PASSAGE A NIVEAU",tilematrix:"PM",title:"Franchissements passage à niveau"},"SECUROUTE.TE.PND":{layer:"SECUROUTE.TE.PND",key:"",theme:"transport",desc:"Franchissements passage à niveau difficile",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"FRANCHISSEMENTS PASSAGE A NIVEAU DIFFICILE",tilematrix:"PM",title:"Franchissements passage à niveau difficile"},"SECUROUTE.TE.TE120":{layer:"SECUROUTE.TE.TE120",key:"",theme:"transport",desc:"Tronçons routiers TE120",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"RESEAU ROUTIER TE120",tilematrix:"PM",title:"Tronçons routiers TE120"},"SECUROUTE.TE.TE72":{layer:"SECUROUTE.TE.TE72",key:"",theme:"transport",desc:"Tronçons routiers TE72",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"RESEAU ROUTIER TE72",tilematrix:"PM",title:"Tronçons routiers TE72"},"SECUROUTE.TE.TE94":{layer:"SECUROUTE.TE.TE94",key:"",theme:"transport",desc:"Tronçons routiers TE94",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:17,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"RESEAU ROUTIER TE94",tilematrix:"PM",title:"Tronçons routiers TE94"},"SPOT-EDUGEO_PYR-PNG_WLD_WM":{layer:"SPOT-EDUGEO_PYR-PNG_WLD_WM",key:"",theme:"edugeo",desc:"Zone de Bordeaux 2003",server:"https://data.geopf.fr/wmts",bbox:[-1.12593,44.6754,.125103,45.5582],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT BORDEAUX 2003"},"SPOT5_PYR-JPEG_WLD_WM":{layer:"SPOT5_PYR-JPEG_WLD_WM",key:"",theme:"satellite",desc:"Cette couche est formée d'images prises par le satellite SPOT 5 en 2009 et 2010 depuis une altitude de 800 km. La résolution des images initiales est de 2,5 mètres/pixel, ce qui permet d'identifier l'existence de bâtiments, routes et chemins, et sa précision est homogène avec celle du référentiel à Grande Echelle. Le satellite SPOT 5 est exploité depuis 2002 par le Centre national d'études spatiales (CNES) et les images sont distribuées par la société Spot Image (Astrium GEO-Information Services). L'expertise de l'IGN menée à la demande du CNES a permis d'affiner les performances géométriques du capteur SPOT5, dans l'intérêt de tous les utilisateurs. La couche \" SPOT 5 \" visible sur Géoportail est issue de la co-édition Reference3D® entre Spot Image et l'IGN. Aucune légende n'est associée à cette couche. La radiométrie des images est traitée par des couleurs naturelles.",server:"https://data.geopf.fr/wmts",bbox:[-2.10938,41.9023,5.09766,46.0732],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"SPOT 5 sud-ouest 2009-2010"},TEST_PBE_LE_HAVRE:{layer:"TEST_PBE_LE_HAVRE",key:"",theme:"autre",desc:"TEST_PBE_LE_HAVRE",server:"https://data.geopf.fr/wmts",bbox:[-180,-89,180,89],format:"image/png",minZoom:6,maxZoom:16,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"TEST_PBE_LE_HAVRE"},"THR.ORTHOIMAGERY.ORTHOPHOTOS":{layer:"THR.ORTHOIMAGERY.ORTHOPHOTOS",key:"",theme:"ortho",desc:"Orthophotographies aériennes d'une résolution de 10cm à 5cm selon disponibilité.",server:"https://data.geopf.fr/wmts",bbox:[.0354912,43.1533,6.02353,49.6969],format:"image/jpeg",minZoom:6,maxZoom:20,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Photographies aériennes très haute résolution"},"TRANSPORTNETWORK.COMMONTRANSPORTELEMENTS.MARKERPOST":{layer:"TRANSPORTNETWORK.COMMONTRANSPORTELEMENTS.MARKERPOST",key:"",theme:"topographie",desc:"Ensemble des points de repère situés sur les routes départementales, nationales ou infrastructures autoroutières concédées de France métropolitaine.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:10,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Points de repère routiers (PR)"},"TRANSPORTNETWORK.COMMONTRANSPORTELEMENTS.MARKERPOST_VISU":{layer:"TRANSPORTNETWORK.COMMONTRANSPORTELEMENTS.MARKERPOST_VISU",key:"",theme:"topographie",desc:"Ensemble des points de repère situés sur les routes départementales, nationales ou infrastructures autoroutières concédées de France métropolitaine. Echelles du 1/8.000.000 au 1/8.000",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Points de repère routiers (PR)"},"TRANSPORTNETWORKS.RAILWAYS":{layer:"TRANSPORTNETWORKS.RAILWAYS",key:"",theme:"topographie",desc:"Carte du réseau ferroviaire",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Réseau ferroviaire"},"TRANSPORTNETWORKS.ROADS":{layer:"TRANSPORTNETWORKS.ROADS",key:"",theme:"topographie",desc:"Affichage du réseau routier français et européen.",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Routes"},"TRANSPORTNETWORKS.ROADS.DIRECTION":{layer:"TRANSPORTNETWORKS.ROADS.DIRECTION",key:"",theme:"transport",desc:"Affichage des sens de circulation du réseau routier",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:15,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Sens de circulation"},"TRANSPORTNETWORKS.RUNWAYS":{layer:"TRANSPORTNETWORKS.RUNWAYS",key:"",theme:"topographie",desc:"Localisation des aéroports, aérodromes et héliports, des pistes, bâtiments et équipements dédiés.",server:"https://data.geopf.fr/wmts",bbox:[-63.9692,-21.4969,55.9644,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Aéroports"},"TRANSPORTS.DRONES.RESTRICTIONS":{layer:"TRANSPORTS.DRONES.RESTRICTIONS",key:"",theme:"transport",desc:"Représentation des zones soumises à interdictions ou à restrictions pour l’usage, à titre de loisir, d’aéronefs télépilotés (ou drones), sur le territoire métropolitain, à jour au 07-2020 Elle intègre partiellement les interdictions s'appuyant sur des données non publiées à l'AIP et ne couvre pas les interdictions temporaires. Cette carte est basée sur l’arrêté « espace » du 09/11/2017. La représentation des zones soumises à interdictions ou à restrictions n’engage pas la responsabilité des producteurs de la donnée. Le contour des agglomérations est fourni à titre purement indicatif. Consultez les interdictions temporaires sur https://www.sia.aviation-civile.gouv.fr/.",server:"https://data.geopf.fr/wmts",bbox:[-9.88147,40.576,11.6781,51.4428],format:"image/png",minZoom:3,maxZoom:15,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!0,style:"normal",tilematrix:"PM",title:"Restrictions UAS catégorie Ouverte et Aéromodélisme"},TRANSPORT_EXCEPTIONNEL:{layer:"TRANSPORT_EXCEPTIONNEL",key:"",theme:"autre",desc:"Réseaux routiers pouvant être empruntés par les transports exceptionnels (TE).",server:"https://data.geopf.fr/wmts",bbox:[-5.15053,41.3247,9.57115,51.0992],format:"application/x-protobuf",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Transports exceptionnels"},"UTILITYANDGOVERNMENTALSERVICES.ALL":{layer:"UTILITYANDGOVERNMENTALSERVICES.ALL",key:"",theme:"topographie",desc:"Affichage des lignes électriques.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,71.5841],format:"image/png",minZoom:6,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"Lignes électriques"},bdtopo_cote_d_azur:{layer:"bdtopo_cote_d_azur",key:"",theme:"autre",desc:"test petite zone génération bdtopo",server:"https://data.geopf.fr/wmts",bbox:[-63.1533,-21.3897,55.8368,51.3127],format:"application/x-protobuf",minZoom:2,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"BDTOPO personnalisable cote d'azur"},d029_1_brest_2021:{layer:"d029_1_brest_2021",key:"",theme:"autre",desc:"Flux pyramide CoSIA (latest)",server:"https://data.geopf.fr/wmts",bbox:[-4.6728,48.3139,-4.29803,48.5488],format:"application/x-protobuf",minZoom:6,maxZoom:19,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"CoSIA - latest"},"hedge.hedge":{layer:"hedge.hedge",key:"",theme:"topographie",desc:"Couche nationale de référence des haies linéaires en France métropolitaine.",server:"https://data.geopf.fr/wmts",bbox:[-63.3725,-21.4756,55.9259,51.3121],format:"image/png",minZoom:7,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"haies linéraires"},ludi_2266__joincache_pyramide_1:{layer:"ludi_2266__joincache_pyramide_1",key:"",theme:"autre",desc:"Exemple de flux à visualiser",server:"https://data.geopf.fr/wmts",bbox:[-4.82,42.18,8.71,51.14],format:"image/jpeg",minZoom:5,maxZoom:18,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"ludi_2266 -- Joincache -- pyramide1"},test_jpe:{layer:"test_jpe",key:"",theme:"autre",desc:"test_jpe",server:"https://data.geopf.fr/wmts",bbox:[2.47085,42.9983,3.246,43.3851],format:"image/jpeg",minZoom:6,maxZoom:22,originators:{Geoservices:{attribution:"Géoservices",href:"https://geoservices.ign.fr/"}},queryable:!1,style:"normal",tilematrix:"PM",title:"test_jpe"}}}),a("5TDW7",function(e,r){t(e.exports,"default",()=>h);var i=s("6vpLi"),n=s("2tVQX");s("eXEIX");var a=s("dKl6q"),o=s("3HxCM"),l=s("cHblF");class u extends i.default{constructor(){super()}}u.prototype.read=function(){return!1},u.prototype.write=function(){return!1},u.prototype.readOptions=function(e,t){if((t=t||{}).id&&e.set("id",t.id),t.type&&e.set("type",t.type),t.name&&e.set("name",t.name),(t.name||t.title)&&e.set("title",t.title||t.name),void 0!==t.visibility&&e.setVisible(t.visibility),void 0!==t.opacity&&e.setOpacity(parseFloat(t.opacity)),t.description&&e.set("desc",t.description),t.logo&&e.set("logo",t.logo),t.theme&&e.set("theme",t.theme),t.exportable&&e.set("exportable",!0),e.getSource()&&(t.attributions?(e.getSource().setAttributions(t.attributions),e.set("attributions",t.attributions)):t.copyright&&e.getSource().setAttributions(t.copyright)),e.selectable&&e.selectable(t.selectable),e.setPopupContent&&e.setPopupContent(t.popupContent),t.popupHoverSelect&&e.set("popupHoverSelect",t.popupHoverSelect),t.grayscale&&e.grayscale(!0),t.blendMode&&e.setBlendMode(t.blendMode),t.minZoom&&e.setMinZoom(t.minZoom),t.maxZoom&&e.setMaxZoom(t.maxZoom),e.setDeclutter&&e.setDeclutter(t.declutter),e.setIgnStyle&&e.setIgnStyle(t.style||{}),e.setConditionStyle&&t.conditionStyle){let r=[];t.conditionStyle.forEach(e=>{r.push({title:e.title,condition:e.condition,symbol:e.symbol?new l.default(e.symbol):null})}),e.setConditionStyle(r)}e.setMode&&(t.cluster||"cluster"===t.mode?e.setMode("cluster",{distance:t.clusterDistance||t.radiusCluster||40,maxZoomCluster:parseInt(t.maxZoomCluster)}):t.mode&&e.setMode(t.mode||"vector")),e.setCrop(t.crop),t.extent&&e.setExtent(t.extent),t.legend&&(e._legend=new o.default({size:[28,20],margin:6,layer:e}),new a.default(e._legend,t.legend))},u.prototype.writeOptions=function(e,t){if((t=t||{}).id=e.get("id"),t.type=e.get("type"),t.name=e.get("name")||"",t.title=e.get("title")||"",t.visibility=e.getVisible(),t.opacity=e.getOpacity(),t.description=e.get("desc")||e.get("description"),t.logo=e.get("logo"),t.theme=e.get("theme"),e.get("exportable")&&(t.exportable=!0),e.get("attributions")&&(t.attributions=e.get("attributions")),"Geoportail"===e.get("type")||"WMS"===e.get("type")&&e.get("wmsparam").source.attributions&&e.get("wmsparam").source.attributions.length||"WMTS"===e.get("type")&&e.get("wmtsparam").source.attributions.length||!e.getSource()||!e.getSource().getAttributions())t.copyright="";else try{t.copyright=e.getSource().getAttributions()({extent:[-1/0,-1/0,1/0,1/0]}).join(" ")}catch(e){t.copyright=""}if(e.selectable&&(t.selectable=e.selectable()),e.getPopupContent&&(t.popupContent=e.getPopupContent(),t.popupHoverSelect=e.get("popupHoverSelect")),t.grayscale=e.get("grayscale")||!1,t.blendMode=e.get("blendMode")||"",t.minZoom=e.getMinZoom(),t.maxZoom=e.getMaxZoom(),e.getDeclutter&&(t.declutter=e.getDeclutter()),e.getIgnStyle&&(t.style=e.getIgnStyle()),e.getConditionStyle&&(t.conditionStyle=[],e.getConditionStyle().forEach(e=>{t.conditionStyle.push({title:e.title,condition:e.condition,symbol:e.symbol?e.symbol.stringify():null})})),e.getMode&&(t.mode=e.getMode(),"cluster"===e.getMode()&&(t.cluster=!0,t.clusterDistance=t.radiusCluster=e.get("clusterDistance"),t.maxZoomCluster=e.get("maxZoomCluster"))),t.crop=e.getCrop(),t.crop.coordinates&&(t.crop.coordinates=(0,n.default)(t.crop.coordinates)),t.extent=e.getExtent(),e._legend){let r=new a.default;t.legend=r.write(e._legend)}return t};var h=u}),a("2tVQX",function(e,r){t(e.exports,"default",()=>i);var i=function e(t,r){return r=r||1e3,"number"==typeof t[0]?(t[0]=Math.round(t[0]*r)/r,t[1]=Math.round(t[1]*r)/r):t.forEach(t=>e(t,r)),t}}),a("dKl6q",function(e,r){t(e.exports,"default",()=>g);var i=s("6vpLi"),n=s("juLo9"),a=s("j2K3b"),o=s("hvEnP"),l=s("cgPpQ"),u=s("gIJof"),h=s("cWXYt"),c=s("hwcfb"),d=s("3HxCM"),p=s("8X5J1");class f extends i.default{constructor(e,t,r,i){super(),e&&this.read(e,t,r,i)}}f.prototype.read=function(e,t,r,i){t&&(!r&&(e.getItems().clear(),e.setTitle(t.title||t.legendtitle||""),e.set("lineHeight",t.lineHeight),t.type&&e.set("type",t.type)),t.items&&t.items.forEach(t=>{if("Layer"===t.type){if(i){let r=i.find(e=>e.get("id")===t.id);r&&r._legend&&e.addItem(r._legend)}}else if("Image"===t.type)e.addItem(new p.default({src:t.src}));else{let r;(r=/Titre/.test(t.type)?void 0:new n.default(/Point/.test(t.type)?new a.default([0,0]):/LineString/.test(t.type)?new o.default([0,0]):new l.default([[0,0]])))&&(r.setIgnStyle(t.style),r.setStyle((0,h.getStyleFn)())),e.addItem({title:t.name,feature:r})}}),(0,u.default)(()=>{e.refresh()}))},f.prototype.write=function(e){let t={};return t.legendtitle=e.getTitle(),t.lineHeight=e.get("lineHeight"),t.legendWidth=300,t.legendParam={width:300,lineHeight:t.lineHeight},e.get("type")&&(t.type=e.get("type")),t.items=[],e.getItems().forEach(e=>{if(e instanceof d.default)e._layer&&t.items.push({type:"Layer",id:e._layer.get("id")});else if(e instanceof p.default)t.items.push({type:"Image",src:e.get("src")});else{let r={name:e.get("title"),type:"Titre"},i=e.get("feature");i&&(r.type=i.getGeometry().getType(),"function"!=typeof i.getStyle()?r.style=(0,c.default)(i):r.style=i.getIgnStyle()),t.items.push(r)}}),t};var g=f}),a("8X5J1",function(e,r){t(e.exports,"default",()=>a);var i=s("3xROf");class n extends i.default{constructor(e){let t=(e=e||{}).src;delete e.src,super(e),this.getImage().onerror=()=>{this.dispatchEvent({type:"error"}),"function"==typeof e.onerror&&e.onerror()},this.getImage().crossOrigin="anonymous",this.getImage().src=e.src=t,this.set("src",t)}}var a=n}),a("cHblF",function(e,r){t(e.exports,"default",()=>p);var i=s("fnScq"),n=s("iGyOD"),a=s("3HxCM"),o=s("hvEnP"),l=s("j2K3b"),u=s("cgPpQ"),h=s("6BrXC"),c=s("cWXYt");class d extends i.default{constructor(e){super(),void 0===(e=e||{}).margin&&(e.margin=10);let t=e.feature,r=Object.assign({},e.style),i=(e.type||"").replace(/^Polygone$/,"Polygon");switch(t instanceof n.default&&(t.get("features")&&(t=t.get("features")[0]),t&&(i=t.getGeometry().getType(),r=t.getIgnStyle(!0))),i=(0,h.default)(i)){case"Point":t=new n.default(new l.default([0,0]));break;case"LineString":t=new n.default(new o.default([[0,0],[1,0]]));break;case"Polygon":t=new n.default(new u.default([[[0,0]]]));break;default:t=null}t&&(t.setStyle((0,c.getStyleFn)()),t.setIgnStyle(r),this._img=(0,a.default).getLegendImage({feature:t,size:e.size,margin:e.margin,pixelratio:1,onload:()=>{this._drawImage()}}),t.on("change",()=>{this._drawImage()})),this.set("name",e.name),this._margin=e.margin,this._feature=t,this._type=i,this.setIgnStyle(r),this._size=e.size}}d.prototype._drawImage=function(){this._feature.setIgnStyle(this._style);let e=(0,a.default).getLegendImage({size:this._size,margin:this._margin,pixelratio:1,feature:this._feature});this._img.getContext("2d").clearRect(0,0,this._img.width,this._img.height),this._img.getContext("2d").drawImage(e,0,0),this.dispatchEvent({type:"load"})},d.prototype.getImage=function(e){if(e){let e=document.createElement("canvas");return e.width=this._img.width,e.height=this._img.height,e.getContext("2d").drawImage(this._img,0,0),e}return this._img},d.prototype.setIgnStyle=function(e,t){this._feature&&(this._feature.setIgnStyle(e,t),this._style=Object.assign({},this._feature.getIgnStyle(!0)),delete this._style.zIndex,this._feature.changed())},d.prototype.getIgnStyle=function(){return Object.assign({},this._style)},d.prototype.getType=function(){return this._type},d.prototype.setFeatureProperties=function(e){let t=this._feature.getGeometry();this._feature.setProperties(e),this._feature.setGeometry(t)},d.prototype.stringify=function(){return{name:this.get("name"),type:this.getType(),style:this.getIgnStyle()}};var p=d}),a("6BrXC",function(e,r){t(e.exports,"default",()=>i);var i=function(e){switch(e){case"Point":case"MultiPoint":return"Point";case"LineString":case"LinearRing":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"GeometryCollection":case"Circle":return!1}}}),a("6v9hi",function(e,r){t(e.exports,"default",()=>o);var i=s("6gELa"),n=s("5TDW7");class a extends n.default{constructor(){super()}}a.prototype.read=function(e){if("Edugeo"===e.type){switch(e.layer){case"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.STANDARD":case"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.ROUTIER":case"GEOGRAPHICALGRIDSYSTEMS.PLANIGN":e.layer="GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2";break;case"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.NIVEAUXGRIS":e.layer="GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2",e.grayscale=!0}try{let t=new i.default({layer:e.layer,preload:10});return this.readOptions(t,e),t}catch(e){return console.error(e.message),!1}}},a.prototype.write=function(e){if("Edugeo"!==e.get("type"))return!1;var t=this.writeOptions(e);return t.layer=e.get("layer"),t.key=e.get("key"),t};var o=a}),a("lMv07",function(e,r){t(e.exports,"default",()=>f),t(e.exports,"roundCoords",()=>s("2tVQX").default);var i=s("5TDW7"),n=s("jPVWI"),a=s("20LS2"),o=s("iGyOD"),l=s("5mw1t"),u=s("2tVQX"),h=s("23ytq"),c=s("86esn");let d={};Object.keys(c.ignStyleDef).forEach(e=>{let t=c.ignStyleDef[e].short;t?d[t]?console.error("DUPLICATE style: ",e,"-",d[t],"("+t+")"):d[t]=e:console.error("MISSING style: ",e)});class p extends i.default{constructor(){super()}}p.prototype.read=function(e){if("Vector"!==e.type)return;let t=new a.default,r=new n.default({source:t});return this.readOptions(r,e),this.readFeatures(r,e)},p.prototype.readFeatures=function(e,t){let r=e.getSource(),i=[];return t.data?(i=new l.default().readFeaturesFromObject(t.data),t.data.style.forEach((e,t)=>{let r={};Object.keys(e).forEach(t=>r[d[t]]=e[t]),i[t].setIgnStyle(r)}),t.data.popupContent.forEach((e,t)=>i[t].setPopupContent(e))):t.features.forEach(e=>{let t=new o.default((0,h.ol_geom_createFromType)(e.type,e.coords));t.setProperties(e.attributes),t.setIgnStyle(e.style),t.setPopupContent(e.popupcontent),i.push(t)}),r.addFeatures(i),e.setAttributes(t.attributes),e},p.prototype.write=function(e,t){if("Vector"!==e.get("type"))return null;let r=this.writeOptions(e,{dessin:!0,attributes:Object.values(e.getAttributes())});return this.writeFeatures(e,r,t)},p.prototype.writeFeatures=function(e,t,r){let i=e.getSource().getFeatures();if(r)t.features=[],i.forEach(e=>{let r={type:e.getGeometry().getType(),coords:(0,u.default)(e.getGeometry().getCoordinates()),attributes:e.getProperties(),style:e.getIgnStyle(),popupcontent:e.getPopupContent()};delete r.attributes[e.getGeometryName()],t.features.push(r)});else{let e=new l.default({deleteNullProperties:!1,decimals:3,layout:"XYZM"});t.data=e.writeFeaturesObject(i),t.data.style=[],t.data.popupContent=[],i.forEach(e=>{let r=e.getIgnStyle(),i={};Object.keys(r).forEach(e=>{c.ignStyleDef[e]&&(i[c.ignStyleDef[e].short]=r[e])}),t.data.style.push(i),e.getPopupContent().active?t.data.popupContent.push(e.getPopupContent()):t.data.popupContent.push({})})}return t};var f=p}),a("5mw1t",function(e,r){t(e.exports,"default",()=>a);var i=s("kPMpK"),n=class extends i.default{constructor(e){super(e=e||{}),this._hash={},this._count=0,this._extended=e.extended,"function"==typeof e.whiteList?this._whiteList=e.whiteList:e.whiteList&&e.whiteList.indexOf?this._whiteList=function(t){return e.whiteList.indexOf(t)>-1}:this._whiteList=function(){return!0},"function"==typeof e.blackList?this._blackList=e.blackList:e.blackList&&e.blackList.indexOf?this._blackList=function(t){return e.blackList.indexOf(t)>-1}:this._blackList=function(){return!1},this._deleteNull=!1!==e.deleteNullProperties&&[null,void 0,""];var t=2;e.dataProjection&&"EPSG:4326"!==e.dataProjection||(t=7),isNaN(parseInt(e.decimals))||(t=parseInt(e.decimals)),this._decimals=t,this.setLayout(e.layout||"XY")}setLayout(e){switch(e){case"XYZ":case"XYZM":this._layout=e;break;default:this._layout="XY"}}getLayout(){return this._layout}encodeNumber(e,t){(isNaN(Number(e))||null===e||!isFinite(e))&&(e=0),t||0===t||(t=this._decimals),(e=Math.round(e*Math.pow(10,t)))<0?e=-2*e-1:e*=2;for(var r,i="",n=e;r=n%this._size,i=this._radix.charAt(r)+i,0!=(n=Math.floor(n/this._size)););return i}decodeNumber(e,t){t||0===t||(t=this._decimals);var r=0;e.split("").forEach((function(e){r=r*this._size+this._radix.indexOf(e)}).bind(this));var i=Math.floor(r/2);return i!==r/2&&(i=-1-i),i/Math.pow(10,t)}encodeCoordinates(e,t){var r,i,n;if("number"==typeof e[0])return i=this.encodeNumber(e[0],t)+","+this.encodeNumber(e[1],t),"Z"==this._layout[2]&&e.length>2&&(i+=","+this.encodeNumber(e[2],2)),"M"==this._layout[3]&&e.length>3&&(i+=","+this.encodeNumber(e[3],0)),i;if(!e.length||!e[0])return this.encodeCoordinates([0,0],t);if("number"==typeof e[0][0]){var s=[0,0,0,0],a=[],o="Z"==this._layout[2]&&e[0].length>2,l="M"==this._layout[3]&&e[0].length>3;for(r=0;r<e.length;r++){n=[Math.round(e[r][0]*Math.pow(10,t)),Math.round(e[r][1]*Math.pow(10,t))],o&&(n[2]=e[r][2]),l&&(n[3]=e[r][3]),e[r]=n;var u=e[r][0]-s[0],h=e[r][1]-s[1];(0==r||0!==u||0!==h)&&(i=this.encodeNumber(u,0)+","+this.encodeNumber(h,0)+(o?","+this.encodeNumber(e[r][2]-s[2],2):"")+(l?","+this.encodeNumber(e[r][3]-s[3],0):""),a.push(i),s=e[r])}return a.length<2&&e.length>1&&(i="A,A"+(o?",A":"")+(l?",A":""),a.push(i)),a.join(";")}for(r=0;r<e.length;r++)e[r]=this.encodeCoordinates(e[r],t);return e}decodeCoordinates(e,t){if("string"==typeof e){if(!((e=e.split(";")).length>1))return e=e[0].split(","),i=[this.decodeNumber(e[0],t),this.decodeNumber(e[1],t)],e.length>2&&(i[2]=this.decodeNumber(e[2],2)),e.length>3&&(i[3]=this.decodeNumber(e[3],0)),i;var r,i,n=Math.pow(10,t),s=[0,0,0,0];return e.forEach((function(r,i){e[i]=r.split(","),e[i][0]=Math.round((this.decodeNumber(e[i][0],t)+s[0])*n)/n,e[i][1]=Math.round((this.decodeNumber(e[i][1],t)+s[1])*n)/n,e[i].length>2&&(e[i][2]=Math.round((this.decodeNumber(e[i][2],2)+s[2])*n)/n),e[i].length>3&&(e[i][3]=Math.round((this.decodeNumber(e[i][3],0)+s[3])*n)/n),s=e[i]}).bind(this)),e}if(!e.length)return[0,0];var a=[];for(r=0;r<e.length;r++)a[r]=this.decodeCoordinates(e[r],t);return a}writeFeaturesObject(e,t){t=t||{},this._count=0,this._hash={};var r=(0,i.default).prototype.writeFeaturesObject.call(this,e,t);r.decimals=this._decimals,r.hashProperties=[],Object.keys(this._hash).forEach((function(e){r.hashProperties.push(e)}).bind(this)),this._count=0,this._hash={};var n=r.features;return delete r.features,r.features=n,r}writeFeatureObject(e,t){var r,n=(0,i.default).prototype.writeFeatureObject.call(this,e,t);if("Feature"!==n.type)throw"GeoJSONX doesn't support "+n.type+".";var s=[];if("Point"===n.geometry.type)s.push(this.encodeCoordinates(n.geometry.coordinates,this._decimals));else if("MultiPoint"===n.geometry.type){var a=[];n.geometry.coordinates.forEach((function(e){a.push(this.encodeCoordinates(e,this._decimals))}).bind(this)),s.push([this._type[n.geometry.type],a.join(";")])}else{if(!this._type[n.geometry.type])throw"GeoJSONX doesn't support "+n.geometry.type+".";s.push([this._type[n.geometry.type],this.encodeCoordinates(n.geometry.coordinates,this._decimals)])}var o=[];for(r in n.properties)!(!this._whiteList(r)||this._blackList(r))&&(!this._hash.hasOwnProperty(r)&&(this._hash[r]=this._count,this._count++),(!this._deleteNull||0>this._deleteNull.indexOf(n.properties[r]))&&o.push(this._hash[r],n.properties[r]));if((o.length||this._extended)&&s.push(o),this._extended){var l=!1;for(r in o={},n)/^type$|^geometry$|^properties$/.test(r)||(o[r]=n[r],l=!0);l&&s.push(o)}return s}writeGeometryObject(e,t){var r=(0,i.default).prototype.writeGeometryObject.call(this,e,t);return"Point"===r.type?this.encodeCoordinates(r.coordinates,this._decimals):[this._type[r.type],this.encodeCoordinates(r.coordinates,this._decimals)]}readFeaturesFromObject(e,t){if(this._hashProperties=e.hashProperties||[],(t=t||{}).decimals=parseInt(e.decimals),!t.decimals&&0!==t.decimals)throw"Bad file format...";return(0,i.default).prototype.readFeaturesFromObject.call(this,e,t)}readFeatureFromObject(e,t){var r={type:"Feature"};if("string"==typeof e[0])r.geometry={type:"Point",coordinates:this.decodeCoordinates(e[0],"number"==typeof t.decimals?t.decimals:this.decimals)};else if(r.geometry={type:this._toType[e[0][0]]},"MultiPoint"===r.geometry.type){var n=r.geometry.coordinates=[];e[0][1].split(";").forEach((function(e){e=e.split(","),n.push([this.decodeNumber(e[0],t.decimals),this.decodeNumber(e[1],t.decimals)])}).bind(this))}else r.geometry.coordinates=this.decodeCoordinates(e[0][1],"number"==typeof t.decimals?t.decimals:this.decimals);if(this._hashProperties&&e[1]){r.properties={};for(var s=e[1],a=0;a<s.length;a+=2)r.properties[this._hashProperties[s[a]]]=s[a+1]}else r.properties=e[1];if(e[2])for(var o in e[2])r[o]=e[2][o];return(0,i.default).prototype.readFeatureFromObject.call(this,r,t)}};n.prototype._radix="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/ !#$%&'()*-.:<=>?@[]^_`{|}~",n.prototype._size=n.prototype._radix.length,n.prototype._type={Point:0,LineString:1,Polygon:2,MultiPoint:3,MultiLineString:4,MultiPolygon:5,GeometryCollection:null},n.prototype._toType=["Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon"];var a=n}),a("de6E4",function(e,r){t(e.exports,"default",()=>l);var i=s("dMe05"),n=s("2RsmU"),a=s("5TDW7");class o extends a.default{constructor(){super()}}o.prototype.read=function(e){if("GeoImage"!==e.type)return!1;var t=new n.default({url:e.url,imageCenter:e.imageCenter,imageRotate:e.imageRotate,imageScale:e.imageScale,imageMask:e.imageMask,crossOrigin:e.crossOrigin}),r=new i.default({source:t});return this.readOptions(r,e),r},o.prototype.write=function(e){return"GeoImage"===e.get("type")&&this.writeOptions(e,{url:e.getSource().getGeoImage().src,imageCenter:e.getSource().getCenter(),imageRotate:e.getSource().getRotation(),imageScale:e.getSource().getScale(),imageMask:e.getSource().getMask(),crossOrigin:e.getSource().getGeoImage().crossOrigin})};var l=o}),a("2RsmU",function(e,r){t(e.exports,"default",()=>o);var i=s("9brqU"),n=s("cgPpQ"),a=s("jZquI"),o=class extends i.default{constructor(e){var t={attributions:e.attributions,logo:e.logo,projection:e.projection};t.canvasFunction=function(e,t,r,i){return this.calculateImage(e,t,r,i)},super(t),this._image=e.image?e.image:new Image,this._image.crossOrigin=e.crossOrigin,this._image.onload=(function(){this.setCrop(this.crop),this.changed()}).bind(this),e.image||(this._image.src=e.url),this.center=e.imageCenter,this.setScale(e.imageScale),this.rotate=e.imageRotate?e.imageRotate:0,this.crop=e.imageCrop,this.mask=e.imageMask,this.setCrop(this.crop),this.on("change",(function(){this.set("extent",this.calculateExtent())}).bind(this))}calculateImage(e,t,r,i){if(this.center){var n=document.createElement("canvas");n.width=i[0],n.height=i[1];var s=n.getContext("2d");if(!this._imageSize)return n;if(this.mask){s.beginPath();var a=p(this.mask[0]);s.moveTo(a[0],a[1]);for(var o=1;o<this.mask.length;o++)a=p(this.mask[o]),s.lineTo(a[0],a[1]);s.clip()}var l=p(this.center),u=(this._image.naturalWidth/2-this.crop[0])*this.scale[0]/t*r,h=(this._image.naturalHeight/2-this.crop[1])*this.scale[1]/t*r,c=this._imageSize[0]*this.scale[0]/t*r,d=this._imageSize[1]*this.scale[1]/t*r;return s.translate(l[0],l[1]),this.rotate&&s.rotate(this.rotate),s.drawImage(this._image,this.crop[0],this.crop[1],this._imageSize[0],this._imageSize[1],-u,-h,c,d),n}function p(t){return[(t[0]-e[0])/(e[2]-e[0])*i[0],(t[1]-e[3])/(e[1]-e[3])*i[1]]}}getCenter(){return this.center}setCenter(e){this.center=e,this.changed()}getScale(){return this.scale}setScale(e){switch(typeof e){case"number":e=[e,e];break;case"object":if(2!=e.length)return;break;default:return}this.scale=e,this.changed()}getRotation(){return this.rotate}setRotation(e){this.rotate=e,this.changed()}getGeoImage(){return this._image}getCrop(){return this.crop}setMask(e){this.mask=e,this.changed()}getMask(){return this.mask}setCrop(e){if(!this._image.naturalWidth){this.crop=e;return}if(e){switch(typeof e){case"number":e=[e,e,this._image.naturalWidth-e,this._image.naturalHeight-e];break;case"object":if(4!=e.length)return;break;default:return}e=(0,a.boundingExtent)([[e[0],e[1]],[e[2],e[3]]]),this.crop=[Math.max(0,e[0]),Math.max(0,e[1]),Math.min(this._image.naturalWidth,e[2]),Math.min(this._image.naturalHeight,e[3])]}else this.crop=[0,0,this._image.naturalWidth,this._image.naturalHeight];this.crop[2]<=this.crop[0]&&(this.crop[2]=this.crop[0]+1),this.crop[3]<=this.crop[1]&&(this.crop[3]=this.crop[1]+1),this._imageSize=[this.crop[2]-this.crop[0],this.crop[3]-this.crop[1]],this.changed()}getExtent(e){var t=this.get("extent");if(t||(t=this.calculateExtent()),e)for(var r=0;r<e.length;r++)e[r]=t[r];return t}calculateExtent(e){if(!1!==e&&this.getMask())t=new n.default([this.getMask()]);else{var t,r=this.getCenter(),i=this.getScale(),s=this.getGeoImage().width*i[0],o=this.getGeoImage().height*i[1],l=(0,a.boundingExtent)([[r[0]-s/2,r[1]-o/2],[r[0]+s/2,r[1]+o/2]]);(t=(0,n.fromExtent)(l)).rotate(-this.getRotation(),r)}return t.getExtent()}}}),a("9brqU",function(e,r){t(e.exports,"default",()=>l);var i=s("34ffr"),n=s("3i1Ma"),a=s("jZquI");class o extends n.default{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5}getImageInternal(e,t,r,n){t=this.findNearestResolution(t);let s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==t&&s.getPixelRatio()==r&&(0,a.containsExtent)(s.getExtent(),e))return s;e=e.slice(),(0,a.scaleFromCenter)(e,this.ratio_);let o=[(0,a.getWidth)(e)/t*r,(0,a.getHeight)(e)/t*r],l=this.canvasFunction_.call(this,e,t,r,o,n);return l&&(s=new i.default(e,t,r,l)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s}}var l=o}),a("3i1Ma",function(e,r){t(e.exports,"getRequestExtent",()=>b),t(e.exports,"default",()=>x);var i=s("iTTi2"),n=s("cw4dl"),a=s("50PZ9"),o=s("kUxvm"),l=s("kRXzy"),u=s("205E0"),h=s("fqTWj"),c=s("a6roo"),d=s("jZquI"),p=s("gzr8q"),f=s("djufG"),g=s("kBSVF");let m={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class y extends i.default{constructor(e,t){super(e),this.image=t}}class v extends u.default{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:void 0===e.interpolate||e.interpolate}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!e.loader&&0===e.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){let t=this.getResolutions();if(t){let r=(0,g.linearFindNearest)(t,e,0);e=t[r]}return e}getImage(e,t,r,i){let n=this.getProjection();if(!n||!i||(0,p.equivalent)(n,i))return n&&(i=n),this.getImageInternal(e,t,r,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,p.equivalent)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==t&&(0,d.equals)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new l.default(n,i,e,t,r,(e,t,r)=>this.getImageInternal(e,t,r,n),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,r,i){if(this.loader){let s=b(e,t,r,1),a=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===i&&(this.wantedExtent_&&(0,d.containsExtent)(this.wantedExtent_,s)||(0,d.containsExtent)(this.image.getExtent(),s))&&(this.wantedResolution_&&(0,f.fromResolutionLike)(this.wantedResolution_)===a||(0,f.fromResolutionLike)(this.image.getResolution())===a)))return this.image;this.wantedProjection_=i,this.wantedExtent_=s,this.wantedResolution_=a,this.image=new o.default(s,a,r,this.loader),this.image.addEventListener(n.default.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){let t;let r=e.target;switch(r.getState()){case a.default.LOADING:this.loading=!0,t=m.IMAGELOADSTART;break;case a.default.LOADED:this.loading=!1,t=m.IMAGELOADEND;break;case a.default.ERROR:this.loading=!1,t=m.IMAGELOADERROR;break;default:return}this.hasListener(t)&&this.dispatchEvent(new y(t,r))}}function b(e,t,r,i){let n=t/r,s=(0,d.getCenter)(e),a=(0,c.ceil)((0,d.getWidth)(e)/n,h.DECIMALS),o=(0,c.ceil)((0,d.getHeight)(e)/n,h.DECIMALS),l=(0,c.ceil)((i-1)*a/2,h.DECIMALS),u=(0,c.ceil)((i-1)*o/2,h.DECIMALS);return(0,d.getForViewAndSize)(s,n,0,[a+2*l,o+2*u])}var x=v}),a("kRXzy",function(e,r){t(e.exports,"default",()=>f);var i=s("9ndmc"),n=s("cw4dl"),a=s("50PZ9"),o=s("kUxvm"),l=s("9JHmh"),u=s("gpSXC"),h=s("djufG"),c=s("jZquI"),d=s("bsgMw");class p extends o.default{constructor(e,t,r,n,s,o,h){let d=e.getExtent();d&&e.canWrapX()&&((d=d.slice())[0]=-1/0,d[2]=1/0);let p=t.getExtent();p&&t.canWrapX()&&((p=p.slice())[0]=-1/0,p[2]=1/0);let f=p?(0,c.getIntersection)(r,p):r,g=(0,c.getCenter)(f),m=(0,u.calculateSourceResolution)(e,t,g,n),y=i.ERROR_THRESHOLD,v=new l.default(e,t,f,d,m*y,n),b=v.calculateSourceExtent(),x=(0,c.isEmpty)(b)?null:o(b,m,s),E=x?a.default.IDLE:a.default.EMPTY,_=x?x.getPixelRatio():1;super(r,n,_,E),this.targetProj_=t,this.maxSourceExtent_=d,this.triangulation_=v,this.targetResolution_=n,this.targetExtent_=r,this.sourceImage_=x,this.sourcePixelRatio_=_,this.interpolate_=h,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==a.default.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){let e=this.sourceImage_.getState();if(e==a.default.LOADED){let e=(0,c.getWidth)(this.targetExtent_)/this.targetResolution_,t=(0,c.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,u.render)(e,t,this.sourcePixelRatio_,(0,h.fromResolutionLike)(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==a.default.IDLE){this.state=a.default.LOADING,this.changed();let e=this.sourceImage_.getState();e==a.default.LOADED||e==a.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,d.listen)(this.sourceImage_,n.default.CHANGE,function(e){let t=this.sourceImage_.getState();(t==a.default.LOADED||t==a.default.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){(0,d.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null}}var f=p}),a("fqTWj",function(e,r){t(e.exports,"DECIMALS",()=>i);let i=4}),a("cBppj",function(e,r){t(e.exports,"default",()=>d);var i=s("5TDW7"),n=s("adu8e"),a=s("iGyOD"),o=s("bXE6B"),l=s("5mw1t"),u=s("23ytq");s("lMv07");var h=s("2tVQX");class c extends i.default{constructor(){super()}}c.prototype.read=function(e){if("Statistique"!==e.type)return;let t=[];e.data?t=new l.default().readFeaturesFromObject(e.data):e.features.forEach(e=>{let r=new a.default((0,u.ol_geom_createFromType)(e.type,e.coords));r.setProperties(e.attributes),t.push(r)});let r=new n.default;r.addFeatures(t);let i=new o.default({source:r});return void 0===e.selectable&&(e.selectable=!1),this.readOptions(i,e),i.setStatistic(e.stat),e.popupContent&&i.setPopupContent(e.popupContent),i},c.prototype.write=function(e,t){if(!(e instanceof o.default))return!1;var r=this.writeOptions(e,{type:"Statistique"});r.stat=e.getStatistic(),1===r.stat.cols.length&&r.stat.cols.push(r.stat.cols[0]),r.popupContent=e.getPopupContent();let i=e.getSource().getFeatures();if(t)r.features=[],i.forEach(e=>{let t={type:e.getGeometry().getType(),coords:(0,h.default)(e.getGeometry().getCoordinates()),attributes:e.getProperties()};delete t.attributes[e.getGeometryName()],r.features.push(t)});else{let e=new l.default({decimals:3});r.data=e.writeFeaturesObject(i)}return r};var d=c}),a("adu8e",function(e,r){t(e.exports,"default",()=>O);var i=s("31ZqB"),n=s("eHnTw"),a=s("iTTi2"),o=s("cw4dl"),l=s("5dXmB"),u=s("9iujS"),h=s("29SgV"),c=s("205E0"),d=s("gKdkP"),p=s("eQaCk"),f=s("gmEQj"),g=s("eJ4LZ"),m=s("jZquI"),y=s("kBSVF"),v=s("lVQul"),b=s("kKEgb"),x=s("bsgMw"),E=s("kWPIP");class _ extends a.default{constructor(e,t,r){super(e),this.feature=t,this.features=r}}class S extends c.default{constructor(e){let t,r;e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=p.VOID,this.format_=e.format,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&((0,g.assert)(this.format_,"`format` must be set when `url` is set"),this.loader_=(0,E.xhr)(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:f.all;let n=void 0===e.useSpatialIndex||e.useSpatialIndex;this.featuresRtree_=n?new u.default:null,this.loadedExtentsRtree_=new u.default,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?r=e.features:e.features&&(r=(t=e.features).getArray()),n||void 0!==t||(t=new i.default(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==t&&this.bindFeaturesCollection_(t)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){let t=(0,v.getUid)(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);let r=e.getGeometry();if(r){let t=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new _(d.default.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof h.default||(this.featureChangeKeys_[e]=[(0,x.listen)(t,o.default.CHANGE,this.handleFeatureChange_,this),(0,x.listen)(t,l.default.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let r=!0;if(void 0!==t.getId()){let e=String(t.getId());if(e in this.idIndex_){if(t instanceof h.default){let i=this.idIndex_[e];i instanceof h.default?Array.isArray(i)?i.push(t):this.idIndex_[e]=[i,t]:r=!1}else r=!1}else this.idIndex_[e]=t}return r&&((0,g.assert)(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),r}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){let t=[],r=[],i=[];for(let t=0,i=e.length;t<i;t++){let i=e[t],n=(0,v.getUid)(i);this.addToIndex_(n,i)&&r.push(i)}for(let e=0,n=r.length;e<n;e++){let n=r[e],s=(0,v.getUid)(n);this.setupChangeEvents_(s,n);let a=n.getGeometry();if(a){let e=a.getExtent();t.push(e),i.push(n)}else this.nullGeometryFeatures_[s]=n}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(d.default.ADDFEATURE))for(let e=0,t=r.length;e<t;e++)this.dispatchEvent(new _(d.default.ADDFEATURE,r[e]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(d.default.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),this.addEventListener(d.default.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),e.addEventListener(n.default.ADD,e=>{t||(t=!0,this.addFeature(e.element),t=!1)}),e.addEventListener(n.default.REMOVE,e=>{t||(t=!0,this.removeFeature(e.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(let e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(x.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(let e in this.featuresRtree_.forEach(e=>{this.removeFeatureInternal(e)}),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};let t=new _(d.default.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){let r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){let i=r.getGeometry();if(i instanceof h.default||i.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(r){let i=r.getGeometry();if(i instanceof h.default||i.intersectsExtent(e)){let e=t(r);if(e)return e}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,b.isEmpty)(this.nullGeometryFeatures_)||(0,y.extend)(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){let t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t}getFeaturesInExtent(e,t){return this.featuresRtree_?t&&t.canWrapX()&&this.getWrapX()?[].concat(...(0,m.wrapAndSliceX)(e,t).map(e=>this.featuresRtree_.getInExtent(e))):this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){let r=e[0],i=e[1],n=null,s=[NaN,NaN],a=1/0,o=[-1/0,-1/0,1/0,1/0];return t=t||p.TRUE,this.featuresRtree_.forEachInExtent(o,function(e){if(t(e)){let t=e.getGeometry(),l=a;if((a=t instanceof h.default?0:t.closestPointXY(r,i,s,a))<l){n=e;let t=Math.sqrt(a);o[0]=r-t,o[1]=i-t,o[2]=r+t,o[3]=i+t}}}),n}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){let t=this.idIndex_[e.toString()];return void 0!==t?t:null}getFeatureByUid(e){let t=this.uidIndex_[e];return void 0!==t?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){let t=e.target,r=(0,v.getUid)(t),i=t.getGeometry();if(i){let e=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);let n=t.getId();if(void 0!==n){let e=n.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new _(d.default.CHANGEFEATURE,t))}hasFeature(e){let t=e.getId();return void 0!==t?t in this.idIndex_:(0,v.getUid)(e) in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,b.isEmpty)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,r){let i=this.loadedExtentsRtree_,n=this.strategy_(e,t,r);for(let e=0,s=n.length;e<s;++e){let s=n[e];i.forEachInExtent(s,function(e){return(0,m.containsExtent)(e.extent,s)})||(++this.loadingExtentsCount_,this.dispatchEvent(new _(d.default.FEATURESLOADSTART)),this.loader_.call(this,s,t,r,e=>{--this.loadingExtentsCount_,this.dispatchEvent(new _(d.default.FEATURESLOADEND,void 0,e))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new _(d.default.FEATURESLOADERROR))}),i.insert(s,{extent:s.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){let t;let r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(r){if((0,m.equals)(r.extent,e))return t=r,!0}),t&&r.remove(t)}removeFeature(e){if(!e)return;let t=(0,v.getUid)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){let t=(0,v.getUid)(e),r=this.featureChangeKeys_[t];if(!r)return;r.forEach(x.unlistenByKey),delete this.featureChangeKeys_[t];let i=e.getId();return void 0!==i&&delete this.idIndex_[i.toString()],delete this.uidIndex_[t],this.dispatchEvent(new _(d.default.REMOVEFEATURE,e)),e}removeFromIdIndex_(e){let t=!1;for(let r in this.idIndex_){let i=this.idIndex_[r];if(e instanceof h.default&&Array.isArray(i)&&i.includes(e))i.splice(i.indexOf(e),1);else if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}}return t}setLoader(e){this.loader_=e}setUrl(e){(0,g.assert)(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader((0,E.xhr)(e,this.format_))}}var O=S}),a("bXE6B",function(r,i){t(r.exports,"default",()=>A),s("eXEIX");var n=s("j2K3b"),a=s("hvEnP"),o=s("cgPpQ"),l=s("iGyOD"),u=s("20LS2"),h=s("7qsnY"),c=s("8WefF"),d=s("3VGVQ"),p=s("l9IGS"),f=s("2zf1Y"),g=s("d5AAH"),m=s("4lFOe"),y=s("lqNjm"),v=s("aUPR1"),b=s("h1ihb"),x=s("8SYbd"),E=s("jPVWI"),_=s("hThUZ"),S=s("cHblF");s("cWXYt");var O=s("hwcfb");class R extends d.default{constructor(e){super(e=e||{});var t=this;this.set("type","Statistique"),this.set("sort",!1!==e.sort),this.vectorSource=e.source||new u.default,this.typeGeom=e.typeGeom||{};var r=this.vectorSource.clear;this.vectorSource.clear=function(){t.typeGeom={},r.call(this)},this.vectorSource.on("addfeature",e=>{this.typeGeom[e.feature.getGeometry().getType()]=!0}),this.vectorSource.on("addfeature",e=>{e.feature._layer=this}),this.vectorSource.getFeatures().forEach(e=>{e._layer=this,this.typeGeom[e.getGeometry().getType()]=!0}),this.vectorSource.on("removefeature",(function(e){delete e.feature._layer}).bind(this)),this.layerStat=new h.default({source:this.vectorSource,displayInLayerSwitcher:!1}),this.layerStat.selectable=()=>this.selectable(),this.layerHeat=new c.default({source:this.vectorSource,visible:!1,displayInLayerSwitcher:!1,radius:5,blur:15}),this.getLayers().push(this.layerStat),this.getLayers().push(this.layerHeat),["layerStat","layerHeat"].forEach(e=>{let t=this[e];t.on(["filter","change:visible"],()=>{setTimeout(()=>{if(this._mcFilter&&t.getVisible()){let e=document.body.querySelector(".ol-viewport .ol-layers ."+t.getClassName());if(e){let t=[],r=[];this._mcFilter.get("filter")&&t.push(this._mcFilter.get("filter")),this._mcFilter.get("blend")&&r.push(this._mcFilter.get("blend")),e.style.filter=t.join(" "),e.style.mixBlendMode=r.join(" ")}}})}),this.on("change:visible",()=>t.dispatchEvent("filter"))}),this.defaultStyle={fill:new f.default({color:"rgba(255,255,255,0.4)"}),stroke:new g.default({color:"#3399CC",width:1.25}),whiteStroke:new g.default({color:"#fff",width:1.25})},this.defaultStyle.style=new p.default({image:new m.default({fill:this.defaultStyle.fill,stroke:this.defaultStyle.stroke,radius:5}),fill:this.defaultStyle.fill,stroke:this.defaultStyle.stroke}),this.defaultStyle.area=new p.default({fill:this.defaultStyle.fill,stroke:this.defaultStyle.stroke})}}R.prototype.getPopupContent=function(e){return e?e.getPopupContent(this._popupContent||{}):this._popupContent||{}},R.prototype.setPopupContent=function(e){!e||e instanceof Array?this._popupContent={}:this._popupContent=e},R.prototype.getSource=function(){return this.vectorSource},R.prototype.setSource=function(e,t){this.vectorSource=e||new u.default,this.typeGeom=t||{};var r=this.vectorSource.clear;this.vectorSource.clear=(function(){this.typeGeom={},r.call(this)}).bind(this),this.vectorSource.on("addfeature",e=>{this.typeGeom[e.feature.getGeometry().getType()]=!0}),this.vectorSource.on("addfeature",e=>{e.feature._layer=this}),this.vectorSource.getFeatures().forEach(e=>{e._layer=this,this.typeGeom[e.getGeometry().getType()]=!0}),this.vectorSource.on("removefeature",(function(e){delete e.feature._layer}).bind(this)),this.layerStat.setSource(this.vectorSource),this.layerHeat.setSource(this.vectorSource)},R.prototype.setComposite=function(e){this.setBlendMode(e?"multiply":void 0)},R.prototype.isGeom=function(e){switch(e){case"Point":return this.typeGeom.Point||this.typeGeom.MultiPoint;case"Polygon":return this.typeGeom.Polygon||this.typeGeom.MultiPolygon;case"Line":return this.typeGeom.LineString||this.typeGeom.MultiLineString;default:return!1}},R.prototype._getStyle=function(e){e||(e=this.stat);var t=this;function r(e){var t=e._interiorPoint;return t||(t=(0,_.default)(e.getGeometry()),e._interiorPoint=t),t}e||(e={});var i={},n=this.isGeom("Polygon"),s=this.isGeom("Point"),a=this.isGeom("Line");return function(o){if(!e.color&&!e.colors)return[t.defaultStyle.style];var l,u,h,c,d,x,E,_=e.cols[0];switch(e.typeMap){case"sectoriel":if(!(l=o._stat?e.radius(o._stat.sum):void 0))return[t.defaultStyle.style];return(u=i[l+"-"+o._stat.data.join("-")])||(u=[],e.stroke&&(x=new g.default({color:!0===e.stroke?"#3399CC":e.stroke,width:1.25}),u.push(new p.default({stroke:x}))),u.push(new p.default({image:new v.default({type:e.chartType,radius:l,data:o._stat.data||[],colors:e.colors,stroke:new g.default({color:"neon"==e.colors?"#000":"#fff",width:2})}),geometry:r(o)}))),u;case"symbol":{h=parseFloat(o.get(_)),(c=e.color(h).rgb()).push(e.alpha);let v=(a?"symboline-":"symbol-")+c+"-"+(l=e.radius(h).toFixed(2))+(e.stroke?"-1":"-0");return(u=i[v])||(l=e.radius(h),n||s?(d=new f.default({color:c}),x=null,u=i[v]=[],e.stroke&&(x=new g.default({color:!0===e.stroke?"#3399CC":e.stroke,width:1.25}),u.push(new p.default({stroke:x}))),e.symbol&&"ign-form-rond"!=e.symbol?(x=t.defaultStyle.whiteStroke,E=new b.default({glyph:e.symbol,fill:d,stroke:x,radius:l}),o.setIgnStyle({pointRadius:l,pointGlyph:e.symbol,pointColor:x?(0,y.asString)(x.getColor()):null,symbolColor:d?(0,y.asString)(d.getColor()):"rgba(0,0,0,0)"})):E=new m.default({fill:d,stroke:x,radius:l}),u.push(new p.default({image:E,zIndex:e.rmax-l,geometry:r}))):u=a?i[v]=[new p.default({stroke:new g.default({width:l,color:c,zIndex:e.rmax-l})})]:i[v]=[t.defaultStyle.style]),u}default:{h="categorie"===e.typeMap?o.get(_):parseFloat(o.get(_));let r=(a?"line-":"")+(c=e.color(h).rgb()).join("-")+(e.stroke?"-1":"-0");return(u=i[r])||(n||s?(d=new f.default({color:c}),x=e.stroke?new g.default({color:!0===e.stroke?"#3399CC":e.stroke,width:1.25}):void 0,u=i[r]=[new p.default({image:new m.default({fill:d,stroke:x,radius:5}),fill:d,stroke:x})]):u=a?i[r]=[new p.default({stroke:new g.default({color:c,width:3})})]:[t.defaultStyle.style]),u}}}},R.prototype.getStatistic=function(){return this._cloneStatistic(this.stat)},R.prototype._cloneStatistic=function(e){e=e||{};let t=this.stat||{};return{typeMap:e.typeMap||t.typeMap||"choroplethe",cols:(e.cols||t.cols||[]).slice(),mode:e.mode||t.mode||"q",nbClass:e.nbClass||t.nbClass||5,symbol:e.symbol||t.symbol||"",rmin:e.rmin||t.rmin||3,rmax:e.rmax||t.rmax||20,rProp:e.rProp||t.rProp||"length",stroke:void 0===e.stroke?void 0===t.stroke||t.stroke:e.stroke,limits:(e.limits||t.limits||[]).slice(),alpha:e.alpha||t.alpha||1,chartType:e.chartType||t.chartType||"pie",hradius:e.hradius||t.hradius||5,hblur:e.hblur||t.hblur||15,brewerColors:(e.brewerColors||t.brewerColors||[]).slice()}},R.prototype.setStatistic=function(t,r){if(r){this.dispatchEvent({type:"stat:start"}),setTimeout(()=>this.setStatistic(t),r);return}if(this.stat=t=this._cloneStatistic(t),this.layerHeat.setVisible("heatmap"===t.typeMap),this.layerStat.setVisible("heatmap"!==t.typeMap),"heatmap"===t.typeMap&&!this.typeGeom.Point)return this.dispatchEvent({type:"stat:end",error:!0,status:"HEATPTS",statusText:"Une heatmap nécessite une couche contenant des points..."}),!1;let i=t.min=1/0,n=t.max=-1/0;t.values={att:t.cols[0],length:0,val:{}};let s=this.vectorSource.getFeatures();switch(t.typeMap){case"categorie":if(t.cols.length){var a,o,l,u,h=t.cols[0];if(-1!=h){l={},s.forEach(e=>{l[e.get(h)]=!0});var c=Object.keys(l),d=c.length;if(this.get("sort"))for(c.sort((e,t)=>(/^-?\d+$/.test(e)&&(e=parseInt(e)),/^-?\d+$/.test(t)&&(t=parseInt(t)),e<t?-1:e>t?1:0)),l={},o=0;o<d;o++)l[c[o]]=o;t.values={att:h,length:d,val:l}}}t.limits=[];break;case"sectoriel":var p=t.cols;for(a=0;a<s.length;a++){var f=[],g=0;for(o=0;o<p.length;o++){var m=Number(s[a].get(p[o]));g+=m,f.push(m)}n=Math.max(n,g),i=Math.min(i,g),s[a]._stat={data:f,sum:g}}t.limits=[];break;default:for(a=0,l=[];a<s.length;a++){var y=s[a].get(t.cols[0]);y&&!isNaN(u=parseFloat(y))&&(l.push(u),s[a]._stat={},t.max=n=Math.max(n,u),t.min=i=Math.min(i,u))}"c"===t.mode?t.limits||(t.limits=this.limits(t,l)):(/^(q|l|k|e)/.test(t.mode)||(t.mode="q"),t.limits=this.limits(t,l))}if(t.min=i,t.max=n,this._values=l,this.stat.values.length>110)return this.dispatchEvent({type:"stat:end",error:!0,status:"MAXVAL",statusText:"Trop de valeur différentes pour calculer une statistique."}),!1;switch(t.typeMap){case"sectoriel":t.colors=t.brewerColors;break;case"categorie":{let r=t.brewerColors;t.values.length?t.color=function(i){return e(x)(r[t.values.val[i]]||"#aaa")}:t.color=function(){return e(x)("#ccc")};break}default:if(t.limits&&t.limits.length){let r=t.brewerColors;t.color=e(x).scale(r).classes(t.limits)}else t.color=function(){return e(x)("#ccc")}}switch(this.vectorSource.changed(),t.typeMap){case"heatmap":for(this.layerHeat.setBlur(t.hblur),this.layerHeat.setRadius(t.hradius),a=0;a<s.length;a++)u=Number(s[a].get(t.cols[0])),i<0?s[a].set("weight",(u-i)/(n-i)):s[a].set("weight",u/n);break;case"sectoriel":var v=Math.sqrt(i),b=Math.sqrt(n);t.rmin<0?t.radius=function(e){let r;return(r="area"===t.rProp?Math.sqrt(e*t.rmax*t.rmax/n):t.rmax*e/n)>0?r:0}:t.radius=function(e){return t.rmin+(Math.sqrt(e)-v)/(b-v)*(t.rmax-t.rmin)};break;case"categorie":t.radius=function(){return 5};break;default:t.rmin<0?t.radius=function(e){let r;return(r="area"===t.rProp?Math.sqrt(e*t.rmax*t.rmax/n):t.rmax*e/n)>0?r:0}:t.radius=function(e){for(var r=t.limits.length,i=1;i<r&&!(e<t.limits[i]);i++);return t.rmin+i*(t.rmax-t.rmin)/r}}if("heatmap"!==t.typeMap){var E=this._getStyle(t);this.layerStat.getSource().setStyle?this.layerStat.getSource().setStyle(E):this.layerStat.setStyle(E)}return this.dispatchEvent({type:"stat:end",error:!1,stat:this.getStatistic()}),!0},R.prototype.getStatLegend=function(){let e;let t=[],r=this.stat,i=this._getStyle();switch(r.typeMap){case"choroplethe":case"symbol":if(r.cols[0]<0)break;for(let s=r.limits.length-1;s>0;s--)(e=new l.default(this.isGeom("Polygon")||this.isGeom("Point")||!this.isGeom("Line")?"symbol"==r.typeMap?new n.default([0,0]):new o.default([[[0,0],[0,0],[0,0],[0,0],[0,0]]]):new a.default([[0,0],[0,0]]))).set(r.cols[0],(r.limits[s-1]+r.limits[s])/2),e.setStyle(i(e)),t.push({title:parseFloat(r.limits[s-1].toFixed(2))+" - "+parseFloat(r.limits[s].toFixed(2)),feature:e});break;case"categorie":this.getValues().forEach(s=>{(e=new l.default(this.isGeom("Polygon")||this.isGeom("Point")||!this.isGeom("Line")?"symbol"==r.typeMap?new n.default([0,0]):new o.default([[[0,0],[0,0],[0,0],[0,0],[0,0]]]):new a.default([[0,0],[0,0]]))).set(r.cols[0],s),e.setStyle(i(e)),t.push({title:s,feature:e})});break;case"sectoriel":var s=r.colors;r.cols.forEach((r,i)=>{(e=new l.default(new o.default([[[0,0],[0,0],[0,0],[0,0],[0,0]]]))).setStyle(new p.default({stroke:this.defaultStyle.stroke,fill:new f.default({color:s[i]})})),t.unshift({title:r,feature:e})})}return t},R.prototype.getVectorStyle=function(e){let t=this.getStatistic();if("heatmap"===t.typeMap||"sectoriel"===t.typeMap)return!1;let r=new u.default,i=this.getSource().getFeatures(),n=this.getLayers().item(0).getStyleFunction(),s=[];if(e){let e=t.cols[0],r=this.getStatLegend().reverse();switch(r.forEach(e=>{e.feature.setIgnStyle((0,O.default)(e.feature))}),t.typeMap){case"categorie":case"choroplethe":case"symbol":r.forEach((i,n)=>{let a;a="categorie"===t.typeMap?[{attr:e,op:"=",val:i.title}]:n<r.length-1?[{attr:e,op:"<",val:t.limits[n+1]}]:[{attr:"",op:"=",val:""}],s.push({title:i.title,condition:{all:!0,conditions:a},symbol:new S.default(i)})})}}e=s.length>0,i.forEach(i=>{let s=n(i),a={};if("symbol"===t.typeMap){if(!/LineString/.test(i.getGeometry().getType())){let e=(0,_.default)(i.getGeometry());e!==i.getGeometry()&&(i=i.clone()).setGeometry(e)}let e=s[s.length-1];e.getImage()?(a.symbolColor=(0,y.asString)(e.getImage().getFill().getColor()),a.pointRadius=Math.round(10*(e.getImage().getRadius()||0))/10):(a.strokeColor=(0,y.asString)(s[0].getStroke().getColor()),a.strokeWidth=s[0].getStroke().getWidth())}else s[0].getFill()&&(a.fillColor=(0,y.asString)(s[0].getFill().getColor())),s[0].getStroke()?(a.strokeColor=(0,y.asString)(s[0].getStroke().getColor()),a.strokeWidth=s[0].getStroke().getWidth()):a.strokeColor="rgba(255,255,255,0)";e||i.setIgnStyle(a),r.addFeature(i)});let a=new E.default({id:this.get("id"),title:this.get("title"),description:this.get("description"),minZoom:this.getMinZoom(),maxZoom:this.getMaxZoom(),source:r});return a.set("type","Vector"),a.setPopupContent(this.getPopupContent()),a._legend=this._legend,a.setMode("image"),this.getSource().getAttributions()&&a.getSource().setAttributions(this.getSource().getAttributions()()),this.get("grayscale")&&a.grayscale(!0),this.get("blendMode")&&a.setBlendMode(this.get("blendMode")),a.setIgnStyle("strokeColor",!0===t.stroke?"#fff":t.stroke),a.setIgnStyle("pointStrokeColor",!0===t.stroke?"#fff":t.stroke),a.setIgnStyle("pointGlyph",t.symbol||"ign-form-rond"),a.setIgnStyle("strokeWidth",t.stroke?1.25:0),a.setIgnStyle("pointStrokeWidth",t.stroke?1.25:0),a.setConditionStyle(s),a},R.prototype.getValues=function(){switch(this.stat.typeMap){case"categorie":return Object.keys(this._values||{});case"heatmap":return;default:return this._values}},R.prototype.getLimits=function(){return this.stat.limits},R.prototype.getMode=function(){return this.stat.mode},R.prototype.addFilter=function(e){(0,d.default).prototype.addFilter.call(this,e),["layerStat","layerHeat"].forEach(t=>{this[t].addFilter(e),this[t].dispatchEvent({type:"filter"})})},R.prototype.removeFilter=function(e){(0,d.default).prototype.removeFilter.call(this,e),["layerStat","layerHeat"].forEach(t=>{this[t].removeFilter(e),this[t].dispatchEvent({type:"filter"})})},R.type=["choroplethe","categorie","symbol","sectoriel","heatmap"],R.typeString={choroplethe:"choroplèthe",categorie:"catégorie",symbol:"symbole",sectoriel:"sectoriel",heatmap:"carte de chaleur"},R.paramList={typeMap:["choroplethe","categorie","symbol","sectoriel","heatmap"],cols:["choroplethe","categorie","symbol","sectoriel","heatmap"],mode:["choroplethe","categorie","symbol","sectoriel"],nbClass:["choroplethe","symbol"],symbol:["symbol"],rmin:["symbol","sectoriel"],rmax:["symbol","sectoriel"],stroke:["choroplethe","categorie","symbol","sectoriel"],limits:["choroplethe","symbol"],alpha:["symbol"],chartType:["sectoriel"],hradius:["heatmap"],hblur:["heatmap"],brewerColors:["choroplethe","categorie","symbol","sectoriel"]},R.mode={q:"Quantiles",e:"Equidistance",l:"Logarithmique",k:"Clusters",c:"Manuelle"},R.prototype.selectable=function(e){return(!this.stat||"heatmap"!==this.stat.typeMap)&&(!0===e?this.set("selectable",!0):!1===e&&this.set("selectable",!1),!1!==this.get("selectable"))},R.prototype.limits=function(e,t){var r,i,n,s,a,o,l,u,h,c,d,p,f,g,m,y,v,b,x,E,_,S,O,R,A,w,C,T,L,P,I,M,N,G,k,D,F,q,j,U,H,B,Z,z,V,Y,W,X,K,J,$,Q,ee,et,er=e.mode||"q",ei=e.nbClass||5,en=e.min,es=e.max;if(ee=t.sort(function(e,t){return e-t}),1===ei)return[en,es];if(O=[],"c"===er.substr(0,1)&&(O.push(en),O.push(es)),"e"===er.substr(0,1)){for(O.push(en),E=P=1,G=ei-1;1<=G?P<=G:P>=G;E=1<=G?++P:--P)O.push(en+E/ei*(es-en));O.push(es)}else if("l"===er.substr(0,1)){if(en<=0)throw"Logarithmic scales are only possible for values > 0";for(A=Math.LOG10E*Math.log(en),R=Math.LOG10E*Math.log(es),O.push(en),E=et=1,k=ei-1;1<=k?et<=k:et>=k;E=1<=k?++et:--et)O.push(Math.pow(10,A+E/ei*(R-A)));O.push(es)}else if("q"===er.substr(0,1)){for(O.push(en),E=r=1,H=ei-1;1<=H?r<=H:r>=H;E=1<=H?++r:--r)(M=Math.floor(I=(ee.length-1)*E/ei))===I?O.push(ee[M]):(N=I-M,O.push(ee[M]*(1-N)+ee[M+1]*N));O.push(es)}else if("k"===er.substr(0,1)){for(g=Array(C=ee.length),b=Array(ei),K=!0,T=0,y=null,(y=[]).push(en),E=i=1,B=ei-1;1<=B?i<=B:i>=B;E=1<=B?++i:--i)y.push(en+E/ei*(es-en));for(y.push(es);K;){for(_=n=0,Z=ei-1;0<=Z?n<=Z:n>=Z;_=0<=Z?++n:--n)b[_]=0;for(E=s=0,z=C-1;0<=z?s<=z:s>=z;E=0<=z?++s:--s){for(Q=ee[E],w=Number.MAX_VALUE,_=a=0,V=ei-1;0<=V?a<=V:a>=V;_=0<=V?++a:--a)(x=Math.abs(y[_]-Q))<w&&(w=x,m=_);b[m]++,g[E]=m}for(L=Array(ei),_=o=0,Y=ei-1;0<=Y?o<=Y:o>=Y;_=0<=Y?++o:--o)L[_]=null;for(E=l=0,W=C-1;0<=W?l<=W:l>=W;E=0<=W?++l:--l)null===L[v=g[E]]?L[v]=ee[E]:L[v]+=ee[E];for(_=u=0,X=ei-1;0<=X?u<=X:u>=X;_=0<=X?++u:--u)L[_]*=1/b[_];for(K=!1,_=h=0,D=ei-1;0<=D?h<=D:h>=D;_=0<=D?++h:--h)if(L[_]!==y[E]){K=!0;break}y=L,++T>200&&(K=!1)}for(S={},_=c=0,F=ei-1;0<=F?c<=F:c>=F;_=0<=F?++c:--c)S[_]=[];for(E=d=0,q=C-1;0<=q?d<=q:d>=q;E=0<=q?++d:--d)S[v=g[E]].push(ee[E]);for(J=[],_=p=0,j=ei-1;0<=j?p<=j:p>=j;_=0<=j?++p:--p)J.push(S[_][0]),J.push(S[_][S[_].length-1]);for(J=J.sort(function(e,t){return e-t}),O.push(J[0]),E=f=1,U=J.length-1;f<=U;E=f+=2)isNaN($=J[E])||-1!==O.indexOf($)||O.push($)}return O};var A=R}),a("aUPR1",function(e,r){t(e.exports,"default",()=>l);var i=s("h6Aha"),n=s("2zf1Y"),a=s("lqNjm"),o=class extends i.default{constructor(e){var t=e||{},r=0;e.stroke&&(r=e.stroke.getWidth()),super({radius:t.radius+r,fill:new n.default({color:[0,0,0]}),rotation:t.rotation,displacement:t.displacement,snapToPixel:t.snapToPixel,declutterMode:t.declutterMode}),this.setScale(t.scale||1),this._stroke=t.stroke,this._radius=t.radius||20,this._donutratio=t.donutRatio||.5,this._type=t.type,this._offset=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],this._animation="number"==typeof t.animation?{animate:!0,step:t.animation}:this._animation={animate:!1,step:1},this._max=t.max,this._data=t.data,t.colors instanceof Array?this._colors=t.colors:(this._colors=o.colors[t.colors],this._colors||(this._colors=o.colors.classic)),this.renderChart_()}clone(){var e=new o({type:this._type,radius:this._radius,rotation:this.getRotation(),scale:this.getScale(),data:this.getData(),snapToPixel:!!this.getSnapToPixel&&this.getSnapToPixel(),stroke:this._stroke,colors:this._colors,offsetX:this._offset[0],offsetY:this._offset[1],animation:this._animation,declutterMode:this.getDeclutterMode?this.getDeclutterMode():null});return e.setScale(this.getScale()),e.setOpacity(this.getOpacity()),e}getData(){return this._data}setData(e){this._data=e,this.renderChart_()}getRadius(){return this._radius}setRadius(e,t){this._radius=e,this.donuratio_=t||this.donuratio_,this.renderChart_()}setAnimation(e){if(!1===e){if(!1==this._animation.animate)return;this._animation.animate=!1}else{if(this._animation.step==e)return;this._animation.animate=!0,this._animation.step=e}this.renderChart_()}renderChart_(e){if(!e){this.getPixelRatio?(e=window.devicePixelRatio,this.renderChart_(e),this.getPixelRatio&&1!==e&&this.renderChart_(1)):this.renderChart_(1);return}var t=0;this._stroke&&(o=(0,a.asString)(this._stroke.getColor()),t=this._stroke.getWidth());var r=this.getImage(e),i=r.getContext("2d");i.save(),i.setTransform(e,0,0,e,0,0),i.clearRect(0,0,r.width,r.height),i.lineJoin="round";var n=0;for(l=0;l<this._data.length;l++)n+=this._data[l];i.translate(0,0);var s=this._animation.animate?this._animation.step:1;switch(this._type){case"donut":case"pie3D":case"pie":var o,l,u,h,c=Math.PI*(s-1.5);for(u=r.width/2/e,i.strokeStyle=o,i.lineWidth=t,i.save(),"pie3D"==this._type&&(i.translate(0,.3*u),i.scale(1,.7),i.beginPath(),i.fillStyle="#369",i.arc(u,1.4*u,this._radius*s,0,2*Math.PI),i.fill(),i.stroke()),"donut"==this._type&&(i.save(),i.beginPath(),i.rect(0,0,2*u,2*u),i.arc(u,u,this._radius*s*this._donutratio,0,2*Math.PI),i.clip("evenodd")),l=0;l<this._data.length;l++)i.beginPath(),i.moveTo(u,u),i.fillStyle=this._colors[l%this._colors.length],h=c+2*Math.PI*this._data[l]/n*s,i.arc(u,u,this._radius*s,c,h),i.closePath(),i.fill(),i.stroke(),c=h;"donut"==this._type&&(i.restore(),i.beginPath(),i.strokeStyle=o,i.lineWidth=t,i.arc(u,u,this._radius*s*this._donutratio,Math.PI*(s-1.5),c),i.stroke()),i.restore();break;default:var d=0;if(this._max)d=this._max;else for(l=0;l<this._data.length;l++)d<this._data[l]&&(d=this._data[l]);var p=Math.min(5,2*this._radius/this._data.length);u=r.width/2/e;var f,g=r.width/e-t,m=u-this._data.length*p/2;for(l=0,i.strokeStyle=o,i.lineWidth=t;l<this._data.length;l++){i.beginPath(),i.fillStyle=this._colors[l%this._colors.length],f=m+p;var y=this._data[l]/d*2*this._radius*s;i.rect(m,g-y,p,y),i.closePath(),i.fill(),i.stroke(),m=f}}if(i.restore(),!this.setDisplacement){var v=this.getAnchor();v[0]=u-this._offset[0],v[1]=u-this._offset[1]}}};o.colors={classic:["#ffa500","blue","red","green","cyan","magenta","yellow","#0f0"],dark:["#960","#003","#900","#060","#099","#909","#990","#090"],pale:["#fd0","#369","#f64","#3b7","#880","#b5d","#666"],pastel:["#fb4","#79c","#f66","#7d7","#acc","#fdd","#ff9","#b9b"],neon:["#ff0","#0ff","#0f0","#f0f","#f00","#00f"]};var l=o}),a("8SYbd",function(e,t){e.exports,e.exports=function(){for(var e=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e<t?t:e>r?r:e},t={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var n=i[r];t["[object "+n+"]"]=n.toLowerCase()}var s=function(e){return t[Object.prototype.toString.call(e)]||"object"},a=Math.PI,o={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var r=0;r<=3;r++)r<3?((t[r]<0||t[r]>255)&&(t._clipped=!0),t[r]=e(t[r],0,255)):3===r&&(t[r]=e(t[r],0,1));return t},limit:e,type:s,unpack:function(e,t){return(void 0===t&&(t=null),e.length>=3)?Array.prototype.slice.call(e):"object"==s(e[0])&&t?t.split("").filter(function(t){return void 0!==e[0][t]}).map(function(t){return e[0][t]}):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==s(e[t])?e[t].toLowerCase():null},TWOPI:2*a,PITHIRD:a/3,DEG2RAD:a/180,RAD2DEG:180/a},l={format:{},autodetect:[]},u=o.last,h=o.clip_rgb,c=o.type,d=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===c(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=u(e),i=!1;if(!r){i=!0,l.sorted||(l.autodetect=l.autodetect.sort(function(e,t){return t.p-e.p}),l.sorted=!0);for(var n=0,s=l.autodetect;n<s.length;n+=1){var a=s[n];if(r=a.test.apply(a,e))break}}if(l.format[r]){var o=l.format[r].apply(null,i?e:e.slice(0,-1));this._rgb=h(o)}else throw Error("unknown format: "+e);3===this._rgb.length&&this._rgb.push(1)};d.prototype.toString=function(){return"function"==c(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var p=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p.Color,[null].concat(e)))};p.Color=d,p.version="2.4.2";var f=o.unpack,g=Math.max,m=o.unpack,y=o.unpack,v=o.type,b=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=f(e,"rgb"),i=r[0],n=r[1],s=r[2],a=1-g(i/=255,g(n/=255,s/=255)),o=a<1?1/(1-a):0;return[(1-i-a)*o,(1-n-a)*o,(1-s-a)*o,a]};d.prototype.cmyk=function(){return b(this._rgb)},p.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["cmyk"])))},l.format.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=m(e,"cmyk"))[0],i=e[1],n=e[2],s=e[3],a=e.length>4?e[4]:1;return 1===s?[0,0,0,a]:[r>=1?0:255*(1-r)*(1-s),i>=1?0:255*(1-i)*(1-s),n>=1?0:255*(1-n)*(1-s),a]},l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===v(e=y(e,"cmyk"))&&4===e.length)return"cmyk"}});var x=o.unpack,E=o.last,_=function(e){return Math.round(100*e)/100},S=o.unpack,O=function(){for(var e,t,r=[],i=arguments.length;i--;)r[i]=arguments[i];var n=(r=S(r,"rgba"))[0],s=r[1],a=r[2],o=Math.min(n/=255,s/=255,a/=255),l=Math.max(n,s,a),u=(l+o)/2;return(l===o?(e=0,t=Number.NaN):e=u<.5?(l-o)/(l+o):(l-o)/(2-l-o),n==l?t=(s-a)/(l-o):s==l?t=2+(a-n)/(l-o):a==l&&(t=4+(n-s)/(l-o)),(t*=60)<0&&(t+=360),r.length>3&&void 0!==r[3])?[t,e,u,r[3]]:[t,e,u]},R=o.unpack,A=o.last,w=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=x(e,"hsla"),i=E(e)||"lsa";return r[0]=_(r[0]||0),r[1]=_(100*r[1])+"%",r[2]=_(100*r[2])+"%","hsla"===i||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,i="hsla"):r.length=3,i+"("+r.join(",")+")"},C=Math.round,T=o.unpack,L=Math.round,P=function(){for(var e,t,r,i,n=[],s=arguments.length;s--;)n[s]=arguments[s];var a=(n=T(n,"hsl"))[0],o=n[1],l=n[2];if(0===o)t=r=i=255*l;else{var u=[0,0,0],h=[0,0,0],c=l<.5?l*(1+o):l+o-l*o,d=2*l-c,p=a/360;u[0]=p+1/3,u[1]=p,u[2]=p-1/3;for(var f=0;f<3;f++)u[f]<0&&(u[f]+=1),u[f]>1&&(u[f]-=1),6*u[f]<1?h[f]=d+(c-d)*6*u[f]:2*u[f]<1?h[f]=c:3*u[f]<2?h[f]=d+(c-d)*(2/3-u[f])*6:h[f]=d;t=(e=[L(255*h[0]),L(255*h[1]),L(255*h[2])])[0],r=e[1],i=e[2]}return n.length>3?[t,r,i,n[3]]:[t,r,i,1]},I=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,M=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,N=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,G=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,k=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,D=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,F=Math.round,q=function(e){if(e=e.toLowerCase().trim(),l.format.named)try{return l.format.named(e)}catch(e){}if(t=e.match(I)){for(var t,r=t.slice(1,4),i=0;i<3;i++)r[i]=+r[i];return r[3]=1,r}if(t=e.match(M)){for(var n=t.slice(1,5),s=0;s<4;s++)n[s]=+n[s];return n}if(t=e.match(N)){for(var a=t.slice(1,4),o=0;o<3;o++)a[o]=F(2.55*a[o]);return a[3]=1,a}if(t=e.match(G)){for(var u=t.slice(1,5),h=0;h<3;h++)u[h]=F(2.55*u[h]);return u[3]=+u[3],u}if(t=e.match(k)){var c=t.slice(1,4);c[1]*=.01,c[2]*=.01;var d=P(c);return d[3]=1,d}if(t=e.match(D)){var p=t.slice(1,4);p[1]*=.01,p[2]*=.01;var f=P(p);return f[3]=+t[4],f}};q.test=function(e){return I.test(e)||M.test(e)||N.test(e)||G.test(e)||k.test(e)||D.test(e)};var j=o.type,U=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=R(e,"rgba"),i=A(e)||"rgb";return"hsl"==i.substr(0,3)?w(O(r),i):(r[0]=C(r[0]),r[1]=C(r[1]),r[2]=C(r[2]),("rgba"===i||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,i="rgba"),i+"("+r.slice(0,"rgb"===i?3:4).join(",")+")")};d.prototype.css=function(e){return U(this._rgb,e)},p.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["css"])))},l.format.css=q,l.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===j(e)&&q.test(e))return"css"}});var H=o.unpack;l.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=H(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},p.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["gl"])))},d.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var B=o.unpack,Z=o.unpack,z=Math.floor,V=o.unpack,Y=o.type,W=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var i=B(t,"rgb"),n=i[0],s=i[1],a=i[2],o=Math.min(n,s,a),l=Math.max(n,s,a),u=l-o;return 0===u?e=Number.NaN:(n===l&&(e=(s-a)/u),s===l&&(e=2+(a-n)/u),a===l&&(e=4+(n-s)/u),(e*=60)<0&&(e+=360)),[e,100*u/255,o/(255-u)*100]};d.prototype.hcg=function(){return W(this._rgb)},p.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcg"])))},l.format.hcg=function(){for(var e,t,r,i,n,s,a,o,l,u=[],h=arguments.length;h--;)u[h]=arguments[h];var c=(u=Z(u,"hcg"))[0],d=u[1],p=u[2];p*=255;var f=255*d;if(0===d)a=o=l=p;else{360===c&&(c=0),c>360&&(c-=360),c<0&&(c+=360);var g=z(c/=60),m=c-g,y=p*(1-d),v=y+f*(1-m),b=y+f*m,x=y+f;switch(g){case 0:a=(e=[x,b,y])[0],o=e[1],l=e[2];break;case 1:a=(t=[v,x,y])[0],o=t[1],l=t[2];break;case 2:a=(r=[y,x,b])[0],o=r[1],l=r[2];break;case 3:a=(i=[y,v,x])[0],o=i[1],l=i[2];break;case 4:a=(n=[b,y,x])[0],o=n[1],l=n[2];break;case 5:a=(s=[x,y,v])[0],o=s[1],l=s[2]}}return[a,o,l,u.length>3?u[3]:1]},l.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===Y(e=V(e,"hcg"))&&3===e.length)return"hcg"}});var X=o.unpack,K=o.last,J=Math.round,$=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=X(e,"rgba"),i=r[0],n=r[1],s=r[2],a=r[3],o=K(e)||"auto";void 0===a&&(a=1),"auto"===o&&(o=a<1?"rgba":"rgb");var l="000000"+((i=J(i))<<16|(n=J(n))<<8|(s=J(s))).toString(16);l=l.substr(l.length-6);var u="0"+J(255*a).toString(16);switch(u=u.substr(u.length-2),o.toLowerCase()){case"rgba":return"#"+l+u;case"argb":return"#"+u+l;default:return"#"+l}},Q=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ee=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,et=function(e){if(e.match(Q)){(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(ee)){(5===e.length||9===e.length)&&(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var r=parseInt(e,16),i=Math.round((255&r)/255*100)/100;return[r>>24&255,r>>16&255,r>>8&255,i]}throw Error("unknown hex color: "+e)},er=o.type;d.prototype.hex=function(e){return $(this._rgb,e)},p.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hex"])))},l.format.hex=et,l.autodetect.push({p:4,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===er(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var ei=o.unpack,en=o.TWOPI,es=Math.min,ea=Math.sqrt,eo=Math.acos,el=o.unpack,eu=o.limit,eh=o.TWOPI,ec=o.PITHIRD,ed=Math.cos,ep=o.unpack,ef=o.type,eg=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];var i=ei(t,"rgb"),n=i[0],s=i[1],a=i[2],o=es(n/=255,s/=255,a/=255),l=(n+s+a)/3,u=l>0?1-o/l:0;return 0===u?e=NaN:(e=eo(e=(n-s+(n-a))/2/ea((n-s)*(n-s)+(n-a)*(s-a))),a>s&&(e=en-e),e/=en),[360*e,u,l]};d.prototype.hsi=function(){return eg(this._rgb)},p.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsi"])))},l.format.hsi=function(){for(var e,t,r,i=[],n=arguments.length;n--;)i[n]=arguments[n];var s=(i=el(i,"hsi"))[0],a=i[1],o=i[2];return isNaN(s)&&(s=0),isNaN(a)&&(a=0),s>360&&(s-=360),s<0&&(s+=360),(s/=360)<1/3?t=1-((r=(1-a)/3)+(e=(1+a*ed(eh*s)/ed(ec-eh*s))/3)):s<2/3?(s-=1/3,r=1-((e=(1-a)/3)+(t=(1+a*ed(eh*s)/ed(ec-eh*s))/3))):(s-=2/3,e=1-((t=(1-a)/3)+(r=(1+a*ed(eh*s)/ed(ec-eh*s))/3))),[255*(e=eu(o*e*3)),255*(t=eu(o*t*3)),255*(r=eu(o*r*3)),i.length>3?i[3]:1]},l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===ef(e=ep(e,"hsi"))&&3===e.length)return"hsi"}});var em=o.unpack,ey=o.type;d.prototype.hsl=function(){return O(this._rgb)},p.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsl"])))},l.format.hsl=P,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===ey(e=em(e,"hsl"))&&3===e.length)return"hsl"}});var ev=o.unpack,eb=Math.min,ex=Math.max,eE=o.unpack,e_=Math.floor,eS=o.unpack,eO=o.type,eR=function(){for(var e,t,r=[],i=arguments.length;i--;)r[i]=arguments[i];var n=(r=ev(r,"rgb"))[0],s=r[1],a=r[2],o=eb(n,s,a),l=ex(n,s,a),u=l-o;return 0===l?(e=Number.NaN,t=0):(t=u/l,n===l&&(e=(s-a)/u),s===l&&(e=2+(a-n)/u),a===l&&(e=4+(n-s)/u),(e*=60)<0&&(e+=360)),[e,t,l/255]};d.prototype.hsv=function(){return eR(this._rgb)},p.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsv"])))},l.format.hsv=function(){for(var e,t,r,i,n,s,a,o,l,u=[],h=arguments.length;h--;)u[h]=arguments[h];var c=(u=eE(u,"hsv"))[0],d=u[1],p=u[2];if(p*=255,0===d)a=o=l=p;else{360===c&&(c=0),c>360&&(c-=360),c<0&&(c+=360);var f=e_(c/=60),g=c-f,m=p*(1-d),y=p*(1-d*g),v=p*(1-d*(1-g));switch(f){case 0:a=(e=[p,v,m])[0],o=e[1],l=e[2];break;case 1:a=(t=[y,p,m])[0],o=t[1],l=t[2];break;case 2:a=(r=[m,p,v])[0],o=r[1],l=r[2];break;case 3:a=(i=[m,y,p])[0],o=i[1],l=i[2];break;case 4:a=(n=[v,m,p])[0],o=n[1],l=n[2];break;case 5:a=(s=[p,m,y])[0],o=s[1],l=s[2]}}return[a,o,l,u.length>3?u[3]:1]},l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===eO(e=eS(e,"hsv"))&&3===e.length)return"hsv"}});var eA={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},ew=o.unpack,eC=Math.pow,eT=function(e){return(e/=255)<=.04045?e/12.92:eC((e+.055)/1.055,2.4)},eL=function(e){return e>eA.t3?eC(e,1/3):e/eA.t2+eA.t0},eP=function(){for(var e,t,r,i=[],n=arguments.length;n--;)i[n]=arguments[n];var s=ew(i,"rgb"),a=(e=s[0],t=s[1],r=s[2],[eL((.4124564*(e=eT(e))+.3575761*(t=eT(t))+.1804375*(r=eT(r)))/eA.Xn),eL((.2126729*e+.7151522*t+.072175*r)/eA.Yn),eL((.0193339*e+.119192*t+.9503041*r)/eA.Zn)]),o=a[0],l=a[1],u=a[2],h=116*l-16;return[h<0?0:h,500*(o-l),200*(l-u)]},eI=o.unpack,eM=Math.pow,eN=function(e){return 255*(e<=.00304?12.92*e:1.055*eM(e,1/2.4)-.055)},eG=function(e){return e>eA.t1?e*e*e:eA.t2*(e-eA.t0)},ek=function(){for(var e,t,r,i=[],n=arguments.length;n--;)i[n]=arguments[n];var s=(i=eI(i,"lab"))[0],a=i[1],o=i[2];return t=(s+16)/116,e=isNaN(a)?t:t+a/500,r=isNaN(o)?t:t-o/200,t=eA.Yn*eG(t),[eN(3.2404542*(e=eA.Xn*eG(e))-1.5371385*t-.4985314*(r=eA.Zn*eG(r))),eN(-.969266*e+1.8760108*t+.041556*r),eN(.0556434*e-.2040259*t+1.0572252*r),i.length>3?i[3]:1]},eD=o.unpack,eF=o.type;d.prototype.lab=function(){return eP(this._rgb)},p.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["lab"])))},l.format.lab=ek,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===eF(e=eD(e,"lab"))&&3===e.length)return"lab"}});var eq=o.unpack,ej=o.RAD2DEG,eU=Math.sqrt,eH=Math.atan2,eB=Math.round,eZ=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=eq(e,"lab"),i=r[0],n=r[1],s=r[2],a=eU(n*n+s*s),o=(eH(s,n)*ej+360)%360;return 0===eB(1e4*a)&&(o=Number.NaN),[i,a,o]},ez=o.unpack,eV=o.unpack,eY=o.DEG2RAD,eW=Math.sin,eX=Math.cos,eK=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=eV(e,"lch"),i=r[0],n=r[1],s=r[2];return isNaN(s)&&(s=0),[i,eX(s*=eY)*n,eW(s)*n]},eJ=o.unpack,e$=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=eK((e=eJ(e,"lch"))[0],e[1],e[2]),i=ek(r[0],r[1],r[2]);return[i[0],i[1],i[2],e.length>3?e[3]:1]},eQ=o.unpack,e0=o.unpack,e1=o.type,e2=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=ez(e,"rgb"),i=eP(r[0],r[1],r[2]);return eZ(i[0],i[1],i[2])};d.prototype.lch=function(){return e2(this._rgb)},d.prototype.hcl=function(){return e2(this._rgb).reverse()},p.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["lch"])))},p.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcl"])))},l.format.lch=e$,l.format.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=eQ(e,"hcl").reverse();return e$.apply(void 0,r)},["lch","hcl"].forEach(function(e){return l.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if("array"===e1(t=e0(t,e))&&3===t.length)return e}})});var e5={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e3=o.type;d.prototype.name=function(){for(var e=$(this._rgb,"rgb"),t=0,r=Object.keys(e5);t<r.length;t+=1){var i=r[t];if(e5[i]===e)return i.toLowerCase()}return e},l.format.named=function(e){if(e5[e=e.toLowerCase()])return et(e5[e]);throw Error("unknown color name: "+e)},l.autodetect.push({p:5,test:function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(!t.length&&"string"===e3(e)&&e5[e.toLowerCase()])return"named"}});var e4=o.unpack,e6=o.type,e8=o.type,e7=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=e4(e,"rgb");return(r[0]<<16)+(r[1]<<8)+r[2]};d.prototype.num=function(){return e7(this._rgb)},p.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["num"])))},l.format.num=function(e){if("number"==e6(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw Error("unknown num color: "+e)},l.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===e8(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var e9=o.unpack,te=o.type,tt=Math.round;d.prototype.rgb=function(e){return(void 0===e&&(e=!0),!1===e)?this._rgb.slice(0,3):this._rgb.slice(0,3).map(tt)},d.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map(function(t,r){return r<3?!1===e?t:tt(t):t})},p.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["rgb"])))},l.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=e9(e,"rgba");return void 0===r[3]&&(r[3]=1),r},l.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===te(e=e9(e,"rgba"))&&(3===e.length||4===e.length&&"number"==te(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var tr=Math.log,ti=function(e){var t,r,i,n=e/100;return n<66?(t=255,r=n<6?0:-155.25485562709179-.44596950469579133*(r=n-2)+104.49216199393888*tr(r),i=n<20?0:-254.76935184120902+.8274096064007395*(i=n-10)+115.67994401066147*tr(i)):(t=351.97690566805693+.114206453784165*(t=n-55)-40.25366309332127*tr(t),r=325.4494125711974+.07943456536662342*(r=n-50)-28.0852963507957*tr(r),i=255),[t,r,i,1]},tn=o.unpack,ts=Math.round,ta=function(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var i=tn(t,"rgb"),n=i[0],s=i[2],a=1e3,o=4e4;o-a>.4;){var l=ti(e=(o+a)*.5);l[2]/l[0]>=s/n?o=e:a=e}return ts(e)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return ta(this._rgb)},p.temp=p.kelvin=p.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["temp"])))},l.format.temp=l.format.kelvin=l.format.temperature=ti;var to=o.unpack,tl=Math.cbrt,tu=Math.pow,th=Math.sign,tc=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=to(e,"rgb"),i=r[0],n=r[1],s=r[2],a=[td(i/255),td(n/255),td(s/255)],o=a[0],l=a[1],u=a[2],h=tl(.4122214708*o+.5363325363*l+.0514459929*u),c=tl(.2119034982*o+.6806995451*l+.1073969566*u),d=tl(.0883024619*o+.2817188376*l+.6299787005*u);return[.2104542553*h+.793617785*c-.0040720468*d,1.9779984951*h-2.428592205*c+.4505937099*d,.0259040371*h+.7827717662*c-.808675766*d]};function td(e){var t=Math.abs(e);return t<.04045?e/12.92:(th(e)||1)*tu((t+.055)/1.055,2.4)}var tp=o.unpack,tf=Math.pow,tg=Math.sign,tm=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=(e=tp(e,"lab"))[0],i=e[1],n=e[2],s=tf(r+.3963377774*i+.2158037573*n,3),a=tf(r-.1055613458*i-.0638541728*n,3),o=tf(r-.0894841775*i-1.291485548*n,3);return[255*ty(4.0767416621*s-3.3077115913*a+.2309699292*o),255*ty(-1.2684380046*s+2.6097574011*a-.3413193965*o),255*ty(-.0041960863*s-.7034186147*a+1.707614701*o),e.length>3?e[3]:1]};function ty(e){var t=Math.abs(e);return t>.0031308?(tg(e)||1)*(1.055*tf(t,1/2.4)-.055):12.92*e}var tv=o.unpack,tb=o.type;d.prototype.oklab=function(){return tc(this._rgb)},p.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["oklab"])))},l.format.oklab=tm,l.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===tb(e=tv(e,"oklab"))&&3===e.length)return"oklab"}});var tx=o.unpack,tE=o.unpack,t_=o.unpack,tS=o.type,tO=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=tx(e,"rgb"),i=tc(r[0],r[1],r[2]);return eZ(i[0],i[1],i[2])};d.prototype.oklch=function(){return tO(this._rgb)},p.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["oklch"])))},l.format.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=eK((e=tE(e,"lch"))[0],e[1],e[2]),i=tm(r[0],r[1],r[2]);return[i[0],i[1],i[2],e.length>3?e[3]:1]},l.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===tS(e=t_(e,"oklch"))&&3===e.length)return"oklch"}});var tR=o.type;d.prototype.alpha=function(e,t){return(void 0===t&&(t=!1),void 0!==e&&"number"===tR(e))?t?(this._rgb[3]=e,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1},d.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=eA.Kn*e,new d(t,"lab").alpha(this.alpha(),!0)},d.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(e){var t=e.split("."),r=t[0],i=t[1],n=this[r]();if(!i)return n;var s=r.indexOf(i)-("ok"===r.substr(0,2)?2:0);if(s>-1)return n[s];throw Error("unknown channel "+i+" in mode "+r)};var tA=o.type,tw=Math.pow;d.prototype.luminance=function(e){if(void 0!==e&&"number"===tA(e)){if(0===e)return new d([0,0,0,this._rgb[3]],"rgb");if(1===e)return new d([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),r=20,i=function(t,n){var s=t.interpolate(n,.5,"rgb"),a=s.luminance();return!(1e-7>Math.abs(e-a))&&r--?a>e?i(t,s):i(s,n):s},n=(t>e?i(new d([0,0,0]),this):i(this,new d([255,255,255]))).rgb();return new d(n.concat([this._rgb[3]]))}return tC.apply(void 0,this._rgb.slice(0,3))};var tC=function(e,t,r){return .2126*(e=tT(e))+.7152*(t=tT(t))+.0722*(r=tT(r))},tT=function(e){return(e/=255)<=.03928?e/12.92:tw((e+.055)/1.055,2.4)},tL={},tP=o.type,tI=function(e,t,r){void 0===r&&(r=.5);for(var i=[],n=arguments.length-3;n-- >0;)i[n]=arguments[n+3];var s=i[0]||"lrgb";if(tL[s]||i.length||(s=Object.keys(tL)[0]),!tL[s])throw Error("interpolation mode "+s+" is not defined");return"object"!==tP(e)&&(e=new d(e)),"object"!==tP(t)&&(t=new d(t)),tL[s](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};d.prototype.mix=d.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];return tI.apply(void 0,[this,e,t].concat(r))},d.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new d([t[0]*r,t[1]*r,t[2]*r,r],"rgb")},d.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=eA.Kn*e,t[1]<0&&(t[1]=0),new d(t,"lch").alpha(this.alpha(),!0)},d.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var tM=o.type;d.prototype.set=function(e,t,r){void 0===r&&(r=!1);var i=e.split("."),n=i[0],s=i[1],a=this[n]();if(!s)return a;var o=n.indexOf(s)-("ok"===n.substr(0,2)?2:0);if(o>-1){if("string"==tM(t))switch(t.charAt(0)){case"+":case"-":a[o]+=+t;break;case"*":a[o]*=+t.substr(1);break;case"/":a[o]/=+t.substr(1);break;default:a[o]=+t}else if("number"===tM(t))a[o]=t;else throw Error("unsupported value for Color.set");var l=new d(a,n);return r?(this._rgb=l._rgb,this):l}throw Error("unknown channel "+s+" in mode "+n)},tL.rgb=function(e,t,r){var i=e._rgb,n=t._rgb;return new d(i[0]+r*(n[0]-i[0]),i[1]+r*(n[1]-i[1]),i[2]+r*(n[2]-i[2]),"rgb")};var tN=Math.sqrt,tG=Math.pow;tL.lrgb=function(e,t,r){var i=e._rgb,n=i[0],s=i[1],a=i[2],o=t._rgb,l=o[0],u=o[1],h=o[2];return new d(tN(tG(n,2)*(1-r)+tG(l,2)*r),tN(tG(s,2)*(1-r)+tG(u,2)*r),tN(tG(a,2)*(1-r)+tG(h,2)*r),"rgb")},tL.lab=function(e,t,r){var i=e.lab(),n=t.lab();return new d(i[0]+r*(n[0]-i[0]),i[1]+r*(n[1]-i[1]),i[2]+r*(n[2]-i[2]),"lab")};var tk=function(e,t,r,i){var n,s,a,o,l,u,h,c,p,f,g,m,y,v;return"hsl"===i?(a=e.hsl(),o=t.hsl()):"hsv"===i?(a=e.hsv(),o=t.hsv()):"hcg"===i?(a=e.hcg(),o=t.hcg()):"hsi"===i?(a=e.hsi(),o=t.hsi()):"lch"===i||"hcl"===i?(i="hcl",a=e.hcl(),o=t.hcl()):"oklch"===i&&(a=e.oklch().reverse(),o=t.oklch().reverse()),("h"===i.substr(0,1)||"oklch"===i)&&(l=(n=a)[0],h=n[1],p=n[2],u=(s=o)[0],c=s[1],f=s[2]),isNaN(l)||isNaN(u)?isNaN(l)?isNaN(u)?m=Number.NaN:(m=u,(1==p||0==p)&&"hsv"!=i&&(g=c)):(m=l,(1==f||0==f)&&"hsv"!=i&&(g=h)):(v=u>l&&u-l>180?u-(l+360):u<l&&l-u>180?u+360-l:u-l,m=l+r*v),void 0===g&&(g=h+r*(c-h)),y=p+r*(f-p),"oklch"===i?new d([y,g,m],i):new d([m,g,y],i)},tD=function(e,t,r){return tk(e,t,r,"lch")};tL.lch=tD,tL.hcl=tD,tL.num=function(e,t,r){var i=e.num();return new d(i+r*(t.num()-i),"num")},tL.hcg=function(e,t,r){return tk(e,t,r,"hcg")},tL.hsi=function(e,t,r){return tk(e,t,r,"hsi")},tL.hsl=function(e,t,r){return tk(e,t,r,"hsl")},tL.hsv=function(e,t,r){return tk(e,t,r,"hsv")},tL.oklab=function(e,t,r){var i=e.oklab(),n=t.oklab();return new d(i[0]+r*(n[0]-i[0]),i[1]+r*(n[1]-i[1]),i[2]+r*(n[2]-i[2]),"oklab")},tL.oklch=function(e,t,r){return tk(e,t,r,"oklch")};var tF=o.clip_rgb,tq=Math.pow,tj=Math.sqrt,tU=Math.PI,tH=Math.cos,tB=Math.sin,tZ=Math.atan2,tz=function(e,t){for(var r=e.length,i=[0,0,0,0],n=0;n<e.length;n++){var s=e[n],a=t[n]/r,o=s._rgb;i[0]+=tq(o[0],2)*a,i[1]+=tq(o[1],2)*a,i[2]+=tq(o[2],2)*a,i[3]+=o[3]*a}return i[0]=tj(i[0]),i[1]=tj(i[1]),i[2]=tj(i[2]),i[3]>.9999999&&(i[3]=1),new d(tF(i))},tV=o.type,tY=Math.pow,tW=function(e){var t="rgb",r=p("#ccc"),i=0,n=[0,1],s=[],a=[0,0],o=!1,l=[],u=!1,h=0,c=1,d=!1,f={},g=!0,m=1,y=function(e){if("string"===tV(e=e||["#fff","#000"])&&p.brewer&&p.brewer[e.toLowerCase()]&&(e=p.brewer[e.toLowerCase()]),"array"===tV(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=p(e[t]);s.length=0;for(var r=0;r<e.length;r++)s.push(r/(e.length-1))}return _(),l=e},v=function(e){if(null!=o){for(var t=o.length-1,r=0;r<t&&e>=o[r];)r++;return r-1}return 0},b=function(e){return e},x=function(e){return e},E=function(e,i){if(null==i&&(i=!1),isNaN(e)||null===e)return r;if(i)u=e;else if(o&&o.length>2){var n,u;u=v(e)/(o.length-2)}else u=c!==h?(e-h)/(c-h):1;u=x(u),i||(u=b(u)),1!==m&&(u=tY(u,m));var d=Math.floor(1e4*(u=Math.min(1,Math.max(0,u=a[0]+u*(1-a[0]-a[1])))));if(g&&f[d])n=f[d];else{if("array"===tV(l))for(var y=0;y<s.length;y++){var E=s[y];if(u<=E||u>=E&&y===s.length-1){n=l[y];break}if(u>E&&u<s[y+1]){u=(u-E)/(s[y+1]-E),n=p.interpolate(l[y],l[y+1],u,t);break}}else"function"===tV(l)&&(n=l(u));g&&(f[d]=n)}return n},_=function(){return f={}};y(e);var S=function(e){var t=p(E(e));return u&&t[u]?t[u]():t};return S.classes=function(e){if(null!=e){if("array"===tV(e))o=e,n=[e[0],e[e.length-1]];else{var t=p.analyze(n);o=0===e?[t.min,t.max]:p.limits(t,"e",e)}return S}return o},S.domain=function(e){if(!arguments.length)return n;h=e[0],c=e[e.length-1],s=[];var t=l.length;if(e.length===t&&h!==c)for(var r=0,i=Array.from(e);r<i.length;r+=1){var a=i[r];s.push((a-h)/(c-h))}else{for(var o=0;o<t;o++)s.push(o/(t-1));if(e.length>2){var u=e.map(function(t,r){return r/(e.length-1)}),d=e.map(function(e){return(e-h)/(c-h)});d.every(function(e,t){return u[t]===e})||(x=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=d[t+1];)t++;var r=(e-d[t])/(d[t+1]-d[t]);return u[t]+r*(u[t+1]-u[t])})}}return n=[h,c],S},S.mode=function(e){return arguments.length?(t=e,_(),S):t},S.range=function(e,t){return y(e),S},S.out=function(e){return u=e,S},S.spread=function(e){return arguments.length?(i=e,S):i},S.correctLightness=function(e){return null==e&&(e=!0),d=e,_(),b=d?function(e){for(var t=E(0,!0).lab()[0],r=E(1,!0).lab()[0],i=t>r,n=E(e,!0).lab()[0],s=t+(r-t)*e,a=n-s,o=0,l=1,u=20;Math.abs(a)>.01&&u-- >0;)i&&(a*=-1),a<0?(o=e,e+=(l-e)*.5):(l=e,e+=(o-e)*.5),a=(n=E(e,!0).lab()[0])-s;return e}:function(e){return e},S},S.padding=function(e){return null!=e?("number"===tV(e)&&(e=[e,e]),a=e,S):a},S.colors=function(t,r){arguments.length<2&&(r="hex");var i=[];if(0==arguments.length)i=l.slice(0);else if(1===t)i=[S(.5)];else if(t>1){var s=n[0],a=n[1]-s;i=(function(e,t,r){for(var i=[],n=e<t,s=r?n?t+1:t-1:t,a=e;n?a<s:a>s;n?a++:a--)i.push(a);return i})(0,t,!1).map(function(e){return S(s+e/(t-1)*a)})}else{e=[];var u=[];if(o&&o.length>2)for(var h=1,c=o.length,d=1<=c;d?h<c:h>c;d?h++:h--)u.push((o[h-1]+o[h])*.5);else u=n;i=u.map(function(e){return S(e)})}return p[r]&&(i=i.map(function(e){return e[r]()})),i},S.cache=function(e){return null!=e?(g=e,S):g},S.gamma=function(e){return null!=e?(m=e,S):m},S.nodata=function(e){return null!=e?(r=p(e),S):r},S},tX=function(e){for(var t=[1,1],r=1;r<e;r++){for(var i=[1],n=1;n<=t.length;n++)i[n]=(t[n]||0)+t[n-1];t=i}return t},tK=function(e){var t,r,i,n,s,a,o,l,u,h,c;if(2===(e=e.map(function(e){return new d(e)})).length)s=(t=e.map(function(e){return e.lab()}))[0],a=t[1],n=function(e){return new d([0,1,2].map(function(t){return s[t]+e*(a[t]-s[t])}),"lab")};else if(3===e.length)s=(r=e.map(function(e){return e.lab()}))[0],a=r[1],o=r[2],n=function(e){return new d([0,1,2].map(function(t){return(1-e)*(1-e)*s[t]+2*(1-e)*e*a[t]+e*e*o[t]}),"lab")};else if(4===e.length)s=(i=e.map(function(e){return e.lab()}))[0],a=i[1],o=i[2],l=i[3],n=function(e){return new d([0,1,2].map(function(t){return(1-e)*(1-e)*(1-e)*s[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*o[t]+e*e*e*l[t]}),"lab")};else if(e.length>=5)u=e.map(function(e){return e.lab()}),h=tX(c=e.length-1),n=function(e){var t=1-e;return new d([0,1,2].map(function(r){return u.reduce(function(i,n,s){return i+h[s]*Math.pow(t,c-s)*Math.pow(e,s)*n[r]},0)}),"lab")};else throw RangeError("No point in running bezier with only one color.");return n},tJ=function(e,t,r){if(!tJ[r])throw Error("unknown blend mode "+r);return tJ[r](e,t)},t$=function(e){return function(t,r){var i=p(r).rgb(),n=p(t).rgb();return p.rgb(e(i,n))}},tQ=function(e){return function(t,r){var i=[];return i[0]=e(t[0],r[0]),i[1]=e(t[1],r[1]),i[2]=e(t[2],r[2]),i}};tJ.normal=t$(tQ(function(e){return e})),tJ.multiply=t$(tQ(function(e,t){return e*t/255})),tJ.screen=t$(tQ(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),tJ.overlay=t$(tQ(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),tJ.darken=t$(tQ(function(e,t){return e>t?t:e})),tJ.lighten=t$(tQ(function(e,t){return e>t?e:t})),tJ.dodge=t$(tQ(function(e,t){return 255===e?255:(e=t/255*255/(1-e/255))>255?255:e})),tJ.burn=t$(tQ(function(e,t){return 255*(1-(1-t/255)/(e/255))}));for(var t0=o.type,t1=o.clip_rgb,t2=o.TWOPI,t5=Math.pow,t3=Math.sin,t4=Math.cos,t6=Math.floor,t8=Math.random,t7=Math.log,t9=Math.pow,re=Math.floor,rt=Math.abs,rr=function(e,t){void 0===t&&(t=null);var r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===s(e)&&(e=Object.values(e)),e.forEach(function(e){t&&"object"===s(e)&&(e=e[t]),null==e||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)}),r.domain=[r.min,r.max],r.limits=function(e,t){return ri(r,e,t)},r},ri=function(e,t,r){void 0===t&&(t="equal"),void 0===r&&(r=7),"array"==s(e)&&(e=rr(e));var i=e.min,n=e.max,a=e.values.sort(function(e,t){return e-t});if(1===r)return[i,n];var o=[];if("c"===t.substr(0,1)&&(o.push(i),o.push(n)),"e"===t.substr(0,1)){o.push(i);for(var l=1;l<r;l++)o.push(i+l/r*(n-i));o.push(n)}else if("l"===t.substr(0,1)){if(i<=0)throw Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*t7(i),h=Math.LOG10E*t7(n);o.push(i);for(var c=1;c<r;c++)o.push(t9(10,u+c/r*(h-u)));o.push(n)}else if("q"===t.substr(0,1)){o.push(i);for(var d=1;d<r;d++){var p=(a.length-1)*d/r,f=re(p);if(f===p)o.push(a[f]);else{var g=p-f;o.push(a[f]*(1-g)+a[f+1]*g)}}o.push(n)}else if("k"===t.substr(0,1)){var m,y=a.length,v=Array(y),b=Array(r),x=!0,E=0,_=null;(_=[]).push(i);for(var S=1;S<r;S++)_.push(i+S/r*(n-i));for(_.push(n);x;){for(var O=0;O<r;O++)b[O]=0;for(var R=0;R<y;R++)for(var A=a[R],w=Number.MAX_VALUE,C=void 0,T=0;T<r;T++){var L=rt(_[T]-A);L<w&&(w=L,C=T),b[C]++,v[R]=C}for(var P=Array(r),I=0;I<r;I++)P[I]=null;for(var M=0;M<y;M++)null===P[m=v[M]]?P[m]=a[M]:P[m]+=a[M];for(var N=0;N<r;N++)P[N]*=1/b[N];x=!1;for(var G=0;G<r;G++)if(P[G]!==_[G]){x=!0;break}_=P,++E>200&&(x=!1)}for(var k={},D=0;D<r;D++)k[D]=[];for(var F=0;F<y;F++)k[m=v[F]].push(a[F]);for(var q=[],j=0;j<r;j++)q.push(k[j][0]),q.push(k[j][k[j].length-1]);q=q.sort(function(e,t){return e-t}),o.push(q[0]);for(var U=1;U<q.length;U+=2){var H=q[U];isNaN(H)||-1!==o.indexOf(H)||o.push(H)}}return o},rn={analyze:rr,limits:ri},rs=Math.sqrt,ra=Math.pow,ro=Math.min,rl=Math.max,ru=Math.atan2,rh=Math.abs,rc=Math.cos,rd=Math.sin,rp=Math.exp,rf=Math.PI,rg={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},rm=0,ry=Object.keys(rg);rm<ry.length;rm+=1){var rv=ry[rm];rg[rv.toLowerCase()]=rg[rv]}return p.average=function(e,t,r){void 0===t&&(t="lrgb"),void 0===r&&(r=null);var i=e.length;r||(r=Array.from(Array(i)).map(function(){return 1}));var n=i/r.reduce(function(e,t){return e+t});if(r.forEach(function(e,t){r[t]*=n}),e=e.map(function(e){return new d(e)}),"lrgb"===t)return tz(e,r);for(var s=e.shift(),a=s.get(t),o=[],l=0,u=0,h=0;h<a.length;h++)if(a[h]=(a[h]||0)*r[0],o.push(isNaN(a[h])?0:r[0]),"h"===t.charAt(h)&&!isNaN(a[h])){var c=a[h]/180*tU;l+=tH(c)*r[0],u+=tB(c)*r[0]}var p=s.alpha()*r[0];e.forEach(function(e,i){var n=e.get(t);p+=e.alpha()*r[i+1];for(var s=0;s<a.length;s++)if(!isNaN(n[s])){if(o[s]+=r[i+1],"h"===t.charAt(s)){var h=n[s]/180*tU;l+=tH(h)*r[i+1],u+=tB(h)*r[i+1]}else a[s]+=n[s]*r[i+1]}});for(var f=0;f<a.length;f++)if("h"===t.charAt(f)){for(var g=tZ(u/o[f],l/o[f])/tU*180;g<0;)g+=360;for(;g>=360;)g-=360;a[f]=g}else a[f]=a[f]/o[f];return p/=i,new d(a,t).alpha(p>.99999?1:p,!0)},p.bezier=function(e){var t=tK(e);return t.scale=function(){return tW(t)},t},p.blend=tJ,p.cubehelix=function(e,t,r,i,n){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=[0,1]);var s,a=0;"array"===t0(n)?s=n[1]-n[0]:(s=0,n=[n,n]);var o=function(o){var l=t2*((e+120)/360+t*o),u=t5(n[0]+s*o,i),h=(0!==a?r[0]+o*a:r)*u*(1-u)/2,c=t4(l),d=t3(l);return p(t1([255*(u+h*(-.14861*c+1.78277*d)),255*(u+h*(-.29227*c-.90649*d)),255*(u+1.97294*c*h),1]))};return o.start=function(t){return null==t?e:(e=t,o)},o.rotations=function(e){return null==e?t:(t=e,o)},o.gamma=function(e){return null==e?i:(i=e,o)},o.hue=function(e){return null==e?r:("array"===t0(r=e)?0==(a=r[1]-r[0])&&(r=r[1]):a=0,o)},o.lightness=function(e){return null==e?n:("array"===t0(e)?(n=e,s=e[1]-e[0]):(n=[e,e],s=0),o)},o.scale=function(){return p.scale(o)},o.hue(r),o},p.mix=p.interpolate=tI,p.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(t6(16*t8()));return new d(e,"hex")},p.scale=tW,p.analyze=rn.analyze,p.contrast=function(e,t){e=new d(e),t=new d(t);var r=e.luminance(),i=t.luminance();return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)},p.deltaE=function(e,t,r,i,n){void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=1);var s=function(e){return 360*e/(2*rf)},a=function(e){return 2*rf*e/360};e=new d(e),t=new d(t);var o=Array.from(e.lab()),l=o[0],u=o[1],h=o[2],c=Array.from(t.lab()),p=c[0],f=c[1],g=c[2],m=(l+p)/2,y=(rs(ra(u,2)+ra(h,2))+rs(ra(f,2)+ra(g,2)))/2,v=.5*(1-rs(ra(y,7)/(ra(y,7)+ra(25,7)))),b=u*(1+v),x=f*(1+v),E=rs(ra(b,2)+ra(h,2)),_=rs(ra(x,2)+ra(g,2)),S=(E+_)/2,O=s(ru(h,b)),R=s(ru(g,x)),A=O>=0?O:O+360,w=R>=0?R:R+360,C=rh(A-w)>180?(A+w+360)/2:(A+w)/2,T=1-.17*rc(a(C-30))+.24*rc(a(2*C))+.32*rc(a(3*C+6))-.2*rc(a(4*C-63)),L=w-A;L=180>=rh(L)?L:w<=A?L+360:L-360,L=2*rs(E*_)*rd(a(L)/2);var P=_-E,I=1+.015*ra(m-50,2)/rs(20+ra(m-50,2)),M=1+.045*S,N=1+.015*S*T,G=30*rp(-ra((C-275)/25,2)),k=-(2*rs(ra(S,7)/(ra(S,7)+ra(25,7))))*rd(2*a(G));return rl(0,ro(100,rs(ra((p-l)/(r*I),2)+ra(P/(i*M),2)+ra(L/(n*N),2)+P/(i*M)*k*(L/(n*N)))))},p.distance=function(e,t,r){void 0===r&&(r="lab"),e=new d(e),t=new d(t);var i=e.get(r),n=t.get(r),s=0;for(var a in i){var o=(i[a]||0)-(n[a]||0);s+=o*o}return Math.sqrt(s)},p.limits=rn.limits,p.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(d,[null].concat(e))),!0}catch(e){return!1}},p.scales={cool:function(){return tW([p.hsl(180,1,.9),p.hsl(250,.7,.4)])},hot:function(){return tW(["#000","#f00","#ff0","#fff"]).mode("rgb")}},p.colors=e5,p.brewer=rg,p}()}),a("hThUZ",function(e,r){t(e.exports,"default",()=>n);var i=s("j2K3b");function n(e){if(!e.getType)return new i.default([0,0]);switch(e.getType()){case"MultiPolygon":var t,r=e.getPolygons();if(!r.length)return e;for(var n=0,s=0;s<r.length;s++){var a=r[s].getArea();a>n&&(n=a,t=r[s])}return t.getInteriorPoint();case"Polygon":return e.getInteriorPoint();case"Point":return e;default:return new i.default(e.getFirstCoordinate())}}}),a("cLiWE",function(e,r){t(e.exports,"default",()=>l);var i=s("eEuqc"),n=s("3SMVV"),a=s("5TDW7");class o extends a.default{constructor(){super()}}o.prototype.read=function(e){if("WMS"!==e.type)return!1;e.wmsparam.source.url=(e.wmsparam.source.url||"").replace(/service=wms&?/i,"");let t=new i.default({extent:e.wmsparam.layer.extent,queryable:!!e.wmsparam.layer.queryable,minResolution:e.wmsparam.layer.minResolution,maxResolution:e.wmsparam.layer.maxResolution,source:new n.default(e.wmsparam.source)});return t.set("wmsparam",e.wmsparam),this.readOptions(t,e),t.get("title")||t.set("title",e.wmsparam.layer.title),t},o.prototype.write=function(e){if("WMS"!==e.get("type"))return null;var t=this.writeOptions(e,{wms:!0});return t.wmsparam=e.get("wmsparam")||e.WMSParams,t};var l=o}),a("3SMVV",function(e,r){t(e.exports,"default",()=>f);var i=s("42VYg"),n=s("9IqLY"),a=s("9AVh1"),o=s("jZquI"),l=s("gpSXC"),u=s("7f9mA"),h=s("gzr8q"),c=s("a6roo"),d=s("9YraL");class p extends i.default{constructor(e){let t=Object.assign({},(e=e||{}).params);super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:!(!("TRANSPARENT"in t)||t.TRANSPARENT),projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0,this.params_=t,this.v13_=!0,this.serverType_=e.serverType,this.hidpi_=void 0===e.hidpi||e.hidpi,this.tmpExtent_=(0,o.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(e,t,r,i){let s=(0,h.get)(r),a=this.getProjection()||s,u=this.getTileGrid();u||(u=this.getTileGridForProjection(a));let c=(0,h.transform)(e,s,a),d=(0,l.calculateSourceResolution)(a,s,e,t),p=u.getZForResolution(d,this.zDirection),f=u.getResolution(p),g=u.getTileCoordForCoordAndZ(c,p);if(u.getResolutions().length<=g[0])return;let m=u.getTileCoordExtent(g,this.tmpExtent_),y=this.gutter_;0!==y&&(m=(0,o.buffer)(m,f*y,m));let v={QUERY_LAYERS:this.params_.LAYERS};Object.assign(v,(0,n.getRequestParams)(this.params_,"GetFeatureInfo"),i);let b=Math.floor((c[0]-m[0])/f),x=Math.floor((m[3]-c[1])/f);return v[this.v13_?"I":"X"]=b,v[this.v13_?"J":"Y"]=x,this.getRequestUrl_(g,m,1,a||s,v)}getLegendUrl(e,t){if(void 0===this.urls[0])return;let r={SERVICE:"WMS",VERSION:n.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){let e=this.params_.LAYERS;if(!(!Array.isArray(e)||1===e.length))return;r.LAYER=e}if(void 0!==e){let t=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=e*t/28e-5}return Object.assign(r,t),(0,a.appendParams)(this.urls[0],r)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(e,t,r,i,s){let a;let o=this.urls;if(o){if(1==o.length)a=o[0];else{let t=(0,c.modulo)((0,d.hash)(e),o.length);a=o[t]}return(0,n.getImageSrc)(t,(this.tileGrid||this.getTileGridForProjection(i)).getResolution(e[0]),r,i,a,s,this.serverType_)}}getTilePixelRatio(e){return this.hidpi_&&void 0!==this.serverType_?e:1}getKeyForParams_(){let e=0,t=[];for(let r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")}updateParams(e){Object.assign(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())}updateV13_(){let e=this.params_.VERSION||n.DEFAULT_VERSION;this.v13_=(0,u.compareVersions)(e,"1.3")>=0}tileUrlFunction(e,t,r){let i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(r)),i.getResolutions().length<=e[0])return;1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);let s=i.getResolution(e[0]),a=i.getTileCoordExtent(e,this.tmpExtent_),l=this.gutter_;0!==l&&(a=(0,o.buffer)(a,s*l,a));let u=Object.assign({},(0,n.getRequestParams)(this.params_,"GetMap"));return this.getRequestUrl_(e,a,t,r,u)}}var f=p}),a("9IqLY",function(e,r){t(e.exports,"DEFAULT_VERSION",()=>u),t(e.exports,"getImageSrc",()=>h),t(e.exports,"getRequestParams",()=>c);var i=s("fqTWj"),n=s("9AVh1"),a=s("7f9mA");s("kUxvm");var o=s("a6roo"),l=s("jZquI");s("gzr8q"),s("3i1Ma");let u="1.3.0";function h(e,t,r,s,u,h,c){h=Object.assign({REQUEST:"GetMap"},h);let d=t/r,p=[(0,o.round)((0,l.getWidth)(e)/d,i.DECIMALS),(0,o.round)((0,l.getHeight)(e)/d,i.DECIMALS)];if(1!=r)switch(c){case"geoserver":let f=90*r+.5|0;"FORMAT_OPTIONS"in h?h.FORMAT_OPTIONS+=";dpi:"+f:h.FORMAT_OPTIONS="dpi:"+f;break;case"mapserver":h.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":h.DPI=90*r;break;default:throw Error("Unknown `serverType` configured")}return function(e,t,r,i,s){let o;s.WIDTH=r[0],s.HEIGHT=r[1];let l=i.getAxisOrientation(),u=(0,a.compareVersions)(s.VERSION,"1.3")>=0;return s[u?"CRS":"SRS"]=i.getCode(),o=u&&"ne"==l.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,s.BBOX=o.join(","),(0,n.appendParams)(e,s)}(u,e,p,s,h)}function c(e,t){return Object.assign({REQUEST:t,SERVICE:"WMS",VERSION:u,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},e)}}),a("5UlEr",function(e,r){t(e.exports,"default",()=>u);var i=s("eEuqc"),n=s("gAUZM"),a=s("5TDW7"),o=s("9PI6P");class l extends a.default{constructor(){super()}}l.prototype.read=function(e){if("WMTS"!==e.type)return null;let t=e.wmtsparam;t.source.tileGrid=(0,o.default).prototype.getTileGrid(t.source.matrixSet,t.source.minZoom,t.source.maxZoom);let r=new i.default({extent:t.layer.extent,minResolution:t.layer.minResolution,maxResolution:t.layer.maxResolution,source:new n.default(t.source)});return delete t.source.tileGrid,r.set("wmtsparam",t),this.readOptions(r,e),r.get("title")||r.set("title",t.layer.title),r},l.prototype.write=function(e){if("WMTS"!==e.get("type"))return null;var t=this.writeOptions(e,{});return t.wmtsparam=e.get("wmtsparam")||e.wmtsparams,t};var u=l}),a("9PI6P",function(e,r){t(e.exports,"default",()=>p);var i=s("i28LF"),n=s("4QhZh"),a=s("sxATa"),o=s("kUWI9"),l=s("eEuqc"),u=s("gAUZM"),h=s("gzr8q"),c=s("jZquI"),d=class extends i.default{constructor(e){(e=e||{}).title=e.title||"WMTS",super(e),this.getDialog().set("className",this.getDialog().get("className")+" ol-wmtscapabilities")}_getParser(){var e=new o.default;return{read:(function(t){var r=e.read(t);r.Capability={Layer:r.Contents},r.Capability.Layer.Attribution={Title:r.ServiceProvider.ProviderName};var i=[];return r.Contents.Layer.forEach(function(e){e.Format&&/jpeg|png/.test(e.Format[0])&&i.push(e)}),r.Contents.Layer=i,r}).bind(this)}}getRequestParam(e){return{SERVICE:"WMTS",REQUEST:"GetCapabilities",VERSION:e.version||"1.0.0"}}_getTG(e,t,r,i){for(var n=[],s=[],a=(0,c.getWidth)((0,h.get)("EPSG:3857").getExtent())/256,o=0;o<=(r||20);o++){var l=i?e+":"+o:o;n[o]=l,s[o]=a/Math.pow(2,o)}return{origin:[-20037508,20037508],resolutions:s,matrixIds:n,minZoom:t||0}}getTileGrid(e,t,r,i){return new a.default(this._getTG(e,t,r,i))}isSupportedSet(e){return this.supportedSets.indexOf(e.TileMatrixSet)>=0}getOptionsFromCap(e,t){var r,i=e.WGS84BoundingBox;i&&(i=(0,h.transformExtent)(i,"EPSG:4326",this.getMap().getView().getProjection()));var s=1/0,a=-1/0;if(e.TileMatrixSetLink.forEach((function(t){this.isSupportedSet(t)&&(r=t,e.TileMatrixSet=t.TileMatrixSet)}).bind(this)),!r){this.showError({type:"TileMatrix"});return}if(r.TileMatrixSetLimits){var o=r.TileMatrixSetLimits[0].TileMatrix.split(":").length>1;r.TileMatrixSetLimits.forEach(function(e){var t=e.TileMatrix.split(":").pop();s=Math.min(s,parseInt(t)),a=Math.max(a,parseInt(t))})}else s=0,a=20;var l=new n.default;l.setZoom(s);var u={title:e.Title,extent:i,abstract:e.Abstract,maxResolution:l.getResolution()},c={url:t.url,layer:e.Identifier,matrixSet:e.TileMatrixSet,format:e.Format[0]||"image/jpeg",projection:"EPSG:3857",tilePrefix:o,minZoom:s,maxZoom:a,style:e.Style?e.Style[0].Identifier:"normal",attributions:e.Attribution.Title,crossOrigin:this.get("cors")?"anonymous":null,wrapX:!1!==this.get("wrapX")};if(this._fillForm({title:u.title,layers:c.layer,style:c.style,format:c.format,minZoom:s,maxZoom:a,extent:i?i.join(","):"",projection:c.projection,attribution:c.attributions||"",version:"1.0.0"}),this.get("trace")){c.tileGrid="TILEGRID";var d=JSON.stringify([c],null,"	").replace(/\\"/g,'"');d=d.replace('"TILEGRID"',"new ol_tilegrid_WMTS("+JSON.stringify(this._getTG(c.matrixSet,c.minZoom,c.maxZoom,c.tilePrefix),null,"	").replace(/\n/g,"\n		")+")"),delete c.tileGrid,u.source="SOURCE";var p="new ol.layer.Tile ("+JSON.stringify(u,null,"	")+")";console.log(p=p.replace(/\\"/g,'"').replace('"SOURCE"',"new ol.source.WMTS("+d+")").replace(/\\t/g,"	").replace(/\\n/g,"\n").replace(/"tileGrid": {/g,'"tileGrid": new ol.tilegrid.WMTS({').replace(/},\n(\t*)"style"/g,'}),\n$1"style"').replace("([\n	","(").replace("}\n])","})")),delete u.source}var f=void 0;return e.Style&&e.Style[0]&&e.Style[0].LegendURL&&e.Style[0].LegendURL[0]&&(f=[e.Style[0].LegendURL[0].href]),{layer:u,source:c,data:{title:e.Title,abstract:e.Abstract,legend:f}}}_getFormOptions(){var e=this._currentOptions||{};e.layer||(e.layer={}),e.source||(e.source={}),e.data||(e.data={});var t=parseInt(this._elements.formMinZoom.value)||0,r=parseInt(this._elements.formMaxZoom.value)||20,i=[];this._elements.formExtent.value&&this._elements.formExtent.value.split(",").forEach(function(e){i.push(parseFloat(e))}),4!==i.length&&(i=void 0);var s=[];this._elements.formAttribution.value&&s.push(this._elements.formAttribution.value);var a=new n.default({projection:this.getMap().getView().getProjection()});return a.setZoom(t),{layer:{title:this._elements.formTitle.value,extent:i,abstract:e.layer.abstract||"",maxResolution:a.getResolution()},source:{url:this._elements.input.value,layer:this._elements.formLayer.value,matrixSet:e.source.matrixSet||"PM",format:this._elements.formFormat.options[this._elements.formFormat.selectedIndex].value,projection:"EPSG:3857",minZoom:t,maxZoom:r,style:this._elements.formStyle.value||"normal",attributions:s,crossOrigin:this._elements.formCrossOrigin.checked?"anonymous":null,wrapX:!1!==this.get("wrapX")},data:{title:this._elements.formTitle.value,abstract:e.data.abstract,legend:e.data.legend}}}getLayerFromOptions(e){if(e){e.source.tileGrid=this.getTileGrid(e.source.matrixSet,e.source.minZoom,e.source.maxZoom,e.source.tilePrefix),e.layer.source=new u.default(e.source);var t=new l.default(e.layer);return delete e.layer.source,delete e.source.tileGrid,t}}};i.default.prototype.supportedSets=["PM","3857","EPSG:3857","EPSG:900913","webmercator","GoogleMapsCompatible"];var p=d}),a("i28LF",function(e,r){t(e.exports,"default",()=>f);var i=s("4QhZh"),n=s("3SMVV"),a=s("eEuqc"),o=s("gzr8q"),l=s("8P7EG"),u=s("iQyfo"),h=s("fkmMz"),c=s("QtBcx"),d=s("6od7S");s("2NQly");var p=class extends c.default{constructor(e){var t=Object.assign({},e=e||{});t.target===document.body&&delete t.target,t.target?(t.className=((t.className||"")+" ol-wmscapabilities ol-hidden").trim(),delete t.target):(t.className=((t.className||"")+" ol-wmscapabilities").trim(),t.handleClick=function(){r.showDialog()}),super(t);var r=this;this._proxy=e.proxy,this.set("srs",e.srs||[]),this.set("cors",e.cors),this.set("trace",e.trace),this.set("title",e.title),this.set("loadLabel",e.loadLabel),this.set("optional",e.optional),this.createDialog(e),this._elements.formVersion.value="1.0.0";var i=this._getParser();this._ajax=new h.default({dataType:"text",auth:e.authentication}),this._ajax.on("success",(function(e){var t;try{t=i.read(e.response)}catch(e){this.showError({type:"load",error:e})}t&&(t.Capability.Layer.Layer?(t.url=e.options.url,this.showCapabilities(t)):this.showError({type:"noLayer"})),this.dispatchEvent({type:"capabilities",capabilities:t}),"function"==typeof e.options.callback&&e.options.callback(t)}).bind(this)),this._ajax.on("error",(function(e){this.showError({type:"load",error:e}),this.dispatchEvent({type:"capabilities"}),e.options.callback}).bind(this)),this._ajax.on("loadstart",(function(){this._elements.element.classList.add("ol-searching")}).bind(this)),this._ajax.on("loadend",(function(){this._elements.element.classList.remove("ol-searching")}).bind(this)),e.onselect&&this.on("load",function(t){e.onselect(t.layer,t.options)})}_getParser(){return new l.default}createDialog(e){var t=e.target;t&&t!==document.body||(this._dialog=new d.default({className:"ol-wmscapabilities",closeBox:!0,closeOnSubmit:!1,target:e.target}),this._dialog.on("button",(function(e){"submit"===e.button&&this.getCapabilities(e.inputs.url.value)}).bind(this)),t=null);var r=(0,u.default).create("DIV",{className:("ol-wmscapabilities "+(e.className||"")).trim(),parent:t});this._elements={element:t||r};var i=(0,u.default).create("DIV",{className:"ol-url",parent:r}),n=this._elements.input=(0,u.default).create("INPUT",{className:"url",type:"text",tabIndex:1,placeholder:e.placeholder||"service url...",autocorrect:"off",autocapitalize:"off",parent:i});if(n.addEventListener("keyup",(function(t){13===t.keyCode&&this.getCapabilities(n.value,e)}).bind(this)),e.services){var s=(0,u.default).create("SELECT",{className:"url",on:{change:(function(t){var r=t.target.options[t.target.selectedIndex].value;this.getCapabilities(r,e),t.target.selectedIndex=0}).bind(this)},parent:i});for(var a in(0,u.default).create("OPTION",{html:" ",parent:s}),e.services)(0,u.default).create("OPTION",{html:a,value:e.services[a],parent:s})}(0,u.default).create("BUTTON",{click:(function(){this.getCapabilities(n.value,e)}).bind(this),html:e.searchLabel||"search",parent:i}),this._elements.error=(0,u.default).create("DIV",{className:"ol-error",parent:i});var o=this._elements.result=(0,u.default).create("DIV",{className:"ol-result",parent:r}),l=(0,u.default).create("DIV",{className:"ol-preview",html:e.previewLabel||"preview",parent:o});this._elements.preview=(0,u.default).create("IMG",{parent:l}),this._img=new Image,this._img.crossOrigin="Anonymous",this._img.addEventListener("error",(function(){l.className="ol-preview tainted",this._elements.formCrossOrigin.checked=!1}).bind(this)),this._img.addEventListener("load",(function(){l.className="ol-preview ok",this._elements.formCrossOrigin.checked=!0}).bind(this)),this._elements.select=(0,u.default).create("DIV",{className:"ol-select-list",tabIndex:2,parent:o}),this._elements.data=(0,u.default).create("DIV",{className:"ol-data",parent:o}),this._elements.buttons=(0,u.default).create("DIV",{className:"ol-buttons",parent:o}),this._elements.legend=(0,u.default).create("IMG",{className:"ol-legend",parent:o});var h=this._elements.form=(0,u.default).create("UL",{className:"ol-wmsform",parent:r}),c=(function(e,t,r){var i=(0,u.default).create("LI",{parent:h});if((0,u.default).create("LABEL",{html:this.labels[e],parent:i}),"boolean"==typeof t)this._elements[e]=(0,u.default).create("INPUT",{type:"checkbox",checked:t,parent:i});else if(t instanceof Array){var n=this._elements[e]=(0,u.default).create("SELECT",{parent:i});t.forEach((function(e){(0,u.default).create("OPTION",{html:e,value:e,parent:n})}).bind(this))}else this._elements[e]=(0,u.default).create("INPUT",{value:void 0===t?"":t,placeholder:r||"",type:"number"==typeof t?"number":"text",parent:i});return i}).bind(this);c("formTitle"),c("formLayer","","layer1,layer2,...");var p=c("formMap");p.setAttribute("data-param","map"),(p=c("formStyle")).setAttribute("data-param","style"),c("formFormat",["image/png","image/jpeg"]),c("formMinZoom",0),c("formMaxZoom",20),(p=c("formExtent","","xmin,ymin,xmax,ymax")).setAttribute("data-param","extent");var f=p.querySelector("input");return(0,u.default).create("BUTTON",{title:this.labels.mapExtent,click:(function(){f.value=this.getMap().getView().calculateExtent(this.getMap().getSize()).join(",")}).bind(this),parent:p}),(p=c("formProjection","")).setAttribute("data-param","proj"),c("formCrossOrigin",!1),(p=c("formVersion","1.3.0")).setAttribute("data-param","version"),c("formAttribution",""),(0,u.default).create("BUTTON",{html:this.get("loadLabel")||"Load",click:(function(){var e=this._getFormOptions(),t=this.getLayerFromOptions(e);this.dispatchEvent({type:"load",layer:t,options:e}),this._dialog.hide()}).bind(this),parent:h}),r}getLayerFromOptions(e){e.layer.source=new n.default(e.source);var t=new a.default(e.layer);return delete e.layer.source,t}setMap(e){super.setMap(e),this._dialog&&this._dialog.setMap(e)}getDialog(){return this._dialog}showDialog(e,t){this.showError(),this._elements.formProjection.value||(this._elements.formProjection.value=this.getMap().getView().getProjection().getCode()),this._dialog&&this._dialog.show({title:void 0===this.get("title")?"WMS":this.get("title"),content:this._elements.element}),this.getCapabilities(e,t);var r=this._elements.select.querySelector(".selected");r&&(this._elements.select.scrollTop=r.offsetTop-20)}testUrl(e){return!!RegExp("^(https?:\\/\\/)((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=\\/-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}getRequestParam(e){return{SERVICE:"WMS",REQUEST:"GetCapabilities",VERSION:e.version||"1.3.0"}}getCapabilities(e,t){if(e){if(!this.testUrl(e)){this.showError({type:"badUrl"});return}t=t||{};var r=(e=e.split("?"))[1];e=e[0],this._elements.formMap.value="",this._elements.formLayer.value="",this._elements.formStyle.value="",this._elements.formTitle.value="",this._elements.formProjection.value=this.getMap().getView().getProjection().getCode(),this._elements.formFormat.selectedIndex=0;var i=t.map||"",n={};r&&(r=r.replace(/^\?/,"").split("&")).forEach((function(e){if((e=e.split("="))[1]=decodeURIComponent(e[1]||""),/^map$/i.test(e[0])&&(i=e[1],this._elements.formMap.value=i),/^layers$/i.test(e[0])&&(this._elements.formLayer.value=e[1],this._elements.formTitle.value=e[1].split(",")[0]),/^style$/i.test(e[0])&&(this._elements.formStyle.value=e[1]),/^crs$/i.test(e[0])&&(this._elements.formProjection.value=e[1]),/^format$/i.test(e[0])){for(var t,r=0;t=this._elements.formFormat.options[r];r++)if(t.value===e[1]){this._elements.formFormat.selectedIndex=r;break}}this.get("optional")&&this.get("optional").split(",").forEach((function(t){t===e[0]&&(n[t]=e[1])}).bind(this))}).bind(this));var s=this.getRequestParam(t),a=[];for(var o in i&&(s.MAP=i,a.push("map="+i)),n)s[o]=n[o],a.push(o+"="+n[o]);var l=this._elements.input.value=(e||"")+(a?"?"+a.join("&"):"");if(this.clearForm(),this._proxy){var u="";for(var h in s)u+=(u?"&":"")+h+"="+s[h];this._ajax.send(this._proxy,{url:u},{url:l,timeout:t.timeout||1e4,callback:t.onload,abort:!1})}else this._ajax.send(e,s,{url:l,timeout:t.timeout||1e4,callback:t.onload,abort:!1})}}showError(e){e?this._elements.error.innerHTML=this.error[e.type]||"ERROR ("+e.type+")":this._elements.error.innerHTML="",e&&"load"===e.type?this._elements.form.classList.add("visible"):this._elements.form.classList.remove("visible")}clearForm(){this._elements.result.classList.remove("ol-visible"),this.showError(),this._elements.select.innerHTML="",this._elements.data.innerHTML="",this._elements.preview.src="",this._elements.legend.src="",this._elements.legend.classList.remove("visible")}showCapabilities(e){this._elements.result.classList.add("ol-visible");var t=[],r=(function(i,n){n=n||0,i.Layer.forEach((function(s){s.Attribution||(s.Attribution=i.Attribution),s.EX_GeographicBoundingBox||(s.EX_GeographicBoundingBox=i.EX_GeographicBoundingBox);var a=(0,u.default).create("DIV",{className:(s.Layer?"ol-title ":"")+"level-"+n,html:s.Name||s.Title,click:(function(){this._elements.buttons.innerHTML="",this._elements.data.innerHTML="",this._elements.legend.src=this._elements.preview.src="",this._elements.element.classList.remove("ol-form"),this.showError();var r=this.getOptionsFromCap(s,e),i=this.getLayerFromOptions(r);if(this._currentOptions=r,t.forEach(function(e){e.classList.remove("selected")}),a.classList.add("selected"),i){(0,u.default).create("BUTTON",{html:this.get("loadLabel")||"Load",className:"ol-load",click:(function(){this.dispatchEvent({type:"load",layer:i,options:r}),this._dialog&&this._dialog.hide()}).bind(this),parent:this._elements.buttons}),(0,u.default).create("BUTTON",{className:"ol-wmsform",click:(function(){this._elements.element.classList.toggle("ol-form")}).bind(this),parent:this._elements.buttons});var n=this.getMap().getView().getResolution(),o=this.getMap().getView().getCenter();this._elements.preview.src=i.getPreview(o,n,this.getMap().getView().getProjection()),this._img.src=this._elements.preview.src,(0,u.default).create("p",{className:"ol-title",html:r.data.title,parent:this._elements.data}),(0,u.default).create("p",{html:r.data.abstract,parent:this._elements.data}),r.data.legend&&r.data.legend.length?(this._elements.legend.src=r.data.legend[0],this._elements.legend.classList.add("visible")):(this._elements.legend.src="",this._elements.legend.classList.remove("visible"))}}).bind(this),parent:this._elements.select});t.push(a),s.Layer&&r(s,n+1)}).bind(this))}).bind(this);this._elements.select.innerHTML="",r(e.Capability.Layer)}getLayerResolution(e,t,r){var i="min"===e?"MinScaleDenominator":"MaxScaleDenominator";if(void 0!==t[i])return t[i]/(72/2.54*100);if(!t.Layer)return"min"===e?0:156543.03392804097;r="min"===e?156543.03392804097:0;for(var n=0;n<t.Layer.length;n++){var s=this.getLayerResolution(e,t.Layer[n],r);void 0!==s&&(r=Math[e](r,s))}return r}getOptionsFromCap(e,t){var r,n,s=t.Capability.Request.GetMap.Format,a=[/png/,/jpeg/,/gif/];for(n=0;n<3;n++){for(var l=0;l<s.length;l++)if(a[n].test(s[l])){r=s[l];break}if(r)break}r||(r=s[0]);var u=this.getMap().getView().getProjection().getCode();this.showError();var h=!1;e.CRS?e.CRS.indexOf(u)>=0?h=!0:e.CRS.indexOf("EPSG:4326")>=0?(u="EPSG:4326",h=!0):this.get("srs").forEach(function(t){e.CRS.indexOf(t)>=0&&(u=t,h=!0)}):h=!1,!h&&(this.showError({type:"srs"}),this.get("trace")&&console.log("BAD srs: ",e.CRS));var c=e.EX_GeographicBoundingBox;c&&(c=(0,o.transformExtent)(c,"EPSG:4326",this.getMap().getView().getProjection()));var d=[];e.Attribution&&e.Attribution.Title&&d.push('<a href="'+encodeURI(e.Attribution.OnlineResource)+'">&copy; '+e.Attribution.Title.replace(/</g,"&lt;")+"</a>");var p={title:e.Title,extent:c,queryable:e.queryable,abstract:e.Abstract,minResolution:this.getLayerResolution("min",e),maxResolution:this.getLayerResolution("max",e)||156543.03392804097},f={url:t.Capability.Request.GetMap.DCPType[0].HTTP.Get.OnlineResource,projection:u,attributions:d,crossOrigin:this.get("cors")?"anonymous":null,params:{LAYERS:e.Name,FORMAT:r,VERSION:t.version||"1.3.0"}},g=new i.default({projection:this.getMap().getView().getProjection()});g.setResolution(p.minResolution);var m=Math.round(g.getZoom());g.setResolution(p.maxResolution);var y=Math.round(g.getZoom());if(this._fillForm({title:p.title,layers:f.params.LAYERS,format:f.params.FORMAT,minZoom:y,maxZoom:m,extent:c?c.join(","):"",projection:f.projection,attribution:f.attributions[0]||"",version:f.params.VERSION}),this.get("trace")){var v=JSON.stringify([f],null,"	").replace(/\\"/g,'"');p.source="SOURCE";var b="new ol.layer.Tile ("+JSON.stringify(p,null,"	")+")";console.log(b=b.replace(/\\"/g,'"').replace('"SOURCE"',"new ol.source.TileWMS("+v+")").replace(/\\t/g,"	").replace(/\\n/g,"\n").replace("([\n	","(").replace("}\n])","})")),delete p.source}var x=[];return e.Style&&e.Style.forEach(function(e){e.LegendURL&&x.push(e.LegendURL[0].OnlineResource)}),{layer:p,source:f,data:{title:e.Title,abstract:e.Abstract,logo:e.Attribution&&e.Attribution.LogoURL?e.Attribution.LogoURL.OnlineResource:void 0,keyword:e.KeywordList,legend:x,opaque:e.opaque,queryable:e.queryable}}}_getFormOptions(){var e=parseInt(this._elements.formMinZoom.value),t=parseInt(this._elements.formMaxZoom.value),r=new i.default({projection:this.getMap().getView().getProjection()});r.setZoom(e);var n=r.getResolution();r.setZoom(t);var s=r.getResolution(),a=[];this._elements.formExtent.value&&this._elements.formExtent.value.split(",").forEach(function(e){a.push(parseFloat(e))}),4!==a.length&&(a=void 0);var o=[];this._elements.formAttribution.value&&o.push(this._elements.formAttribution.value);var l={layer:{title:this._elements.formTitle.value,extent:a,maxResolution:n,minResolution:s},source:{url:this._elements.input.value,crossOrigin:this._elements.formCrossOrigin.checked?"anonymous":null,projection:this._elements.formProjection.value,attributions:o,params:{FORMAT:this._elements.formFormat.options[this._elements.formFormat.selectedIndex].value,LAYERS:this._elements.formLayer.value,VERSION:this._elements.formVersion.value}},data:{title:this._elements.formTitle.value}};return this._elements.formMap.value&&(l.source.params.MAP=this._elements.formMap.value),l}_fillForm(e){var t,r;for(r=0,this._elements.formTitle.value=e.title,this._elements.formLayer.value=e.layers,this._elements.formStyle.value=e.style;t=this._elements.formFormat.options[r];r++)if(t.value===e.format){this._elements.formFormat.selectedIndex=r;break}this._elements.formExtent.value=e.extent||"",this._elements.formMaxZoom.value=e.maxZoom,this._elements.formMinZoom.value=e.minZoom,this._elements.formProjection.value=e.projection,this._elements.formAttribution.value=e.attribution,this._elements.formVersion.value=e.version}loadLayer(e,t,r){this.getCapabilities(e,{onload:(function(e){e?e.Capability.Layer.Layer.forEach((function(i){if(i.Name===t||i.Identifier===t){var n=this.getOptionsFromCap(i,e),s=this.getLayerFromOptions(n);this.dispatchEvent({type:"load",layer:s,options:n}),"function"==typeof r&&r({layer:s,options:n})}}).bind(this)):this.dispatchEvent({type:"load",error:!0})}).bind(this)})}};p.prototype.error={load:"Can't retrieve service capabilities, try to add it manually...",badUrl:"The input value is not a valid url...",TileMatrix:"No TileMatrixSet supported...",noLayer:"No layer available for this service...",srs:"The service projection looks different from that of your map, it may not display correctly..."},p.prototype.labels={formTitle:"Title:",formLayer:"Layers:",formMap:"Map:",formStyle:"Style:",formFormat:"Format:",formMinZoom:"Min zoom level:",formMaxZoom:"Max zoom level:",formExtent:"Extent:",mapExtent:"use map extent...",formProjection:"Projection:",formCrossOrigin:"CrossOrigin:",formVersion:"Version:",formAttribution:"Attribution:"};var f=p}),a("8P7EG",function(e,r){t(e.exports,"default",()=>I);var i=s("dfksr"),n=s("fbciu"),a=s("5kLwh"),o=s("3VMq2");let l=[null,"http://www.opengis.net/wms"],u=(0,n.makeStructureNS)(l,{Service:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},d,e,t)}),Capability:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},h,e,t)})}),h=(0,n.makeStructureNS)(l,{Request:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},x,e,t)}),Exception:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)([],m,e,t)}),Layer:(0,n.makeObjectPropertySetter)(function(e,t){let r=(0,n.pushParseAndPop)({},y,e,t);return void 0===r.Layer?Object.assign(r,w(e,t)):r})});class c extends i.default{constructor(){super(),this.version=void 0}readFromNode(e){return this.version=e.getAttribute("version").trim(),(0,n.pushParseAndPop)({version:this.version},u,e,[])||null}}let d=(0,n.makeStructureNS)(l,{Name:(0,n.makeObjectPropertySetter)(a.readString),Title:(0,n.makeObjectPropertySetter)(a.readString),Abstract:(0,n.makeObjectPropertySetter)(a.readString),KeywordList:(0,n.makeObjectPropertySetter)(P),OnlineResource:(0,n.makeObjectPropertySetter)(o.readHref),ContactInformation:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},p,e,t)}),Fees:(0,n.makeObjectPropertySetter)(a.readString),AccessConstraints:(0,n.makeObjectPropertySetter)(a.readString),LayerLimit:(0,n.makeObjectPropertySetter)(a.readPositiveInteger),MaxWidth:(0,n.makeObjectPropertySetter)(a.readPositiveInteger),MaxHeight:(0,n.makeObjectPropertySetter)(a.readPositiveInteger)}),p=(0,n.makeStructureNS)(l,{ContactPersonPrimary:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},f,e,t)}),ContactPosition:(0,n.makeObjectPropertySetter)(a.readString),ContactAddress:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},g,e,t)}),ContactVoiceTelephone:(0,n.makeObjectPropertySetter)(a.readString),ContactFacsimileTelephone:(0,n.makeObjectPropertySetter)(a.readString),ContactElectronicMailAddress:(0,n.makeObjectPropertySetter)(a.readString)}),f=(0,n.makeStructureNS)(l,{ContactPerson:(0,n.makeObjectPropertySetter)(a.readString),ContactOrganization:(0,n.makeObjectPropertySetter)(a.readString)}),g=(0,n.makeStructureNS)(l,{AddressType:(0,n.makeObjectPropertySetter)(a.readString),Address:(0,n.makeObjectPropertySetter)(a.readString),City:(0,n.makeObjectPropertySetter)(a.readString),StateOrProvince:(0,n.makeObjectPropertySetter)(a.readString),PostCode:(0,n.makeObjectPropertySetter)(a.readString),Country:(0,n.makeObjectPropertySetter)(a.readString)}),m=(0,n.makeStructureNS)(l,{Format:(0,n.makeArrayPusher)(a.readString)}),y=(0,n.makeStructureNS)(l,{Name:(0,n.makeObjectPropertySetter)(a.readString),Title:(0,n.makeObjectPropertySetter)(a.readString),Abstract:(0,n.makeObjectPropertySetter)(a.readString),KeywordList:(0,n.makeObjectPropertySetter)(P),CRS:(0,n.makeObjectPropertyPusher)(a.readString),EX_GeographicBoundingBox:(0,n.makeObjectPropertySetter)(function(e,t){let r=(0,n.pushParseAndPop)({},b,e,t);if(!r)return;let i=r.westBoundLongitude,s=r.southBoundLatitude,a=r.eastBoundLongitude,o=r.northBoundLatitude;if(void 0!==i&&void 0!==s&&void 0!==a&&void 0!==o)return[i,s,a,o]}),BoundingBox:(0,n.makeObjectPropertyPusher)(function(e,t){let r=[(0,a.readDecimalString)(e.getAttribute("minx")),(0,a.readDecimalString)(e.getAttribute("miny")),(0,a.readDecimalString)(e.getAttribute("maxx")),(0,a.readDecimalString)(e.getAttribute("maxy"))],i=[(0,a.readDecimalString)(e.getAttribute("resx")),(0,a.readDecimalString)(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:r,res:i}}),Dimension:(0,n.makeObjectPropertyPusher)(function(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:(0,a.readBooleanString)(e.getAttribute("multipleValues")),nearestValue:(0,a.readBooleanString)(e.getAttribute("nearestValue")),current:(0,a.readBooleanString)(e.getAttribute("current")),values:(0,a.readString)(e)}}),Attribution:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},v,e,t)}),AuthorityURL:(0,n.makeObjectPropertyPusher)(function(e,t){let r=C(e,t);if(r)return r.name=e.getAttribute("name"),r}),Identifier:(0,n.makeObjectPropertyPusher)(a.readString),MetadataURL:(0,n.makeObjectPropertyPusher)(function(e,t){let r=C(e,t);if(r)return r.type=e.getAttribute("type"),r}),DataURL:(0,n.makeObjectPropertyPusher)(C),FeatureListURL:(0,n.makeObjectPropertyPusher)(C),Style:(0,n.makeObjectPropertyPusher)(function(e,t){return(0,n.pushParseAndPop)({},O,e,t)}),MinScaleDenominator:(0,n.makeObjectPropertySetter)(a.readDecimal),MaxScaleDenominator:(0,n.makeObjectPropertySetter)(a.readDecimal),Layer:(0,n.makeObjectPropertyPusher)(w)}),v=(0,n.makeStructureNS)(l,{Title:(0,n.makeObjectPropertySetter)(a.readString),OnlineResource:(0,n.makeObjectPropertySetter)(o.readHref),LogoURL:(0,n.makeObjectPropertySetter)(L)}),b=(0,n.makeStructureNS)(l,{westBoundLongitude:(0,n.makeObjectPropertySetter)(a.readDecimal),eastBoundLongitude:(0,n.makeObjectPropertySetter)(a.readDecimal),southBoundLatitude:(0,n.makeObjectPropertySetter)(a.readDecimal),northBoundLatitude:(0,n.makeObjectPropertySetter)(a.readDecimal)}),x=(0,n.makeStructureNS)(l,{GetCapabilities:(0,n.makeObjectPropertySetter)(T),GetMap:(0,n.makeObjectPropertySetter)(T),GetFeatureInfo:(0,n.makeObjectPropertySetter)(T)}),E=(0,n.makeStructureNS)(l,{Format:(0,n.makeObjectPropertyPusher)(a.readString),DCPType:(0,n.makeObjectPropertyPusher)(function(e,t){return(0,n.pushParseAndPop)({},_,e,t)})}),_=(0,n.makeStructureNS)(l,{HTTP:(0,n.makeObjectPropertySetter)(function(e,t){return(0,n.pushParseAndPop)({},S,e,t)})}),S=(0,n.makeStructureNS)(l,{Get:(0,n.makeObjectPropertySetter)(C),Post:(0,n.makeObjectPropertySetter)(C)}),O=(0,n.makeStructureNS)(l,{Name:(0,n.makeObjectPropertySetter)(a.readString),Title:(0,n.makeObjectPropertySetter)(a.readString),Abstract:(0,n.makeObjectPropertySetter)(a.readString),LegendURL:(0,n.makeObjectPropertyPusher)(L),StyleSheetURL:(0,n.makeObjectPropertySetter)(C),StyleURL:(0,n.makeObjectPropertySetter)(C)}),R=(0,n.makeStructureNS)(l,{Format:(0,n.makeObjectPropertySetter)(a.readString),OnlineResource:(0,n.makeObjectPropertySetter)(o.readHref)}),A=(0,n.makeStructureNS)(l,{Keyword:(0,n.makeArrayPusher)(a.readString)});function w(e,t){let r=t[t.length-1],i=(0,n.pushParseAndPop)({},y,e,t);if(!i)return;let s=(0,a.readBooleanString)(e.getAttribute("queryable"));void 0===s&&(s=r.queryable),i.queryable=void 0!==s&&s;let o=(0,a.readNonNegativeIntegerString)(e.getAttribute("cascaded"));void 0===o&&(o=r.cascaded),i.cascaded=o;let l=(0,a.readBooleanString)(e.getAttribute("opaque"));void 0===l&&(l=r.opaque),i.opaque=void 0!==l&&l;let u=(0,a.readBooleanString)(e.getAttribute("noSubsets"));void 0===u&&(u=r.noSubsets),i.noSubsets=void 0!==u&&u;let h=(0,a.readDecimalString)(e.getAttribute("fixedWidth"));h||(h=r.fixedWidth),i.fixedWidth=h;let c=(0,a.readDecimalString)(e.getAttribute("fixedHeight"));return c||(c=r.fixedHeight),i.fixedHeight=c,["Style","CRS","AuthorityURL"].forEach(function(e){if(e in r){let t=i[e]||[];i[e]=t.concat(r[e])}}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(e){if(!(e in i)){let t=r[e];i[e]=t}}),i}function C(e,t){return(0,n.pushParseAndPop)({},R,e,t)}function T(e,t){return(0,n.pushParseAndPop)({},E,e,t)}function L(e,t){let r=C(e,t);if(r){let t=[(0,a.readNonNegativeIntegerString)(e.getAttribute("width")),(0,a.readNonNegativeIntegerString)(e.getAttribute("height"))];return r.size=t,r}}function P(e,t){return(0,n.pushParseAndPop)([],A,e,t)}var I=c}),a("2NQly",function(e,t){var r=s("205E0"),i=s("cpPSZ"),n=s("3SMVV"),a=s("2K2IB"),o=s("jZquI"),l=s("gzr8q"),u=s("3VGVQ");r.default.prototype.getPreview=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAk6QAAJOkBUCTn+AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANeSURBVHic7ZpPiE1RHMc/780MBhkik79JSUlIUbOxI+wkI2yRhYSUlJLNpJF/xcpiJBmZGBZsNM1CkmhKITGkGbH0/BuPmXnP4rxbb/TOn3fvOffeec6nfqvb/b7f93fveeec37ng8Xg8Ho/nf6Uu4d+fDswFssCvhHOJhaXAMeApMAQUyyIPPAdOAiuTStAVy4EHjDWsix5gdRLJ2mY34ulWYz6IEeA4kIk9awtkgTOEM/5vdAKT4k0/Ou3YMR/ELcbRm9AKFLBbgCJwNE4TYZkJfMG++SIwDCyLz0o4bI17WdyJz0r1TAZ+oDcxCBwAFgIzEIuhvcBbg3sLwOK4DFXLFvQGniCGSSUagS4DjUPOHESkA3XiOWCORqMR6Nfo9DjI3QqPUSd+ylBnv0Zn0GrWFvmIOvGNhjqrNDp/EAutyFgRKUM2tgO+Gur81FxvAKYZaimxXYBvmuuLDHWWaK4X0RfJCNsF6NdcbzXU2a65PohYFKWOc+jn8PUajbWIXaBKp9NB7lZYh34OzwFbFfd/NtDYYSth27urLGIm0M31AL3APWAAmIooymaDnPIl/Vz4NN1yHrd7gcvxWQnHAuA3bsyPop8hUsE13BSgK04TUViBeFo2zedJ8S6wElexW4D2eNOPTjNi6WvD/DtEr8E6tk6GGoAmxFY2iFHE9NZiQf8gogiB9gTEH23izAZuE77vHyU+ANucO1QwD3hD/MbLowAcdm20EmkwXx4n3NodS9rMB2HabYpEWs0HcRqHp0fNwAvJD+eBTZr7p6BvmQVxUaEzEbiruNfJekH15L8jtrEm7JJolEcOmKXRqQOuKDQuY7HZY8s8iNfzkSLxIuI43FTrkkLnOlBfRW4VsWk+oAX5weknxFAxJQNckGgVgZuIRVoomoGXEmGTMa+iQ6K7M4SW7k24QYgiuDQPYinbhugiF4H3RGtzZYCzyIvQXfpNI1ybLyeLpf5+iTbkRbiP2EcocTHm4+YI8iI8RFHwWjAfsA95Q+YZFU6wasl8wB7kReijtNbIILa0vcg/PRlGfPQwHmlCviDqAzaA+OREtzqr1ejOIDorxlNEjTGUBV4nnUWCvAJxGDlA8q9j3DEArAn2zvXAfOwfl6eVAmJrPpJ0Ih6Px+PxeJLjLwPul3vj5d0eAAAAAElFTkSuQmCC"},i.default.prototype.getPreview=function(e,t){e||(e=[21020,6355964]),t||(t=150);var r=this.getTileGrid().getTileCoordForCoordAndResolution(e,t);return this.getTileUrlFunction().call(this,r,this.getProjection())},n.default.prototype.getPreview=function(e,t){e||(e=[21020,6355964]),t||(t=150);var r=this.getTileUrlFunction();if(r){var i=(this.getTileGrid()||this.getTileGridForProjection(this.getProjection())).getTileCoordForCoordAndResolution(e,t);return r.call(this,i,1,this.getProjection())}return(this.getGetFeatureInfoUrl?this.getGetFeatureInfoUrl(e,t,this.getProjection()||"EPSG:3857",{}):this.getFeatureInfoUrl(e,t,this.getProjection()||"EPSG:3857",{})).replace(/getfeatureinfo/i,"GetMap")},a.default.prototype.getPreview=function(e,t,r){if(this.get("preview"))return[this.get("preview")];if(t||(t=150),t<this.getMinResolution()||t>this.getMaxResolution()){var i=this.getMinResolution(),n=this.getMaxResolution();for(n>1e5&&(n=156543),i<.15&&(i=.15),t=n;n>i;)i*=2,n/=2,t=i}var s=this.getExtent();if(e||(e=[21020,6355964]),s&&!(0,o.containsCoordinate)(s,e)&&(e=[(s[0]+s[2])/2,(s[1]+s[3])/2]),r&&(e=(0,l.transform)(e,r,this.getSource().getProjection())),this.getSource&&this.getSource())try{return[this.getSource().getPreview(e,t)]}catch(e){}return[]},u.default.prototype.getPreview=function(e,t){if(this.get("preview"))return[this.get("preview")];var r=[];if(this.getLayers)for(var i=this.getLayers().getArray(),n=0;n<i.length;n++)r=r.concat(i[n].getPreview(e,t));return r}}),a("DXhxE",function(e,r){t(e.exports,"default",()=>a);var i=s("6vpLi");class n extends i.default{constructor(e,t){super(),e&&this.read(e,t)}}n.prototype.read=function(e,t){t=t||{},e.setProjection(t.proj||"EPSG:4326"),e.set("unit",t.unit||"dms")},n.prototype.write=function(e){return{valeur:e.getProjection().getCode(),unite:e.get("units")}};var a=n}),a("iKsmi",function(e,r){t(e.exports,"default",()=>o);var i=s("6vpLi"),n=s("dKl6q");class a extends i.default{constructor(e,t,r,i){super(),e&&this.read(e,t,r,i)}}a.prototype.read=function(e,t,r,i){new n.default(e.getLegend(),t,r,i),r||e.collapse(!t.collapsed)},a.prototype.write=function(e){let t=new(0,n.default)().write(e.getLegend());return t.legendVisible=!e.isCollapsed(),t};var o=a}),a("1RZpL",function(e,r){t(e.exports,"upgradeCarte",()=>a);var i=s("1HEmm"),n=s("gH2ps");function a(e){(0,i.carteV4)(e),(0,n.carteGPF)(e)}}),a("1HEmm",function(e,r){t(e.exports,"carteV4",()=>a),s("bzSwf"),s("lqNjm");var i=s("bqoF2");function n(e){return!!("string"==typeof e?parseInt(e):e)}function a(e){if(console.log(JSON.parse(JSON.stringify(e))),e.version>4)return;e.version=4.01,e.param.title=e.param.titre;let t=e.param.controlParams;e.controls={zoom:n(t.zoomBtn),scaleLine:n(t.scaleLine),searchBar:n(t.pSearchBar),layerSwitcher:n(t.selectLayer),locate:n(t.geoloc),profil:n(t.profil),printDlg:n(t.printDlg)},n(t.coords)?e.controls.mousePosition={proj:e.param.proj.valeur,unit:"ds"===e.param.proj.unite?"dms":"dec"}:e.controls.mousePosition=!1,e.legende||(e.legende={}),e.controls.legend={title:e.legende.title||e.legende.legendtitle,visible:t.legend||!1,collapsed:e.legende.legendVisible||!1,width:e.legende.legendWidth||300,lineHeight:e.legende.lineHeight||55,items:e.legende.items||e.legende.legend||[]},["titre","status","controlParams","proj"].forEach(t=>delete e.param[t]),delete e.legende;let r=[];e.symbolLib&&Object.keys(e.symbolLib).forEach(t=>r.push(e.symbolLib[t])),e.symbolLib=r,e.layers.forEach((t,r)=>{t.wms&&"Plan IGN niveaux de gris"===t.name&&(e.layers[r]={description:i.default.capabilities["GEOGRAPHICALGRIDSYSTEMS.PLANIGNV2"].desc,layer:"GEOGRAPHICALGRIDSYSTEMS.MAPS.SCAN-EXPRESS.NIVEAUXGRIS",name:t.name,opacity:t.opacity,titre:t.titre,type:"Geoportail",visibility:t.visibility})}),console.log("CARTE:",e)}}),a("bzSwf",function(r,i){t(r.exports,"layout",()=>h),t(r.exports,"default",()=>c);var n=s("lqNjm"),a=s("4JxMN"),o=s("8SYbd"),l=s("DW21e");let u={'[data-role="storymap"] select':{color:"COLOR","background-color":"BGCOLOR"},'[data-role="storymap"]':{color:"COLOR","background-color":"BGCOLOR"},'[data-role="storymap"] .tabs:before':{color:"BGCOLOR"},'[data-role="storymap"] .tabs .header > div':{color:"COLOR","background-color":"BGCOLOR"},'[data-role="storymap"] .tabs .header > div.selected':{color:"BGCOLOR","background-color":"COLOR"},'[data-role="storymap"] .volet':{color:"VOLETCOLOR","background-color":"BGVOLETCOLOR"},'[data-role="storymap"] .volet .pages span:hover, [data-role="storymap"] .volet .pages span.active':{color:"BGVOLETCOLOR","background-color":"VOLETCOLOR","border-color":"VOLETCOLOR"},'[data-role="storymap"] .volet .content .toc li:hover, [data-role="storymap"] .tools > div:hover':{color:"BGVOLETCOLOR","background-color":"VOLETCOLOR"},'[data-role="storymap"] .tools > .select':{color:"BGVOLETCOLOR","background-color":"VOLETCOLOR"},'[data-role="storymap"] .title > img':{color:"BGCOLOR"},'[data-role="storymap"] .map button':{color:"COLOR","background-color":"BGCOLOR_08"},'[data-role="storymap"] .map button:focus, [data-role="storymap"] .map button:hover':{"background-color":"BGCOLOR"},'[data-role="storymap"] .ol-layerswitcher':{color:"DARKCOLOR"},'[data-role="storymap"] .ol-search li.copy':{"background-color":"DARKCOLOR",opacity:".65"},'.ol-ext-print-dialog button[type="submit"], .ol-ext-print-dialog .ol-saveas select, .ol-ext-print-dialog .ol-savelegend select':{"background-color":"DARKCOLOR",opacity:".65"},".carte-info-dialog .permalink, .ol-ext-dialog.mapInfo > form .ol-buttons input:hover":{"background-color":"LIGHTCOLOR"},".ol-control.ol-bar .ol-toggle.ol-active > button, .ol-control.ol-bar .ol-toggle.ol-active button:hover":{color:"DARKCOLOR","background-color":"LIGHTCOLOR"},".ol-control.ol-bar .ol-option-bar:before":{"border-color":"transparent transparent DARKCOLOR"},".ol-control.ol-bar .ol-control.ol-text-button div:hover, .ol-control.ol-bar .ol-control.ol-text-button > div":{color:"DARKCOLOR","background-color":"LIGHTCOLOR"},'[data-role="storymap"] .map, .ol-ext-dialog.mapInfo':{color:"DARKCOLOR"},".ol-ext-dialog.mapInfo a":{color:"DARKCOLOR"}},h={default:[[255,255,255],[33,33,33]],gray:[[255,255,255],[102,102,102],[32,32,32],[210,210,210]],green:[[153,207,192],[255,255,255],null,null,[57,121,103],[206,232,227]],braun:[[54,44,42],[226,192,179],null,null,[54,44,42],[249,242,240]],blue:[[255,255,255],[51,102,153],(0,a.darkenColor)([51,102,153]),[185,198,210]],purple:[[144,104,190],[110,211,207],null,null,[144,104,190]]};var c=function(t){if("string"==typeof t&&(t=h[t]),!t)return(0,a.default)("*",null),[[33,33,33],[255,255,255]];let r=t[0],i=t[1];if(!i){i=e(o)(r).brighten(2).rgb();var s=(0,l.toHSL)(i)[2]-(0,l.toHSL)(r)[2];(0,l.toHSL)(r)[2]>40&&s<40&&(i=e(o)(r).darken(2).rgb()),(0,l.toHSL)(r)[2]<40&&s<40&&(i=e(o)(r).brighten(3).rgb())}let c=t[2]||e(o)(r).darken(2).rgb(),d=t[3]||e(o)(r).set("hsl.l",.8).set("hsl.s",.05).rgb(),p=t[4]||i,f=Math.min(60,255-Math.max(r[0],r[1],r[2])),g=t[5]||[Math.min(255,r[0]+f),Math.min(255,r[1]+f),Math.min(255,r[2]+f)];for(let e in u){let t=Object.assign({},u[e]),s=[5,8,10];for(let e in t)s.forEach(s=>{r[3]=s/10;let a=RegExp("BGCOLOR"+(10===s?"":"_0"+s),"g");t[e]=t[e].replace(a,(0,n.asString)(r)),c[3]=s/10,a=RegExp("DARKCOLOR"+(10===s?"":"_0"+s),"g"),t[e]=t[e].replace(a,(0,n.asString)(c)),d[3]=s/10,a=RegExp("LIGHTCOLOR"+(10===s?"":"_0"+s),"g"),t[e]=t[e].replace(a,(0,n.asString)(d)),g[3]=s/10,a=RegExp("BGVOLETCOLOR"+(10===s?"":"_0"+s),"g"),t[e]=t[e].replace(a,(0,n.asString)(g)),p[3]=s/10,a=RegExp("VOLETCOLOR"+(10===s?"":"_0"+s),"g"),t[e]=t[e].replace(a,(0,n.asString)(p)),i[3]=s/10,a=RegExp("COLOR"+(10===s?"":"_0"+s),"g"),t[e]=t[e].replace(a,(0,n.asString)(i))});(0,a.default)(e,t)}return t}}),a("4JxMN",function(e,r){t(e.exports,"darkenColor",()=>o),t(e.exports,"default",()=>l);var i=document.createElement("style");i.setAttribute("type","text/css"),document.body?document.body.appendChild(i):document.head.appendChild(i);let n=[];function s(e,t){for(var r=0;r<n.length;r++)if(n[r].selector===e&&n[r].property===t)return r;return -1}function a(){var e="\n";n.forEach(function(t){e+=t.selector+" {"+t.property+":"+t.value+"; }\n"}),i.innerHTML=e}function o(e,t){return void 0===t&&(t=Math.min(e[0],e[1],e[2])),function(e,t){void 0===t&&(t=Math.min(128,255-Math.max(e[0],e[1],e[2])));let r=[];for(let i=0;i<3;i++)r[i]=Math.max(0,Math.min(255,e[i]+(t||5)));return r}(e,-(t||5))}window.getR=function(){return n};var l=function(e,t,r){var i=t;if("*"===e&&null===t)n=[],a();else if(void 0===t){var o={};return n.forEach(function(t){t.selector===e&&(o[t.property]=t.value)}),o}else if("string"==typeof t){if(void 0===r){var l=s(e,t);return l<0?null:n[l].value}(i={})[t]=r}for(var u in i)!function(e,t,r){var i=s(e,t);i>=0&&n.splice(i,1),r&&n.push({selector:e,property:t,value:r})}(e,u,i[u]);a()}}),a("DW21e",function(e,r){t(e.exports,"toHSL",()=>n),t(e.exports,"toHSV",()=>a),t(e.exports,"fromHSV",()=>o),t(e.exports,"toHexa",()=>l);var i=s("lqNjm"),n=function(e,t){void 0===t&&(t=100),Array.isArray(e)||(e=(0,i.asArray)(e));var r,n,s=e[0]/255,a=e[1]/255,o=e[2]/255,l=Math.max(s,a,o),u=Math.min(s,a,o),h=(l+u)/2;if(l===u)r=n=0;else{var c=l-u;switch(n=h>.5?c/(2-l-u):c/(l+u),l){case s:r=(a-o)/c+(a<o?6:0);break;case a:r=(o-s)/c+2;break;case o:r=(s-a)/c+4}}var d=[Math.round(60*r*t)/t,Math.round(100*n*t)/t,Math.round(100*h*t)/t];return e.length>3&&(d[3]=e[3]),d},a=function(e,t){void 0===t&&(t=100),Array.isArray(e)||(e=(0,i.asArray)(e));var r,n=e[0]/255,s=e[1]/255,a=e[2]/255,o=Math.max(n,s,a),l=Math.min(n,s,a),u=o-l;if(o==l)r=0;else switch(o){case n:r=(s-a)/u+(s<a?6:0);break;case s:r=(a-n)/u+2;break;case a:r=(n-s)/u+4}var h=[Math.round(60*r*t)/t,Math.round(100*(0==o?0:u/o)*t)/t,Math.round(100*o*t)/t];return e.length>3&&(h[3]=e[3]),h},o=function(e,t){void 0===t&&(t=1e3);var r,i,n,s=e[0]/360,a=e[1]/100,o=e[2]/100,l=Math.floor(6*s),u=6*s-l,h=o*(1-a),c=o*(1-u*a),d=o*(1-(1-u)*a);switch(l%6){case 0:r=o,i=d,n=h;break;case 1:r=c,i=o,n=h;break;case 2:r=h,i=o,n=d;break;case 3:r=h,i=c,n=o;break;case 4:r=d,i=h,n=o;break;case 5:r=o,i=h,n=c}var p=[Math.round(255*r*t)/t,Math.round(255*i*t)/t,Math.round(255*n*t)/t];return e.length>3&&(p[3]=e[3]),p},l=function(e){return"#"+(16777216+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1)}}),a("gH2ps",function(e,r){t(e.exports,"carteGPF",()=>i);function i(e){e.layers.forEach(e=>{switch(e.type){case"WMTS":e.wmtsparam.source.url=e.wmtsparam.source.url.replace(/^https:\/\/wxs.ign.fr\/([^\/]*)\/geoportail\/wmts/,"https://data.geopf.fr/wmts"),e.wmtsparam.data.legend&&e.wmtsparam.data.legend.length&&e.wmtsparam.data.legend[0].replace&&(e.wmtsparam.data.legend[0]=e.wmtsparam.data.legend[0].replace(/^https:\/\/wxs.ign.fr\/static\/legends/,"https://data.geopf.fr/annexes/ressources/legendes"));break;case"WMS":e.wmsparam.source.url=e.wmsparam.source.url.replace(/^https:\/\/wxs.ign.fr\/[^\/]*\/geoportail\/([r|v])\/wms/,"https://data.geopf.fr/wms-$1/wms"),e.wmsparam.legend&&e.wmsparam.legend.length&&e.wmsparam.legend[0].url&&e.wmsparam.legend[0].url.replace&&(e.wmsparam.legend[0]=e.wmsparam.legend[0].url.replace(/^https:\/\/wxs.ign.fr\/static\/legends/,"https://data.geopf.fr/annexes/ressources/legendes"));break;case"WFS":e.url&&e.url.replace&&(e.url=e.url.replace(/^https:\/\/wxs.ign.fr\/([^\/]*)\/geoportail\/wfs/,"https://data.geopf.fr/wfs/ows"));break;case"MVT":e.url&&e.url.replace&&(e.url=e.url.replace(/^https:\/\/wxs.ign.fr\/static/,"https://data.geopf.fr/annexes/ressources").replace(/\/essentiels/,""))}e.legend&&e.legend.items.forEach(e=>{e.src&&(e.src=e.src.replace(/^https:\/\/wxs.ign.fr\/static\/legends/,"https://data.geopf.fr/annexes/ressources/legendes"))})})}}),a("2x3of",function(e,r){t(e.exports,"default",()=>u);var i=s("5MXCy"),n=s("jPVWI"),a=s("20LS2"),o=s("5TDW7");class l extends o.default{constructor(){super()}}l.prototype.read=function(e){if("file"!==e.type)return!1;let t=new n.default({source:new a.default});return this.readOptions(t,e),t.set("url",e.url),t.set("extractStyles",e.extractStyles),fetch(e.url).then(e=>e.text()).then(r=>{let n=new i.default().readFeatures(r,{featureProjection:"EPSG:3857",extractStyles:e.extractStyles});n.length&&t.getSource().addFeatures(n)}).catch(()=>{}),t},l.prototype.write=function(e){return"file"!==e.get("type")?null:this.writeOptions(e,{url:e.get("url"),extractStyles:!!e.get("extractStyles")})};var u=l}),a("5MXCy",function(e,r){t(e.exports,"default",()=>m);var i=s("iceob"),n=s("kPMpK"),a=s("aVfgG"),o=s("5bIDX"),l=s("6b5au"),u=s("5mw1t"),h=s("29jcm"),c=s("6xHMs"),d=s("6zjoU"),p=s("9z1G1");class f extends p.default{constructor(e){super(e)}}function g(e,t){if(!e||!e.length)return!1;if(t>0){for(let r=0;r<e.length;r++)if(!g(e[r],t-1))return!1}else if(e.length<2)return!1;return!0}f.formatConstructors=[i.default,u.default,h.default,n.default,a.default,o.default,l.default,c.default,d.default],f.prototype.readFeatures=function(e,t){for(var r=0;r<f.formatConstructors.length;++r){var i=f.formatConstructors[r];try{var n=new i(t).readFeatures(e,t);let r=[];if(n.forEach((e,t)=>{try{let i=e.getGeometry().getCoordinates();switch(e.getGeometry().getType()){case"Point":g(i,0)||r.push(t);break;case"MultiPoint":case"LineString":g(i,1)||r.push(t);break;case"MultiLineString":case"Polygon":g(i,2)||r.push(t);break;case"MultiPolygon":g(i,3)||r.push(t);break;default:console.log(t)}}catch(e){r.push(t)}}),r.reverse().forEach(e=>n.splice(e,1)),n&&n.length>0)return n}catch(e){}}return[]};var m=f}),a("iceob",function(e,r){t(e.exports,"default",()=>Y);var i=s("iGyOD"),n=s("hvEnP"),a=s("7TB1l"),o=s("j2K3b"),l=s("ZEJBL"),u=s("fbciu"),h=s("gzr8q"),c=s("5kLwh"),d=s("9z1G1");let p=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],f={rte:H,trk:B,wpt:Z},g=(0,u.makeStructureNS)(p,{rte:(0,u.makeArrayPusher)(H),trk:(0,u.makeArrayPusher)(B),wpt:(0,u.makeArrayPusher)(Z)}),m=(0,u.makeStructureNS)(p,{text:(0,u.makeObjectPropertySetter)(c.readString,"linkText"),type:(0,u.makeObjectPropertySetter)(c.readString,"linkType")}),y=(0,u.makeStructureNS)(p,{rte:(0,u.makeChildAppender)(function(e,t,r){let i=r[0],n=t.getProperties(),s={node:e};s.properties=n;let a=t.getGeometry();if("LineString"==a.getType()){let e=(0,d.transformGeometryWithOptions)(a,!0,i);s.geometryLayout=e.getLayout(),n.rtept=e.getCoordinates()}let o=w[r[r.length-1].node.namespaceURI],l=(0,u.makeSequence)(n,o);(0,u.pushSerializeAndPop)(s,C,u.OBJECT_PROPERTY_NODE_FACTORY,l,r,o)}),trk:(0,u.makeChildAppender)(function(e,t,r){let i=r[0],n=t.getProperties(),s={node:e};s.properties=n;let a=t.getGeometry();if("MultiLineString"==a.getType()){let e=(0,d.transformGeometryWithOptions)(a,!0,i);n.trkseg=e.getLineStrings()}let o=L[r[r.length-1].node.namespaceURI],l=(0,u.makeSequence)(n,o);(0,u.pushSerializeAndPop)(s,P,u.OBJECT_PROPERTY_NODE_FACTORY,l,r,o)}),wpt:(0,u.makeChildAppender)(function(e,t,r){let i=r[0],n=r[r.length-1];n.properties=t.getProperties();let s=t.getGeometry();if("Point"==s.getType()){let t=(0,d.transformGeometryWithOptions)(s,!0,i);n.geometryLayout=t.getLayout(),V(e,t.getCoordinates(),r)}})});class v extends l.default{constructor(e){super(),e=e||{},this.dataProjection=(0,h.get)("EPSG:4326"),this.readExtensions_=e.readExtensions}handleReadExtensions_(e){e||(e=[]);for(let t=0,r=e.length;t<r;++t){let r=e[t];if(this.readExtensions_){let e=r.get("extensionsNode_")||null;this.readExtensions_(r,e)}r.set("extensionsNode_",void 0)}}readFeatureFromNode(e,t){if(!p.includes(e.namespaceURI))return null;let r=f[e.localName];if(!r)return null;let i=r(e,[this.getReadOptions(e,t)]);return i?(this.handleReadExtensions_([i]),i):null}readFeaturesFromNode(e,t){if(!p.includes(e.namespaceURI))return[];if("gpx"==e.localName){let r=(0,u.pushParseAndPop)([],g,e,[this.getReadOptions(e,t)]);if(r)return this.handleReadExtensions_(r),r}return[]}writeFeaturesNode(e,t){t=this.adaptOptions(t);let r=(0,u.createElementNS)("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",u.XML_SCHEMA_INSTANCE_URI),r.setAttributeNS(u.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),(0,u.pushSerializeAndPop)({node:r},y,D,e,[t]),r}}let b=(0,u.makeStructureNS)(p,{name:(0,u.makeObjectPropertySetter)(c.readString),cmt:(0,u.makeObjectPropertySetter)(c.readString),desc:(0,u.makeObjectPropertySetter)(c.readString),src:(0,u.makeObjectPropertySetter)(c.readString),link:j,number:(0,u.makeObjectPropertySetter)(c.readPositiveInteger),extensions:U,type:(0,u.makeObjectPropertySetter)(c.readString),rtept:function(e,t){let r=(0,u.pushParseAndPop)({},x,e,t);if(r){let i=t[t.length-1];F(i.flatCoordinates,i.layoutOptions,e,r)}}}),x=(0,u.makeStructureNS)(p,{ele:(0,u.makeObjectPropertySetter)(c.readDecimal),time:(0,u.makeObjectPropertySetter)(c.readDateTime)}),E=(0,u.makeStructureNS)(p,{name:(0,u.makeObjectPropertySetter)(c.readString),cmt:(0,u.makeObjectPropertySetter)(c.readString),desc:(0,u.makeObjectPropertySetter)(c.readString),src:(0,u.makeObjectPropertySetter)(c.readString),link:j,number:(0,u.makeObjectPropertySetter)(c.readPositiveInteger),type:(0,u.makeObjectPropertySetter)(c.readString),extensions:U,trkseg:function(e,t){let r=t[t.length-1];(0,u.parseNode)(_,e,t);let i=r.flatCoordinates;r.ends.push(i.length)}}),_=(0,u.makeStructureNS)(p,{trkpt:function(e,t){let r=(0,u.pushParseAndPop)({},S,e,t);if(r){let i=t[t.length-1];F(i.flatCoordinates,i.layoutOptions,e,r)}}}),S=(0,u.makeStructureNS)(p,{ele:(0,u.makeObjectPropertySetter)(c.readDecimal),time:(0,u.makeObjectPropertySetter)(c.readDateTime)}),O=(0,u.makeStructureNS)(p,{ele:(0,u.makeObjectPropertySetter)(c.readDecimal),time:(0,u.makeObjectPropertySetter)(c.readDateTime),magvar:(0,u.makeObjectPropertySetter)(c.readDecimal),geoidheight:(0,u.makeObjectPropertySetter)(c.readDecimal),name:(0,u.makeObjectPropertySetter)(c.readString),cmt:(0,u.makeObjectPropertySetter)(c.readString),desc:(0,u.makeObjectPropertySetter)(c.readString),src:(0,u.makeObjectPropertySetter)(c.readString),link:j,sym:(0,u.makeObjectPropertySetter)(c.readString),type:(0,u.makeObjectPropertySetter)(c.readString),fix:(0,u.makeObjectPropertySetter)(c.readString),sat:(0,u.makeObjectPropertySetter)(c.readPositiveInteger),hdop:(0,u.makeObjectPropertySetter)(c.readDecimal),vdop:(0,u.makeObjectPropertySetter)(c.readDecimal),pdop:(0,u.makeObjectPropertySetter)(c.readDecimal),ageofdgpsdata:(0,u.makeObjectPropertySetter)(c.readDecimal),dgpsid:(0,u.makeObjectPropertySetter)(c.readPositiveInteger),extensions:U}),R=["text","type"],A=(0,u.makeStructureNS)(p,{text:(0,u.makeChildAppender)(c.writeStringTextNode),type:(0,u.makeChildAppender)(c.writeStringTextNode)}),w=(0,u.makeStructureNS)(p,["name","cmt","desc","src","link","number","type","rtept"]),C=(0,u.makeStructureNS)(p,{name:(0,u.makeChildAppender)(c.writeStringTextNode),cmt:(0,u.makeChildAppender)(c.writeStringTextNode),desc:(0,u.makeChildAppender)(c.writeStringTextNode),src:(0,u.makeChildAppender)(c.writeStringTextNode),link:(0,u.makeChildAppender)(z),number:(0,u.makeChildAppender)(c.writeNonNegativeIntegerTextNode),type:(0,u.makeChildAppender)(c.writeStringTextNode),rtept:(0,u.makeArraySerializer)((0,u.makeChildAppender)(V))}),T=(0,u.makeStructureNS)(p,["ele","time"]),L=(0,u.makeStructureNS)(p,["name","cmt","desc","src","link","number","type","trkseg"]),P=(0,u.makeStructureNS)(p,{name:(0,u.makeChildAppender)(c.writeStringTextNode),cmt:(0,u.makeChildAppender)(c.writeStringTextNode),desc:(0,u.makeChildAppender)(c.writeStringTextNode),src:(0,u.makeChildAppender)(c.writeStringTextNode),link:(0,u.makeChildAppender)(z),number:(0,u.makeChildAppender)(c.writeNonNegativeIntegerTextNode),type:(0,u.makeChildAppender)(c.writeStringTextNode),trkseg:(0,u.makeArraySerializer)((0,u.makeChildAppender)(function(e,t,r){let i={node:e};i.geometryLayout=t.getLayout(),i.properties={},(0,u.pushSerializeAndPop)(i,M,I,t.getCoordinates(),r)}))}),I=(0,u.makeSimpleNodeFactory)("trkpt"),M=(0,u.makeStructureNS)(p,{trkpt:(0,u.makeChildAppender)(V)}),N=(0,u.makeStructureNS)(p,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),G=(0,u.makeStructureNS)(p,{ele:(0,u.makeChildAppender)(c.writeDecimalTextNode),time:(0,u.makeChildAppender)(c.writeDateTimeTextNode),magvar:(0,u.makeChildAppender)(c.writeDecimalTextNode),geoidheight:(0,u.makeChildAppender)(c.writeDecimalTextNode),name:(0,u.makeChildAppender)(c.writeStringTextNode),cmt:(0,u.makeChildAppender)(c.writeStringTextNode),desc:(0,u.makeChildAppender)(c.writeStringTextNode),src:(0,u.makeChildAppender)(c.writeStringTextNode),link:(0,u.makeChildAppender)(z),sym:(0,u.makeChildAppender)(c.writeStringTextNode),type:(0,u.makeChildAppender)(c.writeStringTextNode),fix:(0,u.makeChildAppender)(c.writeStringTextNode),sat:(0,u.makeChildAppender)(c.writeNonNegativeIntegerTextNode),hdop:(0,u.makeChildAppender)(c.writeDecimalTextNode),vdop:(0,u.makeChildAppender)(c.writeDecimalTextNode),pdop:(0,u.makeChildAppender)(c.writeDecimalTextNode),ageofdgpsdata:(0,u.makeChildAppender)(c.writeDecimalTextNode),dgpsid:(0,u.makeChildAppender)(c.writeNonNegativeIntegerTextNode)}),k={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function D(e,t,r){let i=e.getGeometry();if(i){let e=k[i.getType()];if(e){let r=t[t.length-1].node;return(0,u.createElementNS)(r.namespaceURI,e)}}}function F(e,t,r,i){return e.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in i?(e.push(i.ele),delete i.ele,t.hasZ=!0):e.push(0),"time"in i?(e.push(i.time),delete i.time,t.hasM=!0):e.push(0),e}function q(e,t,r){let i="XY",n=2;if(e.hasZ&&e.hasM?(i="XYZM",n=4):e.hasZ?(i="XYZ",n=3):e.hasM&&(i="XYM",n=3),4!==n){for(let r=0,i=t.length/4;r<i;r++)t[r*n]=t[4*r],t[r*n+1]=t[4*r+1],e.hasZ&&(t[r*n+2]=t[4*r+2]),e.hasM&&(t[r*n+2]=t[4*r+3]);if(t.length=t.length/4*n,r)for(let e=0,t=r.length;e<t;e++)r[e]=r[e]/4*n}return i}function j(e,t){let r=t[t.length-1],i=e.getAttribute("href");null!==i&&(r.link=i),(0,u.parseNode)(m,e,t)}function U(e,t){t[t.length-1].extensionsNode_=e}function H(e,t){let r=t[0],s=(0,u.pushParseAndPop)({flatCoordinates:[],layoutOptions:{}},b,e,t);if(!s)return;let a=s.flatCoordinates;delete s.flatCoordinates;let o=s.layoutOptions;delete s.layoutOptions;let l=q(o,a),h=new n.default(a,l);(0,d.transformGeometryWithOptions)(h,!1,r);let c=new i.default(h);return c.setProperties(s,!0),c}function B(e,t){let r=t[0],n=(0,u.pushParseAndPop)({flatCoordinates:[],ends:[],layoutOptions:{}},E,e,t);if(!n)return;let s=n.flatCoordinates;delete n.flatCoordinates;let o=n.ends;delete n.ends;let l=n.layoutOptions;delete n.layoutOptions;let h=q(l,s,o),c=new a.default(s,h,o);(0,d.transformGeometryWithOptions)(c,!1,r);let p=new i.default(c);return p.setProperties(n,!0),p}function Z(e,t){let r=t[0],n=(0,u.pushParseAndPop)({},O,e,t);if(!n)return;let s={},a=F([],s,e,n),l=q(s,a),h=new o.default(a,l);(0,d.transformGeometryWithOptions)(h,!1,r);let c=new i.default(h);return c.setProperties(n,!0),c}function z(e,t,r){e.setAttribute("href",t);let i=r[r.length-1].properties,n=[i.linkText,i.linkType];(0,u.pushSerializeAndPop)({node:e},A,u.OBJECT_PROPERTY_NODE_FACTORY,n,r,R)}function V(e,t,r){let i=r[r.length-1],n=i.node.namespaceURI,s=i.properties;switch(e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0])),i.geometryLayout){case"XYZM":0!==t[3]&&(s.time=t[3]);case"XYZ":0!==t[2]&&(s.ele=t[2]);break;case"XYM":0!==t[2]&&(s.time=t[2])}let a="rtept"==e.nodeName?T[n]:N[n],o=(0,u.makeSequence)(s,a);(0,u.pushSerializeAndPop)({node:e,properties:s},G,u.OBJECT_PROPERTY_NODE_FACTORY,o,r,a)}var Y=v}),a("ZEJBL",function(e,r){t(e.exports,"default",()=>u);var i=s("9z1G1"),n=s("lVQul"),a=s("kBSVF"),o=s("fbciu");class l extends i.default{constructor(){super(),this.xmlSerializer_=(0,o.getXMLSerializer)()}getType(){return"xml"}readFeature(e,t){if(!e)return null;if("string"==typeof e){let r=(0,o.parse)(e);return this.readFeatureFromDocument(r,t)}return(0,o.isDocument)(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}readFeatureFromDocument(e,t){let r=this.readFeaturesFromDocument(e,t);return r.length>0?r[0]:null}readFeatureFromNode(e,t){return null}readFeatures(e,t){if(!e)return[];if("string"==typeof e){let r=(0,o.parse)(e);return this.readFeaturesFromDocument(r,t)}return(0,o.isDocument)(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}readFeaturesFromDocument(e,t){let r=[];for(let i=e.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,a.extend)(r,this.readFeaturesFromNode(i,t));return r}readFeaturesFromNode(e,t){return(0,n.abstract)()}readGeometry(e,t){if(!e)return null;if("string"==typeof e){let r=(0,o.parse)(e);return this.readGeometryFromDocument(r,t)}return(0,o.isDocument)(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}readGeometryFromDocument(e,t){return null}readGeometryFromNode(e,t){return null}readProjection(e){if(!e)return null;if("string"==typeof e){let t=(0,o.parse)(e);return this.readProjectionFromDocument(t)}return(0,o.isDocument)(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,t){let r=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeFeatureNode(e,t){return null}writeFeatures(e,t){let r=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeFeaturesNode(e,t){return null}writeGeometry(e,t){let r=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(r)}writeGeometryNode(e,t){return null}}var u=l}),a("aVfgG",function(e,r){t(e.exports,"default",()=>f);var i=s("iGyOD"),n=s("hvEnP"),a=s("jEnSw"),o=s("gzr8q"),l=s("9z1G1");let u=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,h=/^H.([A-Z]{3}).*?:(.*)/,c=/^HFDTE(\d{2})(\d{2})(\d{2})/,d=/\r\n|\r|\n/;class p extends a.default{constructor(e){super(),e=e||{},this.dataProjection=(0,o.get)("EPSG:4326"),this.altitudeMode_=e.altitudeMode?e.altitudeMode:"none"}readFeatureFromText(e,t){let r,s;let a=this.altitudeMode_,o=e.split(d),p={},f=[],g=2e3,m=0,y=1,v=-1;for(r=0,s=o.length;r<s;++r){let e;let t=o[r];if("B"==t.charAt(0)){if(e=u.exec(t)){let t=parseInt(e[1],10),r=parseInt(e[2],10),i=parseInt(e[3],10),n=parseInt(e[4],10)+parseInt(e[5],10)/6e4;"S"==e[6]&&(n=-n);let s=parseInt(e[7],10)+parseInt(e[8],10)/6e4;if("W"==e[9]&&(s=-s),f.push(s,n),"none"!=a){let t;t="gps"==a?parseInt(e[11],10):"barometric"==a?parseInt(e[12],10):0,f.push(t)}let o=Date.UTC(g,m,y,t,r,i);o<v&&(o=Date.UTC(g,m,y+1,t,r,i)),f.push(o/1e3),v=o}}else"H"==t.charAt(0)&&((e=c.exec(t))?(y=parseInt(e[1],10),m=parseInt(e[2],10)-1,g=2e3+parseInt(e[3],10)):(e=h.exec(t))&&(p[e[1]]=e[2].trim()))}if(0===f.length)return null;let b=new n.default(f,"none"==a?"XYM":"XYZM"),x=new i.default((0,l.transformGeometryWithOptions)(b,!1,t));return x.setProperties(p,!0),x}readFeaturesFromText(e,t){let r=this.readFeatureFromText(e,t);return r?[r]:[]}}var f=p}),a("jEnSw",function(e,r){t(e.exports,"default",()=>l);var i=s("9z1G1"),n=s("lVQul");class a extends i.default{constructor(){super()}getType(){return"text"}readFeature(e,t){return this.readFeatureFromText(o(e),this.adaptOptions(t))}readFeatureFromText(e,t){return(0,n.abstract)()}readFeatures(e,t){return this.readFeaturesFromText(o(e),this.adaptOptions(t))}readFeaturesFromText(e,t){return(0,n.abstract)()}readGeometry(e,t){return this.readGeometryFromText(o(e),this.adaptOptions(t))}readGeometryFromText(e,t){return(0,n.abstract)()}readProjection(e){return this.readProjectionFromText(o(e))}readProjectionFromText(e){return this.dataProjection}writeFeature(e,t){return this.writeFeatureText(e,this.adaptOptions(t))}writeFeatureText(e,t){return(0,n.abstract)()}writeFeatures(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))}writeFeaturesText(e,t){return(0,n.abstract)()}writeGeometry(e,t){return this.writeGeometryText(e,this.adaptOptions(t))}writeGeometryText(e,t){return(0,n.abstract)()}}function o(e){return"string"==typeof e?e:""}var l=a}),a("5bIDX",function(e,r){let i,n,a,o,l,u,h,c,d;t(e.exports,"default",()=>tg);var p=s("iGyOD"),f=s("2zf1Y"),g=s("6pyIt"),m=s("ayeEa"),y=s("50PZ9"),v=s("hvEnP"),b=s("7TB1l"),x=s("ljDIj"),E=s("dEQmT"),_=s("j2K3b"),S=s("cgPpQ"),O=s("d5AAH"),R=s("l9IGS"),A=s("kuKBR"),w=s("ZEJBL"),C=s("fbciu"),T=s("lqNjm"),L=s("kBSVF"),P=s("gzr8q"),I=s("5kLwh"),M=s("a6roo"),N=s("9z1G1");let G=["http://www.google.com/kml/ext/2.2"],k=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],D={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},F=(0,C.makeStructureNS)(k,{ExtendedData:eP,Region:eI,MultiGeometry:(0,C.makeObjectPropertySetter)(e_,"geometry"),LineString:(0,C.makeObjectPropertySetter)(eb,"geometry"),LinearRing:(0,C.makeObjectPropertySetter)(ex,"geometry"),Point:(0,C.makeObjectPropertySetter)(eS,"geometry"),Polygon:(0,C.makeObjectPropertySetter)(eR,"geometry"),Style:(0,C.makeObjectPropertySetter)(ew),StyleMap:function(e,t){let r=es.call(this,e,t);if(!r)return;let i=t[t.length-1];if(Array.isArray(r))i.Style=r;else if("string"==typeof r)i.styleUrl=r;else throw Error("`styleMapValue` has an unknown type")},address:(0,C.makeObjectPropertySetter)(I.readString),description:(0,C.makeObjectPropertySetter)(I.readString),name:(0,C.makeObjectPropertySetter)(I.readString),open:(0,C.makeObjectPropertySetter)(I.readBoolean),phoneNumber:(0,C.makeObjectPropertySetter)(I.readString),styleUrl:(0,C.makeObjectPropertySetter)(er),visibility:(0,C.makeObjectPropertySetter)(I.readBoolean)},(0,C.makeStructureNS)(G,{MultiTrack:(0,C.makeObjectPropertySetter)(function(e,t){let r=(0,C.pushParseAndPop)([],ed,e,t);if(r)return new b.default(r)},"geometry"),Track:(0,C.makeObjectPropertySetter)(ef,"geometry")})),q=(0,C.makeStructureNS)(k,{ExtendedData:eP,Region:eI,Link:function(e,t){(0,C.parseNode)(j,e,t)},address:(0,C.makeObjectPropertySetter)(I.readString),description:(0,C.makeObjectPropertySetter)(I.readString),name:(0,C.makeObjectPropertySetter)(I.readString),open:(0,C.makeObjectPropertySetter)(I.readBoolean),phoneNumber:(0,C.makeObjectPropertySetter)(I.readString),visibility:(0,C.makeObjectPropertySetter)(I.readBoolean)}),j=(0,C.makeStructureNS)(k,{href:(0,C.makeObjectPropertySetter)(et)}),U=(0,C.makeStructureNS)(k,{Altitude:(0,C.makeObjectPropertySetter)(I.readDecimal),Longitude:(0,C.makeObjectPropertySetter)(I.readDecimal),Latitude:(0,C.makeObjectPropertySetter)(I.readDecimal),Tilt:(0,C.makeObjectPropertySetter)(I.readDecimal),AltitudeMode:(0,C.makeObjectPropertySetter)(I.readString),Heading:(0,C.makeObjectPropertySetter)(I.readDecimal),Roll:(0,C.makeObjectPropertySetter)(I.readDecimal)}),H=(0,C.makeStructureNS)(k,{LatLonAltBox:function(e,t){let r=(0,C.pushParseAndPop)({},eG,e,t);if(!r)return;let i=t[t.length-1],n=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];i.extent=n,i.altitudeMode=r.altitudeMode,i.minAltitude=parseFloat(r.minAltitude),i.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(e,t){let r=(0,C.pushParseAndPop)({},ek,e,t);if(!r)return;let i=t[t.length-1];i.minLodPixels=parseFloat(r.minLodPixels),i.maxLodPixels=parseFloat(r.maxLodPixels),i.minFadeExtent=parseFloat(r.minFadeExtent),i.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),B=(0,C.makeStructureNS)(k,["Document","Placemark"]),Z=(0,C.makeStructureNS)(k,{Document:(0,C.makeChildAppender)(function(e,t,r){(0,C.pushSerializeAndPop)({node:e},eU,eH,t,r,void 0,this)}),Placemark:(0,C.makeChildAppender)(tr)}),z=null,V=null,Y=null,W=null,X=null;function K(e){return 32/Math.min(e[0],e[1])}function J(e){return e}class $ extends w.default{constructor(e){super(),e=e||{},X||(i=[255,255,255,1],z=new f.default({color:i}),n=[20,2],a="pixels",o="pixels",l=[64,64],u="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",V=new m.default({anchor:n,anchorOrigin:"bottom-left",anchorXUnits:a,anchorYUnits:o,crossOrigin:"anonymous",rotation:0,scale:K(l),size:l,src:u}),h="NO_IMAGE",Y=new O.default({color:i,width:1}),c=new O.default({color:[51,51,51,1],width:2}),W=new A.default({font:"bold 16px Helvetica",fill:z,stroke:c,scale:.8}),X=[new R.default({fill:z,image:V,text:W,stroke:Y,zIndex:0})]),this.dataProjection=(0,P.get)("EPSG:4326"),this.defaultStyle_=e.defaultStyle?e.defaultStyle:X,this.extractStyles_=void 0===e.extractStyles||e.extractStyles,this.writeStyles_=void 0===e.writeStyles||e.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===e.showPointNames||e.showPointNames,this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",this.iconUrlFunction_=e.iconUrlFunction?e.iconUrlFunction:J,this.supportedMediaTypes=["application/vnd.google-earth.kml+xml"]}readDocumentOrFolder_(e,t){let r=(0,C.makeStructureNS)(k,{Document:(0,C.makeArrayExtender)(this.readDocumentOrFolder_,this),Folder:(0,C.makeArrayExtender)(this.readDocumentOrFolder_,this),Placemark:(0,C.makeArrayPusher)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),i=(0,C.pushParseAndPop)([],r,e,t,this);if(i)return i}readPlacemark_(e,t){let r=(0,C.pushParseAndPop)({geometry:null},F,e,t,this);if(!r)return;let i=new p.default,n=e.getAttribute("id");null!==n&&i.setId(n);let s=t[0],a=r.geometry;if(a&&(0,N.transformGeometryWithOptions)(a,!1,s),i.setGeometry(a),delete r.geometry,this.extractStyles_){var o,l,u,h,f;let e=(o=r.Style,l=r.styleUrl,u=this.defaultStyle_,h=this.sharedStyles_,f=this.showPointNames_,function(e,t){let r=f,i="",n=[];if(r){let t=e.getGeometry();if(t){if(t instanceof g.default)r=(n=t.getGeometriesArrayRecursive().filter(function(e){let t=e.getType();return"Point"===t||"MultiPoint"===t})).length>0;else{let e=t.getType();r="Point"===e||"MultiPoint"===e}}}r&&(i=e.get("name"),(r=r&&!!i)&&/&[^&]+;/.test(i)&&(d||(d=document.createElement("textarea")),d.innerHTML=i,i=d.value));let s=u;if(o?s=o:l&&(s=function e(t,r,i){return Array.isArray(t)?t:"string"==typeof t?e(i[t],r,i):r}(l,u,h)),r){let e=function(e,t){let r=[0,0],i="start",n=e.getImage();if(n){let e=n.getSize();if(e&&2==e.length){let t=n.getScaleArray(),s=n.getAnchor();r[0]=t[0]*(e[0]-s[0]),r[1]=t[1]*(e[1]/2-s[1]),i="left"}}let s=e.getText();return s?((s=s.clone()).setFont(s.getFont()||W.getFont()),s.setScale(s.getScale()||W.getScale()),s.setFill(s.getFill()||W.getFill()),s.setStroke(s.getStroke()||c)):s=W.clone(),s.setText(t),s.setOffsetX(r[0]),s.setOffsetY(r[1]),s.setTextAlign(i),new R.default({image:n,text:s})}(s[0],i);return n.length>0?(e.setGeometry(new g.default(n)),[e,new R.default({geometry:s[0].getGeometry(),image:null,fill:s[0].getFill(),stroke:s[0].getStroke(),text:null})].concat(s.slice(1))):e}return s});i.setStyle(e)}return delete r.Style,i.setProperties(r,!0),i}readSharedStyle_(e,t){let r=e.getAttribute("id");if(null!==r){let i=ew.call(this,e,t);if(i){let t;let n=e.baseURI;n&&"about:blank"!=n||(n=window.location.href),t=n?new URL("#"+r,n).href:"#"+r,this.sharedStyles_[t]=i}}}readSharedStyleMap_(e,t){let r;let i=e.getAttribute("id");if(null===i)return;let n=es.call(this,e,t);if(!n)return;let s=e.baseURI;s&&"about:blank"!=s||(s=window.location.href),r=s?new URL("#"+i,s).href:"#"+i,this.sharedStyles_[r]=n}readFeatureFromNode(e,t){return k.includes(e.namespaceURI)&&this.readPlacemark_(e,[this.getReadOptions(e,t)])||null}readFeaturesFromNode(e,t){let r;if(!k.includes(e.namespaceURI))return[];let i=e.localName;if("Document"==i||"Folder"==i)return(r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))?r:[];if("Placemark"==i){let r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r?[r]:[]}if("kml"==i){r=[];for(let i=e.firstElementChild;i;i=i.nextElementSibling){let e=this.readFeaturesFromNode(i,t);e&&(0,L.extend)(r,e)}return r}return[]}readName(e){if(e){if("string"==typeof e){let t=(0,C.parse)(e);return this.readNameFromDocument(t)}return(0,C.isDocument)(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}}readNameFromDocument(e){for(let t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){let e=this.readNameFromNode(t);if(e)return e}}readNameFromNode(e){for(let t=e.firstElementChild;t;t=t.nextElementSibling)if(k.includes(t.namespaceURI)&&"name"==t.localName)return(0,I.readString)(t);for(let t=e.firstElementChild;t;t=t.nextElementSibling){let e=t.localName;if(k.includes(t.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)){let e=this.readNameFromNode(t);if(e)return e}}}readNetworkLinks(e){let t=[];if("string"==typeof e){let r=(0,C.parse)(e);(0,L.extend)(t,this.readNetworkLinksFromDocument(r))}else(0,C.isDocument)(e)?(0,L.extend)(t,this.readNetworkLinksFromDocument(e)):(0,L.extend)(t,this.readNetworkLinksFromNode(e));return t}readNetworkLinksFromDocument(e){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,L.extend)(t,this.readNetworkLinksFromNode(r));return t}readNetworkLinksFromNode(e){let t=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(k.includes(r.namespaceURI)&&"NetworkLink"==r.localName){let e=(0,C.pushParseAndPop)({},q,r,[]);t.push(e)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let e=r.localName;k.includes(r.namespaceURI)&&("Document"==e||"Folder"==e||"kml"==e)&&(0,L.extend)(t,this.readNetworkLinksFromNode(r))}return t}readRegion(e){let t=[];if("string"==typeof e){let r=(0,C.parse)(e);(0,L.extend)(t,this.readRegionFromDocument(r))}else(0,C.isDocument)(e)?(0,L.extend)(t,this.readRegionFromDocument(e)):(0,L.extend)(t,this.readRegionFromNode(e));return t}readRegionFromDocument(e){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,L.extend)(t,this.readRegionFromNode(r));return t}readRegionFromNode(e){let t=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(k.includes(r.namespaceURI)&&"Region"==r.localName){let e=(0,C.pushParseAndPop)({},H,r,[]);t.push(e)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let e=r.localName;k.includes(r.namespaceURI)&&("Document"==e||"Folder"==e||"kml"==e)&&(0,L.extend)(t,this.readRegionFromNode(r))}return t}readCamera(e){let t=[];if("string"==typeof e){let r=(0,C.parse)(e);(0,L.extend)(t,this.readCameraFromDocument(r))}else(0,C.isDocument)(e)?(0,L.extend)(t,this.readCameraFromDocument(e)):(0,L.extend)(t,this.readCameraFromNode(e));return t}readCameraFromDocument(e){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)r.nodeType===Node.ELEMENT_NODE&&(0,L.extend)(t,this.readCameraFromNode(r));return t}readCameraFromNode(e){let t=[];for(let r=e.firstElementChild;r;r=r.nextElementSibling)if(k.includes(r.namespaceURI)&&"Camera"===r.localName){let e=(0,C.pushParseAndPop)({},U,r,[]);t.push(e)}for(let r=e.firstElementChild;r;r=r.nextElementSibling){let e=r.localName;k.includes(r.namespaceURI)&&("Document"===e||"Folder"===e||"Placemark"===e||"kml"===e)&&(0,L.extend)(t,this.readCameraFromNode(r))}return t}writeFeaturesNode(e,t){t=this.adaptOptions(t);let r=(0,C.createElementNS)(k[4],"kml"),i="http://www.w3.org/2000/xmlns/";r.setAttributeNS(i,"xmlns:gx",G[0]),r.setAttributeNS(i,"xmlns:xsi",C.XML_SCHEMA_INSTANCE_URI),r.setAttributeNS(C.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");let n={};e.length>1?n.Document=e:1==e.length&&(n.Placemark=e[0]);let s=B[r.namespaceURI],a=(0,C.makeSequence)(n,s);return(0,C.pushSerializeAndPop)({node:r},Z,C.OBJECT_PROPERTY_NODE_FACTORY,a,[t],s,this),r}}function Q(e){let t=(0,C.getAllTextContent)(e,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(r){let e=r[1];return[parseInt(e.substr(6,2),16),parseInt(e.substr(4,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(0,2),16)/255]}}function ee(e){let t,r=(0,C.getAllTextContent)(e,!1),i=[];r=r.replace(/\s*,\s*/g,",");let n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;for(;t=n.exec(r);){let e=parseFloat(t[1]),n=parseFloat(t[2]),s=t[3]?parseFloat(t[3]):0;i.push(e,n,s),r=r.substr(t[0].length)}if(""===r)return i}function et(e){let t=(0,C.getAllTextContent)(e,!1).trim(),r=e.baseURI;return(r&&"about:blank"!=r||(r=window.location.href),r)?new URL(t,r).href:t}function er(e){let t=(0,C.getAllTextContent)(e,!1).trim().replace(/^(?!.*#)/,"#"),r=e.baseURI;return(r&&"about:blank"!=r||(r=window.location.href),r)?new URL(t,r).href:t}function ei(e){return(0,I.readDecimal)(e)}let en=(0,C.makeStructureNS)(k,{Pair:function(e,t){let r=(0,C.pushParseAndPop)({},eM,e,t,this);if(!r)return;let i=r.key;if(i&&"normal"==i){let e=r.styleUrl;e&&(t[t.length-1]=e);let i=r.Style;i&&(t[t.length-1]=i)}}});function es(e,t){return(0,C.pushParseAndPop)(void 0,en,e,t,this)}let ea=(0,C.makeStructureNS)(k,{Icon:(0,C.makeObjectPropertySetter)(function(e,t){return(0,C.pushParseAndPop)({},eg,e,t)||null}),color:(0,C.makeObjectPropertySetter)(Q),heading:(0,C.makeObjectPropertySetter)(I.readDecimal),hotSpot:(0,C.makeObjectPropertySetter)(function(e){let t=e.getAttribute("xunits"),r=e.getAttribute("yunits");return{x:parseFloat(e.getAttribute("x")),xunits:D[t],y:parseFloat(e.getAttribute("y")),yunits:D[r],origin:"insetPixels"!==t?"insetPixels"!==r?"bottom-left":"top-left":"insetPixels"!==r?"bottom-right":"top-right"}}),scale:(0,C.makeObjectPropertySetter)(ei)}),eo=(0,C.makeStructureNS)(k,{color:(0,C.makeObjectPropertySetter)(Q),scale:(0,C.makeObjectPropertySetter)(ei)}),el=(0,C.makeStructureNS)(k,{color:(0,C.makeObjectPropertySetter)(Q),width:(0,C.makeObjectPropertySetter)(I.readDecimal)}),eu=(0,C.makeStructureNS)(k,{color:(0,C.makeObjectPropertySetter)(Q),fill:(0,C.makeObjectPropertySetter)(I.readBoolean),outline:(0,C.makeObjectPropertySetter)(I.readBoolean)}),eh=(0,C.makeStructureNS)(k,{coordinates:(0,C.makeReplacer)(ee)});function ec(e,t){return(0,C.pushParseAndPop)(null,eh,e,t)}let ed=(0,C.makeStructureNS)(G,{Track:(0,C.makeArrayPusher)(ef)}),ep=(0,C.makeStructureNS)(k,{when:function(e,t){let r=t[t.length-1].whens,i=Date.parse((0,C.getAllTextContent)(e,!1));r.push(isNaN(i)?0:i)}},(0,C.makeStructureNS)(G,{coord:function(e,t){let r=t[t.length-1].coordinates,i=(0,C.getAllTextContent)(e,!1),n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(i);if(n){let e=parseFloat(n[1]),t=parseFloat(n[2]),i=parseFloat(n[3]);r.push([e,t,i])}else r.push([])}}));function ef(e,t){let r=(0,C.pushParseAndPop)({coordinates:[],whens:[]},ep,e,t);if(!r)return;let i=[],n=r.coordinates,s=r.whens;for(let e=0,t=Math.min(n.length,s.length);e<t;++e)3==n[e].length&&i.push(n[e][0],n[e][1],n[e][2],s[e]);return new v.default(i,"XYZM")}let eg=(0,C.makeStructureNS)(k,{href:(0,C.makeObjectPropertySetter)(et)},(0,C.makeStructureNS)(G,{x:(0,C.makeObjectPropertySetter)(I.readDecimal),y:(0,C.makeObjectPropertySetter)(I.readDecimal),w:(0,C.makeObjectPropertySetter)(I.readDecimal),h:(0,C.makeObjectPropertySetter)(I.readDecimal)})),em=(0,C.makeStructureNS)(k,{coordinates:(0,C.makeReplacer)(ee)});function ey(e,t){return(0,C.pushParseAndPop)(null,em,e,t)}let ev=(0,C.makeStructureNS)(k,{extrude:(0,C.makeObjectPropertySetter)(I.readBoolean),tessellate:(0,C.makeObjectPropertySetter)(I.readBoolean),altitudeMode:(0,C.makeObjectPropertySetter)(I.readString)});function eb(e,t){let r=(0,C.pushParseAndPop)({},ev,e,t),i=ey(e,t);if(i){let e=new v.default(i,"XYZ");return e.setProperties(r,!0),e}}function ex(e,t){let r=(0,C.pushParseAndPop)({},ev,e,t),i=ey(e,t);if(i){let e=new S.default(i,"XYZ",[i.length]);return e.setProperties(r,!0),e}}let eE=(0,C.makeStructureNS)(k,{LineString:(0,C.makeArrayPusher)(eb),LinearRing:(0,C.makeArrayPusher)(ex),MultiGeometry:(0,C.makeArrayPusher)(e_),Point:(0,C.makeArrayPusher)(eS),Polygon:(0,C.makeArrayPusher)(eR)});function e_(e,t){let r,i;let n=(0,C.pushParseAndPop)([],eE,e,t);if(!n)return null;if(0===n.length)return new g.default(n);let s=!0,a=n[0].getType();for(let e=1,t=n.length;e<t;++e)if((i=n[e]).getType()!=a){s=!1;break}if(s){let e,t;if("Point"==a){let s=n[0];e=s.getLayout(),t=s.getFlatCoordinates();for(let e=1,r=n.length;e<r;++e)i=n[e],(0,L.extend)(t,i.getFlatCoordinates());eC(r=new x.default(t,e),n)}else if("LineString"==a)eC(r=new b.default(n),n);else if("Polygon"==a)eC(r=new E.default(n),n);else if("GeometryCollection"==a)r=new g.default(n);else throw Error("Unknown geometry type found")}else r=new g.default(n);return r}function eS(e,t){let r=(0,C.pushParseAndPop)({},ev,e,t),i=ey(e,t);if(i){let e=new _.default(i,"XYZ");return e.setProperties(r,!0),e}}let eO=(0,C.makeStructureNS)(k,{innerBoundaryIs:function(e,t){let r=(0,C.pushParseAndPop)([],eD,e,t);r.length>0&&t[t.length-1].push(...r)},outerBoundaryIs:function(e,t){let r=(0,C.pushParseAndPop)(void 0,eF,e,t);r&&(t[t.length-1][0]=r)}});function eR(e,t){let r=(0,C.pushParseAndPop)({},ev,e,t),i=(0,C.pushParseAndPop)([null],eO,e,t);if(i&&i[0]){let e=i[0],t=[e.length];for(let r=1,n=i.length;r<n;++r)(0,L.extend)(e,i[r]),t.push(e.length);let n=new S.default(e,"XYZ",t);return n.setProperties(r,!0),n}}let eA=(0,C.makeStructureNS)(k,{IconStyle:function(e,t){let r,i,s,c,d,p,f;let g=(0,C.pushParseAndPop)({},ea,e,t);if(!g)return;let v=t[t.length-1],b="Icon"in g?g.Icon:{},x=!("Icon"in g)||Object.keys(b).length>0,E=b.href;E?r=E:x&&(r=u);let _="bottom-left",S=g.hotSpot;S?(i=[S.x,S.y],s=S.xunits,c=S.yunits,_=S.origin):/^https?:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(r.includes("pushpin")?(i=n,s=a,c=o):r.includes("arrow-reverse")?(i=[54,42],s=a,c=o):r.includes("paddle")&&(i=[32,1],s=a,c=o));let O=b.x,R=b.y;void 0!==O&&void 0!==R&&(d=[O,R]);let A=b.w,w=b.h;void 0!==A&&void 0!==w&&(p=[A,w]);let T=g.heading;void 0!==T&&(f=(0,M.toRadians)(T));let L=g.scale,P=g.color;if(x){r==u&&(p=l);let e=new m.default({anchor:i,anchorOrigin:_,anchorXUnits:s,anchorYUnits:c,crossOrigin:this.crossOrigin_,offset:d,offsetOrigin:"bottom-left",rotation:f,scale:L,size:p,src:this.iconUrlFunction_(r),color:P}),t=e.getScaleArray()[0],n=e.getSize();if(null===n){let r=e.getImageState();if(r===y.default.IDLE||r===y.default.LOADING){let i=function(){let r=e.getImageState();if(!(r===y.default.IDLE||r===y.default.LOADING)){let r=e.getSize();if(r&&2==r.length){let i=K(r);e.setScale(t*i)}e.unlistenImageChange(i)}};e.listenImageChange(i),r===y.default.IDLE&&e.load()}}else if(2==n.length){let r=K(n);e.setScale(t*r)}v.imageStyle=e}else v.imageStyle=h},LabelStyle:function(e,t){let r=(0,C.pushParseAndPop)({},eo,e,t);if(!r)return;let n=t[t.length-1],s=new A.default({fill:new f.default({color:"color"in r?r.color:i}),scale:r.scale});n.textStyle=s},LineStyle:function(e,t){let r=(0,C.pushParseAndPop)({},el,e,t);if(!r)return;let n=t[t.length-1],s=new O.default({color:"color"in r?r.color:i,width:"width"in r?r.width:1});n.strokeStyle=s},PolyStyle:function(e,t){let r=(0,C.pushParseAndPop)({},eu,e,t);if(!r)return;let n=t[t.length-1],s=new f.default({color:"color"in r?r.color:i});n.fillStyle=s;let a=r.fill;void 0!==a&&(n.fill=a);let o=r.outline;void 0!==o&&(n.outline=o)}});function ew(e,t){let r;let i=(0,C.pushParseAndPop)({},eA,e,t,this);if(!i)return null;let n="fillStyle"in i?i.fillStyle:z,s=i.fill;void 0===s||s||(n=null),"imageStyle"in i?i.imageStyle!=h&&(r=i.imageStyle):r=V;let a="textStyle"in i?i.textStyle:W,o="strokeStyle"in i?i.strokeStyle:Y,l=i.outline;return void 0===l||l?[new R.default({fill:n,image:r,stroke:o,text:a,zIndex:void 0})]:[new R.default({geometry:function(e){let t=e.getGeometry(),r=t.getType();return"GeometryCollection"===r?new g.default(t.getGeometriesArrayRecursive().filter(function(e){let t=e.getType();return"Polygon"!==t&&"MultiPolygon"!==t})):"Polygon"!==r&&"MultiPolygon"!==r?t:void 0},fill:n,image:r,stroke:o,text:a,zIndex:void 0}),new R.default({geometry:function(e){let t=e.getGeometry(),r=t.getType();return"GeometryCollection"===r?new g.default(t.getGeometriesArrayRecursive().filter(function(e){let t=e.getType();return"Polygon"===t||"MultiPolygon"===t})):"Polygon"===r||"MultiPolygon"===r?t:void 0},fill:n,stroke:null,zIndex:void 0})]}function eC(e,t){let r,i,n;let s=t.length,a=Array(t.length),o=Array(t.length),l=Array(t.length);r=!1,i=!1,n=!1;for(let e=0;e<s;++e){let s=t[e];a[e]=s.get("extrude"),o[e]=s.get("tessellate"),l[e]=s.get("altitudeMode"),r=r||void 0!==a[e],i=i||void 0!==o[e],n=n||l[e]}r&&e.set("extrude",a),i&&e.set("tessellate",o),n&&e.set("altitudeMode",l)}let eT=(0,C.makeStructureNS)(k,{displayName:(0,C.makeObjectPropertySetter)(I.readString),value:(0,C.makeObjectPropertySetter)(I.readString)}),eL=(0,C.makeStructureNS)(k,{Data:function(e,t){let r=e.getAttribute("name");(0,C.parseNode)(eT,e,t);let i=t[t.length-1];r&&i.displayName?i[r]={value:i.value,displayName:i.displayName,toString:function(){return i.value}}:null!==r?i[r]=i.value:null!==i.displayName&&(i[i.displayName]=i.value),delete i.value},SchemaData:function(e,t){(0,C.parseNode)(eN,e,t)}});function eP(e,t){(0,C.parseNode)(eL,e,t)}function eI(e,t){(0,C.parseNode)(H,e,t)}let eM=(0,C.makeStructureNS)(k,{Style:(0,C.makeObjectPropertySetter)(ew),key:(0,C.makeObjectPropertySetter)(I.readString),styleUrl:(0,C.makeObjectPropertySetter)(er)}),eN=(0,C.makeStructureNS)(k,{SimpleData:function(e,t){let r=e.getAttribute("name");if(null!==r){let i=(0,I.readString)(e);t[t.length-1][r]=i}}}),eG=(0,C.makeStructureNS)(k,{altitudeMode:(0,C.makeObjectPropertySetter)(I.readString),minAltitude:(0,C.makeObjectPropertySetter)(I.readDecimal),maxAltitude:(0,C.makeObjectPropertySetter)(I.readDecimal),north:(0,C.makeObjectPropertySetter)(I.readDecimal),south:(0,C.makeObjectPropertySetter)(I.readDecimal),east:(0,C.makeObjectPropertySetter)(I.readDecimal),west:(0,C.makeObjectPropertySetter)(I.readDecimal)}),ek=(0,C.makeStructureNS)(k,{minLodPixels:(0,C.makeObjectPropertySetter)(I.readDecimal),maxLodPixels:(0,C.makeObjectPropertySetter)(I.readDecimal),minFadeExtent:(0,C.makeObjectPropertySetter)(I.readDecimal),maxFadeExtent:(0,C.makeObjectPropertySetter)(I.readDecimal)}),eD=(0,C.makeStructureNS)(k,{LinearRing:(0,C.makeArrayPusher)(ec)}),eF=(0,C.makeStructureNS)(k,{LinearRing:(0,C.makeReplacer)(ec)});function eq(e,t){let r=(0,T.asArray)(t),i=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]];for(let e=0;e<4;++e){let t=Math.floor(i[e]).toString(16);i[e]=1==t.length?"0"+t:t}(0,I.writeStringTextNode)(e,i.join(""))}let ej=(0,C.makeStructureNS)(k,{Data:(0,C.makeChildAppender)(function(e,t,r){e.setAttribute("name",t.name);let i={node:e},n=t.value;"object"==typeof n?(null!==n&&n.displayName&&(0,C.pushSerializeAndPop)(i,ej,C.OBJECT_PROPERTY_NODE_FACTORY,[n.displayName],r,["displayName"]),null!==n&&n.value&&(0,C.pushSerializeAndPop)(i,ej,C.OBJECT_PROPERTY_NODE_FACTORY,[n.value],r,["value"])):(0,C.pushSerializeAndPop)(i,ej,C.OBJECT_PROPERTY_NODE_FACTORY,[n],r,["value"])}),value:(0,C.makeChildAppender)(function(e,t){(0,I.writeStringTextNode)(e,t)}),displayName:(0,C.makeChildAppender)(function(e,t){(0,I.writeCDATASection)(e,t)})}),eU=(0,C.makeStructureNS)(k,{Placemark:(0,C.makeChildAppender)(tr)}),eH=function(e,t,r){let i=t[t.length-1].node;return(0,C.createElementNS)(i.namespaceURI,"Placemark")},eB=(0,C.makeSimpleNodeFactory)("Data"),eZ=(0,C.makeStructureNS)(k,["href"],(0,C.makeStructureNS)(G,["x","y","w","h"])),ez=(0,C.makeStructureNS)(k,{href:(0,C.makeChildAppender)(I.writeStringTextNode)},(0,C.makeStructureNS)(G,{x:(0,C.makeChildAppender)(I.writeDecimalTextNode),y:(0,C.makeChildAppender)(I.writeDecimalTextNode),w:(0,C.makeChildAppender)(I.writeDecimalTextNode),h:(0,C.makeChildAppender)(I.writeDecimalTextNode)})),eV=function(e,t,r){return(0,C.createElementNS)(G[0],"gx:"+r)},eY=(0,C.makeStructureNS)(k,["scale","heading","Icon","color","hotSpot"]),eW=(0,C.makeStructureNS)(k,{Icon:(0,C.makeChildAppender)(function(e,t,r){let i={node:e},n=eZ[r[r.length-1].node.namespaceURI],s=(0,C.makeSequence)(t,n);(0,C.pushSerializeAndPop)(i,ez,C.OBJECT_PROPERTY_NODE_FACTORY,s,r,n),n=eZ[G[0]],s=(0,C.makeSequence)(t,n),(0,C.pushSerializeAndPop)(i,ez,eV,s,r,n)}),color:(0,C.makeChildAppender)(eq),heading:(0,C.makeChildAppender)(I.writeDecimalTextNode),hotSpot:(0,C.makeChildAppender)(function(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)}),scale:(0,C.makeChildAppender)(td)}),eX=(0,C.makeStructureNS)(k,["color","scale"]),eK=(0,C.makeStructureNS)(k,{color:(0,C.makeChildAppender)(eq),scale:(0,C.makeChildAppender)(td)}),eJ=(0,C.makeStructureNS)(k,["color","width"]),e$=(0,C.makeStructureNS)(k,{color:(0,C.makeChildAppender)(eq),width:(0,C.makeChildAppender)(I.writeDecimalTextNode)}),eQ={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},e0=function(e,t,r){if(e){let r=t[t.length-1].node;return(0,C.createElementNS)(r.namespaceURI,eQ[e.getType()])}},e1=(0,C.makeSimpleNodeFactory)("Point"),e2=(0,C.makeSimpleNodeFactory)("LineString"),e5=(0,C.makeSimpleNodeFactory)("LinearRing"),e3=(0,C.makeSimpleNodeFactory)("Polygon"),e4=(0,C.makeStructureNS)(k,{LineString:(0,C.makeChildAppender)(ts),Point:(0,C.makeChildAppender)(ts),Polygon:(0,C.makeChildAppender)(th),GeometryCollection:(0,C.makeChildAppender)(e6)});function e6(e,t,r){let i;let n=t.getType(),s=[];if("GeometryCollection"===n)t.getGeometriesArrayRecursive().forEach(function(e){let t=e.getType();if("MultiPoint"===t)s=s.concat(e.getPoints());else if("MultiLineString"===t)s=s.concat(e.getLineStrings());else if("MultiPolygon"===t)s=s.concat(e.getPolygons());else if("Point"===t||"LineString"===t||"Polygon"===t)s.push(e);else throw Error("Unknown geometry type")}),i=e0;else if("MultiPoint"===n)s=t.getPoints(),i=e1;else if("MultiLineString"===n)s=t.getLineStrings(),i=e2;else if("MultiPolygon"===n)s=t.getPolygons(),i=e3;else throw Error("Unknown geometry type");(0,C.pushSerializeAndPop)({node:e},e4,i,s,r)}let e8=(0,C.makeStructureNS)(k,{LinearRing:(0,C.makeChildAppender)(ts)});function e7(e,t,r){(0,C.pushSerializeAndPop)({node:e},e8,e5,[t],r)}let e9=(0,C.makeStructureNS)(k,{ExtendedData:(0,C.makeChildAppender)(function(e,t,r){let i={node:e},n=t.names,s=t.values,a=n.length;for(let e=0;e<a;e++)(0,C.pushSerializeAndPop)(i,ej,eB,[{name:n[e],value:s[e]}],r)}),MultiGeometry:(0,C.makeChildAppender)(e6),LineString:(0,C.makeChildAppender)(ts),LinearRing:(0,C.makeChildAppender)(ts),Point:(0,C.makeChildAppender)(ts),Polygon:(0,C.makeChildAppender)(th),Style:(0,C.makeChildAppender)(function(e,t,r){let i={};if(t.pointStyles.length){let e=t.pointStyles[0].getText();e&&(i.LabelStyle=e);let r=t.pointStyles[0].getImage();r&&"function"==typeof r.getSrc&&(i.IconStyle=r)}if(t.lineStyles.length){let e=t.lineStyles[0].getStroke();e&&(i.LineStyle=e)}if(t.polyStyles.length){let e=t.polyStyles[0].getStroke();e&&!i.LineStyle&&(i.LineStyle=e),i.PolyStyle=t.polyStyles[0]}let n=tp[r[r.length-1].node.namespaceURI],s=(0,C.makeSequence)(i,n);(0,C.pushSerializeAndPop)({node:e},tf,C.OBJECT_PROPERTY_NODE_FACTORY,s,r,n)}),address:(0,C.makeChildAppender)(I.writeStringTextNode),description:(0,C.makeChildAppender)(I.writeStringTextNode),name:(0,C.makeChildAppender)(I.writeStringTextNode),open:(0,C.makeChildAppender)(I.writeBooleanTextNode),phoneNumber:(0,C.makeChildAppender)(I.writeStringTextNode),styleUrl:(0,C.makeChildAppender)(I.writeStringTextNode),visibility:(0,C.makeChildAppender)(I.writeBooleanTextNode)}),te=(0,C.makeStructureNS)(k,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),tt=(0,C.makeSimpleNodeFactory)("ExtendedData");function tr(e,t,r){let i={node:e};t.getId()&&e.setAttribute("id",t.getId());let n=t.getProperties(),s={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};s[t.getGeometryName()]=1;let a=Object.keys(n||{}).sort().filter(function(e){return!s[e]}),o=t.getStyleFunction();if(o){let e=o(t,0);if(e){let r=Array.isArray(e)?e:[e],i=r;if(t.getGeometry()&&(i=r.filter(function(e){let r=e.getGeometryFunction()(t);if(r){let e=r.getType();return"GeometryCollection"===e?r.getGeometriesArrayRecursive().filter(function(e){let t=e.getType();return"Point"===t||"MultiPoint"===t}).length:"Point"===e||"MultiPoint"===e}})),this.writeStyles_){let e=r,s=r;t.getGeometry()&&(e=r.filter(function(e){let r=e.getGeometryFunction()(t);if(r){let e=r.getType();return"GeometryCollection"===e?r.getGeometriesArrayRecursive().filter(function(e){let t=e.getType();return"LineString"===t||"MultiLineString"===t}).length:"LineString"===e||"MultiLineString"===e}}),s=r.filter(function(e){let r=e.getGeometryFunction()(t);if(r){let e=r.getType();return"GeometryCollection"===e?r.getGeometriesArrayRecursive().filter(function(e){let t=e.getType();return"Polygon"===t||"MultiPolygon"===t}).length:"Polygon"===e||"MultiPolygon"===e}})),n.Style={pointStyles:i,lineStyles:e,polyStyles:s}}if(i.length&&void 0===n.name){let e=i[0].getText();e&&(n.name=e.getText())}}}let l=te[r[r.length-1].node.namespaceURI],u=(0,C.makeSequence)(n,l);if((0,C.pushSerializeAndPop)(i,e9,C.OBJECT_PROPERTY_NODE_FACTORY,u,r,l),a.length>0){let e=(0,C.makeSequence)(n,a);(0,C.pushSerializeAndPop)(i,e9,tt,[{names:a,values:e}],r)}let h=r[0],c=t.getGeometry();c&&(c=(0,N.transformGeometryWithOptions)(c,!0,h)),(0,C.pushSerializeAndPop)(i,e9,e0,[c],r)}let ti=(0,C.makeStructureNS)(k,["extrude","tessellate","altitudeMode","coordinates"]),tn=(0,C.makeStructureNS)(k,{extrude:(0,C.makeChildAppender)(I.writeBooleanTextNode),tessellate:(0,C.makeChildAppender)(I.writeBooleanTextNode),altitudeMode:(0,C.makeChildAppender)(I.writeStringTextNode),coordinates:(0,C.makeChildAppender)(function(e,t,r){let i;let n=r[r.length-1],s=n.layout,a=n.stride;if("XY"==s||"XYM"==s)i=2;else if("XYZ"==s||"XYZM"==s)i=3;else throw Error("Invalid geometry layout");let o=t.length,l="";if(o>0){l+=t[0];for(let e=1;e<i;++e)l+=","+t[e];for(let e=a;e<o;e+=a){l+=" "+t[e];for(let r=1;r<i;++r)l+=","+t[e+r]}}(0,I.writeStringTextNode)(e,l)})});function ts(e,t,r){let i=t.getFlatCoordinates(),n={node:e};n.layout=t.getLayout(),n.stride=t.getStride();let s=t.getProperties();s.coordinates=i;let a=ti[r[r.length-1].node.namespaceURI],o=(0,C.makeSequence)(s,a);(0,C.pushSerializeAndPop)(n,tn,C.OBJECT_PROPERTY_NODE_FACTORY,o,r,a)}let ta=(0,C.makeStructureNS)(k,["color","fill","outline"]),to=(0,C.makeStructureNS)(k,{outerBoundaryIs:(0,C.makeChildAppender)(e7),innerBoundaryIs:(0,C.makeChildAppender)(e7)}),tl=(0,C.makeSimpleNodeFactory)("innerBoundaryIs"),tu=(0,C.makeSimpleNodeFactory)("outerBoundaryIs");function th(e,t,r){let i=t.getLinearRings(),n=i.shift(),s={node:e};(0,C.pushSerializeAndPop)(s,to,tl,i,r),(0,C.pushSerializeAndPop)(s,to,tu,[n],r)}let tc=(0,C.makeStructureNS)(k,{color:(0,C.makeChildAppender)(eq),fill:(0,C.makeChildAppender)(I.writeBooleanTextNode),outline:(0,C.makeChildAppender)(I.writeBooleanTextNode)});function td(e,t){(0,I.writeDecimalTextNode)(e,Math.round(1e6*t)/1e6)}let tp=(0,C.makeStructureNS)(k,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),tf=(0,C.makeStructureNS)(k,{IconStyle:(0,C.makeChildAppender)(function(e,t,r){let i={},n=t.getSrc(),s=t.getSize(),a=t.getImageSize(),o={href:n};if(s){o.w=s[0],o.h=s[1];let e=t.getAnchor(),r=t.getOrigin();if(r&&a&&0!==r[0]&&r[1]!==s[1]&&(o.x=r[0],o.y=a[1]-(r[1]+s[1])),e&&(e[0]!==s[0]/2||e[1]!==s[1]/2)){let t={x:e[0],xunits:"pixels",y:s[1]-e[1],yunits:"pixels"};i.hotSpot=t}}i.Icon=o;let u=t.getScaleArray()[0],h=s;null===h&&(h=l),2==h.length&&(u/=K(h)),1!==u&&(i.scale=u);let c=t.getRotation();0!==c&&(i.heading=c);let d=t.getColor();d&&(i.color=d);let p=eY[r[r.length-1].node.namespaceURI],f=(0,C.makeSequence)(i,p);(0,C.pushSerializeAndPop)({node:e},eW,C.OBJECT_PROPERTY_NODE_FACTORY,f,r,p)}),LabelStyle:(0,C.makeChildAppender)(function(e,t,r){let i={},n=t.getFill();n&&(i.color=n.getColor());let s=t.getScale();s&&1!==s&&(i.scale=s);let a=eX[r[r.length-1].node.namespaceURI],o=(0,C.makeSequence)(i,a);(0,C.pushSerializeAndPop)({node:e},eK,C.OBJECT_PROPERTY_NODE_FACTORY,o,r,a)}),LineStyle:(0,C.makeChildAppender)(function(e,t,r){let i={color:t.getColor(),width:Number(t.getWidth())||1},n=eJ[r[r.length-1].node.namespaceURI],s=(0,C.makeSequence)(i,n);(0,C.pushSerializeAndPop)({node:e},e$,C.OBJECT_PROPERTY_NODE_FACTORY,s,r,n)}),PolyStyle:(0,C.makeChildAppender)(function(e,t,r){let i=t.getFill(),n=t.getStroke(),s={color:i?i.getColor():void 0,fill:!!i&&void 0,outline:!!n&&void 0},a=ta[r[r.length-1].node.namespaceURI],o=(0,C.makeSequence)(s,a);(0,C.pushSerializeAndPop)({node:e},tc,C.OBJECT_PROPERTY_NODE_FACTORY,o,r,a)})});var tg=$}),a("6b5au",function(e,r){t(e.exports,"default",()=>b);var i=s("iGyOD"),n=s("k8QYM"),a=s("hvEnP"),o=s("7TB1l"),l=s("ljDIj"),u=s("dEQmT"),h=s("j2K3b"),c=s("cgPpQ"),d=s("gzr8q"),p=s("9z1G1");class f extends n.default{constructor(e){super(),e=e||{},this.layerName_=e.layerName,this.layers_=e.layers?e.layers:null,this.dataProjection=(0,d.get)(e.dataProjection?e.dataProjection:"EPSG:4326")}readFeaturesFromObject(e,t){if("Topology"==e.type){let r;let i,n=null,s=null;e.transform&&(n=(i=e.transform).scale,s=i.translate);let a=e.arcs;i&&function(e,t,r){for(let i=0,n=e.length;i<n;++i)(function(e,t,r){let i=0,n=0;for(let s=0,a=e.length;s<a;++s){let a=e[s];i+=a[0],n+=a[1],a[0]=i,a[1]=n,v(a,t,r)}})(e[i],t,r)}(a,n,s);let o=[],l=e.objects,u=this.layerName_;for(let e in l)(!this.layers_||this.layers_.includes(e))&&("GeometryCollection"===l[e].type?(r=l[e],o.push.apply(o,function(e,t,r,i,n,s,a){let o=e.geometries,l=[];for(let e=0,u=o.length;e<u;++e)l[e]=y(o[e],t,r,i,n,s,a);return l}(r,a,n,s,u,e,t))):(r=l[e],o.push(y(r,a,n,s,u,e,t))));return o}return[]}readProjectionFromObject(e){return this.dataProjection}}let g={Point:function(e,t,r){let i=e.coordinates;return t&&r&&v(i,t,r),new h.default(i)},LineString:function(e,t){let r=m(e.arcs,t);return new a.default(r)},Polygon:function(e,t){let r=[];for(let i=0,n=e.arcs.length;i<n;++i)r[i]=m(e.arcs[i],t);return new c.default(r)},MultiPoint:function(e,t,r){let i=e.coordinates;if(t&&r)for(let e=0,n=i.length;e<n;++e)v(i[e],t,r);return new l.default(i)},MultiLineString:function(e,t){let r=[];for(let i=0,n=e.arcs.length;i<n;++i)r[i]=m(e.arcs[i],t);return new o.default(r)},MultiPolygon:function(e,t){let r=[];for(let i=0,n=e.arcs.length;i<n;++i){let n=e.arcs[i],s=[];for(let e=0,r=n.length;e<r;++e)s[e]=m(n[e],t);r[i]=s}return new u.default(r)}};function m(e,t){let r;let i=[];for(let n=0,s=e.length;n<s;++n)if(r=e[n],n>0&&i.pop(),r>=0){let e=t[r];for(let t=0,r=e.length;t<r;++t)i.push(e[t].slice(0))}else{let e=t[~r];for(let t=e.length-1;t>=0;--t)i.push(e[t].slice(0))}return i}function y(e,t,r,n,s,a,o){let l=null,u=e.type;if(u){let i=g[u];l="Point"===u||"MultiPoint"===u?i(e,r,n):i(e,t),l=(0,p.transformGeometryWithOptions)(l,!1,o)}let h=new i.default({geometry:l});void 0!==e.id&&h.setId(e.id);let c=e.properties;return s&&(c||(c={}),c[s]=a),c&&h.setProperties(c,!0),h}function v(e,t,r){e[0]=e[0]*t[0]+r[0],e[1]=e[1]*t[1]+r[1]}var b=f}),a("29jcm",function(e,r){t(e.exports,"default",()=>l);var i=s("5mw1t"),n=s("kFndz"),a=s("j2K3b"),o=s("hvEnP"),l=class extends i.default{constructor(e){super(e=e||{}),this._lineFormat=new n.default({factor:Math.pow(10,e.decimals||6)})}encodeCoordinates(e){if("number"==typeof e[0])return t=new a.default(e),this._lineFormat.writeGeometry(t);if(!e.length||!e[0])return this.encodeCoordinates([0,0]);if("number"==typeof e[0][0])return t=new o.default(e),this._lineFormat.writeGeometry(t);for(var t,r=[],i=0;i<e.length;i++)r[i]=this.encodeCoordinates(e[i]);return r}decodeCoordinates(e){if("string"==typeof e)return(r=this._lineFormat.readGeometry(e)).getCoordinates()[0];if(!e.length)return null;var t,r,i="string"==typeof e[0],n=[];if(i)for(t=0;t<e.length;t++)r=this._lineFormat.readGeometry(e[t]),n[t]=r.getCoordinates();else for(t=0;t<e.length;t++)n[t]=this.decodeCoordinates(e[t]);return n}}}),a("kFndz",function(e,r){t(e.exports,"default",()=>p);var i=s("iGyOD"),n=s("hvEnP"),a=s("jEnSw"),o=s("97NX0"),l=s("gzr8q"),u=s("63y7W"),h=s("iTdJV"),c=s("9z1G1");class d extends a.default{constructor(e){super(),e=e||{},this.dataProjection=(0,l.get)("EPSG:4326"),this.factor_=e.factor?e.factor:1e5,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY"}readFeatureFromText(e,t){let r=this.readGeometryFromText(e,t);return new i.default(r)}readFeaturesFromText(e,t){return[this.readFeatureFromText(e,t)]}readGeometryFromText(e,t){let r=(0,u.getStrideForLayout)(this.geometryLayout_),i=function(e,t,r){let i;r=r||1e5;let n=Array(t);for(i=0;i<t;++i)n[i]=0;let s=function(e,t){t=t||1e5;let r=function(e){let t=function(e){let t=[],r=0,i=0;for(let n=0,s=e.length;n<s;++n){let s=e.charCodeAt(n)-63;r|=(31&s)<<i,s<32?(t.push(r),r=0,i=0):i+=5}return t}(e);for(let e=0,r=t.length;e<r;++e){let r=t[e];t[e]=1&r?~(r>>1):r>>1}return t}(e);for(let e=0,i=r.length;e<i;++e)r[e]/=t;return r}(e,r);for(let e=0,r=s.length;e<r;)for(i=0;i<t;++i,++e)n[i]+=s[e],s[e]=n[i];return s}(e,r,this.factor_);(0,o.flipXY)(i,0,i.length,r,i);let s=(0,h.inflateCoordinates)(i,0,i.length,r),a=new n.default(s,this.geometryLayout_);return(0,c.transformGeometryWithOptions)(a,!1,this.adaptOptions(t))}writeFeatureText(e,t){let r=e.getGeometry();if(r)return this.writeGeometryText(r,t);throw Error("Expected `feature` to have a geometry")}writeFeaturesText(e,t){return this.writeFeatureText(e[0],t)}writeGeometryText(e,t){let r=(e=(0,c.transformGeometryWithOptions)(e,!0,this.adaptOptions(t))).getFlatCoordinates(),i=e.getStride();return(0,o.flipXY)(r,0,r.length,i,r),function(e,t,r){let i;r=r||1e5;let n=Array(t);for(i=0;i<t;++i)n[i]=0;for(let r=0,s=e.length;r<s;)for(i=0;i<t;++i,++r){let t=e[r],s=t-n[i];n[i]=t,e[r]=s}return function(e,t){t=t||1e5;for(let r=0,i=e.length;r<i;++r)e[r]=Math.round(e[r]*t);return function(e){for(let t=0,r=e.length;t<r;++t){let r=e[t];e[t]=r<0?~(r<<1):r<<1}return function(e){let t="";for(let r=0,i=e.length;r<i;++r)t+=function(e){let t="";for(;e>=32;)t+=String.fromCharCode((32|31&e)+63),e>>=5;return t+String.fromCharCode(e+63)}(e[r]);return t}(e)}(e)}(e,r)}(r,i,this.factor_)}}var p=d}),a("97NX0",function(e,r){t(e.exports,"flipXY",()=>i);function i(e,t,r,i,n,s){void 0!==n?s=void 0!==s?s:0:(n=[],s=0);let a=t;for(;a<r;){let t=e[a++];n[s++]=e[a++],n[s++]=t;for(let t=2;t<i;++t)n[s++]=e[a++]}return n.length=s,n}}),a("6xHMs",function(e,r){t(e.exports,"default",()=>l);var i=s("fnScq"),n=s("iGyOD"),a=s("j2K3b"),o=s("cgPpQ"),l=class extends i.default{constructor(e){super(e=e||{})}readFeature(e,t){t=t||{};for(var r,i=e.children,s=new n.default,l=0;r=i[l];l++)s.set(r.tagName,r.innerHTML);var u,h,c=[];if(s.get("geo:long"))h=new a.default([parseFloat(s.get("geo:long")),parseFloat(s.get("geo:lat"))]),s.unset("geo:long"),s.unset("geo:lat");else if(s.get("georss:point"))c=s.get("georss:point").trim().split(" "),h=new a.default([parseFloat(c[1]),parseFloat(c[0])]),s.unset("georss:point");else if(s.get("georss:polygon")){u=s.get("georss:polygon").trim().split(" ");for(var d=0;d<u.length;d+=2)c.push([parseFloat(u[d+1]),parseFloat(u[d])]);h=new o.default([c]),s.unset("georss:polygon")}else if(s.get("georss:where"))return console.warn("[GeoRSS] GML format not implemented"),s.unset("georss:where"),null;else return console.warn("[GeoRSS] unknown geometry"),null;return(t.featureProjection||this.get("featureProjection"))&&h.transform(t.dataProjection||this.get("dataProjection")||"EPSG:4326",t.featureProjection||this.get("featureProjection")),s.setGeometry(h),s}readFeatures(e,t){if("string"==typeof e){var r=new DOMParser().parseFromString(e,"text/xml");i=r.getElementsByTagName(this.getDocumentItemsTagName(r))}else if(e instanceof Document)i=e.getElementsByTagName(this.getDocumentItemsTagName(e));else{if(!(e instanceof Node))return[];i=e}for(var i,n,s=[],a=0;n=i[a];a++){var o=this.readFeature(n,t);o&&s.push(o)}return s}getDocumentItemsTagName(e){return"feed"===e.documentElement.tagName?"entry":"item"}}}),a("6zjoU",function(r,i){t(r.exports,"default",()=>f);var n=s("fnScq"),a=s("iGyOD"),o=s("j2K3b"),l=s("gzr8q"),u=s("3by3c");class h extends n.default{constructor(e){super(e=e||{})}readFeatures(t,r){let i=[],n=e(u).parse(t,{header:!0});if(n.meta.fields&&n.meta.fields.length){let e=p(/^lon$|^long$|^longitude$|^ln$|^x$/i,n.meta.fields),t=p(/^lat$|^latitude$|^lt$|^y$/i,n.meta.fields),s=function(e){for(let t in e)if(c.test(e[t]))return t}(n.data[0]);(s||e&&t)&&n.data.forEach(n=>{let u=(0,l.fromLonLat)(e&&t?[n[e],n[t]]:[parseFloat(n[s].replace(c,"$1")),parseFloat(n[s].replace(c,"$3"))],r.featureProjection);if(d(u[0])&&d(u[1])){let e=new a.default(new o.default(u));Object.keys(n).forEach(t=>{e.set(t,n[t],!0)}),i.push(e)}})}return i}}let c=/^POINT\((\d*(\.\d*)?) (\d*(\.\d*)?)\)$/;function d(e){return Number.isFinite(e)&&!Number.isNaN(e)}function p(e,t){return t.find(t=>{if(e.test(t))return t})}var f=h}),a("c614M",function(e,r){t(e.exports,"default",()=>o);var i=s("4mOxN"),n=s("lMv07");class a extends n.default{constructor(){super()}}a.prototype.read=function(e){if("report"!==e.type)return!1;let t=new i.default(e);return this.readOptions(t,e),this.readFeatures(t,e)},a.prototype.write=function(e){if("report"!==e.get("type"))return null;let t=this.writeOptions(e,{communities:e.get("communities"),status:e.get("status"),date:e.get("date"),maxFeatures:e.get("maxFeatures")});return this.writeFeatures(e,t)};var o=a}),a("4mOxN",function(e,r){t(e.exports,"default",()=>h);var i=s("jPVWI"),n=s("iGyOD"),a=s("j2K3b"),o=s("20LS2");class l extends i.default{constructor(e){super({title:e.title||"Signalements",communities:e.communities,status:e.status,date:e.date,maxFeatures:e.maxFeatures||1e3,source:new o.default}),this.set("type","report")}getUrl(e,t){let r=this.getProperties(),i="https://espacecollaboratif.ign.fr/gcms/api/reports?limit=100&sort=updating_date:DESC";return r.communities&&(i+="&communities="+r.communities),r.status.forEach(e=>{i+="&status[]="+e}),e&&(i+="&page="+e),t&&(i+="&updating_date="+t),i}reload(e){this.getSource().clear(),this.set("date",new Date().toISOString().split("T").shift()),function e(t,r,i){let n=t.getSource(),s=t.getProperties();i=i||1;let a=t.getUrl(i);fetch(a).then(e=>e.json()).then(a=>{let o=n.getFeatures().length,l=[];a.forEach(e=>{if(s.maxFeatures<=l.length+o)return;let t=u(e);l.push(t)});let h={type:"reading",nb:n.getFeatures().length+l.length,max:s.maxFeatures,finish:!(a.length&&s.maxFeatures>100*i)};r&&!1===r(h)&&(h.finish=!0),h.finish||(e(t,r,i+1),n.dispatchEvent(h)),n.addFeatures(l)})}(this,e)}update(e){(function e(t,r,i,n){n=n||[],i=i||1;let s=t.getUrl(i,t.get("date"));fetch(s).then(e=>e.json()).then(s=>{if(s.length)s.forEach(e=>{let t=u(e);n.unshift(t)}),e(t,r,++i,n),r&&r({type:"updating",nb:n.length,finish:!1});else{let e=t.getProperties(),i=t.getSource(),s={};if(i.getFeatures().forEach(e=>{s[e.get("id")]=e}),n.forEach(r=>{let n=s[r.get("id")];n&&i.removeFeature(n),(!e.status.length||e.status.indexOf(r.get("status"))>-1)&&(i.addFeature(r),s[r.get("id")]=r),t.set("date",new Date().toISOString().split("T").shift())}),r){let e={type:"updating",finish:!0};i.dispatchEvent(e),r(e)}}})})(this,e)}}function u(e){let t=e.geometry.replace(/POINT\(|\)/g,"").split(" ").map(e=>Number(e)),r=new n.default(new(0,a.default)(t).transform("EPSG:4326","EPSG:3857"));return["id","comment","author","community","status","validator","opening_date","updating_date","closing_date","input_device"].forEach(t=>{r.set(t,e[t])}),e.attachments.forEach(e=>{/jpg|gif|png/i.test(e.filename)&&r.set("img",e.uri)}),e.commune&&(r.set("commune",e.commune.title),r.set("insee",e.commune.name)),e.departement&&(r.set("departement",e.departement.title),r.set("id_dep",e.departement.name)),e.attributes.forEach(e=>{r.set("theme",e.theme),(Array.isArray(e.attributes)?e.attributes:[e.attributes]).forEach(e=>{for(let t in e)r.set(t,e[t])})}),r}var h=l}),a("l1YgS",function(e,r){t(e.exports,"default",()=>l);var i=s("eEuqc"),n=s("8MDYc"),a=s("5TDW7");class o extends a.default{constructor(){super()}}o.prototype.read=function(e){if("XYZ"!==e.type)return null;let t=new i.default({source:new n.default({url:e.url,minZoom:e.sourceMinZoom,maxZoom:e.sourceMaxZoom,crossOrigin:e.crossOrigin})});return t.getSource().set("minZoom",e.sourceMinZoom),t.getSource().set("maxZoom",e.sourceMaxZoom),this.readOptions(t,e),t},o.prototype.write=function(e){return"XYZ"!==e.get("type")?null:this.writeOptions(e,{url:e.getSource().getUrls()[0],sourceMinZoom:e.getSource().get("minZoom"),sourceMaxZoom:e.getSource().get("maxZoom"),crossOrigin:e.getSource().crossOrigin})};var l=o}),a("8MDYc",function(e,r){t(e.exports,"default",()=>o);var i=s("42VYg"),n=s("5NhYx");class a extends i.default{constructor(e){let t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857";super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:void 0!==e.tileGrid?e.tileGrid:(0,n.createXYZ)({extent:(0,n.extentFromProjection)(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize}),tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}}var o=a}),a("eRyYI",function(e,r){t(e.exports,"default",()=>l);var i=s("37u5y"),n=s("5TDW7"),a=s("jPVWI");class o extends n.default{constructor(){super()}}o.prototype.read=function(e){if("WFS"!==e.type)return null;let t=new a.default({source:new i.default({url:e.url,typeName:e.typeName,tileZoom:e.tileZoom,version:e.version||"2.0.0"})});return t.setMinZoom(e.tileZoom),t.getSource().set("url",e.url),t.getSource().set("typeName",e.typeName),t.getSource().set("tileZoom",e.tileZoom),t.getSource().set("version",e.version||"2.0.0"),this.readOptions(t,e),t},o.prototype.write=function(e){if("WFS"!==e.get("type"))return null;let t=e.getSource();return this.writeOptions(e,{url:t.get("url"),typeName:t.get("typeName"),version:t.get("version"),tileZoom:t.get("tileZoom")})};var l=o}),a("37u5y",function(e,r){t(e.exports,"default",()=>u);var i=s("20LS2"),n=s("gmEQj"),a=s("5NhYx"),o=s("kPMpK"),l=s("fkmMz"),u=class extends i.default{constructor(e){(e=e||{}).featureLimit||(e.featureLimit=1/0);var t=e.tileZoom||14,r={strategy:(0,n.tile)((0,a.createXYZ)({minZoom:t,maxZoom:t,tileSize:512}))},i=new o.default,s=e.url+"?service=WFS&request=GetFeature&version="+(e.version||"1.1.0")+"&typename="+(e.typeName||"")+"&outputFormat=application/json";e.maxFeatures&&(s+="&maxFeatures="+e.maxFeatures+"&count="+e.maxFeatures);var l={loading:0,loaded:0};r.loader=function(t,r,n){l.loading===l.loaded&&(l.loading=l.loaded=0,this.getFeatures().length>e.maxFeatures&&(this.clear(),this.refresh())),l.loading++,this.dispatchEvent({type:"tileloadstart",loading:l.loading,loaded:l.loaded}),this._loadTile(s,t,n,i,l)},super(r),this.set("pagination",e.pagination)}_loadTile(e,t,r,i,n){var s=e+"&srsname="+r.getCode()+"&bbox="+t.join(",")+","+r.getCode();this.get("pagination")&&!/&startIndex/.test(e)&&(s+="&startIndex=0"),(0,l.default).get({url:s,success:(function(s){if(n.loaded++,s.error)this.dispatchEvent({type:"tileloaderror",error:s,loading:n.loading,loaded:n.loaded});else{var a=i.readFeatures(s,{featureProjection:r});a.length>0&&this.addFeatures(a);let o=s.numberReturned||0;/&startIndex/.test(e)&&(o+=parseInt(e.replace(/.*&startIndex=(\d*).*/,"$1")),e=e.replace(/&startIndex=(\d*)/,"")),o<s.totalFeatures?this.get("pagination")?(e+="&startIndex="+o,n.loaded--,this._loadTile(e,t,r,i,n)):(this.dispatchEvent({type:"overload",total:s.totalFeatures,returned:s.numberReturned}),this.dispatchEvent({type:"tileloadend",loading:n.loading,loaded:n.loaded})):this.dispatchEvent({type:"tileloadend",loading:n.loading,loaded:n.loaded})}}).bind(this),error:(function(e){n.loaded++,this.dispatchEvent({type:"tileloaderror",error:e,loading:n.loading,loaded:n.loaded})}).bind(this)})}}}),a("4Esdr",function(e,r){t(e.exports,"default",()=>o);var i=s("5TDW7"),n=s("1NiL5");class a extends i.default{constructor(){super()}}a.prototype.read=function(e){if("MVT"!==e.type)return null;let t=new n.default({title:e.title,url:e.url,attributions:e.copyright});if(e.mbstyle)try{t.set("style",e.mbstyle);let r=JSON.parse(e.mbstyle);t.applyStyle(r)}catch(e){}return this.readOptions(t,e),t},a.prototype.write=function(e){return"MVT"!==e.get("type")?null:this.writeOptions(e,{title:e.get("title"),url:e.get("styleUrl"),mbstyle:e.get("style")})};var o=a}),a("ikPfL",function(e,r){t(e.exports,"default",()=>u);var i=s("5TDW7"),n=s("aZxrf"),a=s("5Nyxy"),o=s("9MiJs");class l extends i.default{constructor(){super()}}l.prototype.read=function(e){if("PBF"!==e.type)return null;let t=new n.default({source:new a.default({url:e.url,format:new o.default})});return this.readOptions(t,e),t},l.prototype.write=function(e){if("PBF"!==e.get("type"))return null;let t=e.getSource();return this.writeOptions(e,{url:t.getUrls()[0]})};var u=l}),a("6ClR3",function(e,r){t(e.exports,"default",()=>u);var i=s("5TDW7"),n=s("lDz1h"),a=s("gC3AG"),o=s("2yyih");class l extends i.default{constructor(){super()}}l.prototype.read=function(e){if("ECo"!==e.type)return null;let t=new n.default({source:new a.default(e.table),style:(0,o.default).getFeatureStyleFn(e.table)});return this.readOptions(t,e),t},l.prototype.write=function(e){if("ECo"!==e.get("type"))return null;let t=e.getSource();return this.writeOptions(e,{table:t.table_})};var u=l}),a("lDz1h",function(e,r){t(e.exports,"default",()=>o);var i=s("610XN"),n=s("jPVWI");class a extends i.default{constructor(e){super(e=e||{}),this.set("type","ECo"),this.getSource().on("addfeature",e=>{e.feature._layer=this})}}a.prototype.getPopupContent=n.default.prototype.getPopupContent,a.prototype.setPopupContent=n.default.prototype.setPopupContent,a.prototype.selectable=n.default.prototype.selectable,a.prototype.getIgnStyle=function(){return{}};var o=a}),a("gC3AG",function(e,r){t(e.exports,"default",()=>m);var i=s("cG2f3"),n=s("iGUgk"),a=s("20LS2"),o=s("iGyOD"),l=s("5up1I"),u=s("gmEQj"),h=s("gzr8q"),c=s("5NhYx"),d=s("23ytq"),p=s("fkmMz"),f=s("jSBAJ");i.default.defs["EPSG:2154"]||(0,i.default).defs("EPSG:2154","+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.default.defs["IGNF:LAMB93"]||(0,i.default).defs("IGNF:LAMB93","+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.default.defs["EPSG:27572"]||(0,i.default).defs("EPSG:27572","+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs"),i.default.defs["EPSG:2975"]||(0,i.default).defs("EPSG:2975","+proj=utm +zone=40 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.default.defs["EPSG:4467"]||(0,i.default).defs("EPSG:4467","+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.default.defs["EPSG:4559"]||(0,i.default).defs("EPSG:4559","+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.default.defs["EPSG:5490"]||(0,i.default).defs("EPSG:5490","+proj=utm +zone=20 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.default.defs["EPSG:2972"]||(0,i.default).defs("EPSG:2972","+proj=utm +zone=22 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),i.default.defs["EPSG:EPSG:4471"]||(0,i.default).defs("EPSG:4471","+proj=utm +zone=38 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),(0,n.register)(i.default);class g extends a.default{constructor(e){let t=(e=e||{}).strategy||u.bbox;if(e.tile_zoom_level){let r=(0,c.createXYZ)({minZoom:e.tile_zoom_level,maxZoom:e.tile_zoom_level,tileSize:e.tileSize||256});t=(0,u.tile)(r)}super({strategy:t,attributions:e.attribution||"Espace Collaboratif",logo:e.logo,useSpatialIndex:!0,wrapX:e.wrapX}),this.tileloading_=0,this.table_=e,this.maxFeatures_=e.maxFeatures||5e3,this._outputformat=e.outputFormat||"JSON";let r=this.table_.columns[this.table_.geometry_name];r=r?r.crs:"IGNF:LAMB93",this.srsName_=r||"IGNF:LAMB93",i.default.defs[this.srsName_]||console.error("PROJECTION INCONNUE",this.srsName_),this.featureFilter_=e.filter||{},this.table_.columns.detruit?this.featureFilter_={detruit:!1}:this.table_.columns.gcms_detruit&&(this.featureFilter_={gcms_detruit:!1}),e.tile_zoom_level&&(this.tiled_=!0,this.maxReload_=e.maxReload),this._formatWKT=new l.default,this.setLoader(this.loaderFn_)}setLoader(e){this._auth=(0,f.getAuth)(),this._auth&&this.table_.tile_zoom_level&&(super.setLoader(e||this.loaderFn_),this.refresh())}}g.prototype.getWFSParam=function(e,t){let r=(0,h.transformExtent)(e,t,this.srsName_);return{service:"WFS",request:"GetFeature",outputFormat:this._outputformat||"JSON",typeName:this.table_.name,bbox:r.join(","),filter:JSON.stringify(this.featureFilter_),maxFeatures:this.maxFeatures_,version:"1.1.0"}},g.prototype._readFeatures=function(e,t){let r;"string"==typeof e&&(e=JSON.parse(e)),t=t||"EPSG:3857";let i=[],n=this.table_.geometry_name;for(var s=new l.default,a=/([-+]?(\d*[.])?\d+) ([-+]?(\d*[.])?\d+) ([-+]?(\d*[.])?\d+)/g,u=0;u<e.length;u++){var h=e[u][n];if(h.type){var c=(0,d.ol_geom_createFromType)(h.type,h.coordinates);c.transform(this.srsName_,t),r=new o.default(c)}else{h=h.replace(a,"$1 $3");try{r=s.readFeature(h,{dataProjection:this.srsName_,featureProjection:t})}catch(t){console.error("[BAD FORMAT] error line: ",u,e[u]);continue}}let l=e[u];delete l[n],r.setProperties(l,!0),i.push(r)}return i},g.prototype.findFeature_=function(e){let t=this.table_.id_name,r=e.get(t);if(this.tiled_){var i=e.getGeometry().getFirstCoordinate();if(function(i){for(let n=0;n<i.length;n++)if(i[n].get(t)===r)return e=i[n],!0;return!1}(this.getFeaturesInExtent([i[0]-.1,i[1]-.1,i[0]+.1,i[1]+.1])))return null}return e},g.prototype.reload=function(){this.refresh(),this.dispatchEvent({type:"reload",maxreload:this.maxReload_})},g.prototype.loaderFn_=function(e,t,r){let n=this;this.projection_=r,i.default.defs[this.srsName_]&&(this.maxReload_&&1===this.tileloading_&&this.getFeatures().length>this.maxReload_&&this.reload(),this.dispatchEvent({type:"loadstart",remains:++this.tileloading_}),(0,p.default).get({url:this.table_.wfs,auth:this._auth,data:this.getWFSParam(e,r),options:{},success:function(e){let t=[];n._readFeatures(e,r).forEach(e=>{let r=n.findFeature_(e);r&&t.push(r)}),n.tiled_||n.clear(),t.length&&n.addFeatures(t),n.dispatchEvent({type:"loadend",remains:--n.tileloading_}),e.length==n.maxFeatures_&&n.dispatchEvent({type:"overload"})},error:e=>{var t;"abort"!=(t="error")?n.dispatchEvent({type:"loadend",error:e.message,status:t,remains:--n.tileloading_}):n.dispatchEvent({type:"loadend",remains:--n.tileloading_})}}))};var m=g}),a("cG2f3",function(e,r){t(e.exports,"default",()=>p);var i=s("fVhdY"),n=s("7J5S7"),a=s("gdtqa"),o=s("gstUr"),l=s("3YN4r"),u=s("dLS86"),h=s("9ItUw"),c=s("cnmDo"),d=s("guiH1");i.default.defaultDatum="WGS84",i.default.Proj=n.default,i.default.WGS84=new i.default.Proj("WGS84"),i.default.Point=a.default,i.default.toPoint=o.default,i.default.defs=l.default,i.default.nadgrid=u.default,i.default.transform=h.default,i.default.mgrs=c.default,i.default.version="__VERSION__",(0,d.default)(i.default);var p=i.default}),a("fVhdY",function(e,r){t(e.exports,"default",()=>u);var i=s("7J5S7"),n=s("9ItUw"),a=(0,i.default)("WGS84");function o(e,t,r,i){var s,a,o;return Array.isArray(r)?(s=(0,n.default)(e,t,r,i)||{x:NaN,y:NaN},r.length>2)?(void 0===e.name||"geocent"!==e.name)&&(void 0===t.name||"geocent"!==t.name)?[s.x,s.y].concat(r.splice(2)):"number"==typeof s.z?[s.x,s.y,s.z].concat(r.splice(3)):[s.x,s.y,r[2]].concat(r.splice(3)):[s.x,s.y]:(a=(0,n.default)(e,t,r,i),2===(o=Object.keys(r)).length||o.forEach(function(i){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;a[i]=r[i]}),a)}function l(e){return e instanceof i.default?e:e.oProj?e.oProj:(0,i.default)(e)}var u=function(e,t,r){e=l(e);var i,n=!1;return(void 0===t?(t=e,e=a,n=!0):(void 0!==t.x||Array.isArray(t))&&(r=t,t=e,e=a,n=!0),t=l(t),r)?o(e,t,r):(i={forward:function(r,i){return o(e,t,r,i)},inverse:function(r,i){return o(t,e,r,i)}},n&&(i.oProj=t),i)}}),a("7J5S7",function(e,r){t(e.exports,"default",()=>p);var i=s("7QHWi"),n=s("cGnMA"),a=s("2Ggeo"),o=s("02BW5"),l=s("lG5ev"),u=s("5GO2w"),h=s("et3gj"),c=s("dLS86");function d(e,t){if(!(this instanceof d))return new d(e);t=t||function(e){if(e)throw e};var r=(0,i.default)(e);if("object"!=typeof r){t(e);return}var s=d.projections.get(r.projName);if(!s){t(e);return}if(r.datumCode&&"none"!==r.datumCode){var a=(0,h.default)(l.default,r.datumCode);a&&(r.datum_params=r.datum_params||(a.towgs84?a.towgs84.split(","):null),r.ellps=a.ellipse,r.datumName=a.datumName?a.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var p=(0,o.sphere)(r.a,r.b,r.rf,r.ellps,r.sphere),f=(0,o.eccentricity)(p.a,p.b,p.rf,r.R_A),g=(0,c.getNadgrids)(r.nadgrids),m=r.datum||(0,u.default)(r.datumCode,r.datum_params,p.a,p.b,f.es,f.ep2,g);(0,n.default)(this,r),(0,n.default)(this,s),this.a=p.a,this.b=p.b,this.rf=p.rf,this.sphere=p.sphere,this.es=f.es,this.e=f.e,this.ep2=f.ep2,this.datum=m,this.init(),t(null,this)}d.projections=a.default,d.projections.start();var p=d}),a("7QHWi",function(e,r){t(e.exports,"default",()=>h);var i=s("3YN4r"),n=s("fffKN"),a=s("6fhwX"),o=s("et3gj"),l=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],u=["3857","900913","3785","102113"],h=function(e){if("string"!=typeof e)return e;if(e in i.default)return i.default[e];if(l.some(function(t){return e.indexOf(t)>-1})){var t=(0,n.default)(e);if(function(e){var t=(0,o.default)(e,"authority");if(t){var r=(0,o.default)(t,"epsg");return r&&u.indexOf(r)>-1}}(t))return i.default["EPSG:3857"];var r=function(e){var t=(0,o.default)(e,"extension");if(t)return(0,o.default)(t,"proj4")}(t);return r?(0,a.default)(r):t}if("+"===e[0])return(0,a.default)(e)}}),a("3YN4r",function(e,r){t(e.exports,"default",()=>l);var i=s("B0lHT"),n=s("6fhwX"),a=s("fffKN");function o(e){var t=this;if(2==arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?o[e]=(0,n.default)(arguments[1]):o[e]=(0,a.default)(arguments[1]):o[e]=r}else if(1==arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?o.apply(t,e):o(e)});if("string"==typeof e){if(e in o)return o[e]}else"EPSG"in e?o["EPSG:"+e.EPSG]=e:"ESRI"in e?o["ESRI:"+e.ESRI]=e:"IAU2000"in e?o["IAU2000:"+e.IAU2000]=e:console.log(e);return}}(0,i.default)(o);var l=o}),a("B0lHT",function(e,r){t(e.exports,"default",()=>i);function i(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}}),a("6fhwX",function(e,r){t(e.exports,"default",()=>l);var i=s("7M1Nv"),n=s("caeKH"),a=s("giYbV"),o=s("et3gj");function l(e){var t,r,s,l={},u=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.split("=");return r.push(!0),e[r[0].toLowerCase()]=r[1],e},{}),h={proj:"projName",datum:"datumCode",rf:function(e){l.rf=parseFloat(e)},lat_0:function(e){l.lat0=e*i.D2R},lat_1:function(e){l.lat1=e*i.D2R},lat_2:function(e){l.lat2=e*i.D2R},lat_ts:function(e){l.lat_ts=e*i.D2R},lon_0:function(e){l.long0=e*i.D2R},lon_1:function(e){l.long1=e*i.D2R},lon_2:function(e){l.long2=e*i.D2R},alpha:function(e){l.alpha=parseFloat(e)*i.D2R},gamma:function(e){l.rectified_grid_angle=parseFloat(e)},lonc:function(e){l.longc=e*i.D2R},x_0:function(e){l.x0=parseFloat(e)},y_0:function(e){l.y0=parseFloat(e)},k_0:function(e){l.k0=parseFloat(e)},k:function(e){l.k0=parseFloat(e)},a:function(e){l.a=parseFloat(e)},b:function(e){l.b=parseFloat(e)},r_a:function(){l.R_A=!0},zone:function(e){l.zone=parseInt(e,10)},south:function(){l.utmSouth=!0},towgs84:function(e){l.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){l.to_meter=parseFloat(e)},units:function(e){l.units=e;var t=(0,o.default)(a.default,e);t&&(l.to_meter=t.to_meter)},from_greenwich:function(e){l.from_greenwich=e*i.D2R},pm:function(e){var t=(0,o.default)(n.default,e);l.from_greenwich=(t||parseFloat(e))*i.D2R},nadgrids:function(e){"@null"===e?l.datumCode="none":l.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(l.axis=e)},approx:function(){l.approx=!0}};for(t in u)r=u[t],t in h?"function"==typeof(s=h[t])?s(r):l[s]=r:l[t]=r;return"string"==typeof l.datumCode&&"WGS84"!==l.datumCode&&(l.datumCode=l.datumCode.toLowerCase()),l}}),a("7M1Nv",function(e,r){t(e.exports,"PJD_3PARAM",()=>i),t(e.exports,"PJD_7PARAM",()=>n),t(e.exports,"PJD_GRIDSHIFT",()=>s),t(e.exports,"PJD_WGS84",()=>a),t(e.exports,"PJD_NODATUM",()=>o),t(e.exports,"SRS_WGS84_SEMIMAJOR",()=>l),t(e.exports,"SRS_WGS84_SEMIMINOR",()=>u),t(e.exports,"SRS_WGS84_ESQUARED",()=>h),t(e.exports,"SEC_TO_RAD",()=>c),t(e.exports,"HALF_PI",()=>d),t(e.exports,"SIXTH",()=>p),t(e.exports,"RA4",()=>f),t(e.exports,"RA6",()=>g),t(e.exports,"EPSLN",()=>m),t(e.exports,"D2R",()=>y),t(e.exports,"R2D",()=>v),t(e.exports,"FORTPI",()=>b),t(e.exports,"TWO_PI",()=>x),t(e.exports,"SPI",()=>E);var i=1,n=2,s=3,a=4,o=5,l=6378137,u=6356752.314,h=.0066943799901413165,c=484813681109536e-20,d=Math.PI/2,p=.16666666666666666,f=.04722222222222222,g=.022156084656084655,m=1e-10,y=.017453292519943295,v=57.29577951308232,b=Math.PI/4,x=2*Math.PI,E=3.14159265359}),a("caeKH",function(e,r){t(e.exports,"default",()=>i);var i={};i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667}),a("giYbV",function(e,r){t(e.exports,"default",()=>i);var i={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}}}),a("et3gj",function(e,r){t(e.exports,"default",()=>n);var i=/[\s_\-\/\(\)]/g;function n(e,t){if(e[t])return e[t];for(var r,n=Object.keys(e),s=t.toLowerCase().replace(i,""),a=-1;++a<n.length;)if((r=n[a]).toLowerCase().replace(i,"")===s)return e[r]}}),a("fffKN",function(e,r){t(e.exports,"default",()=>o);var i=s("877Zt"),n=s("cUVW6");function a(e){return .017453292519943295*e}function o(e){var t=(0,i.default)(e),r=t.shift(),s=t.shift();t.unshift(["name",s]),t.unshift(["type",r]);var o={};return(0,n.sExpr)(t,o),function(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",r=0,i=e.AXIS.length;r<i;++r){var n=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];-1!==n[0].indexOf("north")||("y"===n[0]||"lat"===n[0])&&"north"===n[1]?t+="n":-1!==n[0].indexOf("south")||("y"===n[0]||"lat"===n[0])&&"south"===n[1]?t+="s":-1!==n[0].indexOf("east")||("x"===n[0]||"lon"===n[0])&&"east"===n[1]?t+="e":(-1!==n[0].indexOf("west")||("x"===n[0]||"lon"===n[0])&&"west"===n[1])&&(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;function o(t){return t*(e.to_meter||1)}"GEOGCS"===e.type&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===e.datumCode||"new_zealand_1949"===e.datumCode)&&(e.datumCode="nzgd49"),("wgs_1984"===e.datumCode||"world_geodetic_system_1984"===e.datumCode)&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",a],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["azimuth","Azimuth"],["alpha","azimuth",a],["srsCode","name"]].forEach(function(t){var r,i;return r=t[0],i=t[1],void(!(r in e)&&i in e&&(e[r]=e[i],3===t.length&&(e[r]=t[2](e[r]))))}),!e.long0&&e.longc&&("Albers_Conic_Equal_Area"===e.projName||"Lambert_Azimuthal_Equal_Area"===e.projName)&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&("Stereographic_South_Pole"===e.projName||"Polar Stereographic (variant B)"===e.projName)?(e.lat0=a(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&"Polar_Stereographic"===e.projName&&(e.lat_ts=e.lat0,e.lat0=a(e.lat0>0?90:-90))}(o),o}}),a("877Zt",function(e,r){t(e.exports,"default",()=>i);var i=function(e){return new u(e).output()},n=/\s/,s=/[A-Za-z]/,a=/[A-Za-z84_]/,o=/[,\]]/,l=/[\d\.E\-\+]/;function u(e){if("string"!=typeof e)throw Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}u.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;n.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case 1:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case -1:return}},u.prototype.afterquote=function(e){if('"'===e){this.word+='"',this.state=4;return}if(o.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},u.prototype.afterItem=function(e){if(","===e){null!==this.word&&this.currentObject.push(this.word),this.word=null,this.state=1;return}if("]"===e){this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),this.currentObject||(this.state=-1);return}},u.prototype.number=function(e){if(l.test(e)){this.word+=e;return}if(o.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw Error("havn't handled \""+e+'" in number yet, index '+this.place)},u.prototype.quoted=function(e){if('"'===e){this.state=5;return}this.word+=e},u.prototype.keyword=function(e){if(a.test(e)){this.word+=e;return}if("["===e){var t=[];t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=1;return}if(o.test(e)){this.afterItem(e);return}throw Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},u.prototype.neutral=function(e){if(s.test(e)){this.word=e,this.state=2;return}if('"'===e){this.word="",this.state=4;return}if(l.test(e)){this.word=e,this.state=3;return}if(o.test(e)){this.afterItem(e);return}throw Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},u.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw Error('unable to parse string "'+this.text+'". State is '+this.state)}}),a("cUVW6",function(e,r){function i(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var i=t?{}:e,s=r.reduce(function(e,t){return n(t,e),e},i);t&&(e[t]=s)}function n(e,t){if(!Array.isArray(e)){t[e]=!0;return}var r,s=e.shift();if("PARAMETER"===s&&(s=e.shift()),1===e.length){if(Array.isArray(e[0])){t[s]={},n(e[0],t[s]);return}t[s]=e[0];return}if(!e.length){t[s]=!0;return}if("TOWGS84"===s){t[s]=e;return}if("AXIS"===s){s in t||(t[s]=[]),t[s].push(e);return}switch(Array.isArray(s)||(t[s]={}),s){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[s]={name:e[0].toLowerCase(),convert:e[1]},3===e.length&&n(e[2],t[s]);return;case"SPHEROID":case"ELLIPSOID":t[s]={name:e[0],a:e[1],rf:e[2]},4===e.length&&n(e[3],t[s]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],i(t,s,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return n(e,t[s]);return i(t,s,e)}}t(e.exports,"sExpr",()=>n)}),a("cGnMA",function(e,r){t(e.exports,"default",()=>i);function i(e,t){var r,i;if(e=e||{},!t)return e;for(i in t)void 0!==(r=t[i])&&(e[i]=r);return e}}),a("2Ggeo",function(e,r){t(e.exports,"default",()=>h);var i=s("39V3b"),n=s("jDVoF"),a=[i.default,n.default],o={},l=[];function u(e,t){var r=l.length;return e.names?(l[r]=e,e.names.forEach(function(e){o[e.toLowerCase()]=r}),this):(console.log(t),!0)}var h={start:function(){a.forEach(u)},add:u,get:function(e){if(!e)return!1;var t=e.toLowerCase();if(void 0!==o[t]&&l[o[t]])return l[o[t]]}}}),a("39V3b",function(e,r){t(e.exports,"default",()=>u);var i=s("1gqnK"),n=s("kEf05"),a=s("8RM2D"),o=s("7qdiL"),l=s("7M1Nv"),u={init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=(0,i.default)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,r,i=e.x,s=e.y;if(s*l.R2D>90&&s*l.R2D<-90&&i*l.R2D>180&&i*l.R2D<-180||Math.abs(Math.abs(s)-l.HALF_PI)<=l.EPSLN)return null;if(this.sphere)t=this.x0+this.a*this.k0*(0,n.default)(i-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(l.FORTPI+.5*s));else{var o=(0,a.default)(this.e,s,Math.sin(s));t=this.x0+this.a*this.k0*(0,n.default)(i-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return e.x=t,e.y=r,e},inverse:function(e){var t,r,i=e.x-this.x0,s=e.y-this.y0;if(this.sphere)r=l.HALF_PI-2*Math.atan(Math.exp(-s/(this.a*this.k0)));else{var a=Math.exp(-s/(this.a*this.k0));if(-9999===(r=(0,o.default)(this.e,a)))return null}return t=(0,n.default)(this.long0+i/(this.a*this.k0)),e.x=t,e.y=r,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]}}),a("1gqnK",function(e,r){t(e.exports,"default",()=>i);function i(e,t,r){var i=e*t;return r/Math.sqrt(1-i*i)}}),a("kEf05",function(e,r){t(e.exports,"default",()=>a);var i=s("7M1Nv"),n=s("SsFAj");function a(e){return Math.abs(e)<=i.SPI?e:e-(0,n.default)(e)*i.TWO_PI}}),a("SsFAj",function(e,r){t(e.exports,"default",()=>i);function i(e){return e<0?-1:1}}),a("8RM2D",function(e,r){t(e.exports,"default",()=>n);var i=s("7M1Nv");function n(e,t,r){var n=e*r;return n=Math.pow((1-n)/(1+n),.5*e),Math.tan(.5*(i.HALF_PI-t))/n}}),a("7qdiL",function(e,r){t(e.exports,"default",()=>n);var i=s("7M1Nv");function n(e,t){for(var r,n,s=.5*e,a=i.HALF_PI-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(a),n=i.HALF_PI-2*Math.atan(t*Math.pow((1-r)/(1+r),s))-a,a+=n,1e-10>=Math.abs(n))return a;return -9999}}),a("jDVoF",function(e,r){function i(e){return e}t(e.exports,"default",()=>n);var n={init:function(){},forward:i,inverse:i,names:["longlat","identity"]}}),a("02BW5",function(e,r){t(e.exports,"eccentricity",()=>o),t(e.exports,"sphere",()=>l);var i=s("7M1Nv"),n=s("lXEbW"),a=s("et3gj");function o(e,t,r,n){var s=e*e,a=t*t,o=(s-a)/s,l=0;return n?(e*=1-o*(i.SIXTH+o*(i.RA4+o*i.RA6)),s=e*e,o=0):l=Math.sqrt(o),{es:o,e:l,ep2:(s-a)/a}}function l(e,t,r,s,o){if(!e){var l=(0,a.default)(n.default,s);l||(l=n.WGS84),e=l.a,t=l.b,r=l.rf}return r&&!t&&(t=(1-1/r)*e),(0===r||Math.abs(e-t)<i.EPSLN)&&(o=!0,t=e),{a:e,b:t,rf:r,sphere:o}}}),a("lXEbW",function(e,r){t(e.exports,"default",()=>i),t(e.exports,"WGS84",()=>n);var i={};i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk80ign={a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var n=i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}}),a("lG5ev",function(e,r){t(e.exports,"default",()=>i);var i={};i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},i.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}}),a("5GO2w",function(e,r){t(e.exports,"default",()=>n);var i=s("7M1Nv"),n=function(e,t,r,n,s,a,o){var l={};return void 0===e||"none"===e?l.datum_type=i.PJD_NODATUM:l.datum_type=i.PJD_WGS84,t&&(l.datum_params=t.map(parseFloat),(0!==l.datum_params[0]||0!==l.datum_params[1]||0!==l.datum_params[2])&&(l.datum_type=i.PJD_3PARAM),l.datum_params.length>3&&(0!==l.datum_params[3]||0!==l.datum_params[4]||0!==l.datum_params[5]||0!==l.datum_params[6])&&(l.datum_type=i.PJD_7PARAM,l.datum_params[3]*=i.SEC_TO_RAD,l.datum_params[4]*=i.SEC_TO_RAD,l.datum_params[5]*=i.SEC_TO_RAD,l.datum_params[6]=l.datum_params[6]/1e6+1)),o&&(l.datum_type=i.PJD_GRIDSHIFT,l.grids=o),l.a=r,l.b=n,l.es=s,l.ep2=a,l}}),a("dLS86",function(e,r){t(e.exports,"default",()=>n),t(e.exports,"getNadgrids",()=>s);var i={};function n(e,t){var r,n=new DataView(t),s=11!==n.getInt32(8,!1)&&(11!==n.getInt32(8,!0)&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0),a={nFields:n.getInt32(8,s),nSubgridFields:n.getInt32(24,s),nSubgrids:n.getInt32(40,s),shiftType:l(n,56,64).trim(),fromSemiMajorAxis:n.getFloat64(120,s),fromSemiMinorAxis:n.getFloat64(136,s),toSemiMajorAxis:n.getFloat64(152,s),toSemiMinorAxis:n.getFloat64(168,s)};a.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var u=function(e,t,r){for(var i=[],n=0;n<t.nSubgrids;n++){var s={name:l(e,184,192).trim(),parent:l(e,200,208).trim(),lowerLatitude:e.getFloat64(248,r),upperLatitude:e.getFloat64(264,r),lowerLongitude:e.getFloat64(280,r),upperLongitude:e.getFloat64(296,r),latitudeInterval:e.getFloat64(312,r),longitudeInterval:e.getFloat64(328,r),gridNodeCount:e.getInt32(344,r)},a=function(e,t,r,i){for(var n=[],s=0;s<r.gridNodeCount;s++){var a={latitudeShift:e.getFloat32(352+16*s,i),longitudeShift:e.getFloat32(352+16*s+4,i),latitudeAccuracy:e.getFloat32(352+16*s+8,i),longitudeAccuracy:e.getFloat32(352+16*s+12,i)};n.push(a)}return n}(e,0,s,r),u=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),h=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[o(s.lowerLongitude),o(s.lowerLatitude)],del:[o(s.longitudeInterval),o(s.latitudeInterval)],lim:[u,h],count:s.gridNodeCount,cvs:a.map(function(e){return[o(e.longitudeShift),o(e.latitudeShift)]})})}return i}(n,a,s),h={header:a,subgrids:u};return i[e]=h,h}function s(e){return void 0===e?null:e.split(",").map(a)}function a(e){if(0===e.length)return null;var t="@"===e[0];return(t&&(e=e.slice(1)),"null"===e)?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:i[e]||null,isNull:!1}}function o(e){return e/3600*Math.PI/180}function l(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}}),a("9ItUw",function(e,r){t(e.exports,"default",()=>function e(t,r,s,h){var c,d,p=void 0!==(s=Array.isArray(s)?(0,l.default)(s):{x:s.x,y:s.y,z:s.z,m:s.m}).z;if((0,u.default)(s),t.datum&&r.datum&&(((c=t).datum.datum_type===i.PJD_3PARAM||c.datum.datum_type===i.PJD_7PARAM||c.datum.datum_type===i.PJD_GRIDSHIFT)&&"WGS84"!==r.datumCode||(r.datum.datum_type===i.PJD_3PARAM||r.datum.datum_type===i.PJD_7PARAM||r.datum.datum_type===i.PJD_GRIDSHIFT)&&"WGS84"!==c.datumCode)&&(s=e(t,d=new o.default("WGS84"),s,h),t=d),h&&"enu"!==t.axis&&(s=(0,a.default)(t,!1,s)),"longlat"===t.projName)s={x:s.x*i.D2R,y:s.y*i.D2R,z:s.z||0};else if(t.to_meter&&(s={x:s.x*t.to_meter,y:s.y*t.to_meter,z:s.z||0}),!(s=t.inverse(s)))return;if(t.from_greenwich&&(s.x+=t.from_greenwich),s=(0,n.default)(t.datum,r.datum,s))return(r.from_greenwich&&(s={x:s.x-r.from_greenwich,y:s.y,z:s.z||0}),"longlat"===r.projName?s={x:s.x*i.R2D,y:s.y*i.R2D,z:s.z||0}:(s=r.forward(s),r.to_meter&&(s={x:s.x/r.to_meter,y:s.y/r.to_meter,z:s.z||0})),h&&"enu"!==r.axis)?(0,a.default)(r,!0,s):(p||delete s.z,s)});var i=s("7M1Nv"),n=s("6k5Uh"),a=s("9in7W"),o=s("7J5S7"),l=s("gstUr"),u=s("hyITn")}),a("6k5Uh",function(e,r){t(e.exports,"default",()=>l);var i=s("7M1Nv"),n=s("cbJeb"),a=s("kEf05");function o(e){return e===i.PJD_3PARAM||e===i.PJD_7PARAM}function l(e,t,r){if((0,n.compareDatums)(e,t)||e.datum_type===i.PJD_NODATUM||t.datum_type===i.PJD_NODATUM)return r;var s=e.a,a=e.es;if(e.datum_type===i.PJD_GRIDSHIFT){if(0!==u(e,!1,r))return;s=i.SRS_WGS84_SEMIMAJOR,a=i.SRS_WGS84_ESQUARED}var l=t.a,h=t.b,c=t.es;if(t.datum_type===i.PJD_GRIDSHIFT&&(l=i.SRS_WGS84_SEMIMAJOR,h=i.SRS_WGS84_SEMIMINOR,c=i.SRS_WGS84_ESQUARED),a===c&&s===l&&!o(e.datum_type)&&!o(t.datum_type)||(r=(0,n.geodeticToGeocentric)(r,a,s),o(e.datum_type)&&(r=(0,n.geocentricToWgs84)(r,e.datum_type,e.datum_params)),o(t.datum_type)&&(r=(0,n.geocentricFromWgs84)(r,t.datum_type,t.datum_params)),r=(0,n.geocentricToGeodetic)(r,c,l,h),t.datum_type!==i.PJD_GRIDSHIFT||0===u(t,!0,r)))return r}function u(e,t,r){if(null===e.grids||0===e.grids.length)return console.log("Grid shift grids not found"),-1;for(var n={x:-r.x,y:r.y},s={x:Number.NaN,y:Number.NaN},o=[],l=0;l<e.grids.length;l++){var u=e.grids[l];if(o.push(u.name),u.isNull){s=n;break}if(u.mandatory,null===u.grid){if(u.mandatory)return console.log("Unable to find mandatory grid '"+u.name+"'"),-1;continue}var c=u.grid.subgrids[0],d=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,p=c.ll[0]-d,f=c.ll[1]-d,g=c.ll[0]+(c.lim[0]-1)*c.del[0]+d,m=c.ll[1]+(c.lim[1]-1)*c.del[1]+d;if(!(f>n.y)&&!(p>n.x)&&!(m<n.y)&&!(g<n.x)&&!isNaN((s=function(e,t,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var n={x:e.x,y:e.y};n.x-=r.ll[0],n.y-=r.ll[1],n.x=(0,a.default)(n.x-Math.PI)+Math.PI;var s=h(n,r);if(t){if(isNaN(s.x))return i;s.x=n.x-s.x,s.y=n.y-s.y;var o,l,u=9;do{if(isNaN((l=h(s,r)).x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}o={x:n.x-(l.x+s.x),y:n.y-(l.y+s.y)},s.x+=o.x,s.y+=o.y}while(u--&&Math.abs(o.x)>1e-12&&Math.abs(o.y)>1e-12)if(u<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=(0,a.default)(s.x+r.ll[0]),i.y=s.y+r.ll[1]}else isNaN(s.x)||(i.x=e.x+s.x,i.y=e.y+s.y);return i}(n,t,c)).x))break}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*i.R2D+" "+n.y*i.R2D+" tried: '"+o+"'"),-1):(r.x=-s.x,r.y=s.y,0)}function h(e,t){var r,i={x:e.x/t.del[0],y:e.y/t.del[1]},n={x:Math.floor(i.x),y:Math.floor(i.y)},s={x:i.x-1*n.x,y:i.y-1*n.y},a={x:Number.NaN,y:Number.NaN};if(n.x<0||n.x>=t.lim[0]||n.y<0||n.y>=t.lim[1])return a;r=n.y*t.lim[0]+n.x;var o={x:t.cvs[r][0],y:t.cvs[r][1]};r++;var l={x:t.cvs[r][0],y:t.cvs[r][1]};r+=t.lim[0];var u={x:t.cvs[r][0],y:t.cvs[r][1]};r--;var h={x:t.cvs[r][0],y:t.cvs[r][1]},c=s.x*s.y,d=s.x*(1-s.y),p=(1-s.x)*(1-s.y),f=(1-s.x)*s.y;return a.x=p*o.x+d*l.x+f*h.x+c*u.x,a.y=p*o.y+d*l.y+f*h.y+c*u.y,a}}),a("cbJeb",function(e,r){t(e.exports,"compareDatums",()=>n),t(e.exports,"geodeticToGeocentric",()=>a),t(e.exports,"geocentricToGeodetic",()=>o),t(e.exports,"geocentricToWgs84",()=>l),t(e.exports,"geocentricFromWgs84",()=>u);var i=s("7M1Nv");function n(e,t){return!(e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===i.PJD_3PARAM?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==i.PJD_7PARAM||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6])}function a(e,t,r){var n,s,a,o=e.x,l=e.y,u=e.z?e.z:0;if(l<-i.HALF_PI&&l>-1.001*i.HALF_PI)l=-i.HALF_PI;else if(l>i.HALF_PI&&l<1.001*i.HALF_PI)l=i.HALF_PI;else if(l<-i.HALF_PI)return{x:-1/0,y:-1/0,z:e.z};else if(l>i.HALF_PI)return{x:1/0,y:1/0,z:e.z};return o>Math.PI&&(o-=2*Math.PI),s=Math.sin(l),a=Math.cos(l),{x:((n=r/Math.sqrt(1-s*s*t))+u)*a*Math.cos(o),y:(n+u)*a*Math.sin(o),z:(n*(1-t)+u)*s}}function o(e,t,r,n){var s,a,o,l,u,h,c,d,p,f,g,m,y,v,b,x=1e-12*1e-12,E=e.x,_=e.y,S=e.z?e.z:0;if(s=Math.sqrt(E*E+_*_),a=Math.sqrt(E*E+_*_+S*S),s/r<1e-12){if(v=0,a/r<1e-12)return i.HALF_PI,b=-n,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(_,E);o=S/a,u=1/Math.sqrt(1-t*(2-t)*(l=s/a)*l),d=l*(1-t)*u,p=o*u,y=0;do y++,c=r/Math.sqrt(1-t*p*p),b=s*d+S*p-c*(1-t*p*p),u=1/Math.sqrt(1-(h=t*c/(c+b))*(2-h)*l*l),f=l*(1-h)*u,m=(g=o*u)*d-f*p,d=f,p=g;while(m*m>x&&y<30)return{x:v,y:Math.atan(g/Math.abs(f)),z:b}}function l(e,t,r){if(t===i.PJD_3PARAM)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===i.PJD_7PARAM){var n=r[0],s=r[1],a=r[2],o=r[3],l=r[4],u=r[5],h=r[6];return{x:h*(e.x-u*e.y+l*e.z)+n,y:h*(u*e.x+e.y-o*e.z)+s,z:h*(-l*e.x+o*e.y+e.z)+a}}}function u(e,t,r){if(t===i.PJD_3PARAM)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===i.PJD_7PARAM){var n=r[0],s=r[1],a=r[2],o=r[3],l=r[4],u=r[5],h=r[6],c=(e.x-n)/h,d=(e.y-s)/h,p=(e.z-a)/h;return{x:c+u*d-l*p,y:-u*c+d+o*p,z:l*c-o*d+p}}}}),a("9in7W",function(e,r){t(e.exports,"default",()=>i);function i(e,t,r){var i,n,s,a=r.x,o=r.y,l=r.z||0,u={};for(s=0;s<3;s++)if(!t||2!==s||void 0!==r.z)switch(0===s?(i=a,n=-1!=="ew".indexOf(e.axis[s])?"x":"y"):1===s?(i=o,n=-1!=="ns".indexOf(e.axis[s])?"y":"x"):(i=l,n="z"),e.axis[s]){case"e":case"n":u[n]=i;break;case"w":case"s":u[n]=-i;break;case"u":void 0!==r[n]&&(u.z=i);break;case"d":void 0!==r[n]&&(u.z=-i);break;default:return null}return u}}),a("gstUr",function(e,r){t(e.exports,"default",()=>i);function i(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}}),a("hyITn",function(e,r){function i(e){n(e.x),n(e.y)}function n(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!=e||!isFinite(e))throw TypeError("coordinates must be finite numbers")}t(e.exports,"default",()=>i)}),a("gdtqa",function(e,r){t(e.exports,"default",()=>a);var i=s("cnmDo");function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}n.fromMGRS=function(e){return new n((0,i.toPoint)(e))},n.prototype.toMGRS=function(e){return(0,i.forward)([this.x,this.y],e)};var a=n}),a("cnmDo",function(e,r){t(e.exports,"default",()=>s),t(e.exports,"forward",()=>a),t(e.exports,"toPoint",()=>o);var i="AJSAJS",n="AFAFAF",s={forward:a,inverse:function(e){var t=h(d(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]},toPoint:o};function a(e,t){var r,s,a,o,u,h,d,p,f,g,m,y,v,b,x;return t=t||5,r=function(e){var t,r,i,n,s,a,o,u=e.lat,h=e.lon,c=l(u),d=l(h);o=Math.floor((h+180)/6)+1,180===h&&(o=60),u>=56&&u<64&&h>=3&&h<12&&(o=32),u>=72&&u<84&&(h>=0&&h<9?o=31:h>=9&&h<21?o=33:h>=21&&h<33?o=35:h>=33&&h<42&&(o=37)),a=l((o-1)*6-180+3),r=6378137/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),i=Math.tan(c)*Math.tan(c),n=.006739496752268451*Math.cos(c)*Math.cos(c),s=Math.cos(c)*(d-a);var p=.9996*(6378137*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3418046101696858e-24*Math.sin(6*c))+r*Math.tan(c)*(s*s/2+(5-i+9*n+4*n*n)*s*s*s*s/24+(61-58*i+i*i+600*n-2.2240339282485886)*s*s*s*s*s*s/720));return u<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(.9996*r*(s+(1-i+n)*s*s*s/6+(5-18*i+i*i+72*n-.39089081163157013)*s*s*s*s*s/120)+5e5),zoneNumber:o,zoneLetter:(t="Z",84>=u&&u>=72?t="X":72>u&&u>=64?t="W":64>u&&u>=56?t="V":56>u&&u>=48?t="U":48>u&&u>=40?t="T":40>u&&u>=32?t="S":32>u&&u>=24?t="R":24>u&&u>=16?t="Q":16>u&&u>=8?t="P":8>u&&u>=0?t="N":0>u&&u>=-8?t="M":-8>u&&u>=-16?t="L":-16>u&&u>=-24?t="K":-24>u&&u>=-32?t="J":-32>u&&u>=-40?t="H":-40>u&&u>=-48?t="G":-48>u&&u>=-56?t="F":-56>u&&u>=-64?t="E":-64>u&&u>=-72?t="D":-72>u&&u>=-80&&(t="C"),t)}}({lat:e[1],lon:e[0]}),s=t,a="00000"+r.easting,o="00000"+r.northing,r.zoneNumber+r.zoneLetter+(u=r.easting,h=r.northing,d=c(r.zoneNumber),p=Math.floor(u/1e5),f=Math.floor(h/1e5)%20,g=d-1,m=i.charCodeAt(g),y=n.charCodeAt(g),v=m+p-1,b=y+f,x=!1,v>90&&(v=v-90+65-1,x=!0),(73===v||m<73&&v>73||(v>73||m<73)&&x)&&v++,(79===v||m<79&&v>79||(v>79||m<79)&&x)&&73==++v&&v++,v>90&&(v=v-90+65-1),b>86?(b=b-86+65-1,x=!0):x=!1,(73===b||y<73&&b>73||(b>73||y<73)&&x)&&b++,(79===b||y<79&&b>79||(b>79||y<79)&&x)&&73==++b&&b++,b>86&&(b=b-86+65-1),String.fromCharCode(v)+String.fromCharCode(b))+a.substr(a.length-5,s)+o.substr(o.length-5,s)}function o(e){var t=h(d(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function l(e){return Math.PI/180*e}function u(e){return e/Math.PI*180}function h(e){var t,r,i,n,s,a,o,l,c=e.northing,d=e.easting,p=e.zoneLetter,f=e.zoneNumber;if(f<0||f>60)return null;var g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=c;p<"N"&&(m-=1e7),t=6378137/Math.sqrt(1-.00669438*Math.sin(o=(a=m/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*a)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*a)+151*g*g*g/96*Math.sin(6*a))*Math.sin(o)),r=Math.tan(o)*Math.tan(o),i=.006739496752268451*Math.cos(o)*Math.cos(o),n=6335439.32722994/Math.pow(1-.00669438*Math.sin(o)*Math.sin(o),1.5),s=(d-5e5)/(.9996*t);var y=o-t*Math.tan(o)/n*(s*s/2-(5+3*r+10*i-4*i*i-.06065547077041606)*s*s*s*s/24+(61+90*r+298*i+45*r*r-1.6983531815716497-3*i*i)*s*s*s*s*s*s/720);y=u(y);var v=(s-(1+2*r+i)*s*s*s/6+(5-2*i+28*r-3*i*i+.05391597401814761+24*r*r)*s*s*s*s*s/120)/Math.cos(o);if(v=(f-1)*6-180+3+u(v),e.accuracy){var b=h({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});l={top:b.lat,right:b.lon,bottom:y,left:v}}else l={lat:y,lon:v};return l}function c(e){var t=e%6;return 0===t&&(t=6),t}function d(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,r,s=e.length,a=null,o="",l=0;!/[A-Z]/.test(t=e.charAt(l));){if(l>=2)throw"MGRSPoint bad conversion from: "+e;o+=t,l++}var u=parseInt(o,10);if(0===l||l+3>s)throw"MGRSPoint bad conversion from: "+e;var h=e.charAt(l++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+e;a=e.substring(l,l+=2);for(var d=c(u),p=function(e,t){for(var r=i.charCodeAt(t-1),n=1e5,s=!1;r!==e.charCodeAt(0);){if(73==++r&&r++,79===r&&r++,r>90){if(s)throw"Bad character: "+e;r=65,s=!0}n+=1e5}return n}(a.charAt(0),d),f=function(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=n.charCodeAt(t-1),i=0,s=!1;r!==e.charCodeAt(0);){if(73==++r&&r++,79===r&&r++,r>86){if(s)throw"Bad character: "+e;r=65,s=!0}i+=1e5}return i}(a.charAt(1),d);f<function(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}(h);)f+=2e6;var g=s-l;if(g%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var m=g/2,y=0,v=0;return m>0&&(r=1e5/Math.pow(10,m),y=parseFloat(e.substring(l,l+m))*r,v=parseFloat(e.substring(l+m))*r),{easting:y+p,northing:v+f,zoneLetter:h,zoneNumber:u,accuracy:r}}}),a("guiH1",function(e,r){t(e.exports,"default",()=>M);var i=s("5BH1M"),n=s("es3WD"),a=s("8Yaq4"),o=s("1RG4F"),l=s("37ccA"),u=s("1awqj"),h=s("l0GLf"),c=s("lodNN"),d=s("jkgJa"),p=s("2HFid"),f=s("9v6gR"),g=s("aYCax"),m=s("8zzks"),y=s("5DoFA"),v=s("jobMi"),b=s("fKioj"),x=s("fQxFh"),E=s("gu5X1"),_=s("4yyqR"),S=s("bMtlW"),O=s("bSwxC"),R=s("2BpE3"),A=s("h1KUb"),w=s("1nGnS"),C=s("lAm4d"),T=s("l7o7b"),L=s("hc3Bp"),P=s("1pXHs"),I=s("bZa0m");function M(e){e.Proj.projections.add(i.default),e.Proj.projections.add(n.default),e.Proj.projections.add(a.default),e.Proj.projections.add(o.default),e.Proj.projections.add(l.default),e.Proj.projections.add(u.default),e.Proj.projections.add(h.default),e.Proj.projections.add(c.default),e.Proj.projections.add(d.default),e.Proj.projections.add(p.default),e.Proj.projections.add(f.default),e.Proj.projections.add(g.default),e.Proj.projections.add(m.default),e.Proj.projections.add(y.default),e.Proj.projections.add(v.default),e.Proj.projections.add(b.default),e.Proj.projections.add(x.default),e.Proj.projections.add(E.default),e.Proj.projections.add(_.default),e.Proj.projections.add(S.default),e.Proj.projections.add(O.default),e.Proj.projections.add(R.default),e.Proj.projections.add(A.default),e.Proj.projections.add(w.default),e.Proj.projections.add(C.default),e.Proj.projections.add(T.default),e.Proj.projections.add(L.default),e.Proj.projections.add(P.default),e.Proj.projections.add(I.default)}}),a("5BH1M",function(e,r){t(e.exports,"default",()=>h);var i=s("lz6WA"),n=s("8GYcG"),a=s("6NyiU"),o=s("kEf05"),l=s("7M1Nv"),u=s("SsFAj"),h={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=(0,i.default)(this.es),this.ml0=(0,n.default)(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,r,i=e.x,s=e.y,a=(0,o.default)(i-this.long0),u=Math.sin(s),h=Math.cos(s);if(this.es){var c=h*a,d=Math.pow(c,2),p=this.ep2*Math.pow(h,2),f=Math.pow(p,2),g=Math.pow(Math.abs(h)>l.EPSLN?Math.tan(s):0,2),m=Math.pow(g,2);c/=Math.sqrt(1-this.es*Math.pow(u,2));var y=(0,n.default)(s,u,h,this.en);t=this.a*(this.k0*c*(1+d/6*(1-g+p+d/20*(5-18*g+m+14*p-58*g*p+d/42*(61+179*m-m*g-479*g)))))+this.x0,r=this.a*(this.k0*(y-this.ml0+u*a*c/2*(1+d/12*(5-g+9*p+4*f+d/30*(61+m-58*g+270*p-330*g*p+d/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var v=h*Math.sin(a);if(Math.abs(Math.abs(v)-1)<l.EPSLN)return 93;if(t=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,(v=Math.abs(r=h*Math.cos(a)/Math.sqrt(1-Math.pow(v,2))))>=1){if(v-1>l.EPSLN)return 93;r=0}else r=Math.acos(r);s<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=t,e.y=r,e},inverse:function(e){var t,r,i,n,s=(e.x-this.x0)*(1/this.a),h=(e.y-this.y0)*(1/this.a);if(this.es){if(t=this.ml0+h/this.k0,Math.abs(r=(0,a.default)(t,this.es,this.en))<l.HALF_PI){var c=Math.sin(r),d=Math.cos(r),p=Math.abs(d)>l.EPSLN?Math.tan(r):0,f=this.ep2*Math.pow(d,2),g=Math.pow(f,2),m=Math.pow(p,2),y=Math.pow(m,2),v=s*Math.sqrt(t=1-this.es*Math.pow(c,2))/this.k0,b=Math.pow(v,2);t*=p,i=r-t*b/(1-this.es)*.5*(1-b/12*(5+3*m-9*f*m+f-4*g-b/30*(61+90*m-252*f*m+45*y+46*f-b/56*(1385+3633*m+4095*y+1574*y*m)))),n=(0,o.default)(this.long0+v*(1-b/6*(1+2*m+f-b/20*(5+28*m+24*y+8*f*m+6*f-b/42*(61+662*m+1320*y+720*y*m))))/d)}else i=l.HALF_PI*(0,u.default)(h),n=0}else{var x=Math.exp(s/this.k0),E=.5*(x-1/x),_=Math.cos(this.lat0+h/this.k0);i=Math.asin(t=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(E,2)))),h<0&&(i=-i),n=0===E&&0===_?0:(0,o.default)(Math.atan2(E,_)+this.long0)}return e.x=n,e.y=i,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]}}),a("lz6WA",function(e,r){t(e.exports,"default",()=>i);function i(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+.01068115234375*e))),t[1]=e*(.75-e*(.046875+e*(.01953125+.01068115234375*e)));var r=e*e;return t[2]=r*(.46875-e*(.013020833333333334+.007120768229166667*e)),r*=e,t[3]=r*(.3645833333333333-.005696614583333333*e),t[4]=r*e*.3076171875,t}}),a("8GYcG",function(e,r){t(e.exports,"default",()=>i);function i(e,t,r,i){return r*=t,t*=t,i[0]*e-r*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}}),a("6NyiU",function(e,r){t(e.exports,"default",()=>a);var i=s("8GYcG"),n=s("7M1Nv");function a(e,t,r){for(var s=1/(1-t),a=e,o=20;o;--o){var l=Math.sin(a),u=1-t*l*l;if(u=((0,i.default)(a,l,Math.cos(a),r)-e)*(u*Math.sqrt(u))*s,a-=u,Math.abs(u)<n.EPSLN)break}return a}}),a("es3WD",function(e,r){t(e.exports,"init",()=>d),t(e.exports,"forward",()=>p),t(e.exports,"inverse",()=>f),t(e.exports,"names",()=>g),t(e.exports,"default",()=>m);var i=s("5BH1M"),n=s("63eZQ"),a=s("9ijWS"),o=s("lDRbx"),l=s("cMuZ8"),u=s("hcIfS"),h=s("30KR7"),c=s("kEf05");function d(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&((0,i.default).init.apply(this),this.forward=i.default.forward,this.inverse=i.default.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+-2854/675*t))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+4642/4725*t))))),r*=t,this.cgb[1]=r*(7/3+t*(-1.6+t*(-227/45+t*(2704/315+2323/945*t)))),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+-1522/945*t)))),r*=t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+73814/2835*t))),this.cbg[2]=r*(-26/15+t*(34/21+t*(1.6+-12686/2835*t))),r*=t,this.cgb[3]=r*(4279/630+t*(-332/35+-399572/14175*t)),this.cbg[3]=r*(1237/630+t*(-2.4+-24832/14175*t)),r*=t,this.cgb[4]=r*(4174/315+-144838/6237*t),this.cbg[4]=r*(-734/315+109598/31185*t),r*=t,this.cgb[5]=601676/22275*r,this.cbg[5]=444337/155925*r,r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+-96199/604800*t))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+7891/37800*t))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+1118711/3870720*t)))),this.gtu[1]=r*(13/48+t*(-.6+t*(557/1440+t*(281/630+-1983433/1935360*t)))),r*=t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+-5569/90720*t))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+167603/181440*t))),r*=t,this.utg[3]=r*(-4397/161280+t*(11/504+830251/7257600*t)),this.gtu[3]=r*(49561/161280+t*(-179/168+6601661/7257600*t)),r*=t,this.utg[4]=r*(-4583/161280+108847/3991680*t),this.gtu[4]=r*(34729/80640+-3418889/1995840*t),r*=t,this.utg[5]=-20648693/638668800*r,this.gtu[5]=.6650675310896665*r;var n=(0,l.default)(this.cbg,this.lat0);this.Zb=-this.Qn*(n+(0,u.default)(this.gtu,2*n))}function p(e){var t,r,i=(0,c.default)(e.x-this.long0),n=e.y,s=Math.sin(n=(0,l.default)(this.cbg,n)),u=Math.cos(n),d=Math.sin(i),p=Math.cos(i);n=Math.atan2(s,p*u),i=Math.atan2(d*u,(0,a.default)(s,u*p)),i=(0,o.default)(Math.tan(i));var f=(0,h.default)(this.gtu,2*n,2*i);return n+=f[0],2.623395162778>=Math.abs(i+=f[1])?(t=this.a*(this.Qn*i)+this.x0,r=this.a*(this.Qn*n+this.Zb)+this.y0):(t=1/0,r=1/0),e.x=t,e.y=r,e}function f(e){var t,r,i=(e.x-this.x0)*(1/this.a),s=(e.y-this.y0)*(1/this.a);if(s=(s-this.Zb)/this.Qn,2.623395162778>=Math.abs(i/=this.Qn)){var o=(0,h.default)(this.utg,2*s,2*i);s+=o[0],i+=o[1],i=Math.atan((0,n.default)(i));var u=Math.sin(s),d=Math.cos(s),p=Math.sin(i),f=Math.cos(i);s=Math.atan2(u*f,(0,a.default)(p,f*d)),i=Math.atan2(p,f*d),t=(0,c.default)(i+this.long0),r=(0,l.default)(this.cgb,s)}else t=1/0,r=1/0;return e.x=t,e.y=r,e}var g=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"],m={init:d,forward:p,inverse:f,names:g}}),a("63eZQ",function(e,r){t(e.exports,"default",()=>i);function i(e){var t=Math.exp(e);return(t-1/t)/2}}),a("9ijWS",function(e,r){t(e.exports,"default",()=>i);function i(e,t){var r=Math.max(e=Math.abs(e),t=Math.abs(t)),i=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}}),a("lDRbx",function(e,r){t(e.exports,"default",()=>a);var i=s("9ijWS"),n=s("jZ7FQ");function a(e){var t=Math.abs(e);return t=(0,n.default)(t*(1+t/((0,i.default)(1,t)+1))),e<0?-t:t}}),a("jZ7FQ",function(e,r){t(e.exports,"default",()=>i);function i(e){var t=1+e,r=t-1;return 0===r?e:e*Math.log(t)/r}}),a("cMuZ8",function(e,r){t(e.exports,"default",()=>i);function i(e,t){for(var r,i=2*Math.cos(2*t),n=e.length-1,s=e[n],a=0;--n>=0;)r=-a+i*s+e[n],a=s,s=r;return t+r*Math.sin(2*t)}}),a("hcIfS",function(e,r){t(e.exports,"default",()=>i);function i(e,t){for(var r,i=2*Math.cos(t),n=e.length-1,s=e[n],a=0;--n>=0;)r=-a+i*s+e[n],a=s,s=r;return Math.sin(t)*r}}),a("30KR7",function(e,r){t(e.exports,"default",()=>a);var i=s("63eZQ"),n=s("em6GO");function a(e,t,r){for(var s,a,o=Math.sin(t),l=Math.cos(t),u=(0,i.default)(r),h=(0,n.default)(r),c=2*l*h,d=-2*o*u,p=e.length-1,f=e[p],g=0,m=0,y=0;--p>=0;)s=m,a=g,f=-s+c*(m=f)-d*(g=y)+e[p],y=-a+d*m+c*g;return[(c=o*h)*f-(d=l*u)*y,c*y+d*f]}}),a("em6GO",function(e,r){t(e.exports,"default",()=>i);function i(e){var t=Math.exp(e);return(t+1/t)/2}}),a("8Yaq4",function(e,r){t(e.exports,"default",()=>o);var i=s("jcKxu"),n=s("es3WD"),a=s("7M1Nv"),o={init:function(){var e=(0,i.default)(this.zone,this.long0);if(void 0===e)throw Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*a.D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,(0,n.default).init.apply(this),this.forward=n.default.forward,this.inverse=n.default.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"}}),a("jcKxu",function(e,r){t(e.exports,"default",()=>n);var i=s("kEf05");function n(e,t){if(void 0===e){if((e=Math.floor(((0,i.default)(t)+Math.PI)*30/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}}),a("1RG4F",function(e,r){t(e.exports,"default",()=>a);var i=s("bUfcr"),n=s("kEf05"),a={init:function(){(0,i.default).init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,r,s,a;return e.x=(0,n.default)(e.x-this.long0),(0,i.default).forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),s=Math.cos(e.x),a=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*s),e.x=a*r*Math.sin(e.x),e.y=a*(this.cosc0*t-this.sinc0*r*s),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,r,s,a,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Math.sqrt(e.x*e.x+e.y*e.y)){var l=2*Math.atan2(o,this.R2);t=Math.sin(l),a=Math.asin((r=Math.cos(l))*this.sinc0+e.y*t*this.cosc0/o),s=Math.atan2(e.x*t,o*this.cosc0*r-e.y*this.sinc0*t)}else a=this.phic0,s=0;return e.x=s,e.y=a,(0,i.default).inverse.apply(this,[e]),e.x=(0,n.default)(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]}}),a("bUfcr",function(e,r){t(e.exports,"default",()=>a);var i=s("2JMAV"),n=s("7M1Nv"),a={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n.FORTPI)/(Math.pow(Math.tan(.5*this.lat0+n.FORTPI),this.C)*(0,i.default)(this.e*e,this.ratexp))},forward:function(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+n.FORTPI),this.C)*(0,i.default)(this.e*Math.sin(r),this.ratexp))-n.HALF_PI,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,r=e.y,s=Math.pow(Math.tan(.5*r+n.FORTPI)/this.K,1/this.C),a=20;a>0&&!(1e-14>Math.abs((r=2*Math.atan(s*(0,i.default)(this.e*Math.sin(e.y),-.5*this.e))-n.HALF_PI)-e.y));--a)e.y=r;return a?(e.x=t,e.y=r,e):null},names:["gauss"]}}),a("2JMAV",function(e,r){t(e.exports,"default",()=>i);function i(e,t){return Math.pow((1-e)/(1+e),t)}}),a("37ccA",function(e,r){t(e.exports,"ssfn_",()=>h),t(e.exports,"init",()=>c),t(e.exports,"forward",()=>d),t(e.exports,"inverse",()=>p),t(e.exports,"names",()=>f),t(e.exports,"default",()=>g);var i=s("7M1Nv"),n=s("SsFAj"),a=s("1gqnK"),o=s("8RM2D"),l=s("7qdiL"),u=s("kEf05");function h(e,t,r){return t*=r,Math.tan(.5*(i.HALF_PI+e))*Math.pow((1-t)/(1+t),.5*r)}function c(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i.EPSLN&&(this.k0=.5*(1+(0,n.default)(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=i.EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i.EPSLN&&(this.k0=.5*this.cons*(0,a.default)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/(0,o.default)(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=(0,a.default)(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i.HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function d(e){var t,r,n,s,a,l,h=e.x,c=e.y,d=Math.sin(c),p=Math.cos(c),f=(0,u.default)(h-this.long0);if(Math.abs(Math.abs(h-this.long0)-Math.PI)<=i.EPSLN&&Math.abs(c+this.lat0)<=i.EPSLN)return e.x=NaN,e.y=NaN,e;if(this.sphere)t=2*this.k0/(1+this.sinlat0*d+this.coslat0*p*Math.cos(f)),e.x=this.a*t*p*Math.sin(f)+this.x0,e.y=this.a*t*(this.coslat0*d-this.sinlat0*p*Math.cos(f))+this.y0;else{if(s=Math.cos(r=2*Math.atan(this.ssfn_(c,d,this.e))-i.HALF_PI),n=Math.sin(r),Math.abs(this.coslat0)<=i.EPSLN)return a=(0,o.default)(this.e,c*this.con,this.con*d),l=2*this.a*this.k0*a/this.cons,e.x=this.x0+l*Math.sin(h-this.long0),e.y=this.y0-this.con*l*Math.cos(h-this.long0),e;Math.abs(this.sinlat0)<i.EPSLN?(t=2*this.a*this.k0/(1+s*Math.cos(f)),e.y=t*n):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*s*Math.cos(f))),e.y=t*(this.cosX0*n-this.sinX0*s*Math.cos(f))+this.y0),e.x=t*s*Math.sin(f)+this.x0}return e}function p(e){e.x-=this.x0,e.y-=this.y0;var t,r,n,s,a,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var h=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,r=this.lat0,o<=i.EPSLN||(r=Math.asin(Math.cos(h)*this.sinlat0+e.y*Math.sin(h)*this.coslat0/o),t=Math.abs(this.coslat0)<i.EPSLN?this.lat0>0?(0,u.default)(this.long0+Math.atan2(e.x,-1*e.y)):(0,u.default)(this.long0+Math.atan2(e.x,e.y)):(0,u.default)(this.long0+Math.atan2(e.x*Math.sin(h),o*this.coslat0*Math.cos(h)-e.y*this.sinlat0*Math.sin(h)))),e.x=t,e.y=r,e}if(Math.abs(this.coslat0)<=i.EPSLN){if(o<=i.EPSLN)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,n=o*this.cons/(2*this.a*this.k0),r=this.con*(0,l.default)(this.e,n),t=this.con*(0,u.default)(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=i.EPSLN?a=this.X0:(a=Math.asin(Math.cos(s)*this.sinX0+e.y*Math.sin(s)*this.cosX0/o),t=(0,u.default)(this.long0+Math.atan2(e.x*Math.sin(s),o*this.cosX0*Math.cos(s)-e.y*this.sinX0*Math.sin(s)))),r=-1*(0,l.default)(this.e,Math.tan(.5*(i.HALF_PI+a)));return e.x=t,e.y=r,e}var f=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],g={init:c,forward:d,inverse:p,names:f,ssfn_:h}}),a("1awqj",function(e,r){t(e.exports,"default",()=>i);var i={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,i=1/this.rf,n=2*i-Math.pow(i,2),s=this.e=Math.sqrt(n);this.R=this.k0*r*Math.sqrt(1-n)/(1-n*Math.pow(t,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+s*t)/(1-s*t));this.K=a-this.alpha*o+this.alpha*s/2*l},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=2*(Math.atan(Math.exp(-this.alpha*(t+r)+this.K))-Math.PI/4),n=this.alpha*(e.x-this.lambda0),s=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(n));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*s+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,r=e.y-this.y0,i=t/this.R,n=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),o=this.lambda0+a/this.alpha,l=0,u=s,h=-1e3,c=0;Math.abs(u-h)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=o,e.y=u,e},names:["somerc"]}}),a("l0GLf",function(e,r){t(e.exports,"default",()=>l);var i=s("8RM2D"),n=s("kEf05"),a=s("7qdiL"),o=s("7M1Nv"),l={init:function(){var e,t,r,s,a,l,u,h,c,d,p,f=0,g=0,m=0,y=0,v=0,b=0,x=0;this.no_off=(e="object"==typeof this.PROJECTION?Object.keys(this.PROJECTION)[0]:this.PROJECTION,"no_uoff"in this||"no_off"in this||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(e)),this.no_rot="no_rot"in this;var E=!1;"alpha"in this&&(E=!0);var _=!1;if("rectified_grid_angle"in this&&(_=!0),E&&(x=this.alpha),_&&(f=this.rectified_grid_angle*o.D2R),E||_)g=this.longc;else if(m=this.long1,v=this.lat1,y=this.long2,1e-7>=Math.abs(v-(b=this.lat2))||(t=Math.abs(v))<=1e-7||1e-7>=Math.abs(t-o.HALF_PI)||1e-7>=Math.abs(Math.abs(this.lat0)-o.HALF_PI)||1e-7>=Math.abs(Math.abs(b)-o.HALF_PI))throw Error();var S=1-this.es;(r=Math.sqrt(S),Math.abs(this.lat0)>o.EPSLN?(c=Math.sin(this.lat0),s=Math.cos(this.lat0),t=1-this.es*c*c,this.B=s*s,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*r/t,(l=(a=this.B*r/(s*Math.sqrt(t)))*a-1)<=0?l=0:(l=Math.sqrt(l),this.lat0<0&&(l=-l)),this.E=l+=a,this.E*=Math.pow((0,i.default)(this.e,this.lat0,c),this.B)):(this.B=1/r,this.A=this.k0,this.E=a=l=1),E||_)?(E?(p=Math.asin(Math.sin(x)/a),_||(f=x)):x=Math.asin(a*Math.sin(p=f)),this.lam0=g-Math.asin(.5*(l-1/l)*Math.tan(p))/this.B):(u=Math.pow((0,i.default)(this.e,v,Math.sin(v)),this.B),h=Math.pow((0,i.default)(this.e,b,Math.sin(b)),this.B),l=this.E/u,d=((d=this.E*this.E)-h*u)/(d+h*u),(t=m-y)<-Math.pi?y-=o.TWO_PI:t>Math.pi&&(y+=o.TWO_PI),this.lam0=(0,n.default)(.5*(m+y)-Math.atan(d*Math.tan(.5*this.B*(m-y))/((h-u)/(h+u)))/this.B),f=x=Math.asin(a*Math.sin(p=Math.atan(2*Math.sin(this.B*(0,n.default)(m-this.lam0))/(l-1/l))))),this.singam=Math.sin(p),this.cosgam=Math.cos(p),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(a*a-1)/Math.cos(x))),this.lat0<0&&(this.u_0=-this.u_0)),l=.5*p,this.v_pole_n=this.ArB*Math.log(Math.tan(o.FORTPI-l)),this.v_pole_s=this.ArB*Math.log(Math.tan(o.FORTPI+l))},forward:function(e){var t,r,n,s,a,l,u,h,c={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-o.HALF_PI)>o.EPSLN){if(l=1/(a=this.E/Math.pow((0,i.default)(this.e,e.y,Math.sin(e.y)),this.B)),t=.5*(a-l),r=.5*(a+l),s=Math.sin(this.B*e.x),Math.abs(Math.abs(n=(t*this.singam-s*this.cosgam)/r)-1)<o.EPSLN)throw Error();h=.5*this.ArB*Math.log((1-n)/(1+n)),u=1e-7>Math.abs(l=Math.cos(this.B*e.x))?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+s*this.singam,l)}else h=e.y>0?this.v_pole_n:this.v_pole_s,u=this.ArB*e.y;return this.no_rot?(c.x=u,c.y=h):(u-=this.u_0,c.x=h*this.cosrot+u*this.sinrot,c.y=u*this.cosrot-h*this.sinrot),c.x=this.a*c.x+this.x0,c.y=this.a*c.y+this.y0,c},inverse:function(e){var t,r,i,n,s,l,u={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),n=.5*((i=Math.exp(-this.BrA*r))-1/i),Math.abs(Math.abs(l=((s=Math.sin(this.BrA*t))*this.cosgam+n*this.singam)/(.5*(i+1/i)))-1)<o.EPSLN)u.x=0,u.y=l<0?-o.HALF_PI:o.HALF_PI;else{if(u.y=this.E/Math.sqrt((1+l)/(1-l)),u.y=(0,a.default)(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw Error();u.x=-this.rB*Math.atan2(n*this.cosgam-s*this.singam,Math.cos(this.BrA*t))}return u.x+=this.lam0,u},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]}}),a("lodNN",function(e,r){t(e.exports,"default",()=>h);var i=s("1gqnK"),n=s("8RM2D"),a=s("SsFAj"),o=s("kEf05"),l=s("7qdiL"),u=s("7M1Nv"),h={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<u.EPSLN)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),s=(0,i.default)(this.e,t,r),a=(0,n.default)(this.e,this.lat1,t),o=Math.sin(this.lat2),l=Math.cos(this.lat2),h=(0,i.default)(this.e,o,l),c=(0,n.default)(this.e,this.lat2,o),d=(0,n.default)(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>u.EPSLN?this.ns=Math.log(s/h)/Math.log(a/c):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=s/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t,r,i=e.x,s=e.y;Math.abs(2*Math.abs(s)-Math.PI)<=u.EPSLN&&(s=(0,a.default)(s)*(u.HALF_PI-2*u.EPSLN));var l=Math.abs(Math.abs(s)-u.HALF_PI);if(l>u.EPSLN)t=(0,n.default)(this.e,s,Math.sin(s)),r=this.a*this.f0*Math.pow(t,this.ns);else{if((l=s*this.ns)<=0)return null;r=0}var h=this.ns*(0,o.default)(i-this.long0);return e.x=this.k0*(r*Math.sin(h))+this.x0,e.y=this.k0*(this.rh-r*Math.cos(h))+this.y0,e},inverse:function(e){var t,r,i,n,s,a=(e.x-this.x0)/this.k0,h=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+h*h),r=1):(t=-Math.sqrt(a*a+h*h),r=-1);var c=0;if(0!==t&&(c=Math.atan2(r*a,r*h)),0!==t||this.ns>0){if(r=1/this.ns,i=Math.pow(t/(this.a*this.f0),r),-9999===(n=(0,l.default)(this.e,i)))return null}else n=-u.HALF_PI;return s=(0,o.default)(c/this.ns+this.long0),e.x=s,e.y=n,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]}}),a("jkgJa",function(e,r){t(e.exports,"default",()=>n);var i=s("kEf05"),n={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,r,n,s,a,o,l,u=e.x,h=e.y,c=(0,i.default)(u-this.long0);return t=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/t)-this.s45),n=-c*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(s)),o=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),e.y=l*Math.cos(o)/1,e.x=l*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,r,i,n,s,a,o,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),s=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.atan2(e.y,e.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),r=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(t)),e.x=this.long0-r/this.alfa,a=t,o=0;var u=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),1e-10>Math.abs(a-e.y)&&(o=1),a=e.y,u+=1;while(0===o&&u<15)return u>=15?null:e},names:["Krovak","krovak"]}}),a("2HFid",function(e,r){t(e.exports,"default",()=>f);var i=s("ikblq"),n=s("bfjvS"),a=s("2SUEX"),o=s("7DbOS"),l=s("jhsZf"),u=s("4N9k9"),h=s("kEf05"),c=s("r1jKt"),d=s("ilwvp"),p=s("7M1Nv"),f={init:function(){this.sphere||(this.e0=(0,n.default)(this.es),this.e1=(0,a.default)(this.es),this.e2=(0,o.default)(this.es),this.e3=(0,l.default)(this.es),this.ml0=this.a*(0,i.default)(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,r,n=e.x,s=e.y;if(n=(0,h.default)(n-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(s)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(s),Math.cos(n))-this.lat0);else{var a=Math.sin(s),o=Math.cos(s),l=(0,u.default)(this.a,this.e,a),c=Math.tan(s)*Math.tan(s),d=n*Math.cos(s),p=d*d,f=this.es*o*o/(1-this.es),g=this.a*(0,i.default)(this.e0,this.e1,this.e2,this.e3,s);t=l*d*(1-p*c*(1/6-(8-c+8*f)*p/120)),r=g-this.ml0+l*a/o*p*(.5+(5-c+6*f)*p/24)}return e.x=t+this.x0,e.y=r+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,r,i=e.x/this.a,n=e.y/this.a;if(this.sphere){var s=n+this.lat0;t=Math.asin(Math.sin(s)*Math.cos(i)),r=Math.atan2(Math.tan(i),Math.cos(s))}else{var a=this.ml0/this.a+n,o=(0,d.default)(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-p.HALF_PI)<=p.EPSLN)return e.x=this.long0,e.y=p.HALF_PI,n<0&&(e.y*=-1),e;var l=(0,u.default)(this.a,this.e,Math.sin(o)),f=l*l*l/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(o),2),m=i*this.a/l,y=m*m;t=o-l*Math.tan(o)/f*m*m*(.5-(1+3*g)*m*m/24),r=m*(1-y*(g/3+(1+3*g)*g*y/15))/Math.cos(o)}return e.x=(0,h.default)(r+this.long0),e.y=(0,c.default)(t),e},names:["Cassini","Cassini_Soldner","cass"]}}),a("ikblq",function(e,r){t(e.exports,"default",()=>i);function i(e,t,r,i,n){return e*n-t*Math.sin(2*n)+r*Math.sin(4*n)-i*Math.sin(6*n)}}),a("bfjvS",function(e,r){t(e.exports,"default",()=>i);function i(e){return 1-.25*e*(1+e/16*(3+1.25*e))}}),a("2SUEX",function(e,r){t(e.exports,"default",()=>i);function i(e){return .375*e*(1+.25*e*(1+.46875*e))}}),a("7DbOS",function(e,r){t(e.exports,"default",()=>i);function i(e){return .05859375*e*e*(1+.75*e)}}),a("jhsZf",function(e,r){t(e.exports,"default",()=>i);function i(e){return e*e*e*(35/3072)}}),a("4N9k9",function(e,r){t(e.exports,"default",()=>i);function i(e,t,r){var i=t*r;return e/Math.sqrt(1-i*i)}}),a("r1jKt",function(e,r){t(e.exports,"default",()=>a);var i=s("7M1Nv"),n=s("SsFAj");function a(e){return Math.abs(e)<i.HALF_PI?e:e-(0,n.default)(e)*Math.PI}}),a("ilwvp",function(e,r){t(e.exports,"default",()=>i);function i(e,t,r,i,n){s=e/t;for(var s,a,o=0;o<15;o++)if(a=(e-(t*s-r*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)))/(t-2*r*Math.cos(2*s)+4*i*Math.cos(4*s)-6*n*Math.cos(6*s)),s+=a,1e-10>=Math.abs(a))return s;return NaN}}),a("9v6gR",function(e,r){t(e.exports,"S_POLE",()=>o),t(e.exports,"N_POLE",()=>l),t(e.exports,"EQUIT",()=>u),t(e.exports,"OBLIQ",()=>h),t(e.exports,"init",()=>c),t(e.exports,"forward",()=>d),t(e.exports,"inverse",()=>p),t(e.exports,"names",()=>f),t(e.exports,"default",()=>g);var i=s("7M1Nv"),n=s("iVfS2"),a=s("kEf05"),o=1,l=2,u=3,h=4;function c(){var e,t,r,s,a=Math.abs(this.lat0);if(Math.abs(a-i.HALF_PI)<i.EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(a)<i.EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=(0,n.default)(this.e,1),this.mmf=.5/(1-this.es),this.apa=(e=this.es,(r=[])[0]=.3333333333333333*e,t=e*e,r[0]+=.17222222222222222*t,r[1]=.06388888888888888*t,t*=e,r[0]+=.10257936507936508*t,r[1]+=.0664021164021164*t,r[2]=.016415012942191543*t,r),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),s=Math.sin(this.lat0),this.sinb1=(0,n.default)(this.e,s)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*s*s)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function d(e){var t,r,s,o,l,u,h,c,d,p,f=e.x,g=e.y;if(f=(0,a.default)(f-this.long0),this.sphere){if(l=Math.sin(g),p=Math.cos(g),s=Math.cos(f),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+p*s:1+this.sinph0*l+this.cosph0*p*s)<=i.EPSLN)return null;t=(r=Math.sqrt(2/r))*p*Math.sin(f),r*=this.mode===this.EQUIT?l:this.cosph0*l-this.sinph0*p*s}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),Math.abs(g+this.lat0)<i.EPSLN)return null;r=i.FORTPI-.5*g,t=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(f),r*=s}}else{switch(h=0,c=0,d=0,s=Math.cos(f),o=Math.sin(f),l=Math.sin(g),u=(0,n.default)(this.e,l),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(c=Math.sqrt(1-(h=u/this.qp)*h)),this.mode){case this.OBLIQ:d=1+this.sinb1*h+this.cosb1*c*s;break;case this.EQUIT:d=1+c*s;break;case this.N_POLE:d=i.HALF_PI+g,u=this.qp-u;break;case this.S_POLE:d=g-i.HALF_PI,u=this.qp+u}if(Math.abs(d)<i.EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),r=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*h-this.sinb1*c*s):(d=Math.sqrt(2/(1+c*s)))*h*this.ymf,t=this.xmf*d*c*o;break;case this.N_POLE:case this.S_POLE:u>=0?(t=(d=Math.sqrt(u))*o,r=s*(this.mode===this.S_POLE?d:-d)):t=r=0}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e}function p(e){e.x-=this.x0,e.y-=this.y0;var t,r,n,s=e.x/this.a,o=e.y/this.a;if(this.sphere){var l,u,h,c,d,p,f,g,m=0,y=0;if((u=.5*(g=Math.sqrt(s*s+o*o)))>1)return null;switch(u=2*Math.asin(u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(y=Math.sin(u),m=Math.cos(u)),this.mode){case this.EQUIT:u=Math.abs(g)<=i.EPSLN?0:Math.asin(o*y/g),s*=y,o=m*g;break;case this.OBLIQ:u=Math.abs(g)<=i.EPSLN?this.lat0:Math.asin(m*this.sinph0+o*y*this.cosph0/g),s*=y*this.cosph0,o=(m-Math.sin(u)*this.sinph0)*g;break;case this.N_POLE:o=-o,u=i.HALF_PI-u;break;case this.S_POLE:u-=i.HALF_PI}l=0===o&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(s,o)}else{if(f=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(s/=this.dd,o*=this.dd,(p=Math.sqrt(s*s+o*o))<i.EPSLN)return e.x=this.long0,e.y=this.lat0,e;h=Math.cos(c=2*Math.asin(.5*p/this.rq)),s*=c=Math.sin(c),this.mode===this.OBLIQ?(f=h*this.sinb1+o*c*this.cosb1/p,d=this.qp*f,o=p*this.cosb1*h-o*this.sinb1*c):(f=o*c/p,d=this.qp*f,o=p*h)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(o=-o),!(d=s*s+o*o))return e.x=this.long0,e.y=this.lat0,e;f=1-d/this.qp,this.mode===this.S_POLE&&(f=-f)}l=Math.atan2(s,o),t=Math.asin(f),r=this.apa,n=t+t,u=t+r[0]*Math.sin(n)+r[1]*Math.sin(n+n)+r[2]*Math.sin(n+n+n)}return e.x=(0,a.default)(this.long0+l),e.y=u,e}var f=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],g={init:c,forward:d,inverse:p,names:f,S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4}}),a("iVfS2",function(e,r){t(e.exports,"default",()=>i);function i(e,t){var r;return e>1e-7?(r=e*t,(1-e*e)*(t/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*t}}),a("aYCax",function(e,r){t(e.exports,"init",()=>u),t(e.exports,"forward",()=>h),t(e.exports,"inverse",()=>c),t(e.exports,"phi1z",()=>d),t(e.exports,"names",()=>p),t(e.exports,"default",()=>f);var i=s("1gqnK"),n=s("iVfS2"),a=s("kEf05"),o=s("bp9ph"),l=s("7M1Nv");function u(){Math.abs(this.lat1+this.lat2)<l.EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=(0,i.default)(this.e3,this.sin_po,this.cos_po),this.qs1=(0,n.default)(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=(0,i.default)(this.e3,this.sin_po,this.cos_po),this.qs2=(0,n.default)(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=(0,n.default)(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>l.EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function h(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=(0,n.default)(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*(0,a.default)(t-this.long0),l=s*Math.sin(o)+this.x0,u=this.rh-s*Math.cos(o)+this.y0;return e.x=l,e.y=u,e}function c(e){var t,r,i,n,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),n=0,0!==t&&(n=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,r)),s=(0,a.default)(n/this.ns0+this.long0),e.x=s,e.y=o,e}function d(e,t){var r,i,n,s,a,u=(0,o.default)(.5*t);if(e<l.EPSLN)return u;for(var h=e*e,c=1;c<=25;c++)if(r=Math.sin(u),i=Math.cos(u),u+=a=.5*(s=1-(n=e*r)*n)*s/i*(t/(1-h)-r/s+.5/e*Math.log((1-n)/(1+n))),1e-7>=Math.abs(a))return u;return null}var p=["Albers_Conic_Equal_Area","Albers","aea"],f={init:u,forward:h,inverse:c,names:p,phi1z:d}}),a("bp9ph",function(e,r){t(e.exports,"default",()=>i);function i(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}}),a("8zzks",function(e,r){t(e.exports,"default",()=>o);var i=s("kEf05"),n=s("bp9ph"),a=s("7M1Nv"),o={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,r,n,s,o,l,u,h=e.x,c=e.y;return n=(0,i.default)(h-this.long0),t=Math.sin(c),r=Math.cos(c),s=Math.cos(n),(o=this.sin_p14*t+this.cos_p14*r*s)>0||Math.abs(o)<=a.EPSLN?(l=this.x0+1*this.a*r*Math.sin(n)/o,u=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*r*s)/o):(l=this.x0+this.infinity_dist*r*Math.sin(n),u=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*s)),e.x=l,e.y=u,e},inverse:function(e){var t,r,s,a,o,l;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(r=Math.sin(a=Math.atan2(t,this.rc)),s=Math.cos(a),l=(0,n.default)(s*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.atan2(e.x*r,t*this.cos_p14*s-e.y*this.sin_p14*r),o=(0,i.default)(this.long0+o)):(l=this.phic0,o=0),e.x=o,e.y=l,e},names:["gnom"]}}),a("5DoFA",function(e,r){t(e.exports,"default",()=>l);var i=s("kEf05"),n=s("iVfS2"),a=s("1gqnK"),o=s("2mAxr"),l={init:function(){this.sphere||(this.k0=(0,a.default)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,r,s=e.x,a=e.y,o=(0,i.default)(s-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var l=(0,n.default)(this.e,Math.sin(a));t=this.x0+this.a*this.k0*o,r=this.y0+this.a*l*.5/this.k0}return e.x=t,e.y=r,e},inverse:function(e){var t,r;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=(0,i.default)(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=(0,o.default)(this.e,2*e.y*this.k0/this.a),t=(0,i.default)(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e},names:["cea"]}}),a("2mAxr",function(e,r){t(e.exports,"default",()=>n);var i=s("7M1Nv");function n(e,t){if(1e-6>Math.abs(Math.abs(t)-(1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e)))))return t<0?-1*i.HALF_PI:i.HALF_PI;for(var r,n,s,a,o=Math.asin(.5*t),l=0;l<30;l++)if(n=Math.sin(o),s=Math.cos(o),o+=r=Math.pow(1-(a=e*n)*a,2)/(2*s)*(t/(1-e*e)-n/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),1e-10>=Math.abs(r))return o;return NaN}}),a("jobMi",function(e,r){t(e.exports,"default",()=>a);var i=s("kEf05"),n=s("r1jKt"),a={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,r=e.y,s=(0,i.default)(t-this.long0),a=(0,n.default)(r-this.lat0);return e.x=this.x0+this.a*s*this.rc,e.y=this.y0+this.a*a,e},inverse:function(e){var t=e.x,r=e.y;return e.x=(0,i.default)(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=(0,n.default)(this.lat0+(r-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]}}),a("fKioj",function(e,r){t(e.exports,"default",()=>p);var i=s("bfjvS"),n=s("2SUEX"),a=s("7DbOS"),o=s("jhsZf"),l=s("kEf05"),u=s("r1jKt"),h=s("ikblq"),c=s("7M1Nv"),d=s("4N9k9"),p={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=(0,i.default)(this.es),this.e1=(0,n.default)(this.es),this.e2=(0,a.default)(this.es),this.e3=(0,o.default)(this.es),this.ml0=this.a*(0,h.default)(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,r,i,n=e.x,s=e.y,a=(0,l.default)(n-this.long0);if(i=a*Math.sin(s),this.sphere)Math.abs(s)<=c.EPSLN?(t=this.a*a,r=-1*this.a*this.lat0):(t=this.a*Math.sin(i)/Math.tan(s),r=this.a*((0,u.default)(s-this.lat0)+(1-Math.cos(i))/Math.tan(s)));else if(Math.abs(s)<=c.EPSLN)t=this.a*a,r=-1*this.ml0;else{var o=(0,d.default)(this.a,this.e,Math.sin(s))/Math.tan(s);t=o*Math.sin(i),r=this.a*(0,h.default)(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+o*(1-Math.cos(i))}return e.x=t+this.x0,e.y=r+this.y0,e},inverse:function(e){var t,r,i,n,s,a,o,u,d,p,f,g,m,y,v;if(i=e.x-this.x0,n=e.y-this.y0,this.sphere){if(Math.abs(n+this.a*this.lat0)<=c.EPSLN)t=(0,l.default)(i/this.a+this.long0),r=0;else{for(s=20,a=this.lat0+n/this.a,o=i*i/this.a/this.a+a*a,u=a;s;--s)if(p=Math.tan(u),d=-1*(a*(u*p+1)-u-.5*(u*u+o)*p)/((u-a)/p-1),u+=d,Math.abs(d)<=c.EPSLN){r=u;break}t=(0,l.default)(this.long0+Math.asin(i*Math.tan(u)/this.a)/Math.sin(r))}}else if(Math.abs(n+this.ml0)<=c.EPSLN)r=0,t=(0,l.default)(this.long0+i/this.a);else{for(s=20,a=(this.ml0+n)/this.a,o=i*i/this.a/this.a+a*a,u=a;s;--s)if(f=Math.sqrt(1-(v=this.e*Math.sin(u))*v)*Math.tan(u),g=this.a*(0,h.default)(this.e0,this.e1,this.e2,this.e3,u),m=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),d=(a*(f*(y=g/this.a)+1)-y-.5*f*(y*y+o))/(this.es*Math.sin(2*u)*(y*y+o-2*a*y)/(4*f)+(a-y)*(f*m-2/Math.sin(2*u))-m),u-=d,Math.abs(d)<=c.EPSLN){r=u;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=(0,l.default)(this.long0+Math.asin(i*f/this.a)/Math.sin(r))}return e.x=t,e.y=r,e},names:["Polyconic","poly"]}}),a("fQxFh",function(e,r){t(e.exports,"iterations",()=>n),t(e.exports,"init",()=>a),t(e.exports,"forward",()=>o),t(e.exports,"inverse",()=>l),t(e.exports,"names",()=>u),t(e.exports,"default",()=>h);var i=s("7M1Nv"),n=1;function a(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-.00034,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function o(e){var t,r,n,s=e.x,a=e.y-this.lat0,o=s-this.long0,l=a/i.SEC_TO_RAD*1e-5,u=1,h=0;for(t=1;t<=10;t++)u*=l,h+=this.A[t]*u;var c=h,d=1,p=0,f=0,g=0;for(t=1;t<=6;t++)r=d*c-p*o,n=p*c+d*o,d=r,p=n,f=f+this.B_re[t]*d-this.B_im[t]*p,g=g+this.B_im[t]*d+this.B_re[t]*p;return e.x=g*this.a+this.x0,e.y=f*this.a+this.y0,e}function l(e){var t=e.x,r=e.y,n=t-this.x0,s=(r-this.y0)/this.a,a=n/this.a,o=1,l=0,u=0,h=0;for(d=1;d<=6;d++)p=o*s-l*a,f=l*s+o*a,o=p,l=f,u=u+this.C_re[d]*o-this.C_im[d]*l,h=h+this.C_im[d]*o+this.C_re[d]*l;for(var c=0;c<this.iterations;c++){var d,p,f,g,m,y=u,v=h,b=s,x=a;for(d=2;d<=6;d++)g=y*u-v*h,m=v*u+y*h,y=g,v=m,b+=(d-1)*(this.B_re[d]*y-this.B_im[d]*v),x+=(d-1)*(this.B_im[d]*y+this.B_re[d]*v);y=1,v=0;var E=this.B_re[1],_=this.B_im[1];for(d=2;d<=6;d++)g=y*u-v*h,m=v*u+y*h,y=g,v=m,E+=d*(this.B_re[d]*y-this.B_im[d]*v),_+=d*(this.B_im[d]*y+this.B_re[d]*v);var S=E*E+_*_;u=(b*E+x*_)/S,h=(x*E-b*_)/S}var O=u,R=h,A=1,w=0;for(d=1;d<=9;d++)A*=O,w+=this.D[d]*A;var C=this.lat0+w*i.SEC_TO_RAD*1e5,T=this.long0+R;return e.x=T,e.y=C,e}var u=["New_Zealand_Map_Grid","nzmg"],h={init:a,forward:o,inverse:l,names:u}}),a("gu5X1",function(e,r){t(e.exports,"default",()=>n);var i=s("kEf05"),n={init:function(){},forward:function(e){var t=e.x,r=e.y,n=(0,i.default)(t-this.long0),s=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=s,e.y=a,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=(0,i.default)(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e},names:["Miller_Cylindrical","mill"]}}),a("4yyqR",function(e,r){t(e.exports,"default",()=>c);var i=s("kEf05"),n=s("r1jKt"),a=s("lz6WA"),o=s("8GYcG"),l=s("6NyiU"),u=s("7M1Nv"),h=s("bp9ph"),c={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=(0,a.default)(this.es)},forward:function(e){var t,r,n=e.x,s=e.y;if(n=(0,i.default)(n-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(s),l=20;l;--l){var h=(this.m*s+Math.sin(s)-a)/(this.m+Math.cos(s));if(s-=h,Math.abs(h)<u.EPSLN)break}else s=1!==this.n?Math.asin(this.n*Math.sin(s)):s;t=this.a*this.C_x*n*(this.m+Math.cos(s)),r=this.a*this.C_y*s}else{var c=Math.sin(s),d=Math.cos(s);r=this.a*(0,o.default)(s,c,d,this.en),t=this.a*n*d/Math.sqrt(1-this.es*c*c)}return e.x=t,e.y=r,e},inverse:function(e){var t,r,s,a;return e.x-=this.x0,s=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,s/=this.C_x*(this.m+Math.cos(t)),this.m?t=(0,h.default)((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=(0,h.default)(Math.sin(t)/this.n)),s=(0,i.default)(s+this.long0),t=(0,n.default)(t)):(a=Math.abs(t=(0,l.default)(e.y/this.a,this.es,this.en)))<u.HALF_PI?(a=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(t)),s=(0,i.default)(r)):a-u.EPSLN<u.HALF_PI&&(s=this.long0),e.x=s,e.y=t,e},names:["Sinusoidal","sinu"]}}),a("bMtlW",function(e,r){t(e.exports,"default",()=>a);var i=s("kEf05"),n=s("7M1Nv"),a={init:function(){},forward:function(e){for(var t=e.x,r=e.y,s=(0,i.default)(t-this.long0),a=r,o=Math.PI*Math.sin(r);;){var l=-(a+Math.sin(a)-o)/(1+Math.cos(a));if(a+=l,Math.abs(l)<n.EPSLN)break}a/=2,Math.PI/2-Math.abs(r)<n.EPSLN&&(s=0);var u=.900316316158*this.a*s*Math.cos(a)+this.x0,h=1.4142135623731*this.a*Math.sin(a)+this.y0;return e.x=u,e.y=h,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0,Math.abs(r=e.y/(1.4142135623731*this.a))>.999999999999&&(r=.999999999999),t=Math.asin(r);var t,r,n=(0,i.default)(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),Math.abs(r=(2*t+Math.sin(2*t))/Math.PI)>1&&(r=1);var s=Math.asin(r);return e.x=n,e.y=s,e},names:["Mollweide","moll"]}}),a("bSwxC",function(e,r){t(e.exports,"default",()=>f);var i=s("bfjvS"),n=s("2SUEX"),a=s("7DbOS"),o=s("jhsZf"),l=s("1gqnK"),u=s("ikblq"),h=s("kEf05"),c=s("r1jKt"),d=s("ilwvp"),p=s("7M1Nv"),f={init:function(){Math.abs(this.lat1+this.lat2)<p.EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=(0,i.default)(this.es),this.e1=(0,n.default)(this.es),this.e2=(0,a.default)(this.es),this.e3=(0,o.default)(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=(0,l.default)(this.e,this.sinphi,this.cosphi),this.ml1=(0,u.default)(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<p.EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=(0,l.default)(this.e,this.sinphi,this.cosphi),this.ml2=(0,u.default)(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=(0,u.default)(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,r=e.x,i=e.y;if(this.sphere)t=this.a*(this.g-i);else{var n=(0,u.default)(this.e0,this.e1,this.e2,this.e3,i);t=this.a*(this.g-n)}var s=this.ns*(0,h.default)(r-this.long0),a=this.x0+t*Math.sin(s),o=this.y0+this.rh-t*Math.cos(s);return e.x=a,e.y=o,e},inverse:function(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var t,r,i,n,s=0;if(0!==r&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return n=(0,h.default)(this.long0+s/this.ns),i=(0,c.default)(this.g-r/this.a),e.x=n,e.y=i,e;var a=this.g-r/this.a;return i=(0,d.default)(a,this.e0,this.e1,this.e2,this.e3),n=(0,h.default)(this.long0+s/this.ns),e.x=n,e.y=i,e},names:["Equidistant_Conic","eqdc"]}}),a("2BpE3",function(e,r){t(e.exports,"default",()=>o);var i=s("kEf05"),n=s("7M1Nv"),a=s("bp9ph"),o={init:function(){this.R=this.a},forward:function(e){var t,r,s=e.x,o=e.y,l=(0,i.default)(s-this.long0);Math.abs(o)<=n.EPSLN&&(t=this.x0+this.R*l,r=this.y0);var u=(0,a.default)(2*Math.abs(o/Math.PI));(Math.abs(l)<=n.EPSLN||Math.abs(Math.abs(o)-n.HALF_PI)<=n.EPSLN)&&(t=this.x0,r=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+-(Math.PI*this.R*Math.tan(.5*u)));var h=.5*Math.abs(Math.PI/l-l/Math.PI),c=h*h,d=Math.sin(u),p=Math.cos(u),f=p/(d+p-1),g=f*(2/d-1),m=g*g,y=Math.PI*this.R*(h*(f-m)+Math.sqrt(c*(f-m)*(f-m)-(m+c)*(f*f-m)))/(m+c);l<0&&(y=-y),t=this.x0+y;var v=c+f;return y=Math.PI*this.R*(g*v-h*Math.sqrt((m+c)*(c+1)-v*v))/(m+c),r=o>=0?this.y0+y:this.y0-y,e.x=t,e.y=r,e},inverse:function(e){var t,r,s,a,o,l,u,h,c,d,p,f;return e.x-=this.x0,e.y-=this.y0,p=Math.PI*this.R,o=(s=e.x/p)*s+(a=e.y/p)*a,u=(l=-Math.abs(a)*(1+o))-2*a*a+s*s,h=-2*l+1+2*a*a+o*o,d=2*Math.sqrt(-(c=(l-u*u/3/h)/h)/3),Math.abs(p=3*(a*a/h+(2*u*u*u/h/h/h-9*l*u/h/h)/27)/c/d)>1&&(p=p>=0?1:-1),f=Math.acos(p)/3,r=e.y>=0?(-d*Math.cos(f+Math.PI/3)-u/3/h)*Math.PI:-(-d*Math.cos(f+Math.PI/3)-u/3/h)*Math.PI,t=Math.abs(s)<n.EPSLN?this.long0:(0,i.default)(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(s*s-a*a)+o*o))/2/s),e.x=t,e.y=r,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]}}),a("h1KUb",function(e,r){t(e.exports,"default",()=>f);var i=s("kEf05"),n=s("7M1Nv"),a=s("ikblq"),o=s("bfjvS"),l=s("2SUEX"),u=s("7DbOS"),h=s("jhsZf"),c=s("4N9k9"),d=s("bp9ph"),p=s("ilwvp"),f={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,r,s,d,p,f,g,m,y,v,b,x,E,_,S,O,R,A,w,C,T,L,P=e.x,I=e.y,M=Math.sin(e.y),N=Math.cos(e.y),G=(0,i.default)(P-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=n.EPSLN?(e.x=this.x0+this.a*(n.HALF_PI-I)*Math.sin(G),e.y=this.y0-this.a*(n.HALF_PI-I)*Math.cos(G)):Math.abs(this.sin_p12+1)<=n.EPSLN?(e.x=this.x0+this.a*(n.HALF_PI+I)*Math.sin(G),e.y=this.y0+this.a*(n.HALF_PI+I)*Math.cos(G)):(R=(O=Math.acos(this.sin_p12*M+this.cos_p12*N*Math.cos(G)))?O/Math.sin(O):1,e.x=this.x0+this.a*R*N*Math.sin(G),e.y=this.y0+this.a*R*(this.cos_p12*M-this.sin_p12*N*Math.cos(G))):(t=(0,o.default)(this.es),r=(0,l.default)(this.es),s=(0,u.default)(this.es),d=(0,h.default)(this.es),Math.abs(this.sin_p12-1)<=n.EPSLN)?(p=this.a*(0,a.default)(t,r,s,d,n.HALF_PI),f=this.a*(0,a.default)(t,r,s,d,I),e.x=this.x0+(p-f)*Math.sin(G),e.y=this.y0-(p-f)*Math.cos(G)):Math.abs(this.sin_p12+1)<=n.EPSLN?(p=this.a*(0,a.default)(t,r,s,d,n.HALF_PI),f=this.a*(0,a.default)(t,r,s,d,I),e.x=this.x0+(p+f)*Math.sin(G),e.y=this.y0+(p+f)*Math.cos(G)):(g=M/N,m=(0,c.default)(this.a,this.e,this.sin_p12),y=(0,c.default)(this.a,this.e,M),v=Math.atan((1-this.es)*g+this.es*m*this.sin_p12/(y*N)),A=0===(b=Math.atan2(Math.sin(G),this.cos_p12*Math.tan(v)-this.sin_p12*Math.cos(G)))?Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.abs(Math.abs(b)-Math.PI)<=n.EPSLN?-Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.asin(Math.sin(G)*Math.cos(v)/Math.sin(b)),_=(x=this.e*this.sin_p12/Math.sqrt(1-this.es))*(E=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es)),S=E*E,L=(T=(C=(w=A*A)*A)*A)*A,O=m*A*(1-w*S*(1-S)/6+C/8*_*(1-2*S)+T/120*(S*(4-7*S)-3*x*x*(1-7*S))-L/48*_),e.x=this.x0+O*Math.sin(b),e.y=this.y0+O*Math.cos(b)),e},inverse:function(e){var t,r,s,f,g,m,y,v,b,x,E,_,S,O,R,A,w,C,T,L,P,I;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*n.HALF_PI*this.a)return;return s=Math.sin(r=t/this.a),f=Math.cos(r),g=this.long0,Math.abs(t)<=n.EPSLN?m=this.lat0:(m=(0,d.default)(f*this.sin_p12+e.y*s*this.cos_p12/t),g=Math.abs(Math.abs(this.lat0)-n.HALF_PI)<=n.EPSLN?this.lat0>=0?(0,i.default)(this.long0+Math.atan2(e.x,-e.y)):(0,i.default)(this.long0-Math.atan2(-e.x,e.y)):(0,i.default)(this.long0+Math.atan2(e.x*s,t*this.cos_p12*f-e.y*this.sin_p12*s))),e.x=g,e.y=m,e}return(y=(0,o.default)(this.es),v=(0,l.default)(this.es),b=(0,u.default)(this.es),x=(0,h.default)(this.es),Math.abs(this.sin_p12-1)<=n.EPSLN)?(_=(E=this.a*(0,a.default)(y,v,b,x,n.HALF_PI))-(t=Math.sqrt(e.x*e.x+e.y*e.y)),m=(0,p.default)(_/this.a,y,v,b,x),g=(0,i.default)(this.long0+Math.atan2(e.x,-1*e.y))):Math.abs(this.sin_p12+1)<=n.EPSLN?(E=this.a*(0,a.default)(y,v,b,x,n.HALF_PI),_=(t=Math.sqrt(e.x*e.x+e.y*e.y))-E,m=(0,p.default)(_/this.a,y,v,b,x),g=(0,i.default)(this.long0+Math.atan2(e.x,e.y))):(t=Math.sqrt(e.x*e.x+e.y*e.y),R=Math.atan2(e.x,e.y),S=(0,c.default)(this.a,this.e,this.sin_p12),A=Math.cos(R),C=-(w=this.e*this.cos_p12*A)*w/(1-this.es),T=3*this.es*(1-C)*this.sin_p12*this.cos_p12*A/(1-this.es),P=(L=t/S)-C*(1+C)*Math.pow(L,3)/6-T*(1+3*C)*Math.pow(L,4)/24,O=Math.asin(this.sin_p12*Math.cos(P)+this.cos_p12*Math.sin(P)*A),g=(0,i.default)(this.long0+Math.asin(Math.sin(R)*Math.sin(P)/Math.cos(O))),m=Math.atan2(((I=Math.sin(O))-this.es*(1-C*P*P/2-L*P*P*P/6)*this.sin_p12)*Math.tan(O),I*(1-this.es))),e.x=g,e.y=m,e},names:["Azimuthal_Equidistant","aeqd"]}}),a("1nGnS",function(e,r){t(e.exports,"default",()=>o);var i=s("kEf05"),n=s("bp9ph"),a=s("7M1Nv"),o={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,r,n,s,o,l,u,h=e.x,c=e.y;return n=(0,i.default)(h-this.long0),t=Math.sin(c),r=Math.cos(c),s=Math.cos(n),((o=this.sin_p14*t+this.cos_p14*r*s)>0||Math.abs(o)<=a.EPSLN)&&(l=1*this.a*r*Math.sin(n),u=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*r*s)),e.x=l,e.y=u,e},inverse:function(e){var t,r,s,o,l,u;return(e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.sin(r=(0,n.default)(t/this.a)),o=Math.cos(r),l=this.long0,Math.abs(t)<=a.EPSLN)?u=this.lat0:(u=(0,n.default)(o*this.sin_p14+e.y*s*this.cos_p14/t),l=Math.abs(Math.abs(this.lat0)-a.HALF_PI)<=a.EPSLN?this.lat0>=0?(0,i.default)(this.long0+Math.atan2(e.x,-e.y)):(0,i.default)(this.long0-Math.atan2(-e.x,e.y)):(0,i.default)(this.long0+Math.atan2(e.x*s,t*this.cos_p14*o-e.y*this.sin_p14*s))),e.x=l,e.y=u,e},names:["ortho"]}}),a("lAm4d",function(e,r){t(e.exports,"default",()=>u);var i=s("7M1Nv"),n={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},a={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function o(e,t,r,n){var s;return e<i.EPSLN?(n.value=a.AREA_0,s=0):Math.abs(s=Math.atan2(t,r))<=i.FORTPI?n.value=a.AREA_0:s>i.FORTPI&&s<=i.HALF_PI+i.FORTPI?(n.value=a.AREA_1,s-=i.HALF_PI):s>i.HALF_PI+i.FORTPI||s<=-(i.HALF_PI+i.FORTPI)?(n.value=a.AREA_2,s=s>=0?s-i.SPI:s+i.SPI):(n.value=a.AREA_3,s+=i.HALF_PI),s}function l(e,t){var r=e+t;return r<-i.SPI?r+=i.TWO_PI:r>+i.SPI&&(r-=i.TWO_PI),r}var u={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=i.HALF_PI-i.FORTPI/2?this.face=n.TOP:this.lat0<=-(i.HALF_PI-i.FORTPI/2)?this.face=n.BOTTOM:Math.abs(this.long0)<=i.FORTPI?this.face=n.FRONT:Math.abs(this.long0)<=i.HALF_PI+i.FORTPI?this.face=this.long0>0?n.RIGHT:n.LEFT:this.face=n.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,r,s,u,h,c,d,p,f,g,m,y={x:0,y:0},v={value:0};return(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,r=e.x,this.face===n.TOP)?(u=i.HALF_PI-t,r>=i.FORTPI&&r<=i.HALF_PI+i.FORTPI?(v.value=a.AREA_0,s=r-i.HALF_PI):r>i.HALF_PI+i.FORTPI||r<=-(i.HALF_PI+i.FORTPI)?(v.value=a.AREA_1,s=r>0?r-i.SPI:r+i.SPI):r>-(i.HALF_PI+i.FORTPI)&&r<=-i.FORTPI?(v.value=a.AREA_2,s=r+i.HALF_PI):(v.value=a.AREA_3,s=r)):this.face===n.BOTTOM?(u=i.HALF_PI+t,r>=i.FORTPI&&r<=i.HALF_PI+i.FORTPI?(v.value=a.AREA_0,s=-r+i.HALF_PI):r<i.FORTPI&&r>=-i.FORTPI?(v.value=a.AREA_1,s=-r):r<-i.FORTPI&&r>=-(i.HALF_PI+i.FORTPI)?(v.value=a.AREA_2,s=-r-i.HALF_PI):(v.value=a.AREA_3,s=r>0?-r+i.SPI:-r-i.SPI)):(this.face===n.RIGHT?r=l(r,+i.HALF_PI):this.face===n.BACK?r=l(r,+i.SPI):this.face===n.LEFT&&(r=l(r,-i.HALF_PI)),f=Math.sin(t),g=Math.cos(t),m=Math.sin(r),d=g*Math.cos(r),p=g*m,this.face===n.FRONT?s=o(u=Math.acos(d),f,p,v):this.face===n.RIGHT?s=o(u=Math.acos(p),f,-d,v):this.face===n.BACK?s=o(u=Math.acos(-d),f,-p,v):this.face===n.LEFT?s=o(u=Math.acos(-p),f,d,v):(u=s=0,v.value=a.AREA_0)),h=Math.sqrt((1-Math.cos(u))/(Math.cos(c=Math.atan(12/i.SPI*(s+Math.acos(Math.sin(s)*Math.cos(i.FORTPI))-i.HALF_PI)))*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(s))))),v.value===a.AREA_1?c+=i.HALF_PI:v.value===a.AREA_2?c+=i.SPI:v.value===a.AREA_3&&(c+=1.5*i.SPI),y.x=h*Math.cos(c),y.y=h*Math.sin(c),y.x=y.x*this.a+this.x0,y.y=y.y*this.a+this.y0,e.x=y.x,e.y=y.y,e},inverse:function(e){var t,r,s,o,u,h,c,d,p,f,g,m,y,v,b={lam:0,phi:0},x={value:0};return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?x.value=a.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(x.value=a.AREA_1,t-=i.HALF_PI):e.x<0&&-e.x>=Math.abs(e.y)?(x.value=a.AREA_2,t=t<0?t+i.SPI:t-i.SPI):(x.value=a.AREA_3,t+=i.HALF_PI),u=Math.atan(Math.sin(d=i.SPI/12*Math.tan(t))/(Math.cos(d)-1/Math.sqrt(2))),(h=1-(s=Math.cos(t))*s*(o=Math.tan(r))*o*(1-Math.cos(Math.atan(1/Math.cos(u)))))<-1?h=-1:h>1&&(h=1),this.face===n.TOP?(c=Math.acos(h),b.phi=i.HALF_PI-c,x.value===a.AREA_0?b.lam=u+i.HALF_PI:x.value===a.AREA_1?b.lam=u<0?u+i.SPI:u-i.SPI:x.value===a.AREA_2?b.lam=u-i.HALF_PI:b.lam=u):this.face===n.BOTTOM?(c=Math.acos(h),b.phi=c-i.HALF_PI,x.value===a.AREA_0?b.lam=-u+i.HALF_PI:x.value===a.AREA_1?b.lam=-u:x.value===a.AREA_2?b.lam=-u-i.HALF_PI:b.lam=u<0?-u-i.SPI:-u+i.SPI):(g=(d=(p=h)*p)>=1?0:Math.sqrt(1-d)*Math.sin(u),d+=g*g,f=d>=1?0:Math.sqrt(1-d),x.value===a.AREA_1?(d=f,f=-g,g=d):x.value===a.AREA_2?(f=-f,g=-g):x.value===a.AREA_3&&(d=f,f=g,g=-d),this.face===n.RIGHT?(d=p,p=-f,f=d):this.face===n.BACK?(p=-p,f=-f):this.face===n.LEFT&&(d=p,p=f,f=-d),b.phi=Math.acos(-g)-i.HALF_PI,b.lam=Math.atan2(f,p),this.face===n.RIGHT?b.lam=l(b.lam,-i.HALF_PI):this.face===n.BACK?b.lam=l(b.lam,-i.SPI):this.face===n.LEFT&&(b.lam=l(b.lam,+i.HALF_PI))),0!==this.es&&(m=b.phi<0?1:0,y=Math.tan(b.phi),v=this.b/Math.sqrt(y*y+this.one_minus_f_squared),b.phi=Math.atan(Math.sqrt(this.a*this.a-v*v)/(this.one_minus_f*v)),m&&(b.phi=-b.phi)),b.lam+=this.long0,e.x=b.lam,e.y=b.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]}}),a("l7o7b",function(e,r){t(e.exports,"default",()=>c);var i=s("7M1Nv"),n=s("kEf05"),a=[[1,22199e-21,-.0000715515,31103e-10],[.9986,-.000482243,-.000024897,-.0000013309],[.9954,-.00083103,-.0000448605,-.000000986701],[.99,-.00135364,-.000059661,36777e-10],[.9822,-.00167442,-.00000449547,-.00000572411],[.973,-.00214868,-.0000903571,18736e-12],[.96,-.00305085,-.0000900761,164917e-11],[.9427,-.00382792,-.0000653386,-.0000026154],[.9216,-.00467746,-.00010457,481243e-11],[.8962,-.00536223,-.0000323831,-.00000543432],[.8679,-.00609363,-.000113898,332484e-11],[.835,-.00698325,-.0000640253,934959e-12],[.7986,-.00755338,-.0000500009,935324e-12],[.7597,-.00798324,-.000035971,-.00000227626],[.7186,-.00851367,-.0000701149,-.0000086303],[.6732,-.00986209,-.000199569,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],o=[[-.00000000000000000520417,.0124,121431e-23,-.0000000000845284],[.062,.0124,-.00000000126793,422642e-15],[.124,.0124,507171e-14,-.00000000160604],[.186,.0123999,-.0000000190189,600152e-14],[.248,.0124002,710039e-13,-.0000000224],[.31,.0123992,-.000000264997,835986e-13],[.372,.0124029,988983e-12,-.000000311994],[.434,.0123893,-.00000369093,-.000000435621],[.4958,.0123198,-.0000102252,-.000000345523],[.5571,.0121916,-.0000154081,-.000000582288],[.6176,.0119938,-.0000241424,-.000000525327],[.6769,.011713,-.0000320223,-.000000516405],[.7346,.0113541,-.0000397684,-.000000609052],[.7903,.0109107,-.0000489042,-.00000104739],[.8435,.0103431,-.000064615,-.00000000140374],[.8936,.00969686,-.000064636,-.000008547],[.9394,.00840947,-.000192841,-.0000042106],[.9761,.00616527,-.000256,-.0000042106],[1,.00328947,-.000319159,-.0000042106]],l=i.R2D/5,u=1/l,h=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},c={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=(0,n.default)(e.x-this.long0),r=Math.abs(e.y),s=Math.floor(r*l);s<0?s=0:s>=18&&(s=17),r=i.R2D*(r-u*s);var c={x:h(a[s],r)*t,y:h(o[s],r)};return e.y<0&&(c.y=-c.y),c.x=c.x*this.a*.8487+this.x0,c.y=c.y*this.a*1.3523+this.y0,c},inverse:function(e){var t={x:(e.x-this.x0)/(.8487*this.a),y:Math.abs(e.y-this.y0)/(1.3523*this.a)};if(t.y>=1)t.x/=a[18][0],t.y=e.y<0?-i.HALF_PI:i.HALF_PI;else{var r=Math.floor(18*t.y);for(r<0?r=0:r>=18&&(r=17);;)if(o[r][0]>t.y)--r;else if(o[r+1][0]<=t.y)++r;else break;var s=o[r],l=5*(t.y-s[0])/(o[r+1][0]-s[0]);l=function(e,t,r,i){for(var n=t;i;--i){var s=e(n);if(n-=s,Math.abs(s)<r)break}return n}(function(e){return(h(s,e)-t.y)/(s[1]+e*(2*s[2]+3*e*s[3]))},l,i.EPSLN,100),t.x/=h(a[r],l),t.y=(5*r+l)*i.D2R,e.y<0&&(t.y=-t.y)}return t.x=(0,n.default)(t.x+this.long0),t},names:["Robinson","robin"]}}),a("hc3Bp",function(e,r){t(e.exports,"default",()=>n);var i=s("cbJeb"),n={init:function(){this.name="geocent"},forward:function(e){return(0,i.geodeticToGeocentric)(e,this.es,this.a)},inverse:function(e){return(0,i.geocentricToGeodetic)(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]}}),a("1pXHs",function(e,r){t(e.exports,"default",()=>l);var i=s("7M1Nv"),n=s("9ijWS"),a={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},o={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},l={init:function(){if(Object.keys(o).forEach((function(e){if(void 0===this[e])this[e]=o[e].def;else if(o[e].num&&isNaN(this[e]))throw Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);else o[e].num&&(this[e]=parseFloat(this[e]));o[e].degrees&&(this[e]=this[e]*i.D2R)}).bind(this)),Math.abs(Math.abs(this.lat0)-i.HALF_PI)<i.EPSLN?this.mode=this.lat0<0?a.S_POLE:a.N_POLE:Math.abs(this.lat0)<i.EPSLN?this.mode=a.EQUIT:(this.mode=a.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,r,i,n,s=Math.sin(e.y),o=Math.cos(e.y),l=Math.cos(e.x);switch(this.mode){case a.OBLIQ:r=this.sinph0*s+this.cosph0*o*l;break;case a.EQUIT:r=o*l;break;case a.S_POLE:r=-s;break;case a.N_POLE:r=s}switch(t=(r=this.pn1/(this.p-r))*o*Math.sin(e.x),this.mode){case a.OBLIQ:r*=this.cosph0*s-this.sinph0*o*l;break;case a.EQUIT:r*=s;break;case a.N_POLE:r*=-(o*l);break;case a.S_POLE:r*=o*l}return n=1/((i=r*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-r*this.sg)*this.cw*n,r=i*n,e.x=t*this.a,e.y=r*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,r,s,o,l,u={x:e.x,y:e.y};s=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*s,r=this.pn1*e.y*this.cw*s,e.x=t*this.cg+r*this.sg,e.y=r*this.cg-t*this.sg;var h=(0,n.default)(e.x,e.y);if(Math.abs(h)<i.EPSLN)u.x=0,u.y=e.y;else{switch(l=1-h*h*this.pfact,o=Math.sqrt(1-(l=(this.p-Math.sqrt(l))/(this.pn1/h+h/this.pn1))*l),this.mode){case a.OBLIQ:u.y=Math.asin(o*this.sinph0+e.y*l*this.cosph0/h),e.y=(o-this.sinph0*Math.sin(u.y))*h,e.x*=l*this.cosph0;break;case a.EQUIT:u.y=Math.asin(e.y*l/h),e.y=o*h,e.x*=l;break;case a.N_POLE:u.y=Math.asin(o),e.y=-e.y;break;case a.S_POLE:u.y=-Math.asin(o)}u.x=Math.atan2(e.x,e.y)}return e.x=u.x+this.long0,e.y=u.y,e},names:["Tilted_Perspective","tpers"]}}),a("bZa0m",function(e,r){t(e.exports,"default",()=>n);var i=s("9ijWS"),n={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw Error();if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var e=1-this.es;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=1/e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,r,n,s,a=e.x,o=e.y;if(a-=this.long0,"ellipse"===this.shape){o=Math.atan(this.radius_p2*Math.tan(o));var l=this.radius_p/(0,i.default)(this.radius_p*Math.cos(o),Math.sin(o));if(r=l*Math.cos(a)*Math.cos(o),n=l*Math.sin(a)*Math.cos(o),s=l*Math.sin(o),(this.radius_g-r)*r-n*n-s*s*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-r,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/(0,i.default)(s,t)),e.y=this.radius_g_1*Math.atan(s/t)):(e.x=this.radius_g_1*Math.atan(n/t),e.y=this.radius_g_1*Math.atan(s/(0,i.default)(n,t)))}else"sphere"===this.shape&&(r=Math.cos(a)*(t=Math.cos(o)),n=Math.sin(a)*t,s=Math.sin(o),t=this.radius_g-r,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/(0,i.default)(s,t)),e.y=this.radius_g_1*Math.atan(s/t)):(e.x=this.radius_g_1*Math.atan(n/t),e.y=this.radius_g_1*Math.atan(s/(0,i.default)(n,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,r,n,s,a=-1,o=0,l=0;if(e.x=e.x/this.a,e.y=e.y/this.a,"ellipse"===this.shape){this.flip_axis?(l=Math.tan(e.y/this.radius_g_1),o=Math.tan(e.x/this.radius_g_1)*(0,i.default)(1,l)):(o=Math.tan(e.x/this.radius_g_1),l=Math.tan(e.y/this.radius_g_1)*(0,i.default)(1,o));var u=l/this.radius_p;if(t=o*o+u*u+a*a,(n=(r=2*this.radius_g*a)*r-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;s=(-r-Math.sqrt(n))/(2*t),a=this.radius_g+s*a,o*=s,l*=s,e.x=Math.atan2(o,a),e.y=Math.atan(l*Math.cos(e.x)/a),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if("sphere"===this.shape){if(this.flip_axis?(l=Math.tan(e.y/this.radius_g_1),o=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+l*l)):(o=Math.tan(e.x/this.radius_g_1),l=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+o*o)),t=o*o+l*l+a*a,(n=(r=2*this.radius_g*a)*r-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;s=(-r-Math.sqrt(n))/(2*t),a=this.radius_g+s*a,o*=s,l*=s,e.x=Math.atan2(o,a),e.y=Math.atan(l*Math.cos(e.x)/a)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]}}),a("iGUgk",function(e,r){t(e.exports,"register",()=>o);var i=s("5zIbz"),n=s("gzr8q"),a=s("liPLq");function o(e){let t,r;let s=Object.keys(e.defs),o=s.length;for(t=0;t<o;++t){let r=s[t];if(!(0,n.get)(r)){let t=e.defs(r),s=t.units;s||"longlat"!==t.projName||(s="degrees"),(0,n.addProjection)(new i.default({code:r,axisOrientation:t.axis,metersPerUnit:t.to_meter,units:s}))}}for(t=0;t<o;++t){let i=s[t],l=(0,n.get)(i);for(r=0;r<o;++r){let t=s[r],o=(0,n.get)(t);if(!(0,a.get)(i,t)){if(e.defs[i]===e.defs[t])(0,n.addEquivalentProjections)([l,o]);else{let r=e(i,t);(0,n.addCoordinateTransforms)(l,o,(0,n.createSafeCoordinateTransform)(l,o,r.forward),(0,n.createSafeCoordinateTransform)(o,l,r.inverse))}}}}}}),a("5up1I",function(e,r){t(e.exports,"default",()=>A);var i=s("iGyOD"),n=s("6pyIt"),a=s("hvEnP"),o=s("7TB1l"),l=s("ljDIj"),u=s("dEQmT"),h=s("j2K3b"),c=s("cgPpQ"),d=s("jEnSw"),p=s("9z1G1");let f={POINT:h.default,LINESTRING:a.default,POLYGON:c.default,MULTIPOINT:l.default,MULTILINESTRING:o.default,MULTIPOLYGON:u.default},g="EMPTY",m={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},y={Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class v{constructor(e){this.wkt=e,this.index_=-1}isAlpha_(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}isNumeric_(e,t){return t=void 0!==t&&t,e>="0"&&e<="9"||"."==e&&!t}isWhiteSpace_(e){return" "==e||"	"==e||"\r"==e||"\n"==e}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){let e;let t=this.nextChar_(),r=this.index_,i=t;if("("==t)e=m.LEFT_PAREN;else if(","==t)e=m.COMMA;else if(")"==t)e=m.RIGHT_PAREN;else if(this.isNumeric_(t)||"-"==t)e=m.NUMBER,i=this.readNumber_();else if(this.isAlpha_(t))e=m.TEXT,i=this.readText_();else if(this.isWhiteSpace_(t))return this.nextToken();else if(""===t)e=m.EOF;else throw Error("Unexpected character: "+t);return{position:r,value:i,type:e}}readNumber_(){let e;let t=this.index_,r=!1,i=!1;do"."==e?r=!0:("e"==e||"E"==e)&&(i=!0),e=this.nextChar_();while(this.isNumeric_(e,r)||!i&&("e"==e||"E"==e)||i&&("-"==e||"+"==e))return parseFloat(this.wkt.substring(t,this.index_--))}readText_(){let e;let t=this.index_;do e=this.nextChar_();while(this.isAlpha_(e))return this.wkt.substring(t,this.index_--).toUpperCase()}}class b{constructor(e){this.lexer_=e,this.token_={position:0,type:m.START},this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(e){return this.token_.type==e}match(e){let t=this.isTokenType(e);return t&&this.consume_(),t}parse(){return this.consume_(),this.parseGeometry_()}parseGeometryLayout_(){let e="XY",t=this.token_;if(this.isTokenType(m.TEXT)){let r=t.value;"Z"===r?e="XYZ":"M"===r?e="XYM":"ZM"===r&&(e="XYZM"),"XY"!==e&&this.consume_()}return e}parseGeometryCollectionText_(){if(this.match(m.LEFT_PAREN)){let e=[];do e.push(this.parseGeometry_());while(this.match(m.COMMA))if(this.match(m.RIGHT_PAREN))return e}throw Error(this.formatErrorMessage_())}parsePointText_(){if(this.match(m.LEFT_PAREN)){let e=this.parsePoint_();if(this.match(m.RIGHT_PAREN))return e}throw Error(this.formatErrorMessage_())}parseLineStringText_(){if(this.match(m.LEFT_PAREN)){let e=this.parsePointList_();if(this.match(m.RIGHT_PAREN))return e}throw Error(this.formatErrorMessage_())}parsePolygonText_(){if(this.match(m.LEFT_PAREN)){let e=this.parseLineStringTextList_();if(this.match(m.RIGHT_PAREN))return e}throw Error(this.formatErrorMessage_())}parseMultiPointText_(){if(this.match(m.LEFT_PAREN)){let e;if(e=this.token_.type==m.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(m.RIGHT_PAREN))return e}throw Error(this.formatErrorMessage_())}parseMultiLineStringText_(){if(this.match(m.LEFT_PAREN)){let e=this.parseLineStringTextList_();if(this.match(m.RIGHT_PAREN))return e}throw Error(this.formatErrorMessage_())}parseMultiPolygonText_(){if(this.match(m.LEFT_PAREN)){let e=this.parsePolygonTextList_();if(this.match(m.RIGHT_PAREN))return e}throw Error(this.formatErrorMessage_())}parsePoint_(){let e=[],t=this.layout_.length;for(let r=0;r<t;++r){let t=this.token_;if(this.match(m.NUMBER))e.push(t.value);else break}if(e.length==t)return e;throw Error(this.formatErrorMessage_())}parsePointList_(){let e=[this.parsePoint_()];for(;this.match(m.COMMA);)e.push(this.parsePoint_());return e}parsePointTextList_(){let e=[this.parsePointText_()];for(;this.match(m.COMMA);)e.push(this.parsePointText_());return e}parseLineStringTextList_(){let e=[this.parseLineStringText_()];for(;this.match(m.COMMA);)e.push(this.parseLineStringText_());return e}parsePolygonTextList_(){let e=[this.parsePolygonText_()];for(;this.match(m.COMMA);)e.push(this.parsePolygonText_());return e}isEmptyGeometry_(){let e=this.isTokenType(m.TEXT)&&this.token_.value==g;return e&&this.consume_(),e}formatErrorMessage_(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){let e=this.token_;if(this.match(m.TEXT)){let t;let r=e.value;this.layout_=this.parseGeometryLayout_();let i=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==r){if(i)return new n.default([]);let e=this.parseGeometryCollectionText_();return new n.default(e)}let s=f[r];if(!s)throw Error("Invalid geometry type: "+r);if(i)t="POINT"==r?[NaN,NaN]:[];else switch(r){case"POINT":t=this.parsePointText_();break;case"LINESTRING":t=this.parseLineStringText_();break;case"POLYGON":t=this.parsePolygonText_();break;case"MULTIPOINT":t=this.parseMultiPointText_();break;case"MULTILINESTRING":t=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":t=this.parseMultiPolygonText_()}return new s(t,this.layout_)}throw Error(this.formatErrorMessage_())}}class x extends d.default{constructor(e){super(),e=e||{},this.splitCollection_=void 0!==e.splitCollection&&e.splitCollection}parse_(e){return new b(new v(e)).parse()}readFeatureFromText(e,t){let r=this.readGeometryFromText(e,t),n=new i.default;return n.setGeometry(r),n}readFeaturesFromText(e,t){let r=[],n=this.readGeometryFromText(e,t);r=this.splitCollection_&&"GeometryCollection"==n.getType()?n.getGeometriesArray():[n];let s=[];for(let e=0,t=r.length;e<t;++e){let t=new i.default;t.setGeometry(r[e]),s.push(t)}return s}readGeometryFromText(e,t){let r=this.parse_(e);return(0,p.transformGeometryWithOptions)(r,!1,t)}writeFeatureText(e,t){let r=e.getGeometry();return r?this.writeGeometryText(r,t):""}writeFeaturesText(e,t){if(1==e.length)return this.writeFeatureText(e[0],t);let r=[];for(let t=0,i=e.length;t<i;++t)r.push(e[t].getGeometry());let i=new n.default(r);return this.writeGeometryText(i,t)}writeGeometryText(e,t){return R((0,p.transformGeometryWithOptions)(e,!0,t))}}function E(e){let t=e.getCoordinates();return 0===t.length?"":t.join(" ")}function _(e){let t=e.getCoordinates(),r=[];for(let e=0,i=t.length;e<i;++e)r.push(t[e].join(" "));return r.join(",")}function S(e){let t=[],r=e.getLinearRings();for(let e=0,i=r.length;e<i;++e)t.push("("+_(r[e])+")");return t.join(",")}let O={Point:E,LineString:_,Polygon:S,MultiPoint:function(e){let t=[],r=e.getPoints();for(let e=0,i=r.length;e<i;++e)t.push("("+E(r[e])+")");return t.join(",")},MultiLineString:function(e){let t=[],r=e.getLineStrings();for(let e=0,i=r.length;e<i;++e)t.push("("+_(r[e])+")");return t.join(",")},MultiPolygon:function(e){let t=[],r=e.getPolygons();for(let e=0,i=r.length;e<i;++e)t.push("("+S(r[e])+")");return t.join(",")},GeometryCollection:function(e){let t=[],r=e.getGeometries();for(let e=0,i=r.length;e<i;++e)t.push(R(r[e]));return t.join(",")}};function R(e){let t=e.getType(),r=(0,O[t])(e),i=y[t];if("function"==typeof e.getFlatCoordinates){let t=function(e){let t=e.getLayout(),r="";return("XYZ"===t||"XYZM"===t)&&(r+="Z"),("XYM"===t||"XYZM"===t)&&(r+="M"),r}(e);t.length>0&&(i+=" "+t)}return 0===r.length?i+" "+g:i+"("+r+")"}var A=x}),a("jSBAJ",function(e,r){let i,n;t(e.exports,"getAuth",()=>l),t(e.exports,"default",()=>u);let a=((0,s("bo74g").default).guichetURL+"/").replace(/\/\/$/,"/")+"gcms/api/";function o(e,t){t=t||console.log,(options=options||{}).limit&&(e+="?limit="+options.limit),fetch(a+e,{method:"GET",headers:{Authorization:"Basic "+btoa(i+":"+n)}}).then(e=>e.ok?e.json():Promise.reject(e)).then(e=>{t(e)}).catch(e=>{e.status,n=null,e.error=!0,t(e)})}function l(){return!!n&&btoa(i+":"+n)}var u=new class{constructor(){}login(e,t,r){i=e,n=t,o("users/me",r)}getMe(e){o("users/me",e)}logout(){n=null}isConnected(){return!!n}getCommunity(e,t){o("communities/"+e,t)}getLayers(e,t){o("communities/"+e+"/layers",t,{limit:100})}getFullLayers(e,t){this.getLayers(e,e=>{if(!e.length){t(e);return}let r=0;e.forEach(i=>{switch(i.type){case"feature-type":r++,this.getTable(i.database,i.table,n=>{i.table=n,--r||t(e)});break;case"geoservice":r++,this.getGeoservice(i.geoservice.id,n=>{i.geoservice=n,--r||t(e)})}})})}getLayer(e,t,r){o("communities/"+e+"/layers/"+t,r)}getGeoservice(e,t){o("geoservices/"+e,e=>{if(e.style)t(e);else{let r=e.url.split("?")[0]+"?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetCapabilities";try{fetch(r).catch(e=>{console.log("ERROR",e)}).then(e=>e?e.text():"").then(e=>new window.DOMParser().parseFromString(e,"text/xml")).then(r=>{let i=r.querySelectorAll("Contents Layer"),n=Array.prototype.find.call(i,t=>t.querySelector("Identifier").textContent===e.layers);if(n){let t=n.querySelector("Style");t&&(t=t.querySelector("Identifier"),e.style=t?t.textContent:null)}t(e)})}catch(r){console.log("ERROR",e,r),t(null)}}})}getTable(e,t,r){o("databases/"+e+"/tables/"+t,r)}}}),a("2yyih",function(r,i){t(r.exports,"default",()=>E);var n=s("lqNjm"),a=s("4lFOe"),o=s("2zf1Y"),l=s("3yg5q"),u=s("ayeEa"),h=s("h6Aha"),c=s("d5AAH"),d=s("l9IGS"),p=s("kuKBR"),f=s("h1ihb"),g=s("awidM"),m=s("doPrp"),y=s("jSBAJ");let v={};v.formatProperties=function(e,t){if(!e||!e.replace||!t)return e;var r=e.replace(/.*\$\{([^}]*)\}.*/,"$1");return r===e?e:v.formatProperties(e.replace("${"+r+"}",t.get(r)||""),t)},v.formatFeatureStyle=function(e,t){if(!e)return{};var r={};for(var i in e)r[i]=v.formatProperties(e[i],t);return r},v.StrokeLineDash=function(e){var t=Number(e.strokeWidth)||2;switch(e.strokeDashstyle){case"dot":return[1,2*t];case"dash":return[2*t,2*t];case"dashdot":return[2*t,4*t,1,4*t];case"longdash":return[4*t,2*t];case"longdashdot":return[4*t,4*t,1,4*t];default:return}},v.Stroke=function(e){if(0===e.strokeOpacity)return;let t=this.StrokeLineDash(e);var r=new c.default({color:e.strokeColor||"#00f",width:Number(e.strokeWidth)||1,lineDash:t,lineCap:e.strokeLinecap||"round"});if(e.strokeOpacity<1){var i=(0,n.asArray)(r.getColor());i.length&&(i[4]=e.strokeOpacity,r.setColor(i))}return r},v.Fill=function(e){if(0===e.fillOpacity)return;let t=new o.default({color:e.fillColor||"rgba(255,255,255,0.5)"});if(e.fillOpacity<1){let r=(0,n.asArray)(t.getColor());r.length&&(r[3]=Number(e.fillOpacity),t.setColor(r))}return e.fillPattern&&(t=new l.default({fill:t,pattern:e.fillPattern,color:e.patternColor,angle:45})),t};let b={};var x=new a.default({radius:8,stroke:new c.default({color:"#fff",width:1.5}),fill:new o.default({color:"rgba(255,0,0,.5)"})});v.setImage=function(e,t,r){var i,n;if(t.img&&(n=t.img),n){if(b[n])i=b[n];else{let t=new Headers;t.set("Authorization","Basic "+(0,y.getAuth)()),fetch(n,{headers:t}).then(t=>{t.arrayBuffer().then(t=>{let i=btoa(String.fromCharCode(...new Uint8Array(t)));b[n]=new u.default({src:"data:image/png;base64,"+i}),e.setImage(b[n]),r.changed()})}),i=x,b[n]=i}}else{var s=Number(t.pointRadius)||5,o={square:[4,s,void 0,Math.PI/4]};switch(t.graphicName){case"cross":case"star":case"rectangle":case"square":case"triangle":case"x":var l=(o={cross:[4,s,0,0],rectangle:[4,s,void 0,Math.PI/4],square:[4,s,void 0,Math.PI/4],triangle:[3,s,void 0,0],star:[5,s,s/2,0],x:[4,s,0,Math.PI/4]})[t.graphicName]||o.square;if(i=new h.default({points:l[0],radius:l[1],radius2:l[2],rotation:l[3],stroke:v.Stroke(t),fill:v.Fill(t)}),"rectangle"===t.graphicName){var c=i.getImage(),d=document.createElement("canvas");d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0,c.width,c.height,c.width/4,0,c.width/2,c.height),c.getContext("2d").clearRect(0,0,c.width,c.height),c.getContext("2d").drawImage(d,0,0)}break;case"lightning":i=new f.default({glyph:"fa-bolt",radius:s,stroke:v.Stroke(t),fill:v.Fill(t)});break;case"church":i=new f.default({glyph:"fa-venus",rotation:Math.PI,radius:s,stroke:v.Stroke(t),fill:v.Fill(t)});break;default:i=new a.default({radius:s,stroke:v.Stroke(t),fill:v.Fill(t)})}}e.setImage(i)},v.Text=function(e){if(e.label){var t={font:(e.fontWeight||"")+" "+(e.fontSize||"12")+"px "+(e.fontFamily||"Sans-serif"),text:e.label||"",rotation:e.labelRotation||0,textAlign:"left",textBaseline:"middle",offsetX:e.labelXOffset||0,offsetY:-e.labelYOffset||0,stroke:new c.default({color:e.labelOutlineColor||"#fff",width:Number(e.labelOutlineWidth)||2}),fill:new o.default({color:e.fontColor})};return new p.default(t)}},v.getFeatureStyleFn=function(t){t||(t={});var r=new d.default({text:v.Text({label:"›",fontWeight:"bold",fontSize:"25"})});return function(i,n){let s;if(!t.style&&t.name&&v[t.name])return v[t.name](t)(i);let a=t.style;if(t.style&&t.style.children){let r=i.getProperties();delete r.geometry;for(let i=0;i<t.style.children.length;i++){let n=t.style.children[i];if(!n.mongo||!n.mongo.matches){if("string"==typeof n.condition)try{n.condition=JSON.parse(n.condition)}catch(e){}n.mongo=e(m).parse(n.condition)}if(n.mongo.matches(r)){a=n;break}}}let o=v.formatFeatureStyle(a,i);a&&a.name&&(t.symbo_attribute?(o.radius=5,o.img=v.getSymbolURI(t.style,t.style.name+"/"+i.get(t.symbo_attribute.name),t.style.graphicWidth,t.style.graphicHeight,i)):a.externalGraphic&&(o.radius=5,o.img=v.getSymbolURI(t.style,a.externalGraphic,a.graphicWidth,a.graphicHeight,i)));let l=new d.default({});if(l.setText(v.Text(o)),v.setImage(l,o,i),l.setFill(v.Fill(o)),l.setStroke(v.Stroke(o)),t.style&&t.style.directionField)try{s=JSON.parse(t.style.directionField)}catch(e){s=null,console.log("bad json direction field for style "+t.style.name)}if(n<2&&s instanceof Object&&"attribute"in s&&"sensDirect"in s&&"sensInverse"in s){let e=s.sensDirect,t=s.sensInverse,n=i.get(s.attribute);(n===e||n===t)&&(r.getText().setRotation(function(r,i){if(r!=e&&r!=t)return 0;"MultiLineString"===i.getType()&&(i=i.getLineString(0));for(var n,s,a=i.getCoordinates(),o=0,l=i.getLength(),u=0;u<a.length-1&&!((o+=Math.sqrt((n=a[u+1][0]-a[u][0])*n+(s=a[u+1][1]-a[u][1])*s))>=l/2);u++);return r==e?-Math.atan2(s,n):Math.PI-Math.atan2(s,n)}(n,i.getGeometry())),l=[l,r])}return l}},v.getSymbolURI=function(e,t,r,i){return e.uri.replace(/gcms\/.*/,"")+"gcms/style/image/"+t+"?width="+r+"&height="+i},v.Default=v.getFeatureStyleFn()()[0],v.zombie=function(){function e(e,t){return e.get("detruit")?[255,0,0,t]:[0,0,255,t]}return function(t){var r={strokeColor:e(t,1),strokeWidth:2,fillColor:e(t,.5)};return[new d.default({text:v.Text(r),image:v.Image(r),fill:v.Fill(r),stroke:v.Stroke(r)})]}},v.detruit=function(){return function(e){if(!e.get("detruit"))return[];var t={strokeWidth:2,strokeColor:[255,0,0,.5]};return[new d.default({text:v.Text(t),image:v.Image(t),fill:v.Fill(t),stroke:v.Stroke(t)})]}},v.vivant=function(){return function(e){if(e.get("detruit"))return[];var t={strokeWidth:2,strokeColor:[0,0,255,.5]};return[new d.default({text:v.Text(t),image:v.Image(t),fill:v.Fill(t),stroke:v.Stroke(t)})]}},v.combine=function(e){return e instanceof Array||(e=[e]),function(t,r){for(var i=[],n=0;n<e.length;n++)for(var s=e[n](t,r),a=0;a<s.length;a++)i.push(s[a]);return i}},v.troncon_de_route=function(e){return e=e||{},(0,g.default)("BDTOPO_V3:troncon_de_route",{sens:e.sens||2.5})},v.sens=function(e){return e||(e={attribute:"sens_de_circulation",glyph:"›",size:"20px",direct:"Sens direct",inverse:"Sens inverse"}),function(t){var r=t.get(e.attribute),i={label:r==e.direct||r==e.inverse?e.glyph:"",fontWeight:"bold",fontSize:e.size,labelRotation:function(t,r){if(t!=e.direct&&t!=e.inverse)return 0;for(var i,n,s=r.getCoordinates(),a=0,o=r.getLength(),l=0;l<s.length-1&&!((a+=Math.sqrt((i=s[l+1][0]-s[l][0])*i+(n=s[l+1][1]-s[l][1])*n))>=o/2);l++);return t==e.direct?-Math.atan2(n,i):Math.PI-Math.atan2(n,i)}(r,t.getGeometry())};return[new d.default({text:v.Text(i)})]}},v.toponyme=function(e){return e||(e={attribute:"nom",size:"12px"}),e.minResolution||(e.minResolution=0),e.maxResolution||(e.maxResolution=2),function(t,r){if(r>e.maxResolution||r<e.minResolution)return[];var i={label:t.get(e.attribute),fontWeight:e.weight,fontSize:e.size};return[new d.default({text:v.Text(i)})]}},v.batiment=function(e){function t(e,t){switch(e.get("nature")){case"Industriel, agricole ou commercial":return[51,102,153,t];case"Remarquable":return[0,192,0,t];default:switch(e.get("fonction")){case"Indifférenciée":return[128,128,128,t];case"Sportive":return[51,153,102,t];case"Religieuse":return[153,102,51,t];default:return[153,51,51,t]}}}return e||(e={}),function(r){if(r.get("detruit"))return[];var i={strokeColor:t(r,1),fillColor:t(r,.5)};return(/en service/i.test(r.get("etat_de_l_objet"))||(i.dash=!0,i.fillColor=[0,0,0,0]),e.symbol&&(i.label=function(e){switch(e.get("fonction")){case"Commerciale":return"";case"Sportive":return"";case"Mairie":return"";case"Gare":return"";case"Industrielle":return"";default:return null}}(r),i.fontFamily="Fontawesome",i.fontColor=e.color||"magenta"),i.label)?[new d.default({text:v.Text(i),stroke:v.Stroke(i),fill:v.Fill(i)})]:[new d.default({stroke:v.Stroke(i),fill:v.Fill(i)})]}};var E=v}),a("awidM",function(e,r){t(e.exports,"default",()=>p);var i,n,a,o,l=s("l9IGS"),u=s("kuKBR"),h=s("d5AAH"),c=s("2zf1Y"),d=s("lSokP");i={},n=0,a={111:{color:[230,0,77,255],title:"Continuous urban fabric"},112:{color:[255,0,0,255],title:"Discontinuous urban fabric"},121:{color:[204,77,242,255],title:"Industrial or commercial units"},122:{color:[204,0,0,255],title:"Road and rail networks and associated land"},123:{color:[230,204,204,255],title:"Port areas"},124:{color:[230,204,230,255],title:"Airports"},131:{color:[166,0,204,255],title:"Mineral extraction sites"},132:{color:[166,77,0,255],title:"Dump sites"},133:{color:[255,77,255,255],title:"Construction sites"},141:{color:[255,166,255,255],title:"Green urban areas"},142:{color:[255,230,255,255],title:"Sport and leisure facilities"},211:{color:[255,255,168,255],title:"Non-irrigated arable land"},212:{color:[255,255,0,255],title:"Permanently irrigated land"},213:{color:[230,230,0,255],title:"Rice fields"},221:{color:[230,128,0,255],title:"Vineyards"},222:{color:[242,166,77,255],title:"Fruit trees and berry plantations"},223:{color:[230,166,0,255],title:"Olive groves"},231:{color:[230,230,77,255],title:"Pastures"},241:{color:[255,230,166,255],title:"Annual crops associated with permanent crops"},242:{color:[255,230,77,255],title:"Complex cultivation patterns"},243:{color:[230,204,77,255],title:"Land principally occupied by agriculture with significant areas of natural vegetation"},244:{color:[242,204,166,255],title:"Agro-forestry areas"},311:{color:[128,255,0,255],title:"Broad-leaved forest"},312:{color:[0,166,0,255],title:"Coniferous forest"},313:{color:[77,255,0,255],title:"Mixed forest"},321:{color:[204,242,77,255],title:"Natural grasslands"},322:{color:[166,255,128,255],title:"Moors and heathland"},323:{color:[166,230,77,255],title:"Sclerophyllous vegetation"},324:{color:[166,242,0,255],title:"Transitional woodland-shrub"},331:{color:[230,230,230,255],title:"Beaches dunes sands"},332:{color:[204,204,204,255],title:"Bare rocks"},333:{color:[204,255,204,255],title:"Sparsely vegetated areas"},334:{color:[0,0,0,255],title:"Burnt areas"},335:{color:[166,230,204,255],title:"Glaciers and perpetual snow"},411:{color:[166,166,255,255],title:"Inland marshes"},412:{color:[77,77,255,255],title:"Peat bogs"},421:{color:[204,204,255,255],title:"Salt marshes"},422:{color:[230,230,255,255],title:"Salines"},423:{color:[166,166,230,255],title:"Intertidal flats"},511:{color:[0,204,242,255],title:"Water courses"},512:{color:[128,242,230,255],title:"Water bodies"},521:{color:[0,255,166,255],title:"Coastal lagoons"},522:{color:[166,255,230,255],title:"Estuaries"},523:{color:[230,242,255,255],title:"Sea and ocean"}},(o=function(e,t){var r,s,o,p,f,g,m,y,v,b,x,E,_;switch(t=t||{},e){case"BDTOPO_V3:troncon_de_route":return r=t,s=function(e){if(r.vert&&e.get("itineraire_vert"))return 0>e.get("position_par_rapport_au_sol")?[0,128,0,.7]:e.get("position_par_rapport_au_sol")>0?[0,100,0,1]:[0,128,0,1];if(!e.get("importance"))return"magenta";if("Piste cyclable"===e.get("nature"))return[27,177,27,.5];if("0"!=e.get("position_par_rapport_au_sol")){var t;switch(e.get("importance")){case"1":t=[177,27,177,1];break;case"2":t=[177,27,27,1];break;case"3":t=[217,119,0,1];break;case"4":t=[255,225,0,1];break;case"5":t=[204,204,204,1];break;default:t=[211,211,211,1]}return 0>e.get("position_par_rapport_au_sol")&&(t[3]=.7),t}switch(e.get("importance")){case"1":return[255,0,255,1];case"2":return[255,0,0,1];case"3":return[255,165,0,1];case"4":return[255,255,0,1];case"5":return[255,255,255,1];default:return[211,211,211,1]}},o=function(e){if(!e.get("position_par_rapport_au_sol"))return 100;var t=Number(e.get("position_par_rapport_au_sol"));return t>0?10+10*t-(Number(e.get("importance"))||10):t<0?Math.max(4+t,0):10-(Number(e.get("importance"))||10)},p=function(e){for(var t,r,i=e.getCoordinates(),n=0,s=e.getLength(),a=0;a<i.length-1&&!((n+=Math.sqrt((t=i[a+1][0]-i[a][0])*t+(r=i[a+1][1]-i[a][1])*r))>=s/2);a++);return-Math.atan2(r,t)},f=function(e){switch(e.get("nature")){case"Escalier":return[1,4];case"Sentier":return[8,10]}},g="ROUT-"+n+++"-",function(e,t){var n=!0===r.sens||t<r.sens,a=g+e.get("nature")+"-"+e.get("position_par_rapport_au_sol")+"-"+(n?e.get("sens_de_circulation"):"Sans objet")+"-"+e.get("position_par_rapport_au_sol")+"-"+e.get("importance")+"-"+e.get("largeur_de_chaussee")+"-"+e.get("itineraire_vert"),d=i[a];return d||(d=i[a]=[new l.default({text:n&&r.sens&&!/double|sans/i.test(e.get("sens_de_circulation"))?new u.default({text:"Sens direct"==e.get("sens_de_circulation")?"→":"←",font:"bold 12px sans-serif",placement:"point",textAlign:"center",fill:new c.default({color:[0,0,0,.3]}),stroke:new h.default({color:[0,0,0,.3],width:1.5}),rotateWithView:!0}):null,stroke:new h.default({color:s(e),width:Math.max(e.get("largeur_de_chaussee")||2,2),lineDash:f(e)}),zIndex:o(e)-100})]),d[0].getText()&&d[0].getText().setRotation(p(e.getGeometry())),d};case"BDTOPO_V3:batiment":return m=t,y=function(e){switch(e.get("nature")){case"Industriel, agricole ou commercial":return[51,102,153,1];case"Remarquable":return[0,192,0,1];default:switch(e.get("usage_1")){case"Résidentiel":case"Indifférencié":return[128,128,128,1];case"Industriel":case"Commercial et services":return[51,102,153,1];case"Sportif":return[51,153,102,1];case"Religieux":return[153,102,51,1];default:return[153,51,51,1]}}},v=function(e){switch(e.get("usage_1")){case"Commercial et services":return"";case"Sportif":return"";default:return null}},b="BATI-"+n+++"-",function(e){if(e.get("detruit"))return[];var t=i[b+e.get("usage_1")+"-"+e.get("nature")+"-"+e.get("etat_de_l_objet")];if(!t){var r=y(e),n=[r[0],r[1],r[1],.5],s=!/en service/i.test(e.get("etat_de_l_objet"));s&&(n[3]=.1);var a=m.symbol?v(e):null;return[new l.default({text:a?new u.default({text:a,font:"12px FontAwesome",fill:new c.default({color:[0,0,0,.6]})}):null,fill:new c.default({color:n}),stroke:new h.default({color:r,width:1.5,lineDash:s?[5,5]:null})})]}return t};case"CADASTRALPARCELS.PARCELLAIRE_EXPRESS:parcelle":return x=t,E=new l.default({text:new u.default({text:"0000",font:"bold 12px sans-serif",fill:new c.default({color:[100,0,255,1]}),stroke:new h.default({color:[255,255,255,.8],width:3})}),stroke:new h.default({color:[255,165,0,1],width:1.5}),fill:new c.default({color:[100,0,255,.1]})}),function(e,t){return t<.8?E.getText().setFont("bold 12px sans-serif"):E.getText().setFont("bold 10px sans-serif"),x.section?E.getText().setText(e.get("section")+"-"+(e.get("numero")||"").replace(/^0*/,"")):E.getText().setText((e.get("numero")||"").replace(/^0*/,"")),E};default:if(!/LANDCOVER/.test(e))return console.warn("[ol/style/geoportailStyle] no style defined for type: "+e),(0,d.default)();return t.date=e.replace(/[^\d]*(\d*).*/,"$1"),_=t,function(e){var t=e.get("code_"+_.date),r=i["CLC-"+t];if(!r){var n=a[t].color.slice();n[3]=_.opacity||1,r=i["CLC-"+t]=new l.default({fill:new c.default({color:n||[255,255,255,.5]})})}return r}}}).clcColors=JSON.parse(JSON.stringify(a));var p=o}),a("lSokP",function(e,r){t(e.exports,"default",()=>c);var i,n,a,o=s("l9IGS"),l=s("4lFOe"),u=s("d5AAH"),h=s("2zf1Y");i=[255,255,255,1],n=[0,153,255,1],a=[new o.default({stroke:new u.default({color:i,width:5})}),new o.default({image:new l.default({radius:6,fill:new h.default({color:n}),stroke:new u.default({color:i,width:1.5})}),stroke:new u.default({color:n,width:3}),fill:new h.default({color:[255,255,255,.5]})})];var c=function(e){if(!0===e)return a;e=e||{};var t=new h.default({color:e.fillColor||"rgba(255,255,255,0.4)"}),r=new u.default({color:e.color||"#3399CC",width:1.25});return[new o.default({image:new l.default({fill:t,stroke:r,radius:5}),fill:t,stroke:r})]}}),a("doPrp",function(e,r){t(e.exports,"DotNotationPointers",()=>i,e=>i=e),t(e.exports,"parse",()=>n,e=>n=e),t(e.exports,"inclusive",()=>a,e=>a=e),t(e.exports,"search",()=>o,e=>o=e),t(e.exports,"compressQuery",()=>l,e=>l=e);var i,n,a,o,l,u=s("fU73w"),h=s("iZyl0"),c=i=s("lUJRH"),d=function(e){this.parts=function e(t){if(t instanceof Function||"string"==typeof t)return t instanceof Function&&(t="("+t+").call(obj)"),[new v(void 0,"$where",Function("return function(){var obj=this; return "+t+"}")())];var r,i=[];for(var n in t)if(n in p){var s=t[n],a=[];s.forEach(function(t){a.push(new v(void 0,"$and",[t],e(t)))}),i.push(new v(void 0,n,t[n],a))}else if(n in f)i.push(new v(void 0,n,t[n]));else if((r=t[n])instanceof Object&&!(r instanceof Array)&&y(t[n]))for(var o in t[n]){var l=t[n][o];i.push(function t(r,i,n){if("$elemMatch"===i)var s=function(r){if(!y(r))return{parts:e(r),implicitField:!1};var i=[];for(var n in r){var s=r[n];i.push(t(void 0,n,s))}return{parts:i,implicitField:!0}}(n),a=s.parts,o=s.implicitField;else if("$not"===i)var a=function(e,r){var i=[];for(var n in r){var s=r[n];i.push(t(e,n,s))}return i}(r,n);else var a=[];return new v(r,i,n,a,o)}(n,o,l))}else i.push(new v(n,"$eq",t[n]));return i}(e)};d.prototype={},d.prototype.map=function(e){return function e(t,r){var i={};return t.forEach(function(t){if("$and"===t.operator)var n=e(t.parts,r);else if(t.operator in p)var n={$or:t.parts.map(function(t){return e(t.parts,r)})};else{var s={};s[t.operator]=t.operand;var a=r(t.field,s),n=function(e,t){if(void 0===t){var r={};if(void 0===e.field)r[e.operator]=e.operand;else{var i={};i[e.operator]=e.operand,r[e.field]=i}return r}return null===t?{}:t}(t,a)}g(i,n)}),m(i),i}(this.parts,e)},d.prototype.mapValues=function(e){return m(u(this.parts,e))},d.prototype.matches=function(e,t){return h(this.parts,e,t)},n=function(e){return new d(e)},a=function(e){return function(e){for(var t in e)if(e[t]){if("$meta"===t||e[t]&&(!(e[t]instanceof Object)||!("$elemMatch"in e[t])&&!("$slice"in e[t])))return!0}else if("_id"!==t)return!1}(e)},o=function(e,t,r,i){var n=new d(t);return e.filter(function(e){return n.matches(e,i)}).sort(function(e,t){for(var i in r){var n=function(e,t,r){var i=c(e,r)[0].val,n=c(t,r)[0].val;return i>n?1:i<n?-1:0}(e,t,i);if(0!==n)return r[i]<0&&(n=-n),n}return 0})};var p={$and:1,$or:1,$nor:1},f={$text:1,$comment:1};function g(e,t){for(var r in t)if(r in e){if("$and"===r)e[r]=e[r].concat(t[r]);else{var i={};i[r]=e[r];var n={};n[r]=t[r];var s={$and:[i,n]};delete e[r],g(e,s)}}else e[r]=t[r]}var m=l=function(e){for(var t in p)t in e&&e[t].forEach(function(e){m(e)});if("$and"in e&&(e.$and.forEach(function(t){for(var r in t)if(r in e){if(!(e[r]instanceof Array)&&"object"==typeof e[r]&&"$"!==r[0])for(var i in t[r])i in e[r]||(e[r][i]=t[r][i],delete t[r][i],0!==Object.keys(t[r]).length||delete t[r])}else e[r]=t[r],delete t[r]}),e.$and=n(e.$and),0===e.$and.length&&delete e.$and),"$or"in e){if(e.$or=n(e.$or),0===e.$or.length)delete e.$or;else if(1===e.$or.length){var r=e.$or[0];delete e.$or,g(e,r)}}for(var i in e)e[i]&&void 0!==e[i].$eq&&1===Object.keys(e[i]).length&&(e[i]=e[i].$eq),e[i]&&void 0!==e[i].$elemMatch&&m(e[i].$elemMatch);return e;function n(e){return e.filter(function(e){return 0!==Object.keys(e).length})}};function y(e){for(var t in e)return"$"===t[0]&&!(t in p)}var v=function(e,t,r,i,n){void 0===i&&(i=[]),this.field=e,this.operator=t,this.operand=r,this.parts=i,this.implicitField=n}}),a("fU73w",function(e,t){var r={$gt:1,$gte:1,$lt:1,$lte:1,$not:1},i={$eq:1,$ne:1},n={$nin:1,$all:1,$in:1},s=e.exports=function(e,t,o){var l={};return e.forEach(function(e){if(void 0!==e.field){if(void 0!==o)var u=o+"."+e.field;else var u=e.field}else var u=o;if(0===e.parts.length){if(e.operator in r)void 0!==e.field?a(l,e.field,e.operator,t(u,e.operand)):l[e.operator]=t(u,e.operand);else if(e.operator in i){if(e.operand instanceof Array)var h=e.operand.map(function(e){return t(u,e)});else var h=t(u,e.operand);a(l,e.field,e.operator,h)}else e.operator in n?a(l,e.field,e.operator,e.operand.map(function(r){return t(e.field,r)})):"$text"===e.operator?(l.$text={$search:t(u,e.operand.$search)},void 0!==e.operand.$language&&(l.$text.$language=e.operand.$language)):void 0!==e.field?a(l,e.field,e.operator,e.operand):l[e.operator]=e.operand}else if("$elemMatch"===e.operator){var c=s(e.parts,t,u);a(l,e.field,e.operator,c)}else if("$not"===e.operator)l[e.operator]=s(e.parts,t,u);else{var d=[];e.parts.forEach(function(e){d.push(s(e.parts,t))}),l[e.operator]=d}}),l};function a(e,t,r,i){void 0===e[t]&&(e[t]={}),e[t][r]=i}}),a("iZyl0",function(e,t){var r=s("lUJRH"),i={$eq:l,$gt:function(e,t){return e>t},$gte:function(e,t){return e>=t},$lt:function(e,t){return e<t},$lte:function(e,t){return e<=t},$ne:function(e,t){return e!==t},$mod:function(e,t){return e%t[0]===t[1]},$regex:function(e,t){return"string"==typeof e&&null!==e.match(RegExp(t))},$exists:function(e,t){return void 0!==e===t},$in:function(e,t){return Array.isArray(e)?e.some(function(e){return -1!==t.indexOf(e)}):-1!==t.indexOf(e)},$nin:function(e,t){return Array.isArray(e)?e.every(function(e){return -1===t.indexOf(e)}):-1===t.indexOf(e)},$all:function(e,t){return e instanceof Array&&e.reduce(function(e,r){return e&&-1!==t.indexOf(r)},!0)}},n={$and:function(e,t){for(var r=0;r<t.length;r++)if(!a(t[r].parts,e))return!1;return!0},$or:function(e,t){for(var r=0;r<t.length;r++)if(a(t[r].parts,e))return!0;return!1},$nor:function(e,t){for(var r=0;r<t.length;r++)if(a(t[r].parts,e))return!1;return!0}},a=e.exports=function(e,t,s){return!1!==s&&function e(t){Object.keys(t).forEach(function(r){if("$"===r[0])throw Error("Field names can't start with $");if(-1!==r.indexOf("."))throw Error("Field names can't contain .");t[r]instanceof Object&&e(t[r])})}(t),e.every(function(e){return function(e,t,s){for(var u=r(t,e.field),h=0;h<u.length;h++){var c=u[h];if(e.operator in i){if(!o(c.val,e.operand,i[e.operator]))continue}else if(e.operator in n){if(!n[e.operator](t,e.parts))continue}else if("$not"===e.operator){if(e.parts.length>0){if(a(e.parts,t,s))continue}else if(!0===o(c.val,e.operand,l))continue}else if("$size"===e.operator)return c.val instanceof Array&&c.val.length===e.operand;else if("$elemMatch"===e.operator){var d=c.val;if(void 0===d)continue;if(e.implicitField)for(var p=0;p<e.parts.length;p++)e.parts[p].field="x";for(var f=!1,p=0;p<d.length;p++){if(e.implicitField)var g={x:d[p]};else var g=d[p];if(a(e.parts,g,s)){f=!0;break}}if(!f)continue}else if("$where"===e.operator){if(void 0!==e.field)var m=c.val;else var m=t;if(!e.operand.call(m))continue}else if("$comment"===e.operator);else throw Error("Unsupported operator: "+e.operator);return!0}return!1}(e,t,s)})};function o(e,t,r){if(!(e instanceof Array))return r(e,t);if(t instanceof Array){if(!r(e,t))return!1}else if(!e.reduce(function(e,i){return e||r(i,t)},!1))return!1;return!0}function l(e,t){if(e instanceof Array)return t instanceof Array&&e.length===t.length&&e.reduce(function(e,r,i){return e&&l(r,t[i])},!0);if(e instanceof Object){if(!(t instanceof Object))return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var n=0;n<r.length;n++){if(r[n]!==i[n])return!1;var s=r[n];if(!l(e[s],t[s]))return!1}return!0}return null===t?null==e:e===t}}),a("lUJRH",function(e,t){function r(e,t){if(void 0!==e)return e[t]}e.exports=function(e,t){var s,a,o;return void 0===t?t=[]:t instanceof Array||(t=t.split(".")),s=t,o=[{obj:a={dummy:e},last:"dummy",propertyPath:[]}],s.forEach(function(e){var t=[];o.forEach(function(i){var s=r(i.obj,i.last);s instanceof Array&&!n(e)?s.forEach(function(n,a){t.push({obj:r(s,a),propertyPath:i.propertyPath.concat(a,e),last:e})}):t.push({obj:s,propertyPath:i.propertyPath.concat(e),last:e})}),o=t}),o.map(function(t){if(t.obj===a)var r=t.obj.dummy,n=void 0;else var r=t.obj,n=t.last;return new i(e,t.propertyPath,{obj:r,last:n})})};var i=function(e,t,r){this.root=e,void 0===t?this.property=[]:t instanceof Array?this.property=t:this.property=t.split("."),void 0!==r&&(this.propertyInfo=r)};function n(e){return!isNaN(parseInt(e))}i.prototype={},Object.defineProperty(i.prototype,"val",{get:function(){var e=this.propertyInfo;return void 0===e.obj?void 0:void 0!==e.last?e.obj[e.last]:e.obj},set:function(e){void 0===e?void 0!==this.propertyInfo.obj&&delete this.propertyInfo.obj[this.propertyInfo.last]:(void 0===this.propertyInfo.obj&&function(e){for(var t=e.root,r=e.property.length-1,i=0;i<r;i++){var s=t[e.property[i]];if(void 0===s){if(n(e.property[i+1]))var a=[];else var a={};s=t[e.property[i]]=a}t=s}e.propertyInfo={obj:t,last:e.property[r]}}(this),this.propertyInfo.obj[this.propertyInfo.last]=e)}})}),a("fRAGe",function(e,r){t(e.exports,"default",()=>o);var i=s("5TDW7"),n=s("dimsV");class a extends i.default{constructor(){super()}}a.prototype.read=function(e){if("Color"!==e.type)return null;let t=new n.default(e);return this.readOptions(t,e),t},a.prototype.write=function(e){return"Color"!==e.get("type")?null:this.writeOptions(e,{color:e.get("color")})};var o=a}),a("dimsV",function(e,r){t(e.exports,"default",()=>o);var i=s("eEuqc"),n=s("8MDYc");class a extends i.default{constructor(e){(e=Object.assign({},e||{})).maxZoom||delete e.maxZoom,e.minZoom||delete e.minZoom,e.source=new n.default({tileSize:5e3,tileUrlFunction:()=>this._data}),super(e),this.set("type","Color"),this.setBlendMode(e.mode),this.setColor(e.color)}setColor(e){this.set("color",e);let t=document.createElement("canvas");t.width=t.height=10;let r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,t.width,t.height),this._data=t.toDataURL("image/png"),this.getSource().refresh()}}var o=a}),a("8qGq9",function(e,r){t(e.exports,"default",()=>l);var i=s("5TDW7"),n=s("8MDYc"),a=s("eEuqc");class o extends i.default{constructor(){super()}}o.prototype.read=function(e){if("Pattern"!==e.type)return null;let t=new a.default({source:new n.default({url:e.url})});return this.readOptions(t,e),t},o.prototype.write=function(e){return"Pattern"!==e.get("type")?null:this.writeOptions(e,{url:e.getSource().getUrls()[0]})};var l=o}),a("dxNAB",function(i,n){t(i.exports,"jsPDF",()=>q);/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var a=s("agEcb"),o=s("kvvuk"),l=function(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this}();function u(){l.console&&"function"==typeof l.console.log&&l.console.log.apply(l.console,arguments)}var h={log:u,warn:function(e){l.console&&("function"==typeof l.console.warn?l.console.warn.apply(l.console,arguments):u.call(null,arguments))},error:function(e){l.console&&("function"==typeof l.console.error?l.console.error.apply(l.console,arguments):u(e))}};function c(e,t,r){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){m(i.response,t,r)},i.onerror=function(){h.error("could not download file")},i.send()}function d(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function p(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var f,g,m=l.saveAs||("object"!==("undefined"==typeof window?"undefined":e(a)(window))||window!==l?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var i=l.URL||l.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener","string"==typeof e?(n.href=e,n.origin!==location.origin?d(n.href)?c(e,t,r):p(n,n.target="_blank"):p(n)):(n.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){p(n)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,i){if(r=r||t.name||"download","string"==typeof t){if(d(t))c(t,r,i);else{var n,s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){p(s)})}}else navigator.msSaveOrOpenBlob((void 0===(n=i)?n={autoBom:!1}:"object"!==e(a)(n)&&(h.warn("Deprecated: Expected third argument to be a object"),n={autoBom:!n}),n.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t),r)}:function(t,r,i,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof t)return c(t,r,i);var s="application/octet-stream"===t.type,o=/constructor/i.test(l.HTMLElement)||l.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&"object"===("undefined"==typeof FileReader?"undefined":e(a)(FileReader))){var h=new FileReader;h.onloadend=function(){var e=h.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},h.readAsDataURL(t)}else{var d=l.URL||l.webkitURL,p=d.createObjectURL(t);n?n.location=p:location.href=p,n=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function y(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=({aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"})[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<r.length;i++){var n=r[i].re,s=r[i].process,a=n.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function v(e,t){var r=e[0],i=e[1],n=e[2],s=e[3];r=x(r,i,n,s,t[0],7,-680876936),s=x(s,r,i,n,t[1],12,-389564586),n=x(n,s,r,i,t[2],17,606105819),i=x(i,n,s,r,t[3],22,-1044525330),r=x(r,i,n,s,t[4],7,-176418897),s=x(s,r,i,n,t[5],12,1200080426),n=x(n,s,r,i,t[6],17,-1473231341),i=x(i,n,s,r,t[7],22,-45705983),r=x(r,i,n,s,t[8],7,1770035416),s=x(s,r,i,n,t[9],12,-1958414417),n=x(n,s,r,i,t[10],17,-42063),i=x(i,n,s,r,t[11],22,-1990404162),r=x(r,i,n,s,t[12],7,1804603682),s=x(s,r,i,n,t[13],12,-40341101),n=x(n,s,r,i,t[14],17,-1502002290),r=E(r,i=x(i,n,s,r,t[15],22,1236535329),n,s,t[1],5,-165796510),s=E(s,r,i,n,t[6],9,-1069501632),n=E(n,s,r,i,t[11],14,643717713),i=E(i,n,s,r,t[0],20,-373897302),r=E(r,i,n,s,t[5],5,-701558691),s=E(s,r,i,n,t[10],9,38016083),n=E(n,s,r,i,t[15],14,-660478335),i=E(i,n,s,r,t[4],20,-405537848),r=E(r,i,n,s,t[9],5,568446438),s=E(s,r,i,n,t[14],9,-1019803690),n=E(n,s,r,i,t[3],14,-187363961),i=E(i,n,s,r,t[8],20,1163531501),r=E(r,i,n,s,t[13],5,-1444681467),s=E(s,r,i,n,t[2],9,-51403784),n=E(n,s,r,i,t[7],14,1735328473),r=_(r,i=E(i,n,s,r,t[12],20,-1926607734),n,s,t[5],4,-378558),s=_(s,r,i,n,t[8],11,-2022574463),n=_(n,s,r,i,t[11],16,1839030562),i=_(i,n,s,r,t[14],23,-35309556),r=_(r,i,n,s,t[1],4,-1530992060),s=_(s,r,i,n,t[4],11,1272893353),n=_(n,s,r,i,t[7],16,-155497632),i=_(i,n,s,r,t[10],23,-1094730640),r=_(r,i,n,s,t[13],4,681279174),s=_(s,r,i,n,t[0],11,-358537222),n=_(n,s,r,i,t[3],16,-722521979),i=_(i,n,s,r,t[6],23,76029189),r=_(r,i,n,s,t[9],4,-640364487),s=_(s,r,i,n,t[12],11,-421815835),n=_(n,s,r,i,t[15],16,530742520),r=S(r,i=_(i,n,s,r,t[2],23,-995338651),n,s,t[0],6,-198630844),s=S(s,r,i,n,t[7],10,1126891415),n=S(n,s,r,i,t[14],15,-1416354905),i=S(i,n,s,r,t[5],21,-57434055),r=S(r,i,n,s,t[12],6,1700485571),s=S(s,r,i,n,t[3],10,-1894986606),n=S(n,s,r,i,t[10],15,-1051523),i=S(i,n,s,r,t[1],21,-2054922799),r=S(r,i,n,s,t[8],6,1873313359),s=S(s,r,i,n,t[15],10,-30611744),n=S(n,s,r,i,t[6],15,-1560198380),i=S(i,n,s,r,t[13],21,1309151649),r=S(r,i,n,s,t[4],6,-145523070),s=S(s,r,i,n,t[11],10,-1120210379),n=S(n,s,r,i,t[2],15,718787259),i=S(i,n,s,r,t[9],21,-343485551),e[0]=T(r,e[0]),e[1]=T(i,e[1]),e[2]=T(n,e[2]),e[3]=T(s,e[3])}function b(e,t,r,i,n,s){return t=T(T(t,e),T(i,s)),T(t<<n|t>>>32-n,r)}function x(e,t,r,i,n,s,a){return b(t&r|~t&i,e,t,n,s,a)}function E(e,t,r,i,n,s,a){return b(t&i|r&~i,e,t,n,s,a)}function _(e,t,r,i,n,s,a){return b(t^r^i,e,t,n,s,a)}function S(e,t,r,i,n,s,a){return b(r^(t|~i),e,t,n,s,a)}function O(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)v(i,function(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(v(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,v(i,n),i}f=l.atob.bind(l),g=l.btoa.bind(l);var R="0123456789abcdef".split("");function A(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function w(e){return O(e).map(A).join("")}var C="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=function(e){for(var t="",r=0;r<4;r++)t+=R[e>>8*r+4&15]+R[e>>8*r&15];return t}(e[t]);return e.join("")}(O("hello"));function T(e,t){if(C){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function L(e,t){if(e!==r){for(var r,i,n=Array(1+(256/e.length>>0)+1).join(e),s=[],a=0;a<256;a++)s[a]=a;var o=0;for(a=0;a<256;a++){var l=s[a];o=(o+l+n.charCodeAt(a))%256,s[a]=s[o],s[o]=l}r=e,i=s}else s=i;var u=t.length,h=0,c=0,d="";for(a=0;a<u;a++)c=(c+(l=s[h=(h+1)%256]))%256,s[h]=s[c],s[c]=l,n=s[(s[h]+s[c])%256],d+=String.fromCharCode(t.charCodeAt(a)^n);return d}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var P={print:4,modify:8,copy:16,"annot-forms":32};function I(e,t,r,i){this.v=1,this.r=2;var n=192;e.forEach(function(e){if(void 0!==P.perm)throw Error("Invalid permission: "+e);n+=P[e]}),this.padding="(¿N^NuAd\x00NVÿú\x01\b..\x00¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^n)),this.encryptionKey=w(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=L(this.encryptionKey,this.padding)}function M(e){if(/[^\u0000-\u00ff]/.test(e))throw Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,i=0;i<r;i++){var n=e.charCodeAt(i);n<33||35===n||37===n||40===n||41===n||47===n||60===n||62===n||91===n||93===n||123===n||125===n||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=e[i]}return t}function N(t){if("object"!==e(a)(t))throw Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(e,t,i){if(i=i||!1,"string"!=typeof e||"function"!=typeof t||"boolean"!=typeof i)throw Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(e)||(r[e]={});var n=Math.random().toString(35);return r[e][n]=[t,!!i],n},this.unsubscribe=function(e){for(var t in r)if(r[t][e])return delete r[t][e],0===Object.keys(r[t]).length&&delete r[t],!0;return!1},this.publish=function(e){if(r.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var s in r[e]){var a=r[e][s];try{a[0].apply(t,i)}catch(e){l.console&&h.error("jsPDF PubSub Error",e.message,e)}a[1]&&n.push(s)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function G(e){if(!(this instanceof G))return new G(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function k(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function D(e,t,r,i,n){if(!(this instanceof D))return new D(e,t,r,i,n);this.type="axial"===e?2:3,this.coords=t,this.colors=r,k.call(this,i,n)}function F(e,t,r,i,n){if(!(this instanceof F))return new F(e,t,r,i,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,k.call(this,i,n)}function q(t){var r,i="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,d=16,p="S",f=null;"object"===e(a)(t=t||{})&&(i=t.orientation,n=t.unit||n,s=t.format||s,o=t.compress||t.compressPdf||o,null!==(f=t.encryption||null)&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(r=t.precision),void 0!==t.floatPrecision&&(d=t.floatPrecision),p=t.defaultPathOperation||"S"),u=t.filters||(!0===o?["FlateEncode"]:u),n=n||"mm",i=(""+(i||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,b={},x={internal:{},__private__:{}};x.__private__.PubSub=N;var E="1.3",_=x.__private__.getPdfVersion=function(){return E};x.__private__.setPdfVersion=function(e){E=e};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return S};var O=x.__private__.getPageFormat=function(e){return S[e]};s=s||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},A=R.COMPAT;function w(){this.saveGraphicsState(),ec(new ez(eA,0,0,-eA,0,ry()*eA).toString()+" cm"),this.setFontSize(this.getFontSize()/eA),p="n",A=R.ADVANCED}function C(){this.restoreGraphicsState(),p="S",A=R.COMPAT}var T=x.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};x.advancedAPI=function(e){var t=A===R.COMPAT;return t&&w.call(this),"function"!=typeof e||(e(this),t&&C.call(this)),this},x.compatAPI=function(e){var t=A===R.ADVANCED;return t&&C.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},x.isAdvancedAPI=function(){return A===R.ADVANCED};var L,P=function(e){if(A!==R.ADVANCED)throw Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=x.roundToPrecision=x.__private__.roundToPrecision=function(e,t){var i=r||t;if(isNaN(e)||isNaN(i))throw Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(i).replace(/0+$/,"")};L=x.hpf=x.__private__.hpf="number"==typeof d?function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.hpf");return k(e,d)}:"smart"===d?function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.hpf");return k(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.hpf");return k(e,16)};var j=x.f2=x.__private__.f2=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.f2");return k(e,2)},U=x.__private__.f3=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.f3");return k(e,3)},H=x.scale=x.__private__.scale=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.scale");return A===R.COMPAT?e*eA:A===R.ADVANCED?e:void 0},B=function(e){return H(A===R.COMPAT?ry()-e:A===R.ADVANCED?e:void 0)};x.__private__.setPrecision=x.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(r=parseInt(e,10))};var Z,z="00000000000000000000000000000000",V=x.__private__.getFileId=function(){return z},Y=x.__private__.setFileId=function(e){return z=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==f&&(tG=new I(f.userPermissions,f.userPassword,f.ownerPassword,z)),z};x.setFileId=function(e){return Y(e),this},x.getFileId=function(){return V()};var W=x.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=[t<0?"+":"-",Q(Math.floor(Math.abs(t/60))),"'",Q(Math.abs(t%60)),"'"].join("");return["D:",e.getFullYear(),Q(e.getMonth()+1),Q(e.getDate()),Q(e.getHours()),Q(e.getMinutes()),Q(e.getSeconds()),r].join("")},X=x.__private__.convertPDFDateToDate=function(e){return new Date(parseInt(e.substr(2,4),10),parseInt(e.substr(6,2),10)-1,parseInt(e.substr(8,2),10),parseInt(e.substr(10,2),10),parseInt(e.substr(12,2),10),parseInt(e.substr(14,2),10),0)},K=x.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=W(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return Z=t},J=x.__private__.getCreationDate=function(e){var t=Z;return"jsDate"===e&&(t=X(Z)),t};x.setCreationDate=function(e){return K(e),this},x.getCreationDate=function(e){return J(e)};var $,Q=x.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},ee=x.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},et=0,er=[],ei=[],en=0,es=[],ea=[],eo=!1,el=ei,eu=function(){et=0,en=0,ei=[],er=[],es=[],eQ=eK(),e0=eK()};x.__private__.setCustomOutputDestination=function(e){eo=!0,el=e};var eh=function(e){eo||(el=e)};x.__private__.resetCustomOutputDestination=function(){eo=!1,el=ei};var ec=x.__private__.out=function(e){return e=e.toString(),en+=e.length+1,el.push(e),el},ed=x.__private__.write=function(e){return ec(1==arguments.length?e.toString():Array.prototype.join.call(arguments," "))},ep=x.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),i=new Uint8Array(r);t--;)i[t]=e.charCodeAt(t);return r},ef=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return ef};var eg=t.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(e){return eg=A===R.ADVANCED?e/eA:e,this};var em,ey=x.__private__.getFontSize=x.getFontSize=function(){return A===R.COMPAT?eg:eg*eA},ev=t.R2L||!1;x.__private__.setR2L=x.setR2L=function(e){return ev=e,this},x.__private__.getR2L=x.getR2L=function(){return ev};var eb,ex=x.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))em=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');em=e}else em=parseInt(e,10)};x.__private__.getZoomMode=function(){return em};var eE,e_=x.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');eb=e};x.__private__.getPageMode=function(){return eb};var eS=x.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');eE=e};x.__private__.getLayoutMode=function(){return eE},x.__private__.setDisplayMode=x.setDisplayMode=function(e,t,r){return ex(e),eS(t),e_(r),this};var eO={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(e){if(-1===Object.keys(eO).indexOf(e))throw Error("Invalid argument passed to jsPDF.getDocumentProperty");return eO[e]},x.__private__.getDocumentProperties=function(){return eO},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(e){for(var t in eO)eO.hasOwnProperty(t)&&e[t]&&(eO[t]=e[t]);return this},x.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(eO).indexOf(e))throw Error("Invalid arguments passed to jsPDF.setDocumentProperty");return eO[e]=t};var eR,eA,ew,eC,eT,eL={},eP={},eI=[],eM={},eN={},eG={},ek={},eD=null,eF=0,eq=[],ej=new N(x),eU=t.hotfixes||[],eH={},eB={},eZ=[],ez=function e(t,r,i,n,s,a){if(!(this instanceof e))return new e(t,r,i,n,s,a);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(i)&&(i=0),isNaN(n)&&(n=1),isNaN(s)&&(s=0),isNaN(a)&&(a=0),this._matrix=[t,r,i,n,s,a]};Object.defineProperty(ez.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(ez.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(ez.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(ez.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(ez.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(ez.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(ez.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(ez.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(ez.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(ez.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(ez.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(ez.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(ez.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ez.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ez.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ez.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ez.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(e)},ez.prototype.multiply=function(e){return new ez(e.sx*this.sx+e.shy*this.shx,e.sx*this.shy+e.shy*this.sy,e.shx*this.sx+e.sy*this.shx,e.shx*this.shy+e.sy*this.sy,e.tx*this.sx+e.ty*this.shx+this.tx,e.tx*this.shy+e.ty*this.sy+this.ty)},ez.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,i=this.sy,n=this.tx,s=this.ty,a=Math.sqrt(e*e+t*t),o=(e/=a)*r+(t/=a)*i,l=Math.sqrt((r-=e*o)*r+(i-=t*o)*i);return o/=l,e*(i/=l)<t*(r/=l)&&(e=-e,t=-t,o=-o,a=-a),{scale:new ez(a,0,0,l,0,0),translate:new ez(1,0,0,1,n,s),rotate:new ez(e,t,-t,e,0,0),skew:new ez(1,0,o,1,0,0)}},ez.prototype.toString=function(e){return this.join(" ")},ez.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,i=this.sy,n=this.tx,s=this.ty,a=1/(e*i-t*r),o=i*a,l=-t*a,u=-r*a,h=e*a;return new ez(o,l,u,h,-o*n-u*s,-l*n-h*s)},ez.prototype.applyToPoint=function(e){return new ru(e.x*this.sx+e.y*this.shx+this.tx,e.x*this.shy+e.y*this.sy+this.ty)},ez.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new ru(e.x+e.w,e.y+e.h));return new rh(t.x,t.y,r.x-t.x,r.y-t.y)},ez.prototype.clone=function(){return new ez(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},x.Matrix=ez;var eV=x.matrixMult=function(e,t){return t.multiply(e)},eY=new ez(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=eY;var eW=function(e,t){if(!eN[e]){var r=(t instanceof D?"Sh":"P")+(Object.keys(eM).length+1).toString(10);t.id=r,eN[e]=r,eM[r]=t,ej.publish("addPattern",t)}};x.ShadingPattern=D,x.TilingPattern=F,x.addShadingPattern=function(e,t){return P("addShadingPattern()"),eW(e,t),this},x.beginTilingPattern=function(e){P("beginTilingPattern()"),rd(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},x.endTilingPattern=function(e,t){P("endTilingPattern()"),t.stream=ea[$].join("\n"),eW(e,t),ej.publish("endTilingPattern",t),eZ.pop().restore()};var eX=x.__private__.newObject=function(){var e=eK();return eJ(e,!0),e},eK=x.__private__.newObjectDeferred=function(){return er[++et]=function(){return en},et},eJ=function(e,t){return t="boolean"==typeof t&&t,er[e]=en,t&&ec(e+" 0 obj"),e},e$=x.__private__.newAdditionalObject=function(){var e={objId:eK(),content:""};return es.push(e),e},eQ=eK(),e0=eK(),e1=x.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5===t.length&&("k"===t[4]||"K"===t[4])&&(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var i="#",n=0;n<3;n++)i+=("0"+Math.floor(255*parseFloat(t[n])).toString(16)).slice(-2);return i},e2=x.__private__.encodeColorString=function(t){"string"==typeof t&&(t={ch1:t});var r,i=t.ch1,n=t.ch2,s=t.ch3,o=t.ch4,l="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof i&&"#"!==i.charAt(0)){var u=new y(i);if(u.ok)i=u.toHex();else if(!/^\d*\.?\d*$/.test(i))throw Error('Invalid color "'+i+'" passed to jsPDF.encodeColorString.')}if("string"==typeof i&&/^#[0-9A-Fa-f]{3}$/.test(i)&&(i="#"+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]),"string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i)){var h=parseInt(i.substr(1),16);i=h>>16&255,n=h>>8&255,s=255&h}if(void 0===n||void 0===o&&i===n&&n===s)r="string"==typeof i?i+" "+l[0]:2===t.precision?j(i/255)+" "+l[0]:U(i/255)+" "+l[0];else if(void 0===o||"object"===e(a)(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",l[1]].join(" ");r="string"==typeof i?[i,n,s,l[1]].join(" "):2===t.precision?[j(i/255),j(n/255),j(s/255),l[1]].join(" "):[U(i/255),U(n/255),U(s/255),l[1]].join(" ")}else r="string"==typeof i?[i,n,s,o,l[2]].join(" "):2===t.precision?[j(i),j(n),j(s),j(o),l[2]].join(" "):[U(i),U(n),U(s),U(o),l[2]].join(" ");return r},e5=x.__private__.getFilters=function(){return u},e3=x.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||e5(),i=e.alreadyAppliedFilters||[],n=e.addLength1||!1,s=t.length,a=e.objectId,o=function(e){return e};if(null!==f&&void 0===a)throw Error("ObjectId must be passed to putStream for file encryption");null!==f&&(o=tG.encryptor(a,0));var l={};!0===r&&(r=["FlateEncode"]);var u=e.additionalKeyValues||[],h=(l=void 0!==q.API.processDataByFilters?q.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(i)?i.join(" "):i.toString());if(0!==l.data.length&&(u.push({key:"Length",value:l.data.length}),!0===n&&u.push({key:"Length1",value:s})),0!=h.length){if(h.split("/").length-1==1)u.push({key:"Filter",value:h});else{u.push({key:"Filter",value:"["+h+"]"});for(var c=0;c<u.length;c+=1)if("DecodeParms"===u[c].key){for(var d=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)d.push("null");d.push(u[c].value),u[c].value="["+d.join(" ")+"]"}}}ec("<<");for(var g=0;g<u.length;g++)ec("/"+u[g].key+" "+u[g].value);ec(">>"),0!==l.data.length&&(ec("stream"),ec(o(l.data)),ec("endstream"))},e4=x.__private__.putPage=function(e){var t=e.number,r=e.data,i=e.objId,n=e.contentsObjId;eJ(i,!0),ec("<</Type /Page"),ec("/Parent "+e.rootDictionaryObjId+" 0 R"),ec("/Resources "+e.resourceDictionaryObjId+" 0 R"),ec("/MediaBox ["+parseFloat(L(e.mediaBox.bottomLeftX))+" "+parseFloat(L(e.mediaBox.bottomLeftY))+" "+L(e.mediaBox.topRightX)+" "+L(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&ec("/CropBox ["+L(e.cropBox.bottomLeftX)+" "+L(e.cropBox.bottomLeftY)+" "+L(e.cropBox.topRightX)+" "+L(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&ec("/BleedBox ["+L(e.bleedBox.bottomLeftX)+" "+L(e.bleedBox.bottomLeftY)+" "+L(e.bleedBox.topRightX)+" "+L(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&ec("/TrimBox ["+L(e.trimBox.bottomLeftX)+" "+L(e.trimBox.bottomLeftY)+" "+L(e.trimBox.topRightX)+" "+L(e.trimBox.topRightY)+"]"),null!==e.artBox&&ec("/ArtBox ["+L(e.artBox.bottomLeftX)+" "+L(e.artBox.bottomLeftY)+" "+L(e.artBox.topRightX)+" "+L(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&ec("/UserUnit "+e.userUnit),ej.publish("putPage",{objId:i,pageContext:eq[t],pageNumber:t,page:r}),ec("/Contents "+n+" 0 R"),ec(">>"),ec("endobj");var s=r.join("\n");return A===R.ADVANCED&&(s+="\nQ"),eJ(n,!0),e3({data:s,filters:e5(),objectId:n}),ec("endobj"),i},e6=x.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=eF;e++)eq[e].objId=eK(),eq[e].contentsObjId=eK();for(e=1;e<=eF;e++)r.push(e4({number:e,data:ea[e],objId:eq[e].objId,contentsObjId:eq[e].contentsObjId,mediaBox:eq[e].mediaBox,cropBox:eq[e].cropBox,bleedBox:eq[e].bleedBox,trimBox:eq[e].trimBox,artBox:eq[e].artBox,userUnit:eq[e].userUnit,rootDictionaryObjId:eQ,resourceDictionaryObjId:e0}));eJ(eQ,!0),ec("<</Type /Pages");var i="/Kids [";for(t=0;t<eF;t++)i+=r[t]+" 0 R ";ec(i+"]"),ec("/Count "+eF),ec(">>"),ec("endobj"),ej.publish("postPutPages")},e8=function(e){ej.publish("putFont",{font:e,out:ec,newObject:eX,putStream:e3}),!0!==e.isAlreadyPutted&&(e.objectNumber=eX(),ec("<<"),ec("/Type /Font"),ec("/BaseFont /"+M(e.postScriptName)),ec("/Subtype /Type1"),"string"==typeof e.encoding&&ec("/Encoding /"+e.encoding),ec("/FirstChar 32"),ec("/LastChar 255"),ec(">>"),ec("endobj"))},e7=function(){for(var e in eL)eL.hasOwnProperty(e)&&(!1===v||!0===v&&b.hasOwnProperty(e))&&e8(eL[e])},e9=function(e){e.objectNumber=eX();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[L(e.x),L(e.y),L(e.x+e.width),L(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),e3({data:e.pages[1].join("\n"),additionalKeyValues:t,objectId:e.objectNumber}),ec("endobj")},te=function(){for(var e in eH)eH.hasOwnProperty(e)&&e9(eH[e])},tt=function(e,t){var r,i=[],n=1/(t-1);for(r=0;r<1;r+=n)i.push(r);if(i.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var a={offset:1,color:e[e.length-1].color};e.push(a)}for(var o="",l=0,u=0;u<i.length;u++){for(r=i[u];r>e[l+1].offset;)l++;var h=e[l].offset,c=(r-h)/(e[l+1].offset-h),d=e[l].color,p=e[l+1].color;o+=ee(Math.round((1-c)*d[0]+c*p[0]).toString(16))+ee(Math.round((1-c)*d[1]+c*p[1]).toString(16))+ee(Math.round((1-c)*d[2]+c*p[2]).toString(16))}return o.trim()},tr=function(e,t){t||(t=21);var r=eX(),i=tt(e.colors,t),n=[];n.push({key:"FunctionType",value:"0"}),n.push({key:"Domain",value:"[0.0 1.0]"}),n.push({key:"Size",value:"["+t+"]"}),n.push({key:"BitsPerSample",value:"8"}),n.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),n.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),e3({data:i,additionalKeyValues:n,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),ec("endobj"),e.objectNumber=eX(),ec("<< /ShadingType "+e.type),ec("/ColorSpace /DeviceRGB");var s="/Coords ["+L(parseFloat(e.coords[0]))+" "+L(parseFloat(e.coords[1]))+" ";2===e.type?s+=L(parseFloat(e.coords[2]))+" "+L(parseFloat(e.coords[3])):s+=L(parseFloat(e.coords[2]))+" "+L(parseFloat(e.coords[3]))+" "+L(parseFloat(e.coords[4]))+" "+L(parseFloat(e.coords[5])),ec(s+="]"),e.matrix&&ec("/Matrix ["+e.matrix.toString()+"]"),ec("/Function "+r+" 0 R"),ec("/Extend [true true]"),ec(">>"),ec("endobj")},ti=function(e,t){var r=eK(),i=eX();t.push({resourcesOid:r,objectOid:i}),e.objectNumber=i;var n=[];n.push({key:"Type",value:"/Pattern"}),n.push({key:"PatternType",value:"1"}),n.push({key:"PaintType",value:"1"}),n.push({key:"TilingType",value:"1"}),n.push({key:"BBox",value:"["+e.boundingBox.map(L).join(" ")+"]"}),n.push({key:"XStep",value:L(e.xStep)}),n.push({key:"YStep",value:L(e.yStep)}),n.push({key:"Resources",value:r+" 0 R"}),e.matrix&&n.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),e3({data:e.stream,additionalKeyValues:n,objectId:e.objectNumber}),ec("endobj")},tn=function(e){var t;for(t in eM)eM.hasOwnProperty(t)&&(eM[t]instanceof D?tr(eM[t]):eM[t]instanceof F&&ti(eM[t],e))},ts=function(e){for(var t in e.objectNumber=eX(),ec("<<"),e)switch(t){case"opacity":ec("/ca "+j(e[t]));break;case"stroke-opacity":ec("/CA "+j(e[t]))}ec(">>"),ec("endobj")},ta=function(){var e;for(e in eG)eG.hasOwnProperty(e)&&ts(eG[e])},to=function(){for(var e in ec("/XObject <<"),eH)eH.hasOwnProperty(e)&&eH[e].objectNumber>=0&&ec("/"+e+" "+eH[e].objectNumber+" 0 R");ej.publish("putXobjectDict"),ec(">>")},tl=function(){tG.oid=eX(),ec("<<"),ec("/Filter /Standard"),ec("/V "+tG.v),ec("/R "+tG.r),ec("/U <"+tG.toHexString(tG.U)+">"),ec("/O <"+tG.toHexString(tG.O)+">"),ec("/P "+tG.P),ec(">>"),ec("endobj")},tu=function(){for(var e in ec("/Font <<"),eL)eL.hasOwnProperty(e)&&(!1===v||!0===v&&b.hasOwnProperty(e))&&ec("/"+e+" "+eL[e].objectNumber+" 0 R");ec(">>")},th=function(){if(Object.keys(eM).length>0){for(var e in ec("/Shading <<"),eM)eM.hasOwnProperty(e)&&eM[e]instanceof D&&eM[e].objectNumber>=0&&ec("/"+e+" "+eM[e].objectNumber+" 0 R");ej.publish("putShadingPatternDict"),ec(">>")}},tc=function(e){if(Object.keys(eM).length>0){for(var t in ec("/Pattern <<"),eM)eM.hasOwnProperty(t)&&eM[t]instanceof x.TilingPattern&&eM[t].objectNumber>=0&&eM[t].objectNumber<e&&ec("/"+t+" "+eM[t].objectNumber+" 0 R");ej.publish("putTilingPatternDict"),ec(">>")}},td=function(){if(Object.keys(eG).length>0){var e;for(e in ec("/ExtGState <<"),eG)eG.hasOwnProperty(e)&&eG[e].objectNumber>=0&&ec("/"+e+" "+eG[e].objectNumber+" 0 R");ej.publish("putGStateDict"),ec(">>")}},tp=function(e){eJ(e.resourcesOid,!0),ec("<<"),ec("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tu(),th(),tc(e.objectOid),td(),to(),ec(">>"),ec("endobj")},tf=function(){var e=[];e7(),ta(),te(),tn(e),ej.publish("putResources"),e.forEach(tp),tp({resourcesOid:e0,objectOid:Number.MAX_SAFE_INTEGER}),ej.publish("postPutResources")},tg=function(){ej.publish("putAdditionalObjects");for(var e=0;e<es.length;e++){var t=es[e];eJ(t.objId,!0),ec(t.content),ec("endobj")}ej.publish("postPutAdditionalObjects")},tm=function(e){eP[e.fontName]=eP[e.fontName]||{},eP[e.fontName][e.fontStyle]=e.id},ty=function(e,t,r,i,n){var s={id:"F"+(Object.keys(eL).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:i,isStandardFont:n||!1,metadata:{}};return ej.publish("addFont",{font:s,instance:this}),eL[s.id]=s,tm(s),s.id},tv=function(e,t){var r,i,n,s,a,o,l,u,h;if(n=(t=t||{}).sourceEncoding||"Unicode",a=t.outputEncoding,(t.autoencode||a)&&eL[eR].metadata&&eL[eR].metadata[n]&&eL[eR].metadata[n].encoding&&(s=eL[eR].metadata[n].encoding,!a&&eL[eR].encoding&&(a=eL[eR].encoding),!a&&s.codePages&&(a=s.codePages[0]),"string"==typeof a&&(a=s[a]),a)){for(l=!1,o=[],r=0,i=e.length;r<i;r++)(u=a[e.charCodeAt(r)])?o.push(String.fromCharCode(u)):o.push(e[r]),o[r].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(r=e.length;void 0===l&&0!==r;)e.charCodeAt(r-1)>>8&&(l=!0),r--;if(!l)return e;for(o=t.noBOM?[]:[254,255],r=0,i=e.length;r<i;r++){if((h=(u=e.charCodeAt(r))>>8)>>8)throw Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(h),o.push(u-(h<<8))}return String.fromCharCode.apply(void 0,o)},tb=x.__private__.pdfEscape=x.pdfEscape=function(e,t){return tv(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tx=x.__private__.beginPage=function(e){ea[++eF]=[],eq[eF]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},tS(eF),eh(ea[$])},tE=function(e,t){var r,n,a;switch(i=t||i,"string"==typeof e&&Array.isArray(r=O(e.toLowerCase()))&&(n=r[0],a=r[1]),Array.isArray(e)&&(n=e[0]*eA,a=e[1]*eA),isNaN(n)&&(n=s[0],a=s[1]),(n>14400||a>14400)&&(h.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),n=Math.min(14400,n),a=Math.min(14400,a)),s=[n,a],i.substr(0,1)){case"l":a>n&&(s=[a,n]);break;case"p":n>a&&(s=[a,n])}tx(s),t2(t0),ec(re),0!==ra&&ec(ra+" J"),0!==ro&&ec(ro+" j"),ej.publish("addPage",{pageNumber:eF})},t_=function(e){e>0&&e<=eF&&(ea.splice(e,1),eq.splice(e,1),eF--,$>eF&&($=eF),this.setPage($))},tS=function(e){e>0&&e<=eF&&($=e)},tO=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return ea.length-1},tR=function(e,t,r){var i,n=void 0;return r=r||{},e=void 0!==e?e:eL[eR].fontName,t=void 0!==t?t:eL[eR].fontStyle,void 0!==eP[i=e.toLowerCase()]&&void 0!==eP[i][t]?n=eP[i][t]:void 0!==eP[e]&&void 0!==eP[e][t]?n=eP[e][t]:!1===r.disableWarning&&h.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),n||r.noFallback||null==(n=eP.times[t])&&(n=eP.times.normal),n},tA=x.__private__.putInfo=function(){var e=eX(),t=function(e){return e};for(var r in null!==f&&(t=tG.encryptor(e,0)),ec("<<"),ec("/Producer ("+tb(t("jsPDF "+q.version))+")"),eO)eO.hasOwnProperty(r)&&eO[r]&&ec("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+tb(t(eO[r]))+")");ec("/CreationDate ("+tb(t(Z))+")"),ec(">>"),ec("endobj")},tw=x.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||eQ;switch(eX(),ec("<<"),ec("/Type /Catalog"),ec("/Pages "+t+" 0 R"),em||(em="fullwidth"),em){case"fullwidth":ec("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ec("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ec("/OpenAction [3 0 R /Fit]");break;case"original":ec("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+em;"%"===r.substr(r.length-1)&&(em=parseInt(em)/100),"number"==typeof em&&ec("/OpenAction [3 0 R /XYZ null null "+j(em)+"]")}switch(eE||(eE="continuous"),eE){case"continuous":ec("/PageLayout /OneColumn");break;case"single":ec("/PageLayout /SinglePage");break;case"two":case"twoleft":ec("/PageLayout /TwoColumnLeft");break;case"tworight":ec("/PageLayout /TwoColumnRight")}eb&&ec("/PageMode /"+eb),ej.publish("putCatalog"),ec(">>"),ec("endobj")},tC=x.__private__.putTrailer=function(){ec("trailer"),ec("<<"),ec("/Size "+(et+1)),ec("/Root "+et+" 0 R"),ec("/Info "+(et-1)+" 0 R"),null!==f&&ec("/Encrypt "+tG.oid+" 0 R"),ec("/ID [ <"+z+"> <"+z+"> ]"),ec(">>")},tT=x.__private__.putHeader=function(){ec("%PDF-"+E),ec("%ºß¬à")},tL=x.__private__.putXRef=function(){var e="0000000000";ec("xref"),ec("0 "+(et+1)),ec("0000000000 65535 f ");for(var t=1;t<=et;t++)"function"==typeof er[t]?ec((e+er[t]()).slice(-10)+" 00000 n "):void 0!==er[t]?ec((e+er[t]).slice(-10)+" 00000 n "):ec("0000000000 00000 n ")},tP=x.__private__.buildDocument=function(){eu(),eh(ei),ej.publish("buildDocument"),tT(),e6(),tg(),tf(),null!==f&&tl(),tA(),tw();var e=en;return tL(),tC(),ec("startxref"),ec(""+e),ec("%%EOF"),eh(ea[$]),ei.join("\n")},tI=x.__private__.getBlob=function(e){return new Blob([ep(e)],{type:"application/pdf"})},tM=x.output=x.__private__.output=((t$=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return tP();case"save":x.save(t.filename);break;case"arraybuffer":return ep(tP());case"blob":return tI(tP());case"bloburi":case"bloburl":if(void 0!==l.URL&&"function"==typeof l.URL.createObjectURL)return l.URL&&l.URL.createObjectURL(tI(tP()))||void 0;h.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",i=tP();try{r=g(i)}catch(e){r=g(unescape(encodeURIComponent(i)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(l)){var n="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(n=t.pdfObjectUrl,s="");var a='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+n+'"'+s+'></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");</script></body></html>",o=l.open();return null!==o&&o.document.write(a),o}throw Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(l)){var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=l.open();if(null!==c){c.document.write(u);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(l))throw Error("The option dataurlnewwindow just works in a browser-environment.");var p='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=l.open();if(null!==f&&(f.document.write(p),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return l.document.location.href=this.output("datauristring",t);default:return null}}).foo=function(){try{return t$.apply(this,arguments)}catch(r){var e=r.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+r.message;if(!l.console)throw Error(t);l.console.error(t,r),l.alert&&alert(t)}},t$.foo.bar=t$,t$.foo),tN=function(e){return!0===Array.isArray(eU)&&eU.indexOf(e)>-1};switch(n){case"pt":eA=1;break;case"mm":eA=72/25.4;break;case"cm":eA=72/2.54;break;case"in":eA=72;break;case"px":eA=1==tN("px_scaling")?.75:96/72;break;case"pc":case"em":eA=12;break;case"ex":eA=6;break;default:if("number"!=typeof n)throw Error("Invalid unit: "+n);eA=n}var tG=null;K(),Y();var tk=x.__private__.getPageInfo=x.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:eq[e].objId,pageNumber:e,pageContext:eq[e]}},tD=x.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in eq)if(eq[t].objId===e)break;return tk(t)},tF=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:eq[$].objId,pageNumber:$,pageContext:eq[$]}};x.addPage=function(){return tE.apply(this,arguments),this},x.setPage=function(){return tS.apply(this,arguments),eh.call(this,ea[$]),this},x.insertPage=function(e){return this.addPage(),this.movePage($,e),this},x.movePage=function(e,t){var r,i;if(e>t){r=ea[e],i=eq[e];for(var n=e;n>t;n--)ea[n]=ea[n-1],eq[n]=eq[n-1];ea[t]=r,eq[t]=i,this.setPage(t)}else if(e<t){r=ea[e],i=eq[e];for(var s=e;s<t;s++)ea[s]=ea[s+1],eq[s]=eq[s+1];ea[t]=r,eq[t]=i,this.setPage(t)}return this},x.deletePage=function(){return t_.apply(this,arguments),this},x.__private__.text=x.text=function(t,r,i,n,s){var o,l,u,h,c,d,p,f,g,m=(n=n||{}).scope||this;if("number"==typeof t&&"number"==typeof r&&("string"==typeof i||Array.isArray(i))){var y=i;i=r,r=t,t=y}if(arguments[3]instanceof ez==!1?(u=arguments[4],h=arguments[5],"object"===e(a)(p=arguments[3])&&null!==p||("string"==typeof u&&(h=u,u=null),"string"==typeof p&&(h=p,p=null),"number"==typeof p&&(u=p,p=null),n={flags:p,angle:u,align:h})):(P("The transform parameter of text() with a Matrix value"),g=s),isNaN(r)||isNaN(i)||null==t)throw Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return m;var v="",x=!1,E="number"==typeof n.lineHeightFactor?n.lineHeightFactor:tQ,_=m.internal.scaleFactor;function S(e){for(var t,r=e.concat(),i=[],n=r.length;n--;)"string"==typeof(t=r.shift())?i.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function O(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var i,n,s=e.concat(),a=[],o=s.length;o--;)"string"==typeof(i=s.shift())?a.push(t(i)[0]):Array.isArray(i)&&"string"==typeof i[0]&&a.push([(n=t(i[0],i[1],i[2]))[0],n[1],n[2]]);r=a}return r}var w=!1,C=!0;if("string"==typeof t)w=!0;else if(Array.isArray(t)){var T=t.concat();l=[];for(var I,M=T.length;M--;)("string"!=typeof(I=T.shift())||Array.isArray(I)&&"string"!=typeof I[0])&&(C=!1);w=C}if(!1===w)throw Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var N=eg/m.internal.scaleFactor,G=N*(E-1);switch(n.baseline){case"bottom":i-=G;break;case"top":i+=N-G;break;case"hanging":i+=N-2*G;break;case"middle":i+=N/2-G}if((d=n.maxWidth||0)>0&&("string"==typeof t?t=m.splitTextToSize(t,d):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(e,t){return e.concat(m.splitTextToSize(t,d))},[]))),o={text:t,x:r,y:i,options:n,mutex:{pdfEscape:tb,activeFontKey:eR,fonts:eL,activeFontSize:eg}},ej.publish("preProcessText",o),t=o.text,u=(n=o.options).angle,g instanceof ez==!1&&u&&"number"==typeof u){u*=Math.PI/180,0===n.rotationDirection&&(u=-u),A===R.ADVANCED&&(u=-u);var k=Math.cos(u),D=Math.sin(u);g=new ez(k,D,-D,k,0,0)}else u&&u instanceof ez&&(g=u);A!==R.ADVANCED||g||(g=eY),void 0!==(c=n.charSpace||rn)&&(v+=L(H(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=n.horizontalScale)&&(v+=L(100*f)+" Tz\n"),n.lang;var F=-1,q=void 0!==n.renderingMode?n.renderingMode:n.stroke,j=m.internal.getCurrentPageInfo().pageContext;switch(q){case 0:case!1:case"fill":F=0;break;case 1:case!0:case"stroke":F=1;break;case 2:case"fillThenStroke":F=2;break;case 3:case"invisible":F=3;break;case 4:case"fillAndAddForClipping":F=4;break;case 5:case"strokeAndAddPathForClipping":F=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":F=6;break;case 7:case"addToPathForClipping":F=7}var U=void 0!==j.usedRenderingMode?j.usedRenderingMode:-1;-1!==F?v+=F+" Tr\n":-1!==U&&(v+="0 Tr\n"),-1!==F&&(j.usedRenderingMode=F),h=n.align||"left";var B,Z=eg*E,z=m.internal.pageSize.getWidth(),V=eL[eR];c=n.charSpace||rn,d=n.maxWidth||0,p=Object.assign({autoencode:!0,noBOM:!0},n.flags);var Y=[];if("[object Array]"===Object.prototype.toString.call(t)){l=S(t),"left"!==h&&(B=l.map(function(e){return m.getStringUnitWidth(e,{font:V,charSpace:c,fontSize:eg,doKerning:!1})*eg/_}));var W,X,K=0;if("right"===h){r-=B[0],t=[],M=l.length;for(var J=0;J<M;J++)0===J?(X=t6(r),W=t8(i)):(X=H(K-B[J]),W=-Z),t.push([l[J],X,W]),K=B[J]}else if("center"===h){r-=B[0]/2,t=[],M=l.length;for(var $=0;$<M;$++)0===$?(X=t6(r),W=t8(i)):(X=H((K-B[$])/2),W=-Z),t.push([l[$],X,W]),K=B[$]}else if("left"===h){t=[],M=l.length;for(var Q=0;Q<M;Q++)t.push(l[Q])}else{if("justify"!==h)throw Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');t=[],M=l.length,d=0!==d?d:z;for(var ee=0;ee<M;ee++)W=0===ee?t8(i):-Z,X=0===ee?t6(r):0,ee<M-1?Y.push(L(H((d-B[ee])/(l[ee].split(" ").length-1)))):Y.push(0),t.push([l[ee],X,W])}}!0===("boolean"==typeof n.R2L?n.R2L:ev)&&(t=O(t,function(e,t,r){return[e.split("").reverse().join(""),t,r]})),o={text:t,x:r,y:i,options:n,mutex:{pdfEscape:tb,activeFontKey:eR,fonts:eL,activeFontSize:eg}},ej.publish("postProcessText",o),t=o.text,x=o.mutex.isHex||!1;var et=eL[eR].encoding;"WinAnsiEncoding"!==et&&"StandardEncoding"!==et||(t=O(t,function(e,t,r){return[tb(e.split("	").join(Array(n.TabLen||9).join(" ")),p),t,r]})),l=S(t),t=[];for(var er,ei,en,es=Array.isArray(l[0])?1:0,ea="",eo=function(e,t,r){var i="";return r instanceof ez?(r="number"==typeof n.angle?eV(r,new ez(1,0,0,1,e,t)):eV(new ez(1,0,0,1,e,t),r),A===R.ADVANCED&&(r=eV(new ez(1,0,0,-1,0,0),r)),i=r.join(" ")+" Tm\n"):i=L(e)+" "+L(t)+" Td\n",i},el=0;el<l.length;el++){switch(ea="",es){case 1:en=(x?"<":"(")+l[el][0]+(x?">":")"),er=parseFloat(l[el][1]),ei=parseFloat(l[el][2]);break;case 0:en=(x?"<":"(")+l[el]+(x?">":")"),er=t6(r),ei=t8(i)}void 0!==Y&&void 0!==Y[el]&&(ea=Y[el]+" Tw\n"),0===el?t.push(ea+eo(er,ei,g)+en):0===es?t.push(ea+en):1===es&&t.push(ea+eo(er,ei,g)+en)}t=(0===es?t.join(" Tj\nT* "):t.join(" Tj\n"))+" Tj\n";var eu="BT\n/";return ec(eu+=eR+" "+eg+" Tf\n"+L(eg*E)+" TL\n"+rr+"\n"+v+t+"ET"),b[eR]=!0,m};var tq=x.__private__.clip=x.clip=function(e){return ec("evenodd"===e?"W*":"W"),this};x.clipEvenOdd=function(){return tq("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ec("n"),this};var tj=x.__private__.isValidStyle=function(e){var t=!1;return -1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(e){return tj(e)&&(p=e),this};var tU=x.__private__.getStyle=x.getStyle=function(e){var t=p;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},tH=x.close=function(){return ec("h"),this};x.stroke=function(){return ec("S"),this},x.fill=function(e){return tB("f",e),this},x.fillEvenOdd=function(e){return tB("f*",e),this},x.fillStroke=function(e){return tB("B",e),this},x.fillStrokeEvenOdd=function(e){return tB("B*",e),this};var tB=function(t,r){"object"===e(a)(r)?tV(r,t):ec(t)},tZ=function(e){null===e||A===R.ADVANCED&&void 0===e||ec(e=tU(e))};function tz(e,t,r,i,n){var s=new F(t||this.boundingBox,r||this.xStep,i||this.yStep,this.gState,n||this.matrix);return s.stream=this.stream,eW(e+"$$"+this.cloneIndex+++"$$",s),s}var tV=function(e,t){var r=eN[e.key],i=eM[r];if(i instanceof D)ec("q"),ec(tY(t)),i.gState&&x.setGState(i.gState),ec(e.matrix.toString()+" cm"),ec("/"+r+" sh"),ec("Q");else if(i instanceof F){var n=new ez(1,0,0,-1,0,ry());e.matrix&&(n=n.multiply(e.matrix||eY),r=tz.call(i,e.key,e.boundingBox,e.xStep,e.yStep,n).id),ec("q"),ec("/Pattern cs"),ec("/"+r+" scn"),i.gState&&x.setGState(i.gState),ec(t),ec("Q")}},tY=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},tW=x.moveTo=function(e,t){return ec(L(H(e))+" "+L(B(t))+" m"),this},tX=x.lineTo=function(e,t){return ec(L(H(e))+" "+L(B(t))+" l"),this},tK=x.curveTo=function(e,t,r,i,n,s){return ec([L(H(e)),L(B(t)),L(H(r)),L(B(i)),L(H(n)),L(B(s)),"c"].join(" ")),this};x.__private__.line=x.line=function(e,t,r,i,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||!tj(n))throw Error("Invalid arguments passed to jsPDF.line");return A===R.COMPAT?this.lines([[r-e,i-t]],e,t,[1,1],n||"S"):this.lines([[r-e,i-t]],e,t,[1,1]).stroke()},x.__private__.lines=x.lines=function(e,t,r,i,n,s){var a,o,l,u,h,c,d,p,f,g,m;if("number"==typeof e&&(m=r,r=t,t=e,e=m),i=i||[1,1],s=s||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(i)||!tj(n)||"boolean"!=typeof s)throw Error("Invalid arguments passed to jsPDF.lines");for(tW(t,r),a=i[0],o=i[1],u=e.length,f=t,g=r,l=0;l<u;l++)2===(h=e[l]).length?tX(f=h[0]*a+f,g=h[1]*o+g):(c=h[0]*a+f,d=h[1]*o+g,p=h[2]*a+f,tK(c,d,p,h[3]*o+g,f=h[4]*a+f,g=h[5]*o+g));return s&&tH(),tZ(n),this},x.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=r.c;switch(r.op){case"m":tW(i[0],i[1]);break;case"l":tX(i[0],i[1]);break;case"c":tK.apply(this,i);break;case"h":tH()}}return this},x.__private__.rect=x.rect=function(e,t,r,i,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||!tj(n))throw Error("Invalid arguments passed to jsPDF.rect");return A===R.COMPAT&&(i=-i),ec([L(H(e)),L(B(t)),L(H(r)),L(H(i)),"re"].join(" ")),tZ(n),this},x.__private__.triangle=x.triangle=function(e,t,r,i,n,s,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(n)||isNaN(s)||!tj(a))throw Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,i-t],[n-r,s-i],[e-n,t-s]],e,t,[1,1],a,!0),this},x.__private__.roundedRect=x.roundedRect=function(e,t,r,i,n,s,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(n)||isNaN(s)||!tj(a))throw Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return n=Math.min(n,.5*r),s=Math.min(s,.5*i),this.lines([[r-2*n,0],[n*o,0,n,s-s*o,n,s],[0,i-2*s],[0,s*o,-n*o,s,-n,s],[2*n-r,0],[-n*o,0,-n,-s*o,-n,-s],[0,2*s-i],[0,-s*o,n*o,-s,n,-s]],e+n,t,[1,1],a,!0),this},x.__private__.ellipse=x.ellipse=function(e,t,r,i,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||!tj(n))throw Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*r,a=4/3*(Math.SQRT2-1)*i;return tW(e+r,t),tK(e+r,t-a,e+s,t-i,e,t-i),tK(e-s,t-i,e-r,t-a,e-r,t),tK(e-r,t+a,e-s,t+i,e,t+i),tK(e+s,t+i,e+r,t+a,e+r,t),tZ(n),this},x.__private__.circle=x.circle=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||!tj(i))throw Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,i)},x.setFont=function(e,t,r){return r&&(t=T(t,r)),eR=tR(e,t,{disableWarning:!1}),this};var tJ=x.__private__.getFont=x.getFont=function(){return eL[tR.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var e,t,r={};for(e in eP)if(eP.hasOwnProperty(e))for(t in r[e]=[],eP[e])eP[e].hasOwnProperty(t)&&r[e].push(t);return r},x.addFont=function(e,t,r,i,n){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?n=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(r=T(r,i)),n=n||"Identity-H",ty.call(this,e,t,r,n)};var t$,tQ,t0=t.lineWidth||.200025,t1=x.__private__.getLineWidth=x.getLineWidth=function(){return t0},t2=x.__private__.setLineWidth=x.setLineWidth=function(e){return t0=e,ec(L(H(e))+" w"),this};x.__private__.setLineDash=q.API.setLineDash=q.API.setLineDashPattern=function(e,t){if(e=e||[],isNaN(t=t||0)||!Array.isArray(e))throw Error("Invalid arguments passed to jsPDF.setLineDash");return ec("["+(e=e.map(function(e){return L(H(e))}).join(" "))+"] "+(t=L(H(t)))+" d"),this};var t5=x.__private__.getLineHeight=x.getLineHeight=function(){return eg*tQ};x.__private__.getLineHeight=x.getLineHeight=function(){return eg*tQ};var t3=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(tQ=e),this},t4=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return tQ};t3(t.lineHeight);var t6=x.__private__.getHorizontalCoordinate=function(e){return H(e)},t8=x.__private__.getVerticalCoordinate=function(e){return A===R.ADVANCED?e:eq[$].mediaBox.topRightY-eq[$].mediaBox.bottomLeftY-H(e)},t7=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(e){return L(t6(e))},t9=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(e){return L(t8(e))},re=t.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return e1(re)},x.__private__.setStrokeColor=x.setDrawColor=function(e,t,r,i){return ec(re=e2({ch1:e,ch2:t,ch3:r,ch4:i,pdfColorType:"draw",precision:2})),this};var rt=t.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return e1(rt)},x.__private__.setFillColor=x.setFillColor=function(e,t,r,i){return ec(rt=e2({ch1:e,ch2:t,ch3:r,ch4:i,pdfColorType:"fill",precision:2})),this};var rr=t.textColor||"0 g",ri=x.__private__.getTextColor=x.getTextColor=function(){return e1(rr)};x.__private__.setTextColor=x.setTextColor=function(e,t,r,i){return rr=e2({ch1:e,ch2:t,ch3:r,ch4:i,pdfColorType:"text",precision:3}),this};var rn=t.charSpace,rs=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(rn||0)};x.__private__.setCharSpace=x.setCharSpace=function(e){if(isNaN(e))throw Error("Invalid argument passed to jsPDF.setCharSpace");return rn=e,this};var ra=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(e){var t=x.CapJoinStyles[e];if(void 0===t)throw Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ra=t,ec(t+" J"),this};var ro=0;x.__private__.setLineJoin=x.setLineJoin=function(e){var t=x.CapJoinStyles[e];if(void 0===t)throw Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ro=t,ec(t+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(e){if(isNaN(e=e||0))throw Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ec(L(H(e))+" M"),this},x.GState=G,x.setGState=function(e){(e="string"==typeof e?eG[ek[e]]:rl(null,e)).equals(eD)||(ec("/"+e.id+" gs"),eD=e)};var rl=function(e,t){if(!e||!ek[e]){var r=!1;for(var i in eG)if(eG.hasOwnProperty(i)&&eG[i].equals(t)){r=!0;break}if(r)t=eG[i];else{var n="GS"+(Object.keys(eG).length+1).toString(10);eG[n]=t,t.id=n}return e&&(ek[e]=t.id),ej.publish("addGState",t),t}};x.addGState=function(e,t){return rl(e,t),this},x.saveGraphicsState=function(){return ec("q"),eI.push({key:eR,size:eg,color:rr}),this},x.restoreGraphicsState=function(){ec("Q");var e=eI.pop();return eR=e.key,eg=e.size,rr=e.color,eD=null,this},x.setCurrentTransformationMatrix=function(e){return ec(e.toString()+" cm"),this},x.comment=function(e){return ec("#"+e),this};var ru=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var n="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return n},set:function(e){n=e.toString()}}),this},rh=function(e,t,r,i){ru.call(this,e,t),this.type="rect";var n=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var s=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},rc=function(){this.page=eF,this.currentPage=$,this.pages=ea.slice(0),this.pagesContext=eq.slice(0),this.x=ew,this.y=eC,this.matrix=eT,this.width=rg($),this.height=ry($),this.outputDestination=el,this.id="",this.objectNumber=-1};rc.prototype.restore=function(){eF=this.page,$=this.currentPage,eq=this.pagesContext,ea=this.pages,ew=this.x,eC=this.y,eT=this.matrix,rm($,this.width),rv($,this.height),el=this.outputDestination};var rd=function(e,t,r,i,n){eZ.push(new rc),eF=$=0,ea=[],ew=e,eC=t,eT=n,tx([r,i])},rp=function(e){if(eB[e])eZ.pop().restore();else{var t=new rc,r="Xo"+(Object.keys(eH).length+1).toString(10);t.id=r,eB[e]=r,eH[r]=t,ej.publish("addFormObject",t),eZ.pop().restore()}};for(var rf in x.beginFormObject=function(e,t,r,i,n){return rd(e,t,r,i,n),this},x.endFormObject=function(e){return rp(e),this},x.doFormObject=function(e,t){var r=eH[eB[e]];return ec("q"),ec(t.toString()+" cm"),ec("/"+r.id+" Do"),ec("Q"),this},x.getFormObject=function(e){var t=eH[eB[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},x.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(m(tI(tP()),e),"function"==typeof m.unload&&l.setTimeout&&setTimeout(m.unload,911),this):new Promise(function(t,r){try{var i=m(tI(tP()),e);"function"==typeof m.unload&&l.setTimeout&&setTimeout(m.unload,911),t(i)}catch(e){r(e.message)}})},q.API)q.API.hasOwnProperty(rf)&&("events"===rf&&q.API.events.length?function(e,t){var r,i,n;for(n=t.length-1;-1!==n;n--)r=t[n][0],i=t[n][1],e.subscribe.apply(e,[r].concat("function"==typeof i?[i]:i))}(ej,q.API.events):x[rf]=q.API[rf]);var rg=x.getPageWidth=function(e){return(eq[e=e||$].mediaBox.topRightX-eq[e].mediaBox.bottomLeftX)/eA},rm=x.setPageWidth=function(e,t){eq[e].mediaBox.topRightX=t*eA+eq[e].mediaBox.bottomLeftX},ry=x.getPageHeight=function(e){return(eq[e=e||$].mediaBox.topRightY-eq[e].mediaBox.bottomLeftY)/eA},rv=x.setPageHeight=function(e,t){eq[e].mediaBox.topRightY=t*eA+eq[e].mediaBox.bottomLeftY};return x.internal={pdfEscape:tb,getStyle:tU,getFont:tJ,getFontSize:ey,getCharSpace:rs,getTextColor:ri,getLineHeight:t5,getLineHeightFactor:t4,getLineWidth:t1,write:ed,getHorizontalCoordinate:t6,getVerticalCoordinate:t8,getCoordinateString:t7,getVerticalCoordinateString:t9,collections:{},newObject:eX,newAdditionalObject:e$,newObjectDeferred:eK,newObjectDeferredBegin:eJ,getFilters:e5,putStream:e3,events:ej,scaleFactor:eA,pageSize:{getWidth:function(){return rg($)},setWidth:function(e){rm($,e)},getHeight:function(){return ry($)},setHeight:function(e){rv($,e)}},encryptionOptions:f,encryption:tG,getEncryptor:function(e){return null!==f?tG.encryptor(e,0):function(e){return e}},output:tM,getNumberOfPages:tO,pages:ea,out:ec,f2:j,f3:U,getPageInfo:tk,getPageInfoByObjId:tD,getCurrentPageInfo:tF,getPDFVersion:_,Point:ru,Rectangle:rh,Matrix:ez,hasHotfix:tN},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return rg($)},set:function(e){rm($,e)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return ry($)},set:function(e){rv($,e)},enumerable:!0,configurable:!0}),(function(e){for(var t=0,r=ef.length;t<r;t++){var i=ty.call(this,e[t][0],e[t][1],e[t][2],ef[t][3],!0);!1===v&&(b[i]=!0);var n=e[t][0].split("-");tm({id:i,fontName:n[0],fontStyle:n[1]||""})}ej.publish("addFonts",{fonts:eL,dictionary:eP})}).call(x,ef),eR="F1",tE(s,i),ej.publish("initialized"),x}I.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},I.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},I.prototype.processOwnerPassword=function(e,t){return L(w(t).substr(0,5),e)},I.prototype.encryptor=function(e,t){var r=w(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return L(r,e)}},G.prototype.equals=function(t){var r,i="id,objectNumber,equals";if(!t||e(a)(t)!==e(a)(this))return!1;var n=0;for(r in this)if(!(i.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;n++}for(r in t)t.hasOwnProperty(r)&&0>i.indexOf(r)&&n--;return 0===n},q.API={events:[]},q.version="2.5.1";var j=q.API,U=1,H=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},B=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Z=function(e){return e.toFixed(2)},z=function(e){return e.toFixed(5)};j.__acroform__={};var V=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Y=function(e){return e*U},W=function(e){var t=new ed,r=eA.internal.getHeight(e)||0,i=eA.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Z(i)),Number(Z(r))],t},X=j.__acroform__.setBit=function(e,t){if(t=t||0,isNaN(e=e||0)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},K=j.__acroform__.clearBit=function(e,t){if(t=t||0,isNaN(e=e||0)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},J=j.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},$=j.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(e,t-1)},Q=j.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return X(e,t-1)},ee=j.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return K(e,t-1)},et=j.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,n=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=r(n)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=r(n+a)||0,l.upperRight_Y=i(s)||0,[Number(Z(l.lowerLeft_X)),Number(Z(l.lowerLeft_Y)),Number(Z(l.upperRight_X)),Number(Z(l.upperRight_Y))]},er=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,i=ei(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+Z(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=W(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},ei=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},n=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(e){return e.split("\n")}):n.map(function(e){return[e]});var s=r,a=eA.internal.getHeight(e)||0;a=a<0?-a:a;var o=eA.internal.getWidth(e)||0;o=o<0?-o:o,s++;t:for(;s>0;){t="";var l,u,h=en("3",e,--s).height,c=e.multiline?a-s:(a-h)/2,d=c+=2,p=0,f=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+en(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var m="",y=0,v=0;v<n.length;v++)if(n.hasOwnProperty(v)){var b=!1;if(1!==n[v].length&&g!==n[v].length-1){if((h+2)*(y+2)+2>a)continue t;m+=n[v][g],b=!0,f=v,v--}else{m=" "==(m+=n[v][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var x,E,_=parseInt(v),S=(x=m,E=s,_+1<n.length&&en(x+" "+n[_+1][0],e,E).width<=o-4),O=v>=n.length-1;if(S&&!O){m+=" ",g=0;continue}if(S||O){if(O)f=_;else if(e.multiline&&(h+2)*(y+2)+2>a)continue t}else{if(!e.multiline||(h+2)*(y+2)+2>a)continue t;f=_}}for(var R="",A=p;A<=f;A++){var w=n[A];if(e.multiline){if(A===f){R+=w[g]+" ",g=(g+1)%w.length;continue}if(A===p){R+=w[w.length-1]+" ";continue}}R+=w[0]+" "}switch(u=en(R=" "==R.substr(R.length-1)?R.substr(0,R.length-1):R,e,s).width,e.textAlign){case"right":l=o-u-2;break;case"center":l=(o-u)/2;break;default:l=2}t+=Z(l)+" "+Z(d)+" Td\n("+H(R)+") Tj\n"+-Z(l)+" 0 Td\n",d=-(s+2),u=0,p=b?f:f+1,y++,m=""}break}return i.text=t,i.fontSize=s,i},en=function(e,t,r){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},es={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ea=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===r.type&&e.object===r.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},eo=function(t,r){for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];r.internal.newObjectDeferredBegin(n.objId,!0),"object"===e(a)(n)&&"function"==typeof n.putStream&&n.putStream(),delete t[i]}},el=function(t,r){if(r.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(ef.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(es)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw Error("Exception while creating AcroformDictionary");U=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ep,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i.objId=void 0,i.hasAnnotation&&ea(i,e)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(r){!function(t,r){var i=!t;for(var n in t||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(n)){var s=t[n],o=[],l=s.Rect;if(s.Rect&&(s.Rect=et(s.Rect,r)),r.internal.newObjectDeferredBegin(s.objId,!0),s.DA=eA.createDefaultAppearanceStream(s),"object"===e(a)(s)&&"function"==typeof s.getKeyValueListForStream&&(o=s.getKeyValueListForStream()),s.Rect=l,s.hasAppearanceStream&&!s.appearanceStreamContent){var u=er(s);o.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(s.appearanceStreamContent){var h="";for(var c in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(c)){var d=s.appearanceStreamContent[c];if(h+="/"+c+" <<",Object.keys(d).length>=1||Array.isArray(d)){for(var n in d)if(d.hasOwnProperty(n)){var p=d[n];"function"==typeof p&&(p=p.call(r,s)),h+="/"+n+" "+p+" ",r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p)}}else"function"==typeof(p=d)&&(p=p.call(r,s)),h+="/"+n+" "+p,r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p);h+=">>"}o.push({key:"AP",value:"<<\n"+h+">>"})}r.internal.putStream({additionalKeyValues:o,objectId:s.objId}),r.internal.out("endobj")}i&&eo(r.internal.acroformPlugin.xForms,r)}(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},eu=j.__acroform__.arrayToPdfArray=function(t,r,i){var n=function(e){return e};if(Array.isArray(t)){for(var s="[",o=0;o<t.length;o++)switch(0!==o&&(s+=" "),e(a)(t[o])){case"boolean":case"number":case"object":s+=t[o].toString();break;case"string":"/"!==t[o].substr(0,1)?(void 0!==r&&i&&(n=i.internal.getEncryptor(r)),s+="("+H(n(t[o].toString()))+")"):s+=t[o].toString()}return s+"]"}throw Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},eh=function(e,t,r){var i=function(e){return e};return void 0!==t&&r&&(i=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+H(i(e))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var i=t[r],n=this[i];n&&(Array.isArray(n)?e.push({key:i,value:eu(n,this.objId,this.scope)}):n instanceof ec?(n.scope=this.scope,e.push({key:i,value:n.objId+" 0 R"})):"function"!=typeof n&&e.push({key:i,value:n}))}return e};var ed=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};V(ed,ec);var ep=function(){ec.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+H(t(e))+")"}},set:function(t){e=t}})};V(ep,ec);var ef=function e(){ec.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$(t,3)},set:function(e){!0==!!e?this.F=Q(t,3):this.F=ee(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(e){i[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(e){i[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(e){i[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(e){i[3]=e}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=e;break;default:throw Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof e_)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+H(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/U:u},set:function(e){u=e}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(e){h=e}});var c="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!c||this instanceof e_||this instanceof eO))return eh(c,this.objId,this.scope)},set:function(e){c=e=e.toString()}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof eb==!1?eh(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof eb==!1?"("===e.substr(0,1)?B(e.substr(1,e.length-2)):B(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof eb==!0?B(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof eb==!0?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof eb==!1?eh(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof eb==!1?"("===e.substr(0,1)?B(e.substr(1,e.length-2)):B(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof eb==!0?B(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof eb==!0?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(e){g=e=!!e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,1)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,1):this.Ff=ee(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,2)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,2):this.Ff=ee(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,3)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,3):this.Ff=ee(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(e){if(-1===[0,1,2].indexOf(e))throw Error('Invalid value "'+e+'" for attribute Q supplied.');m=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(m){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:m=2;break;case"center":case 1:m=1;break;default:m=0}}})};V(ef,ec);var eg=function(){ef.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eu(t,this.objId,this.scope)},set:function(e){var r;r=[],"string"==typeof e&&(r=function(e,t,r){r||(r=1);for(var i,n=[];i=t.exec(e);)n.push(i[r]);return n}(e,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,18)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,18):this.Ff=ee(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,19)},set:function(e){!0===this.combo&&(!0==!!e?this.Ff=Q(this.Ff,19):this.Ff=ee(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,20)},set:function(e){!0==!!e?(this.Ff=Q(this.Ff,20),t.sort()):this.Ff=ee(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,22)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,22):this.Ff=ee(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,23)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,23):this.Ff=ee(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,27)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,27):this.Ff=ee(this.Ff,27)}}),this.hasAppearanceStream=!1};V(eg,ef);var em=function(){eg.call(this),this.fontName="helvetica",this.combo=!1};V(em,eg);var ey=function(){em.call(this),this.combo=!0};V(ey,em);var ev=function(){ey.call(this),this.edit=!0};V(ev,ey);var eb=function(){ef.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,15)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,15):this.Ff=ee(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,16)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,16):this.Ff=ee(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,17)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,17):this.Ff=ee(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,26)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,26):this.Ff=ee(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(r).length){var t,i=[];for(t in i.push("<<"),r)i.push("/"+t+" ("+H(e(r[t]))+")");return i.push(">>"),i.join("\n")}},set:function(t){"object"===e(a)(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};V(eb,ef);var ex=function(){eb.call(this),this.pushButton=!0};V(ex,eb);var eE=function(){eb.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};V(eE,eb);var e_=function(){ef.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(e){r=e}});var t,r,i,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),n)r.push("/"+t+" ("+H(e(n[t]))+")");return r.push(">>"),r.join("\n")},set:function(t){"object"===e(a)(t)&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=eA.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};V(e_,ef),eE.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},eE.prototype.createOption=function(e){var t=new e_;return t.Parent=this,t.optionName=e,this.Kids.push(t),ew.call(this.scope,t),t};var eS=function(){eb.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=eA.CheckBox.createAppearanceStream()};V(eS,eb);var eO=function(){ef.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,13)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,13):this.Ff=ee(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,21)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,21):this.Ff=ee(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,23)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,23):this.Ff=ee(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,24)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,24):this.Ff=ee(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,25)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,25):this.Ff=ee(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,26)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,26):this.Ff=ee(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};V(eO,ef);var eR=function(){eO.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$(this.Ff,14)},set:function(e){!0==!!e?this.Ff=Q(this.Ff,14):this.Ff=ee(this.Ff,14)}}),this.password=!0};V(eR,eO);var eA={CheckBox:{createAppearanceStream:function(){return{N:{On:eA.CheckBox.YesNormal},D:{On:eA.CheckBox.YesPushDown,Off:eA.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=W(e);t.scope=e.scope;var r=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=ei(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Z(eA.internal.getWidth(e))+" "+Z(eA.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+Z(s.fontSize)+" Tf "+n),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=W(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),n=[],s=eA.internal.getHeight(e),a=eA.internal.getWidth(e),o=ei(e,e.caption);return n.push("1 g"),n.push("0 0 "+Z(a)+" "+Z(s)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Z(a-1)+" "+Z(s-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+Z(o.fontSize)+" Tf "+i),n.push(o.text),n.push("ET"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=W(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Z(eA.internal.getWidth(e))+" "+Z(eA.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:eA.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=eA.RadioButton.Circle.YesNormal,t.D[e]=eA.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=W(e);t.scope=e.scope;var r=[],i=eA.internal.getWidth(e)<=eA.internal.getHeight(e)?eA.internal.getWidth(e)/4:eA.internal.getHeight(e)/4,n=Number(((i=Number((.9*i).toFixed(5)))*eA.internal.Bezier_C).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+z(eA.internal.getWidth(e)/2)+" "+z(eA.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+n+" "+n+" "+i+" 0 "+i+" c"),r.push("-"+n+" "+i+" -"+i+" "+n+" -"+i+" 0 c"),r.push("-"+i+" -"+n+" -"+n+" -"+i+" 0 -"+i+" c"),r.push(n+" -"+i+" "+i+" -"+n+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=W(e);t.scope=e.scope;var r=[],i=eA.internal.getWidth(e)<=eA.internal.getHeight(e)?eA.internal.getWidth(e)/4:eA.internal.getHeight(e)/4,n=Number((2*(i=Number((.9*i).toFixed(5)))).toFixed(5)),s=Number((n*eA.internal.Bezier_C).toFixed(5)),a=Number((i*eA.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(eA.internal.getWidth(e)/2)+" "+z(eA.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+z(eA.internal.getWidth(e)/2)+" "+z(eA.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=W(e);t.scope=e.scope;var r=[],i=eA.internal.getWidth(e)<=eA.internal.getHeight(e)?eA.internal.getWidth(e)/4:eA.internal.getHeight(e)/4,n=Number((2*(i=Number((.9*i).toFixed(5)))).toFixed(5)),s=Number((n*eA.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+z(eA.internal.getWidth(e)/2)+" "+z(eA.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:eA.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=eA.RadioButton.Cross.YesNormal,t.D[e]=eA.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=W(e);t.scope=e.scope;var r=[],i=eA.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Z(eA.internal.getWidth(e)-2)+" "+Z(eA.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Z(i.x1.x)+" "+Z(i.x1.y)+" m"),r.push(Z(i.x2.x)+" "+Z(i.x2.y)+" l"),r.push(Z(i.x4.x)+" "+Z(i.x4.y)+" m"),r.push(Z(i.x3.x)+" "+Z(i.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=W(e);t.scope=e.scope;var r=eA.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Z(eA.internal.getWidth(e))+" "+Z(eA.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Z(eA.internal.getWidth(e)-2)+" "+Z(eA.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Z(r.x1.x)+" "+Z(r.x1.y)+" m"),i.push(Z(r.x2.x)+" "+Z(r.x2.y)+" l"),i.push(Z(r.x4.x)+" "+Z(r.x4.y)+" m"),i.push(Z(r.x3.x)+" "+Z(r.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=W(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Z(eA.internal.getWidth(e))+" "+Z(eA.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};eA.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=eA.internal.getWidth(e),r=eA.internal.getHeight(e),i=Math.min(t,r);return{x1:{x:(t-i)/2,y:(r-i)/2+i},x2:{x:(t-i)/2+i,y:(r-i)/2},x3:{x:(t-i)/2,y:(r-i)/2},x4:{x:(t-i)/2+i,y:(r-i)/2+i}}}},eA.internal.getWidth=function(t){var r=0;return"object"===e(a)(t)&&(r=Y(t.Rect[2])),r},eA.internal.getHeight=function(t){var r=0;return"object"===e(a)(t)&&(r=Y(t.Rect[3])),r};var ew=j.addField=function(e){if(el(this,e),!(e instanceof ef))throw Error("Invalid argument passed to jsPDF.addField.");return e.scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function eC(e){return e.reduce(function(e,t,r){return e[t]=r,e},{})}j.AcroFormChoiceField=eg,j.AcroFormListBox=em,j.AcroFormComboBox=ey,j.AcroFormEditBox=ev,j.AcroFormButton=eb,j.AcroFormPushButton=ex,j.AcroFormRadioButton=eE,j.AcroFormCheckBox=eS,j.AcroFormTextField=eO,j.AcroFormPasswordField=eR,j.AcroFormAppearance=eA,j.AcroForm={ChoiceField:eg,ListBox:em,ComboBox:ey,EditBox:ev,Button:eb,PushButton:ex,RadioButton:eE,CheckBox:eS,TextField:eO,PasswordField:eR,Appearance:eA},q.AcroForm={ChoiceField:eg,ListBox:em,ComboBox:ey,EditBox:ev,Button:eb,PushButton:ex,RadioButton:eE,CheckBox:eS,TextField:eO,PasswordField:eR,Appearance:eA},q.AcroForm,(ej=q.API).__addimage__={},eU="UNKNOWN",eH={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},eB=ej.__addimage__.getImageFileTypeByImageData=function(e,t){var r,i,n,s,a,o=eU;if("RGBA"===(t=t||eU)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(e7(e))for(a in eH)for(n=eH[a],r=0;r<n.length;r+=1){for(s=!0,i=0;i<n[r].length;i+=1)if(void 0!==n[r][i]&&n[r][i]!==e[i]){s=!1;break}if(!0===s){o=a;break}}else for(a in eH)for(n=eH[a],r=0;r<n.length;r+=1){for(s=!0,i=0;i<n[r].length;i+=1)if(void 0!==n[r][i]&&n[r][i]!==e.charCodeAt(i)){s=!1;break}if(!0===s){o=a;break}}return o===eU&&t!==eU&&(o=t),o},eZ=function e(t){for(var r=this.internal.write,i=this.internal.putStream,n=(0,this.internal.getFilters)();-1!==n.indexOf("FlateEncode");)n.splice(n.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===e2.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===e2.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var a="",o=0,l=t.transparency.length;o<l;o++)a+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+a+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var u=void 0!==t.filter?["/"+t.filter]:void 0;if(i({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:u,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var h="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,c={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:h,data:t.sMask};"filter"in t&&(c.filter=t.filter),e.call(this,c)}if(t.colorSpace===e2.INDEXED){var d=this.internal.newObject();i({data:te(new Uint8Array(t.palette)),objectId:d}),r("endobj")}},ez=function(){var e=this.internal.collections.addImage_images;for(var t in e)eZ.call(this,e[t])},eV=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var i in t)r("/I"+(e=t[i]).index,e.objectId,"0","R")},eY=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",ez),this.internal.events.subscribe("putXobjectDict",eV))},eW=function(){var e=this.internal.collections.addImage_images;return eY.call(this),e},eX=function(){return Object.keys(this.internal.collections.addImage_images).length},eK=function(e){return"function"==typeof ej["process"+e.toUpperCase()]},eJ=function(t){return"object"===e(a)(t)&&1===t.nodeType},e$=function(e,t){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r,i=""+e.getAttribute("src");if(0===i.indexOf("data:image/"))return f(unescape(i).split("base64,").pop());var n=ej.loadFile(i,!0);if(void 0!==n)return n}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);switch(t){case"PNG":r="image/png";break;case"WEBP":r="image/webp";break;default:r="image/jpeg"}return f(e.toDataURL(r,1).split("base64,").pop())}},eQ=function(e){var t=this.internal.collections.addImage_images;if(t){for(var r in t)if(e===t[r].alias)return t[r]}},e0=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},e1=function(e,t,r,i,n,s){var a=e0.call(this,r,i,n),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=eW.call(this);if(r=a[0],i=a[1],u[n.index]=n,s)var h=Math.cos(s*=Math.PI/180),c=Math.sin(s),d=function(e){return e.toFixed(4)},p=[d(h),d(c),d(-1*c),d(h),0,0,"cm"];this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),l(t+i),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([o(r),"0","0",o(i),"0","0","cm"].join(" "))):this.internal.write([o(r),"0","0",o(i),o(e),l(t+i),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write("1 0 0 -1 0 0 cm"),this.internal.write("/I"+n.index+" Do"),this.internal.write("Q")},e2=ej.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},ej.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},e5=ej.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},e3=ej.__addimage__.sHashCode=function(e){var t,r,i=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)i=(i<<5)-i+e.charCodeAt(t)|0;else if(e7(e))for(r=e.byteLength/2,t=0;t<r;t++)i=(i<<5)-i+e[t]|0;return i},e4=ej.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},e6=ej.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),r=null;if(2===t.length){var i=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(i)&&(r={mimeType:i[1],charset:i[2],data:t[1]})}return r},e8=ej.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},ej.__addimage__.isArrayBuffer=function(e){return e8()&&e instanceof ArrayBuffer},e7=ej.__addimage__.isArrayBufferView=function(e){return e8()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},e9=ej.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),i=0;i<t;i++)r[i]=e.charCodeAt(i);return r},te=ej.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=e7(e)?e:new Uint8Array(e),i=0;i<r.length;i+=8192)t+=String.fromCharCode.apply(null,r.subarray(i,i+8192));return t},ej.addImage=function(){if("number"==typeof arguments[1]?(r=eU,i=arguments[1],n=arguments[2],s=arguments[3],o=arguments[4],l=arguments[5],u=arguments[6],h=arguments[7]):(r=arguments[1],i=arguments[2],n=arguments[3],s=arguments[4],o=arguments[5],l=arguments[6],u=arguments[7],h=arguments[8]),"object"===e(a)(t=arguments[0])&&!eJ(t)&&"imageData"in t){var t,r,i,n,s,o,l,u,h,c=t;t=c.imageData,r=c.format||r||eU,i=c.x||i||0,n=c.y||n||0,s=c.w||c.width||s,o=c.h||c.height||o,l=c.alias||l,u=c.compression||u,h=c.rotation||c.angle||h}var d=this.internal.getFilters();if(void 0===u&&-1!==d.indexOf("FlateEncode")&&(u="SLOW"),isNaN(i)||isNaN(n))throw Error("Invalid coordinates passed to jsPDF.addImage");eY.call(this);var p=tt.call(this,t,r,l,u);return e1.call(this,i,n,s,o,p,h),this},tt=function(e,t,r,i){if("string"==typeof e&&eB(e)===eU){var n,s,a,o,l,u=tr(e=unescape(e),!1);(""!==u||void 0!==(u=ej.loadFile(e,!0)))&&(e=u)}if(eJ(e)&&(e=e$(e,t)),!eK(t=eB(e,t)))throw Error("addImage does not support files of type '"+t+"', please ensure that a plugin for '"+t+"' support is added.");if((null==(a=r)||0===a.length)&&(r="string"==typeof(o=e)||e7(o)?e3(o):e7(o.data)?e3(o.data):null),(n=eQ.call(this,r))||(e8()&&(e instanceof Uint8Array||"RGBA"===t||(s=e,e=e9(e))),n=this["process"+t.toUpperCase()](e,eX.call(this),r,((l=i)&&"string"==typeof l&&(l=l.toUpperCase()),l in ej.image_compression?l:e5.NONE),s)),!n)throw Error("An unknown error occurred whilst processing the image.");return n},tr=ej.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var r,i,n="";if("string"==typeof e){i=null!==(r=e6(e))?r.data:e;try{n=f(i)}catch(e){if(t)throw e4(i)?Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return n},ej.getImageProperties=function(e){var t,r,i="";if(eJ(e)&&(e=e$(e)),"string"==typeof e&&eB(e)===eU&&(""===(i=tr(e,!1))&&(i=ej.loadFile(e)||""),e=i),!eK(r=eB(e)))throw Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(!e8()||e instanceof Uint8Array||(e=e9(e)),!(t=this["process"+r.toUpperCase()](e)))throw Error("An unknown error occurred whilst processing the image");return t.fileType=r,t},ti=q.API,tn=function(e){if(void 0!==e&&""!=e)return!0},q.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),ti.events.push(["putPage",function(e){for(var t,r,i,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),o=e.pageContext.annotations,l=!1,u=0;u<o.length&&!l;u++)switch((t=o[u]).type){case"link":(tn(t.options.url)||tn(t.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var h=0;h<o.length;h++){t=o[h];var c=this.internal.pdfEscape,d=this.internal.getEncryptor(e.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),m=t.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+n(t.bounds.x)+" "+s(t.bounds.y+t.bounds.h)+" "+n(t.bounds.x+t.bounds.w)+" "+s(t.bounds.y)+"] ")+"/Contents ("+c(g(t.contents))+") /Popup "+f.objId+" 0 R /P "+a.objId+" 0 R /T ("+c(g(m))+") >>",p.content=i;var y=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+n(t.bounds.x+30)+" "+s(t.bounds.y+t.bounds.h)+" "+n(t.bounds.x+t.bounds.w+30)+" "+s(t.bounds.y)+"] ")+" /Parent "+y,t.open&&(i+=" /Open true"),i+=" >>",f.content=i,this.internal.write(p.objId,"0 R",f.objId,"0 R");break;case"freetext":r="/Rect ["+n(t.bounds.x)+" "+s(t.bounds.y)+" "+n(t.bounds.x+t.bounds.w)+" "+s(t.bounds.y+t.bounds.h)+"] ";var v=t.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+c(d(t.contents))+") /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+") /Border [0 0 0] >>",this.internal.write(i);break;case"link":if(t.options.name){var b=this.annotations._nameMap[t.options.name];t.options.pageNumber=b.page,t.options.top=b.y}else t.options.top||(t.options.top=0);if(r="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",i="",t.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+c(d(t.options.url))+") >>";else if(t.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,i+=" /FitV "+t.options.left+"]";break;default:var x=s(t.options.top);t.options.left=t.options.left||0,void 0===t.options.zoom&&(t.options.zoom=0),i+=" /XYZ "+t.options.left+" "+x+" "+t.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),ti.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},ti.link=function(e,t,r,i,n){var s=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:a(e),y:o(t),w:a(e+r),h:o(t+i)},options:n,type:"link"})},ti.textWithLink=function(e,t,r,i){var n,s,a=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;return void 0!==i.maxWidth?(s=i.maxWidth,n=Math.ceil(o*this.splitTextToSize(e,s).length)):(s=a,n=o),this.text(e,t,r,i),r+=.2*o,"center"===i.align&&(t-=a/2),"right"===i.align&&(t-=a),this.link(t,r-o,s,n,i),a},ti.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},a=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return a(e)&&n.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return a(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return a(e)&&s(e)&&4==t[e.charCodeAt(0)].length},c=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=r,n="",s=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(s++,"number"==typeof(i=i[e.charCodeAt(t)])&&(n+=String.fromCharCode(i),i=r,s=0),t===e.length-1&&(i=r,n+=e.charAt(t-(s-1)),t-=s-1,s=0)):(i=r,n+=e.charAt(t-s),t-=s,s=0);return n};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,r){return a(e)?!1===s(e)?-1:!u(e)||!a(t)&&!a(r)||!a(r)&&o(t)||o(e)&&!a(t)||o(e)&&l(t)||o(e)&&o(t)?0:h(e)&&a(t)&&!o(t)&&a(r)&&u(r)?3:o(e)||!a(r)?1:2:-1},p=function(e){var r=0,i=0,n=0,s="",o="",l="",u=(e=e||"").split("\\s+"),h=[];for(r=0;r<u.length;r+=1){for(h.push(""),i=0;i<u[r].length;i+=1)s=u[r][i],o=u[r][i-1],l=u[r][i+1],a(s)?(n=d(s,o,l),h[r]+=-1!==n?String.fromCharCode(t[s.charCodeAt(0)][n]):s):h[r]+=s;h[r]=c(h[r])}return h.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var i=0;for(r=[],i=0;i<t.length;i+=1)Array.isArray(t[i])?r.push([p(t[i][0]),t[i][1],t[i][2]]):r.push([p(t[i])]);e=r}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(q.API),q.API.autoPrint=function(e){var t;return((e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},ts=q.API,(ta=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var n={};Object.defineProperty(this,"style",{get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"parentNode",{})}).prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},ta.prototype.toDataURL=function(){throw Error("toDataURL is not implemented.")},ts.events.push(["initialized",function(){this.canvas=new ta,this.canvas.pdf=this}]),to=q.API,tl={left:0,top:0,bottom:0,right:0},tu=!1,th=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},tl),this.internal.__cell__.margins.width=this.getPageWidth(),tc.call(this))},tc=function(){this.internal.__cell__.lastCell=new td,this.internal.__cell__.pages=1},(td=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var n=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var a=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return a},set:function(e){a=e}}),this}).prototype.clone=function(){return new td(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},td.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},to.setHeaderFunction=function(e){return th.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},to.getTextDimensions=function(e,t){th.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),n=t.scaleFactor||this.internal.scaleFactor,s=0,a=0,o=0,l=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(l.splitTextToSize(t,u))},[])):e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)s<(o=this.getStringUnitWidth(e[h],{font:i})*r)&&(s=o);return 0!==s&&(a=e.length),{w:s/=n,h:Math.max((a*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/n,0)}},to.cellAddPage=function(){th.call(this),this.addPage();var e=this.internal.__cell__.margins||tl;return this.internal.__cell__.lastCell=new td(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this},tp=to.cell=function(){e=arguments[0]instanceof td?arguments[0]:new td(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),th.call(this);var e,t=this.internal.__cell__.lastCell,r=this.internal.__cell__.padding,i=this.internal.__cell__.margins||tl,n=this.internal.__cell__.tableHeaderRow,s=this.internal.__cell__.printHeaders;return void 0!==t.lineNumber&&(t.lineNumber===e.lineNumber?(e.x=(t.x||0)+(t.width||0),e.y=t.y||0):t.y+t.height+e.height+i.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=i.top,s&&n&&(this.printHeaderRow(e.lineNumber,!0),e.y+=n[0].height)):e.y=t.y+t.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===tu?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-r,e.y+r,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+r,{align:"center",baseline:"top",maxWidth:e.width-r-r}):this.text(e.text,e.x+r,e.y+r,{align:"left",baseline:"top",maxWidth:e.width-r-r})),this.internal.__cell__.lastCell=e,this},to.table=function(t,r,i,n,s){if(th.call(this),!i)throw Error("No data for PDF table.");var o,l,u,h,c=[],d=[],p=[],f={},g={},m=[],y=[],v=(s=s||{}).autoSize||!1,b=!1!==s.printHeaders,x=s.css&&void 0!==s.css["font-size"]?16*s.css["font-size"]:s.fontSize||12,E=s.margins||Object.assign({width:this.getPageWidth()},tl),_="number"==typeof s.padding?s.padding:3,S=s.headerBackgroundColor||"#c8c8c8",O=s.headerTextColor||"#000";if(tc.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=x,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=S,this.internal.__cell__.headerTextColor=O,this.setFontSize(x),null==n)d=c=Object.keys(i[0]),p=c.map(function(){return"left"});else if(Array.isArray(n)&&"object"===e(a)(n[0]))for(c=n.map(function(e){return e.name}),d=n.map(function(e){return e.prompt||e.name||""}),p=n.map(function(e){return e.align||"left"}),o=0;o<n.length;o+=1)g[n[o].name]=n[o].width*(19.049976/25.4);else Array.isArray(n)&&"string"==typeof n[0]&&(d=c=n,p=c.map(function(){return"left"}));if(v||Array.isArray(n)&&"string"==typeof n[0])for(o=0;o<c.length;o+=1){for(f[h=c[o]]=i.map(function(e){return e[h]}),this.setFont(void 0,"bold"),m.push(this.getTextDimensions(d[o],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),l=f[h],this.setFont(void 0,"normal"),u=0;u<l.length;u+=1)m.push(this.getTextDimensions(l[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);g[h]=Math.max.apply(null,m)+_+_,m=[]}if(b){var R={};for(o=0;o<c.length;o+=1)R[c[o]]={},R[c[o]].text=d[o],R[c[o]].align=p[o];var A=tf.call(this,R,g);y=c.map(function(e){return new td(t,r,g[e],A,R[e].text,void 0,R[e].align)}),this.setTableHeaderRow(y),this.printHeaderRow(1,!1)}var w=n.reduce(function(e,t){return e[t.name]=t.align,e},{});for(o=0;o<i.length;o+=1){"rowStart"in s&&s.rowStart instanceof Function&&s.rowStart({row:o,data:i[o]},this);var C=tf.call(this,i[o],g);for(u=0;u<c.length;u+=1){var T=i[o][c[u]];"cellStart"in s&&s.cellStart instanceof Function&&s.cellStart({row:o,col:u,data:T},this),tp.call(this,new td(t,r,g[c[u]],C,T,o+2,w[c[u]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=r,this},tf=function(e,t){var r=this.internal.__cell__.padding,i=this.internal.__cell__.table_font_size,n=this.internal.scaleFactor;return Object.keys(e).map(function(i){var n=e[i];return this.splitTextToSize(n.hasOwnProperty("text")?n.text:n,t[i]-r-r)},this).map(function(e){return this.getLineHeightFactor()*e.length*i/n+r+r},this).reduce(function(e,t){return Math.max(e,t)},0)},to.setTableHeaderRow=function(e){th.call(this),this.internal.__cell__.tableHeaderRow=e},to.printHeaderRow=function(e,t){if(th.call(this),!this.internal.__cell__.tableHeaderRow)throw Error("Property tableHeaderRow does not exist.");if(tu=!0,"function"==typeof this.internal.__cell__.headerFunction){var r,i=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new td(i[0],i[1],i[2],i[3],void 0,-1)}this.setFont(void 0,"bold");for(var n=[],s=0;s<this.internal.__cell__.tableHeaderRow.length;s+=1){r=this.internal.__cell__.tableHeaderRow[s].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,n.push(r)),r.lineNumber=e;var a=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),tp.call(this,r),this.setTextColor(a)}n.length>0&&this.setTableHeaderRow(n),this.setFont(void 0,"normal"),tu=!1};var eT={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},eL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],eP=eC(eL),eI=[100,200,300,400,500,600,700,800,900],eM=eC(eI);function eN(e){var t,r,i,n=e.family.replace(/"|'/g,"").toLowerCase(),s=eT[r=(r=e.style)||"normal"]?r:"normal",a=(t=e.weight)?"number"==typeof t?t>=100&&t<=900&&t%100==0?t:400:/^\d00$/.test(t)?parseInt(t):"bold"===t?700:400:400,o="number"==typeof eP[i=(i=e.stretch)||"normal"]?i:"normal";return{family:n,style:s,weight:a,stretch:o,src:e.src||[],ref:e.ref||{name:n,style:[o,s,a].join(" ")}}}function eG(e,t,r,i){var n;for(n=r;n>=0&&n<t.length;n+=i)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=i)if(e[t[n]])return e[t[n]]}var ek={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},eD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function eq(e){return e.trimLeft()}var ej,eU,eH,eB,eZ,ez,eV,eY,eW,eX,eK,eJ,e$,eQ,e0,e1,e2,e5,e3,e4,e6,e8,e7,e9,te,tt,tr,ti,tn,ts,ta,to,tl,tu,th,tc,td,tp,tf,tg,tm,ty,tv=["times"];(function(t){var r,i,n,s,o,l,u,c,d,p=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new l,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new l,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),r=this.internal.f2,i=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,d=new p}]);var f=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return e}});var t=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return t},set:function(e){t=!!e}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=!!e}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var n=0;Object.defineProperty(this,"posY",{get:function(){return n},set:function(e){isNaN(e)||(n=e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=[,,,,])[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),d.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var o=[];Object.defineProperty(this,"pageBreaks",{get:function(){return o},set:function(e){o=e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(e){e instanceof p&&(d=e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(e){d.path=e}});var l=[];Object.defineProperty(this,"ctxStack",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=g(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=g(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var u=null,h=null;Object.defineProperty(this,"fontFaces",{get:function(){return h},set:function(e){u=null,h=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var r=t[1],i=(t[2],t[3]),n=t[4],s=(t[5],t[6]),a=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(n)[2];n="px"===a?Math.floor(parseFloat(n)*this.pdf.internal.scaleFactor):"em"===a?Math.floor(parseFloat(n)*this.pdf.getFontSize()):Math.floor(parseFloat(n)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(n);var o=function(e){var t,r,i=[],n=e.trim();if(""===n)return tv;if(n in eD)return[eD[n]];for(;""!==n;){switch(r=null,t=(n=eq(n)).charAt(0)){case'"':case"'":r=function(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}(n.substring(1),t);break;default:r=function(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}(n)}if(null===r||(i.push(r[0]),""!==(n=eq(r[1]))&&","!==n.charAt(0)))return tv;n=n.replace(/^,/,"")}return i}(s);if(this.fontFaces){var l=function(e,t,r){for(var i=(r=r||{}).defaultFontFamily||"times",n=Object.assign({},ek,r.genericFontFamilies||{}),s=null,a=null,o=0;o<t.length;++o)if(n[(s=eN(t[o])).family]&&(s.family=n[s.family]),e.hasOwnProperty(s.family)){a=e[s.family];break}if(!(a=a||e[i]))throw Error("Could not find a font-family for the rule '"+eF(s)+"' and default family '"+i+"'.");if(a=function(e,t){if(t[e])return t[e];var r=eP[e],i=r<=eP.normal?-1:1,n=eG(t,eL,r,i);if(!n)throw Error("Could not find a matching font-stretch value for "+e);return n}(s.stretch,a),a=function(e,t){if(t[e])return t[e];for(var r=eT[e],i=0;i<r.length;++i)if(t[r[i]])return t[r[i]];throw Error("Could not find a matching font-style for "+e)}(s.style,a),!(a=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=eG(t,eI,eM[e],e<400?-1:1);if(!r)throw Error("Could not find a matching font-weight for value "+e);return r}(s.weight,a)))throw Error("Failed to resolve a font for the rule '"+eF(s)+"'.");return a}(function(e,t){if(null===u){var r,i;u=function(e){for(var t={},r=0;r<e.length;++r){var i=eN(e[r]),n=i.family,s=i.stretch,a=i.style,o=i.weight;t[n]=t[n]||{},t[n][s]=t[n][s]||{},t[n][s][a]=t[n][s][a]||{},t[n][s][a][o]=i}return t}((r=e.getFontList(),i=[],Object.keys(r).forEach(function(e){r[e].forEach(function(t){var r=null;switch(t){case"bold":r={family:e,weight:"bold"};break;case"italic":r={family:e,style:"italic"};break;case"bolditalic":r={family:e,weight:"bold",style:"italic"};break;case"":case"normal":r={family:e}}null!==r&&(r.ref={name:e,style:t},i.push(r))})}),i).concat(t))}return u}(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:i,style:r}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var h="";("bold"===i||parseInt(i,10)>=700||"bold"===r)&&(h="bold"),"italic"===r&&(h+="italic"),0===h.length&&(h="normal");for(var c="",d={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},p=0;p<o.length;p++){if(void 0!==this.pdf.internal.getFont(o[p],h,{noFallback:!0,disableWarning:!0})){c=o[p];break}if("bolditalic"===h&&void 0!==this.pdf.internal.getFont(o[p],"bold",{noFallback:!0,disableWarning:!0}))c=o[p],h="bold";else if(void 0!==this.pdf.internal.getFont(o[p],"normal",{noFallback:!0,disableWarning:!0})){c=o[p],h="normal";break}}if(""===c){for(var f=0;f<o.length;f++)if(d[o[f]]){c=d[o[f]];break}}c=""===c?"Times":c,this.pdf.setFont(c,h)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,U.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,U.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=!!e}})};f.prototype.setLineDash=function(e){this.lineDash=e},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){O.call(this,"fill",!1)},f.prototype.stroke=function(){O.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw h.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new l(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new l(e,t)},f.prototype.closePath=function(){var t=new l(0,0),r=0;for(r=this.path.length-1;-1!==r;r--)if("begin"===this.path[r].type&&"object"===e(a)(this.path[r+1])&&"number"==typeof this.path[r+1].x){t=new l(this.path[r+1].x,this.path[r+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(t.x,t.y)},f.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw h.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new l(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new l(r.x,r.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},f.prototype.quadraticCurveTo=function(e,t,r,i){if(isNaN(r)||isNaN(i)||isNaN(e)||isNaN(t))throw h.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var n=this.ctx.transform.applyToPoint(new l(r,i)),s=this.ctx.transform.applyToPoint(new l(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:n.x,y:n.y}),this.ctx.lastPoint=new l(n.x,n.y)},f.prototype.bezierCurveTo=function(e,t,r,i,n,s){if(isNaN(n)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw h.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new l(n,s)),o=this.ctx.transform.applyToPoint(new l(e,t)),u=this.ctx.transform.applyToPoint(new l(r,i));this.path.push({type:"bct",x1:o.x,y1:o.y,x2:u.x,y2:u.y,x:a.x,y:a.y}),this.ctx.lastPoint=new l(a.x,a.y)},f.prototype.arc=function(e,t,r,i,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(n))throw h.error("jsPDF.context2d.arc: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=!!s,!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new l(e,t));e=a.x,t=a.y;var o=this.ctx.transform.applyToPoint(new l(0,r)),u=this.ctx.transform.applyToPoint(new l(0,0));r=Math.sqrt(Math.pow(o.x-u.x,2)+Math.pow(o.y-u.y,2))}Math.abs(n-i)>=2*Math.PI&&(i=0,n=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:i,endAngle:n,counterclockwise:s})},f.prototype.arcTo=function(e,t,r,i,n){throw Error("arcTo not implemented.")},f.prototype.rect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw h.error("jsPDF.context2d.rect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},f.prototype.fillRect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw h.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var n={};"butt"!==this.lineCap&&(n.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(n.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,i),this.fill(),n.hasOwnProperty("lineCap")&&(this.lineCap=n.lineCap),n.hasOwnProperty("lineJoin")&&(this.lineJoin=n.lineJoin)}},f.prototype.strokeRect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw h.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(e,t,r,i),this.stroke())},f.prototype.clearRect=function(e,t,r,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i))throw h.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,i))},f.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},f.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw Error("toDataUrl not implemented.")};var g=function(e){var t,r,i,n;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,i=0,n=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),r=parseInt(s[2]),i=parseInt(s[3]),n=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),r=parseInt(s[2]),i=parseInt(s[3]),n=parseFloat(s[4]);else{if(n=1,"string"==typeof e&&"#"!==e.charAt(0)){var a=new y(e);e=a.ok?a.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,i=e.substring(3,4),i+=i):(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),i=parseInt(i,16)}}return{r:t,g:r,b:i,a:n,style:e}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},v=function(){return!!(this.ctx.isStrokeTransparent||0==this.globalAlpha)};f.prototype.fillText=function(e,t,r,i){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw h.error("jsPDF.context2d.fillText: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!m.call(this)){var n=F(this.ctx.transform.rotation);I.call(this,{text:e,x:t,y:r,scale:this.ctx.transform.scaleX,angle:n,align:this.textAlign,maxWidth:i})}},f.prototype.strokeText=function(e,t,r,i){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw h.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){i=isNaN(i)?void 0:i;var n=F(this.ctx.transform.rotation);I.call(this,{text:e,x:t,y:r,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:n,align:this.textAlign,maxWidth:i})}},f.prototype.measureText=function(e){if("string"!=typeof e)throw h.error("jsPDF.context2d.measureText: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),n=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:n*=Math.round(96*r/72*1e4)/1e4})},f.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw h.error("jsPDF.context2d.scale: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},f.prototype.rotate=function(e){if(isNaN(e))throw h.error("jsPDF.context2d.rotate: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},f.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw h.error("jsPDF.context2d.translate: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},f.prototype.transform=function(e,t,r,i,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(i)||isNaN(n)||isNaN(s))throw h.error("jsPDF.context2d.transform: Invalid arguments",arguments),Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new c(e,t,r,i,n,s);this.ctx.transform=this.ctx.transform.multiply(a)},f.prototype.setTransform=function(e,t,r,i,n,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,i=isNaN(i)?1:i,n=isNaN(n)?0:n,s=isNaN(s)?0:s,this.ctx.transform=new c(e,t,r,i,n,s)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(e,t,r,i,n,s,a,o,l){var h=this.pdf.getImageProperties(e),d=1,p=1,f=1,g=1;void 0!==i&&void 0!==o&&(f=o/i,g=l/n,d=h.width/i*o/i,p=h.height/n*l/n),void 0===s&&(s=t,a=r,t=0,r=0),void 0!==i&&void 0===o&&(o=i,l=n),void 0===i&&void 0===o&&(o=h.width,l=h.height);for(var m,y=this.ctx.transform.decompose(),v=F(y.rotate.shx),E=new c,O=(E=(E=(E=E.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToRectangle(new u(s-t*f,a-r*g,i*d,n*p)),A=x.call(this,O),w=[],C=0;C<A.length;C+=1)-1===w.indexOf(A[C])&&w.push(A[C]);if(S(w),this.autoPaging)for(var T=w[0],L=w[w.length-1],P=T;P<L+1;P++){this.pdf.setPage(P);var I=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],M=1===P?this.posY+this.margin[0]:this.margin[0],N=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],G=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],k=1===P?0:N+(P-2)*G;if(0!==this.ctx.clip_path.length){var D=this.path;m=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(m,this.posX+this.margin[3],-k+M+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=D}var q=JSON.parse(JSON.stringify(O));q=_([q],this.posX+this.margin[3],-k+M+this.ctx.prevPageLastElemOffset)[0];var j=(P>T||P<L)&&b.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,G,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",q.x,q.y,q.w,q.h,null,null,v),j&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",O.x,O.y,O.w,O.h,null,null,v)};var x=function(e,t,r){var i=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var n=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+n)/r)+1);break;case"arc":i.push(Math.floor((e.y+n-e.radius)/r)+1),i.push(Math.floor((e.y+n+e.radius)/r)+1);break;case"qct":var s=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor((s.y+n)/r)+1),i.push(Math.floor((s.y+s.h+n)/r)+1);break;case"bct":var a=j(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor((a.y+n)/r)+1),i.push(Math.floor((a.y+a.h+n)/r)+1);break;case"rect":i.push(Math.floor((e.y+n)/r)+1),i.push(Math.floor((e.y+e.h+n)/r)+1)}for(var o=0;o<i.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<i[o];)E.call(this);return i},E=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,i=this.lineCap,n=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=i,this.lineWidth=n,this.lineJoin=s},_=function(e,t,r){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=r;case"qct":e[i].x1+=t,e[i].y1+=r;default:e[i].x+=t,e[i].y+=r}return e},S=function(e){return e.sort(function(e,t){return e-t})},O=function(e,t){for(var r,i,n=this.fillStyle,s=this.strokeStyle,a=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),u=this.lineJoin,h=JSON.parse(JSON.stringify(this.path)),c=JSON.parse(JSON.stringify(this.path)),d=[],p=0;p<c.length;p++)if(void 0!==c[p].x)for(var f=x.call(this,c[p]),g=0;g<f.length;g+=1)-1===d.indexOf(f[g])&&d.push(f[g]);for(var m=0;m<d.length;m++)for(;this.pdf.internal.getNumberOfPages()<d[m];)E.call(this);if(S(d),this.autoPaging)for(var y=d[0],v=d[d.length-1],O=y;O<v+1;O++){this.pdf.setPage(O),this.fillStyle=n,this.strokeStyle=s,this.lineCap=a,this.lineWidth=l,this.lineJoin=u;var A=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],w=1===O?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],L=1===O?0:C+(O-2)*T;if(0!==this.ctx.clip_path.length){var P=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(r,this.posX+this.margin[3],-L+w+this.ctx.prevPageLastElemOffset),R.call(this,e,!0),this.path=P}if(i=JSON.parse(JSON.stringify(h)),this.path=_(i,this.posX+this.margin[3],-L+w+this.ctx.prevPageLastElemOffset),!1===t||0===O){var I=(O>y||O<v)&&b.call(this);I&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],A,T,null).clip().discardPath()),R.call(this,e,t),I&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,R.call(this,e,t),this.lineWidth=o;this.path=h},R=function(e,t){if(("stroke"!==e||t||!v.call(this))&&("stroke"===e||t||!m.call(this))){for(var r,i,n=[],s=this.path,a=0;a<s.length;a++){var o=s[a];switch(o.type){case"begin":n.push({begin:!0});break;case"close":n.push({close:!0});break;case"mt":n.push({start:o,deltas:[],abs:[]});break;case"lt":var l=n.length;if(s[a-1]&&!isNaN(s[a-1].x)&&(r=[o.x-s[a-1].x,o.y-s[a-1].y],l>0)){for(;l>=0;l--)if(!0!==n[l-1].close&&!0!==n[l-1].begin){n[l-1].deltas.push(r),n[l-1].abs.push(o);break}}break;case"bct":r=[o.x1-s[a-1].x,o.y1-s[a-1].y,o.x2-s[a-1].x,o.y2-s[a-1].y,o.x-s[a-1].x,o.y-s[a-1].y],n[n.length-1].deltas.push(r);break;case"qct":var u=s[a-1].x+2/3*(o.x1-s[a-1].x),h=s[a-1].y+2/3*(o.y1-s[a-1].y),c=o.x+2/3*(o.x1-o.x),d=o.y+2/3*(o.y1-o.y),p=o.x,f=o.y;r=[u-s[a-1].x,h-s[a-1].y,c-s[a-1].x,d-s[a-1].y,p-s[a-1].x,f-s[a-1].y],n[n.length-1].deltas.push(r);break;case"arc":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(o)}}i=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,y=0;y<n.length;y++)if(n[y].arc)for(var b=n[y].abs,x=0;x<b.length;x++){var E=b[x];"arc"===E.type?C.call(this,E.x,E.y,E.radius,E.startAngle,E.endAngle,E.counterclockwise,void 0,t,!g):M.call(this,E.x,E.y),g=!0}else if(!0===n[y].close)this.pdf.internal.out("h"),g=!1;else if(!0!==n[y].begin){var _=n[y].start.x,S=n[y].start.y;N.call(this,n[y].deltas,_,S),g=!0}i&&T.call(this,i),t&&L.call(this)}},A=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},w=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(e,t,r,i,n,s,a,o,l){for(var u=k.call(this,r,i,n,s),h=0;h<u.length;h++){var c=u[h];0===h&&(l?P.call(this,c.x1+e,c.y1+t):M.call(this,c.x1+e,c.y1+t)),G.call(this,e,t,c.x2,c.y2,c.x3,c.y3,c.x4,c.y4)}o?L.call(this):T.call(this,a)},T=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(e,t){this.pdf.internal.out(i(e)+" "+n(t)+" m")},I=function(e){switch(e.align){case"right":case"end":o="right";break;case"center":o="center";break;default:o="left"}var t=this.pdf.getTextDimensions(e.text),r=A.call(this,e.y),i=w.call(this,r)-t.h,n=this.ctx.transform.applyToPoint(new l(e.x,r)),s=this.ctx.transform.decompose(),a=new c;a=(a=(a=a.multiply(s.translate)).multiply(s.skew)).multiply(s.scale);for(var o,h,d,p,f=this.ctx.transform.applyToRectangle(new u(e.x,r,t.w,t.h)),g=a.applyToRectangle(new u(e.x,i,t.w,t.h)),m=x.call(this,g),y=[],v=0;v<m.length;v+=1)-1===y.indexOf(m[v])&&y.push(m[v]);if(S(y),this.autoPaging)for(var E=y[0],O=y[y.length-1],C=E;C<O+1;C++){this.pdf.setPage(C);var T=1===C?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[2],I=P-this.margin[0],M=this.pdf.internal.pageSize.width-this.margin[1],N=M-this.margin[3],G=1===C?0:L+(C-2)*I;if(0!==this.ctx.clip_path.length){var k=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(h,this.posX+this.margin[3],-1*G+T),R.call(this,"fill",!0),this.path=k}var D=_([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-G+T+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var F="text"!==this.autoPaging;if(F||D.y+D.h<=P){if(F||D.y>=T&&D.x<=M){var q=F?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||M-D.x)[0],j=_([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-G+T+this.ctx.prevPageLastElemOffset)[0],U=F&&(C>E||C<O)&&b.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],N,I,null).clip().discardPath()),this.pdf.text(q,j.x,j.y,{angle:e.angle,align:o,renderingMode:e.renderingMode}),U&&this.pdf.restoreGraphicsState()}}else D.y<P&&(this.ctx.prevPageLastElemOffset+=P-D.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=p)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,n.x+this.posX,n.y+this.posY,{angle:e.angle,align:o,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=p)},M=function(e,t,r,s){r=r||0,s=s||0,this.pdf.internal.out(i(e+r)+" "+n(t+s)+" l")},N=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},G=function(e,t,i,n,a,l,u,h){this.pdf.internal.out([r(s(i+e)),r(o(n+t)),r(s(a+e)),r(o(l+t)),r(s(u+e)),r(o(h+t)),"c"].join(" "))},k=function(e,t,r,i){for(var n=2*Math.PI,s=Math.PI/2;t>r;)t-=n;var a=Math.abs(r-t);a<n&&i&&(a=n-a);for(var o=[],l=i?-1:1,u=t;a>1e-5;){var h=u+l*Math.min(a,s);o.push(D.call(this,e,u,h)),a-=Math.abs(h-u),u=h}return o},D=function(e,t,r){var i=(r-t)/2,n=e*Math.cos(i),s=e*Math.sin(i),a=-s,o=n*n+a*a,l=o+n*n+a*s,u=4/3*(Math.sqrt(2*o*l)-l)/(n*s-a*n),h=n-u*a,c=a+u*n,d=-c,p=i+t,f=Math.cos(p),g=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*f-c*g,y2:h*g+c*f,x3:h*f-d*g,y3:h*g+d*f,x4:e*Math.cos(r),y4:e*Math.sin(r)}},F=function(e){return 180*e/Math.PI},q=function(e,t,r,i,n,s){var a=e+.5*(r-e),o=t+.5*(i-t),l=n+.5*(r-n),h=s+.5*(i-s),c=Math.min(e,n,a,l),d=Math.min(t,s,o,h);return new u(c,d,Math.max(e,n,a,l)-c,Math.max(t,s,o,h)-d)},j=function(e,t,r,i,n,s,a,o){var l,h,c,d,p,f,g,m,y,v,b,x,E,_,S=r-e,O=i-t,R=n-r,A=s-i,w=a-n,C=o-s;for(h=0;h<41;h++)y=(g=(c=e+(l=h/40)*S)+l*((p=r+l*R)-c))+l*(p+l*(n+l*w-p)-g),v=(m=(d=t+l*O)+l*((f=i+l*A)-d))+l*(f+l*(s+l*C-f)-m),0==h?(b=y,x=v,E=y,_=v):(b=Math.min(b,y),x=Math.min(x,v),E=Math.max(E,y),_=Math.max(_,v));return new u(Math.round(b),Math.round(x),Math.round(E-b),Math.round(_-x))},U=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==e&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=e)}}})(q.API),tb=q.API,tx=function(e){var t,r,i,n,s,a,o,l,u,h;for(/[^\x00-\xFF]/.test(e),r=[],i=0,n=(e+=t="\x00\x00\x00\x00".slice(e.length%4||4)).length;n>i;i+=4)0!==(s=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(a=(s=((s=((s=((s=(s-(h=s%85))/85)-(u=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,r.push(a+33,o+33,l+33,u+33,h+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},tE=function(e){var t,r,i,n,s,a=String,o="length",l="charCodeAt",u="slice",h="replace";for(e[u](-2),e=e[u](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),i=[],n=0,s=(e+=t="uuuuu"[u](e[o]%5||5))[o];s>n;n+=5)r=52200625*(e[l](n)-33)+614125*(e[l](n+1)-33)+7225*(e[l](n+2)-33)+85*(e[l](n+3)-33)+(e[l](n+4)-33),i.push(255&r>>24,255&r>>16,255&r>>8,255&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(i,t[o]),a.fromCharCode.apply(a,i)},t_=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",i=0;i<e.length;i+=2)r+=String.fromCharCode("0x"+(e[i]+e[i+1]));return r},tS=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return e=(t=(0,o.zlibSync)(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")},tb.processDataByFilters=function(e,t){var r=0,i=e||"",n=[];for("string"==typeof(t=t||[])&&(t=[t]),r=0;r<t.length;r+=1)switch(t[r]){case"ASCII85Decode":case"/ASCII85Decode":i=tE(i),n.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=tx(i),n.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=t_(i),n.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=i.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",n.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=tS(i),n.push("/FlateDecode");break;default:throw Error('The filter: "'+t[r]+'" is not implemented')}return{data:i,reverseChain:n.reverse().join(" ")}},(tO=q.API).loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var i=void 0;try{i=function(e,t,r){var i=new XMLHttpRequest,n=0,s=function(e){var t=e.length,r=[],i=String.fromCharCode;for(n=0;n<t;n+=1)r.push(i(255&e.charCodeAt(n)));return r.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){200===i.status?r(s(this.responseText)):r(void 0)}),i.send(null),t&&200===i.status)return s(i.responseText)}(e,t,r)}catch(e){}return i}(e,t,r)},tO.loadImageFile=tO.loadFile,function(t){function r(){return(l.html2canvas?Promise.resolve(l.html2canvas):s("dNJ6r")).catch(function(e){return Promise.reject(Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function i(){return(l.DOMPurify?Promise.resolve(l.DOMPurify):s("cusDh")).catch(function(e){return Promise.reject(Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var n=function(t){var r=e(a)(t);return"undefined"===r?"undefined":"string"===r||t instanceof String?"string":"number"===r||t instanceof Number?"number":"function"===r||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===r?"object":"unknown"},o=function(e,t){var r=document.createElement(e);for(var i in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[i]=t.style[i];return r},u=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),r);return(i=i.setProgress(1,e,1,[e])).set(t)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(e,t){return e.__proto__=t||u.prototype,e},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(n(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(i).then(function(t){return this.set({src:o("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},u.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,r){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),n=t.firstChild;n;n=n.nextSibling)!0!==r&&1===n.nodeType&&"SCRIPT"===n.nodeName||i.appendChild(e(n,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft},!0)),i}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(r).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(r).then(function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,i=Object.assign({async:!0,allowTaint:!0,scale:"number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var n=0;n<r.length;++n){var s=r[n],a=s.src.find(function(e){return"truetype"===e.format});a&&t.addFont(a.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},u.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},u.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},u.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(e){if("object"!==n(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in u.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},u.prototype.get=function(e,t){return this.then(function(){var r=e in u.template.prop?this.prop[e]:this.opt[e];return t?t(r):r})},u.prototype.setMargin=function(e){return this.then(function(){switch(n(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},u.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||q.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},u.prototype.setProgress=function(e,t,r,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(e,t,r,i){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,i?this.progress.stack.concat(i):null)},u.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return r.updateProgress(null,e),t}).then(e,t).then(function(e){return r.updateProgress(1),e})})},u.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:u.convert(Object.assign({},this),Promise.prototype),n=r.call(i,e,t);return u.convert(n,this.__proto__)},u.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},u.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},u.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return u.convert(t,this)},u.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},u.prototype.error=function(e){return this.then(function(){throw Error(e)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,q.getPageSize=function(t,r,i){if("object"===e(a)(t)){var n=t;t=n.orientation,r=n.unit||r,i=n.format||i}r=r||"mm",i=i||"a4",t=(""+(t||"P")).toLowerCase();var s,o=(""+i).toLowerCase(),l={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(r){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+r}var u,h=0,c=0;if(l.hasOwnProperty(o))h=l[o][1]/s,c=l[o][0]/s;else try{h=i[1],c=i[0]}catch(e){throw Error("Invalid format: "+i)}if("p"===t||"portrait"===t)t="p",c>h&&(u=c,c=h,h=u);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",h>c&&(u=c,c=h,h=u)}return{width:c,height:h,unit:r,k:s,orientation:t}},t.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(eN):null;var r=new u(t);return t.worker?r:r.from(e).doCallback()}}(q.API),q.API.addJS=function(e){return ty=e,this.internal.events.subscribe("postPutResources",function(){tg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(tg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ty+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==tg&&void 0!==tm&&this.internal.out("/Names <</JavaScript "+tg+" 0 R>>")}),this},(tR=q.API).events.push(["postPutResources",function(){var e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var t=this.outline.render().split(/\r\n/),r=0;r<t.length;r++){var i=t[r],n=e.exec(i);if(null!=n){var s=n[1];this.internal.newObjectDeferredBegin(s,!1)}this.internal.write(i)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,o=[];for(r=0;r<a;r++){var l=this.internal.newObject();o.push(l);var u=this.internal.getPageInfo(r+1);this.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=this.internal.newObject();for(this.internal.write("<< /Names [ "),r=0;r<o.length;r++)this.internal.write("(page_"+(r+1)+")"+o[r]+" 0 R");this.internal.write(" ] >>","endobj"),tA=this.internal.newObject(),this.internal.write("<< /Dests "+h+" 0 R"),this.internal.write(">>","endobj")}}]),tR.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+tA+" 0 R"))}]),tR.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var i={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var n=t.children[i];this.objStart(n),this.line("/Title "+this.makeString(n.title)),this.line("/Parent "+this.makeRef(t)),i>0&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1])));var s=this.count=this.count_r({count:0},n);if(s>0&&this.line("/Count "+s),n.options&&n.options.pageNumber){var a=e.internal.getPageInfo(n.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}]),tw=q.API,tC=[192,193,194,195,196,197,198,199],tw.processJPEG=function(e,t,r,i,n,s){var a,o=this.decode.DCT_DECODE,l=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=n||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var t,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,n={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(s+=r,-1!==tC.indexOf(e.charCodeAt(s+1))){t=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),n={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:t,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return n}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}l={data:e,width:a.width,height:a.height,colorSpace:s,bitsPerComponent:8,filter:o,index:t,alias:r}}return l};var tb,tx,tE,t_,tS,tO,tR,tA,tw,tC,tT,tL,tP,tI,tM,tN=function(){function e(e){var t,r,i,n,s,a,o,l,u,h,c,d,p,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(t=this.readUInt32(),u=(function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),n=this.readUInt16()||100,a.delay=1e3*s/n,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=a?a.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>i)throw Error("More transparent colors than palette size");if((h=i-this.transparency.indexed.length)>0)for(p=0;0<=h?p<h:p>h;0<=h?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(c=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,c.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,c.slice(o+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file")}}e.prototype.read=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.data[this.pos++]);return r},e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,r=new Uint8Array(this.width*this.height*t),i=0,n=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function s(s,a,o,l){var u,h,c,d,p,f,g,m,y,v,b,x,E,_,S,O,R,A,w,C,T,L=Math.ceil((n.width-s)/o),P=Math.ceil((n.height-a)/l),I=n.width==L&&n.height==P;for(_=t*L,x=I?r:new Uint8Array(_*P),f=e.length,E=0,h=0;E<P&&i<f;){switch(e[i++]){case 0:for(d=R=0;R<_;d=R+=1)x[h++]=e[i++];break;case 1:for(d=A=0;A<_;d=A+=1)u=e[i++],p=d<t?0:x[h-t],x[h++]=(u+p)%256;break;case 2:for(d=w=0;w<_;d=w+=1)u=e[i++],c=(d-d%t)/t,S=E&&x[(E-1)*_+c*t+d%t],x[h++]=(S+u)%256;break;case 3:for(d=C=0;C<_;d=C+=1)u=e[i++],c=(d-d%t)/t,p=d<t?0:x[h-t],S=E&&x[(E-1)*_+c*t+d%t],x[h++]=(u+Math.floor((p+S)/2))%256;break;case 4:for(d=T=0;T<_;d=T+=1)u=e[i++],c=(d-d%t)/t,p=d<t?0:x[h-t],0===E?S=O=0:(S=x[(E-1)*_+c*t+d%t],O=c&&x[(E-1)*_+(c-1)*t+d%t]),m=Math.abs((g=p+S-O)-p),v=Math.abs(g-S),b=Math.abs(g-O),y=m<=v&&m<=b?p:v<=b?S:O,x[h++]=(u+y)%256;break;default:throw Error("Invalid filter algorithm: "+e[i-1])}if(!I){var M=((a+E*l)*n.width+s)*t,N=E*_;for(d=0;d<L;d+=1){for(var G=0;G<t;G+=1)r[M++]=x[N++];M+=(o-1)*t}}E++}}return e=(0,o.unzlibSync)(e),1==n.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),r},e.prototype.decodePalette=function(){var e,t,r,i,n,s,a,o,l;for(r=this.palette,s=this.transparency.indexed||[],n=new Uint8Array((s.length||0)+r.length),i=0,e=0,t=a=0,o=r.length;a<o;t=a+=3)n[i++]=r[t],n[i++]=r[t+1],n[i++]=r[t+2],n[i++]=null!=(l=s[e++])?l:255;return n},e.prototype.copyToImageData=function(e,t){var r,i,n,s,a,o,l,u,h,c,d;if(i=this.colors,h=null,r=this.hasAlphaChannel,this.palette.length&&(h=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),i=4,r=!0),u=(n=e.data||e).length,a=h||t,s=o=0,1===i)for(;s<u;)l=h?4*t[s/4]:o,c=a[l++],n[s++]=c,n[s++]=c,n[s++]=c,n[s++]=r?a[l++]:255,o=l;else for(;s<u;)l=h?4*t[s/4]:o,n[s++]=a[l++],n[s++]=a[l++],n[s++]=a[l++],n[s++]=r?a[l++]:255,o=l},e.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var t,r,i,n=function(){if("[object Window]"===Object.prototype.toString.call(l)){try{i=(r=l.document.createElement("canvas")).getContext("2d")}catch(e){return!1}return!0}return!1};return n(),t=function(e){var t;if(!0===n())return i.width=e.width,i.height=e.height,i.clearRect(0,0,e.width,e.height),i.putImageData(e,0,0),(t=new Image).src=r.toDataURL(),t;throw Error("This method requires a Browser with Canvas-capability.")},e.prototype.decodeFrames=function(e){var r,i,n,s,a,o,l,u;if(this.animation){for(u=[],i=a=0,o=(l=this.animation.frames).length;a<o;i=++a)r=l[i],n=e.createImageData(r.width,r.height),s=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(n,s),r.imageData=n,u.push(r.image=t(n));return u}},e.prototype.renderFrame=function(e,t){var r,i,n;return r=(i=this.animation.frames)[t],n=i[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=n?n.disposeOp:void 0)?e.clearRect(n.xOffset,n.yOffset,n.width,n.height):2===(null!=n?n.disposeOp:void 0)&&e.putImageData(n.imageData,n.xOffset,n.yOffset),0===r.blendOp&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},e.prototype.animate=function(e){var t,r,i,n,s,a,o=this;return r=0,n=(a=this.animation).numFrames,i=a.frames,s=a.numPlays,(t=function(){var a,l;if(l=i[a=r++%n],o.renderFrame(e,a),n>1&&r/n<s)return o.animation._timeout=setTimeout(t,l.delay)})()},e.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},e.prototype.render=function(e){var t,r;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(r=t.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),t.putImageData(r,0,0))},e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function tG(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,n=e[t++],s=1<<(7&n)+1;e[t++],e[t++];var a=null,o=null;n>>7&&(a=t,o=s,t+=3*s);var l=!0,u=[],h=0,c=null,d=0,p=null;for(this.width=r,this.height=i;l&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((g=e[t++])>=0))throw Error("Invalid block size");if(0===g)break;t+=g}break;case 249:if(4!==e[t++]||0!==e[t+4])throw Error("Invalid graphics extension block.");var f=e[t++];h=e[t++]|e[t++]<<8,c=e[t++],0==(1&f)&&(c=null),d=f>>2&7,t++;break;case 254:for(;;){if(!((g=e[t++])>=0))throw Error("Invalid block size");if(0===g)break;t+=g}break;default:throw Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++],E=x>>6&1,_=1<<(7&x)+1,S=a,O=o,R=!1;x>>7&&(R=!0,S=t,O=_,t+=3*_);var A=t;for(t++;;){if(!((g=e[t++])>=0))throw Error("Invalid block size");if(0===g)break;t+=g}u.push({x:m,y:y,width:v,height:b,has_local_palette:R,palette_offset:S,palette_size:O,data_offset:A,data_length:t-A,transparent_index:c,interlaced:!!E,delay:h,disposal:d});break;case 59:l=!1;break;default:throw Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=u.length)throw Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,i){var n=this.frameInfo(t),s=n.width*n.height,a=new Uint8Array(s);tk(e,n.data_offset,a,s);var o=n.palette_offset,l=n.transparent_index;null===l&&(l=256);var u=n.width,h=r-u,c=u,d=4*(n.y*r+n.x),p=4*((n.y+n.height)*r+n.x),f=d,g=4*h;!0===n.interlaced&&(g+=4*r*7);for(var m=8,y=0,v=a.length;y<v;++y){var b=a[y];if(0===c&&(c=u,(f+=g)>=p&&(g=4*h+4*r*(m-1),f=d+(u+h)*(m<<1),m>>=1)),b===l)f+=4;else{var x=e[o+3*b],E=e[o+3*b+1],_=e[o+3*b+2];i[f++]=_,i[f++]=E,i[f++]=x,i[f++]=255}--c}},this.decodeAndBlitFrameRGBA=function(t,i){var n=this.frameInfo(t),s=n.width*n.height,a=new Uint8Array(s);tk(e,n.data_offset,a,s);var o=n.palette_offset,l=n.transparent_index;null===l&&(l=256);var u=n.width,h=r-u,c=u,d=4*(n.y*r+n.x),p=4*((n.y+n.height)*r+n.x),f=d,g=4*h;!0===n.interlaced&&(g+=4*r*7);for(var m=8,y=0,v=a.length;y<v;++y){var b=a[y];if(0===c&&(c=u,(f+=g)>=p&&(g=4*h+4*r*(m-1),f=d+(u+h)*(m<<1),m>>=1)),b===l)f+=4;else{var x=e[o+3*b],E=e[o+3*b+1],_=e[o+3*b+2];i[f++]=x,i[f++]=E,i[f++]=_,i[f++]=255}--c}}}function tk(e,t,r,i){for(var n=e[t++],s=1<<n,a=s+1,o=a+1,l=n+1,u=(1<<l)-1,c=0,d=0,p=0,f=e[t++],g=new Int32Array(4096),m=null;;){for(;c<16&&0!==f;)d|=e[t++]<<c,c+=8,1===f?f=e[t++]:--f;if(c<l)break;var y=d&u;if(d>>=l,c-=l,y!==s){if(y===a)break;for(var v=y<o?y:m,b=0,x=v;x>s;)x=g[x]>>8,++b;var E=x;if(p+b+(v!==y?1:0)>i)return void h.log("Warning, gif stream longer than expected.");r[p++]=E;var _=p+=b;for(v!==y&&(r[p++]=E),x=v;b--;)x=g[x],r[--_]=255&x,x>>=8;null!==m&&o<4096&&(g[o++]=m<<8|E,o>=u+1&&l<12&&(++l,u=u<<1|1)),m=y}else o=a+1,u=(1<<(l=n+1))-1,m=null}return p!==i&&h.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tD(e){var t,r,i,n,s,a=Math.floor,o=Array(64),l=Array(64),u=Array(64),h=Array(64),c=Array(65535),d=Array(65535),p=Array(64),f=Array(64),g=[],m=0,y=7,v=Array(64),b=Array(64),x=Array(64),E=Array(256),_=Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],w=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(e,t){for(var r=0,i=0,n=[],s=1;s<=16;s++){for(var a=1;a<=e[s];a++)n[t[i]]=[],n[t[i]][0]=r,n[t[i]][1]=s,i++,r++;r*=2}return n}function M(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(m|=1<<y),r--,--y<0&&(255==m?(N(255),N(0)):N(m),y=7,m=0)}function N(e){g.push(e)}function G(e){N(e>>8&255),N(255&e)}function k(e,t,r,i,n){for(var s,a=n[0],o=n[240],l=function(e,t){var r,i,n,s,a,o,l,u,h,c,d=0;for(h=0;h<8;++h){r=e[d],i=e[d+1],n=e[d+2],s=e[d+3],a=e[d+4],o=e[d+5],l=e[d+6];var f=r+(u=e[d+7]),g=r-u,m=i+l,y=i-l,v=n+o,b=n-o,x=s+a,E=s-a,_=f+x,S=f-x,O=m+v,R=m-v;e[d]=_+O,e[d+4]=_-O;var A=.707106781*(R+S);e[d+2]=S+A,e[d+6]=S-A;var w=.382683433*((_=E+b)-(R=y+g)),C=.5411961*_+w,T=1.306562965*R+w,L=.707106781*(O=b+y),P=g+L,I=g-L;e[d+5]=I+C,e[d+3]=I-C,e[d+1]=P+T,e[d+7]=P-T,d+=8}for(d=0,h=0;h<8;++h){r=e[d],i=e[d+8],n=e[d+16],s=e[d+24],a=e[d+32],o=e[d+40],l=e[d+48];var M=r+(u=e[d+56]),N=r-u,G=i+l,k=i-l,D=n+o,F=n-o,q=s+a,j=s-a,U=M+q,H=M-q,B=G+D,Z=G-D;e[d]=U+B,e[d+32]=U-B;var z=.707106781*(Z+H);e[d+16]=H+z,e[d+48]=H-z;var V=.382683433*((U=j+F)-(Z=k+N)),Y=.5411961*U+V,W=1.306562965*Z+V,X=.707106781*(B=F+k),K=N+X,J=N-X;e[d+40]=J+Y,e[d+24]=J-Y,e[d+8]=K+W,e[d+56]=K-W,d++}for(h=0;h<64;++h)c=e[h]*t[h],p[h]=c>0?c+.5|0:c-.5|0;return p}(e,t),u=0;u<64;++u)f[S[u]]=l[u];var h=f[0]-r;r=f[0],0==h?M(i[0]):(M(i[d[s=32767+h]]),M(c[s]));for(var g=63;g>0&&0==f[g];)g--;if(0==g)return M(a),r;for(var m,y=1;y<=g;){for(var v=y;0==f[y]&&y<=g;)++y;var b=y-v;if(b>=16){m=b>>4;for(var x=1;x<=m;++x)M(o);b&=15}M(n[(b<<4)+d[s=32767+f[y]]]),M(c[s]),y++}return 63!=g&&M(a),r}function D(e){s!=(e=Math.min(Math.max(e,1),100))&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var i=a((t[r]*e+50)/100);i=Math.min(Math.max(i,1),255),o[S[r]]=i}for(var n=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var c=a((n[s]*e+50)/100);c=Math.min(Math.max(c,1),255),l[S[s]]=c}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var g=0;g<8;g++)u[p]=1/(o[S[p]]*d[f]*d[g]*8),h[p]=1/(l[S[p]]*d[f]*d[g]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&D(s),g=[],m=0,y=7,G(65496),G(65504),G(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),G(1),G(1),N(0),N(0),function(){G(65499),G(132),N(0);for(var e=0;e<64;e++)N(o[e]);N(1);for(var t=0;t<64;t++)N(l[t])}(),p=e.width,f=e.height,G(65472),G(17),N(8),G(f),G(p),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1),function(){G(65476),G(418),N(0);for(var e=0;e<16;e++)N(O[e+1]);for(var t=0;t<=11;t++)N(R[t]);N(16);for(var r=0;r<16;r++)N(A[r+1]);for(var i=0;i<=161;i++)N(w[i]);N(1);for(var n=0;n<16;n++)N(C[n+1]);for(var s=0;s<=11;s++)N(T[s]);N(17);for(var a=0;a<16;a++)N(L[a+1]);for(var o=0;o<=161;o++)N(P[o])}(),G(65498),G(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var a=0,c=0,d=0;m=0,y=7,this.encode.displayName="_encode_";for(var p,f,E,S,I,F,q,j,U,H,B,Z=e.data,z=e.width,V=e.height,Y=4*z,W=0;W<V;){for(E=0;E<Y;){for(q=Y*W+E,U=-1,H=0,B=0;B<64;B++)j=q+(H=B>>3)*Y+(U=4*(7&B)),W+H>=V&&(j-=Y*(W+1+H-V)),E+U>=Y&&(j-=E+U-Y+4),S=Z[j++],I=Z[j++],F=Z[j++],v[B]=(_[S]+_[I+256>>0]+_[F+512>>0]>>16)-128,b[B]=(_[S+768>>0]+_[I+1024>>0]+_[F+1280>>0]>>16)-128,x[B]=(_[S+1280>>0]+_[I+1536>>0]+_[F+1792>>0]>>16)-128;a=k(v,u,a,t,i),c=k(b,h,c,r,n),d=k(x,h,d,r,n),E+=32}W+=8}if(y>=0){var X=[];X[1]=y+1,X[0]=(1<<y+1)-1,M(X)}return G(65497),new Uint8Array(g)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)E[t]=e(t)}(),t=I(O,R),r=I(C,T),i=I(A,w),n=I(L,P),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var i=e;i<t;i++)d[32767+i]=r,c[32767+i]=[],c[32767+i][1]=r,c[32767+i][0]=i;for(var n=-(t-1);n<=-e;n++)d[32767+n]=r,c[32767+n]=[],c[32767+n][1]=r,c[32767+n][0]=t-1+n;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)_[e]=19595*e,_[e+256>>0]=38470*e,_[e+512>>0]=7471*e+32768,_[e+768>>0]=-11059*e,_[e+1024>>0]=-21709*e,_[e+1280>>0]=32768*e+8421375,_[e+1536>>0]=-27439*e,_[e+1792>>0]=-5329*e}(),D(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function tF(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tq(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var i=0;4>i;i++)if(e[t+i]!=r.charCodeAt(i))return!0;return!1}function i(e,t,r,i,n){for(var s=0;s<n;s++)e[t+s]=r[i+s]}function n(e,t,r,i){for(var n=0;n<i;n++)e[t+n]=r}function s(e){return new Int32Array(e)}function a(e,t){for(var r=[],i=0;i<e;i++)r.push(new t);return r}function o(e,t){var r=[];return function e(r,i,n){for(var s=n[i],a=0;a<s&&(r.push(n.length>i+1?[]:new t),!(n.length<i+1));a++)e(r[a],i+1,n)}(r,0,e),r}var l=function(){var e=this;function l(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function u(e,r,i,n,s){t(!(n%i));do e[r+(n-=i)]=s;while(0<n)}function h(e,r,i,n,a){if(t(2328>=a),512>=a)var o=s(512);else if(null==(o=s(a)))return 0;return function(e,r,i,n,a,o){var h,d,p=r,f=1<<i,g=s(16),m=s(16);for(t(0!=a),t(null!=n),t(null!=e),t(0<i),d=0;d<a;++d){if(15<n[d])return 0;++g[n[d]]}if(g[0]==a)return 0;for(m[1]=0,h=1;15>h;++h){if(g[h]>1<<h)return 0;m[h+1]=m[h]+g[h]}for(d=0;d<a;++d)h=n[d],0<n[d]&&(o[m[h]++]=d);if(1==m[15])return(n=new c).g=0,n.value=o[0],u(e,p,1,f,n),f;var y,v=-1,b=f-1,x=0,E=1,_=1,S=1<<i;for(d=0,h=1,a=2;h<=i;++h,a<<=1){if(E+=_<<=1,0>(_-=g[h]))return 0;for(;0<g[h];--g[h])(n=new c).g=h,n.value=o[d++],u(e,p+x,a,S,n),x=l(x,h)}for(h=i+1,a=2;15>=h;++h,a<<=1){if(E+=_<<=1,0>(_-=g[h]))return 0;for(;0<g[h];--g[h]){if(n=new c,(x&b)!=v){for(p+=S,y=1<<(v=h)-i;15>v&&!(0>=(y-=g[v]));)++v,y<<=1;f+=S=1<<(y=v-i),e[r+(v=x&b)].g=y+i,e[r+v].value=p-r-v}n.g=h-i,n.value=o[d++],u(e,p+(x>>i),a,S,n),x=l(x,h)}}return E!=2*m[15]-1?0:f}(e,r,i,n,a,o)}function c(){this.value=this.g=0}function d(){this.value=this.g=0}function p(){this.G=a(5,c),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(rm,d)}function f(e,r,i,n){t(null!=e),t(null!=r),t(2147483648>n),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=i,e.Jd=r,e.Yc=i+n,e.Zc=4<=n?i+n-4+1:i,A(e)}function g(e,t){for(var r=0;0<t--;)r|=C(e,128)<<t;return r}function m(e,t){var r=g(e,t);return w(e)?-r:r}function y(e,r,i,n){var s,a=0;for(t(null!=e),t(null!=r),t(4294967288>n),e.Sb=n,e.Ra=0,e.u=0,e.h=0,4<n&&(n=4),s=0;s<n;++s)a+=r[i+s]<<8*s;e.Ra=a,e.bb=n,e.oa=r,e.pa=i}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<rb-8>>>0,++e.bb,e.u-=8;S(e)&&(e.h=1,e.u=0)}function b(e,r){if(t(0<=r),!e.h&&r<=rv){var i=_(e)&ry[r];return e.u+=r,v(e),i}return e.h=1,e.u=0}function x(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _(e){return e.Ra>>>(e.u&rb-1)>>>0}function S(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>rb}function O(e,t){e.u=t,e.h=S(e)}function R(e){e.u>=rx&&(t(e.u>=rx),v(e))}function A(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function w(e){return g(e,1)}function C(e,t){var r=e.Ca;0>e.b&&A(e);var i=e.b,n=r*t>>>8,s=(e.I>>>i>n)+0;for(s?(r-=n,e.I-=n+1<<i>>>0):r=n+1,i=r,n=0;256<=i;)n+=8,i>>=8;return i=7^n+rE[i],e.b-=i,e.Ca=(r<<i)-1,s}function T(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r>>0&255}function L(e,t){return e[t+0]<<0|e[t+1]<<8}function P(e,t){return L(e,t)|e[t+2]<<16}function I(e,t){return L(e,t)|L(e,t+2)<<16}function M(e,r){return t(null!=e),t(0<r),e.X=s(1<<r),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function N(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),i(r.X,0,e.X,0,1<<r.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function k(e,r,i,n){t(null!=i),t(null!=n);var s=i[0],a=n[0];return 0==s&&(s=(e*a+r/2)/r),0==a&&(a=(r*s+e/2)/e),0>=s||0>=a?0:(i[0]=s,n[0]=a,1)}function D(e,t){return e+(1<<t)-1>>>t}function F(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function q(t,r){e[r]=function(r,i,n,s,a,o,l){var u;for(u=0;u<a;++u){var h=e[t](o[l+u-1],n,s+u);o[l+u]=F(r[i+u],h)}}}function j(){this.ud=this.hd=this.jd=0}function U(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function B(e,t){return H(e+(e-t+.5>>1))}function Z(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function z(e,t,r,i,n,s,a){for(i=s[a-1],r=0;r<n;++r)s[a+r]=i=F(e[t+r],i)}function V(e,t,r,i,n){var s;for(s=0;s<r;++s){var a=e[t+s],o=a>>8&255,l=16711935&(l=(l=16711935&a)+((o<<16)+o));i[n+s]=(4278255360&a)+l>>>0}}function Y(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function W(e,t,r,i,n,s){var a;for(a=0;a<i;++a){var o=t[r+a],l=o>>>8,u=o,h=255&(h=(h=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(h<<24>>24)>>>5)),n[s+a]=(4278255360&o)+(h<<16)+u}}function X(t,r,i,n,s){e[r]=function(e,t,r,i,a,o,l,u,h){for(i=l;i<u;++i)for(l=0;l<h;++l)a[o++]=s(r[n(e[t++])])},e[t]=function(t,r,a,o,l,u,h){var c=8>>t.b,d=t.Ea,p=t.K[0],f=t.w;if(8>c)for(t=(1<<t.b)-1,f=(1<<c)-1;r<a;++r){var g,m=0;for(g=0;g<d;++g)g&t||(m=n(o[l++])),u[h++]=s(p[m&f]),m>>=c}else e["VP8LMapColor"+i](o,l,p,f,u,h,r,a,d)}}function K(e,t,r,i,n){for(r=t+r;t<r;){var s=e[t++];i[n++]=s>>16&255,i[n++]=s>>8&255,i[n++]=s>>0&255}}function J(e,t,r,i,n){for(r=t+r;t<r;){var s=e[t++];i[n++]=s>>16&255,i[n++]=s>>8&255,i[n++]=s>>0&255,i[n++]=s>>24&255}}function $(e,t,r,i,n){for(r=t+r;t<r;){var s=(a=e[t++])>>16&240|a>>12&15,a=a>>0&240|a>>28&15;i[n++]=s,i[n++]=a}}function Q(e,t,r,i,n){for(r=t+r;t<r;){var s=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;i[n++]=s,i[n++]=a}}function ee(e,t,r,i,n){for(r=t+r;t<r;){var s=e[t++];i[n++]=s>>0&255,i[n++]=s>>8&255,i[n++]=s>>16&255}}function et(e,t,r,n,s,a){if(0==a)for(r=t+r;t<r;)T(n,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),s+=32;else i(n,s,e,t,r)}function er(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ei(e){return e==ic||e==id||e==ip||e==ig}function en(){this.eb=[],this.size=this.A=this.fb=0}function es(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ea(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new en,this.f.kb=new es,this.sd=null}function eo(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function el(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function eu(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function eh(e,t){var r=e.T,n=t.ba.f.RGBA,s=n.eb,a=n.fb+e.ka*n.A,o=ij[t.ba.S],l=e.y,u=e.O,h=e.f,c=e.N,d=e.ea,p=e.W,f=t.cc,g=t.dc,m=t.Mc,y=t.Nc,v=e.ka,b=e.ka+e.T,x=e.U,E=x+1>>1;for(0==v?o(l,u,null,null,h,c,d,p,h,c,d,p,s,a,null,null,x):(o(t.ec,t.fc,l,u,f,g,m,y,h,c,d,p,s,a-n.A,s,a,x),++r);v+2<b;v+=2)f=h,g=c,m=d,y=p,c+=e.Rc,p+=e.Rc,a+=2*n.A,o(l,(u+=2*e.fa)-e.fa,l,u,f,g,m,y,h,c,d,p,s,a-n.A,s,a,x);return u+=e.fa,e.j+b<e.o?(i(t.ec,t.fc,l,u,x),i(t.cc,t.dc,h,c,E),i(t.Mc,t.Nc,d,p,E),r--):1&b||o(l,u,null,null,h,c,d,p,h,c,d,p,s,a+n.A,null,null,x),r}function ec(e,r,i){var n=e.F,s=[e.J];if(null!=n){var a=e.U,o=r.ba.S,l=o==il||o==ip;r=r.ba.f.RGBA;var u=[0],h=e.ka;u[0]=e.T,e.Kb&&(0==h?--u[0]:(--h,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-h));var c=r.eb;h=r.fb+h*r.A,e=r2(n,s[0],e.width,a,u,c,h+(l?0:3),r.A),t(i==u),e&&ei(o)&&r0(c,h,l,a,u,r.A)}return 0}function ed(e){var t=e.ma,r=t.ba.S,i=11>r,n=r==is||r==io||r==il||r==iu||12==r||ei(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!rp(t.Oa,e,n?11:12))return 0;if(n&&ei(r)&&t6(),e.da)alert("todo:use_scaling");else{if(i){if(t.Ib=eu,e.Kb){if(r=e.U+1>>1,t.memory=s(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=eh,t6()}}else alert("todo:EmitYUV");n&&(t.Jb=ec,i&&t3())}if(i&&!i0){for(e=0;256>e;++e)i1[e]=89858*(e-128)+iX>>iW,i3[e]=-22014*(e-128)+iX,i5[e]=-45773*(e-128),i2[e]=113618*(e-128)+iX>>iW;for(e=iK;e<iJ;++e)t=76283*(e-16)+iX>>iW,i4[e-iK]=ez(t,255),i6[e-iK]=ez(t+8>>4,15);i0=1}return 1}function ep(e){var r=e.ma,i=e.U,n=e.T;return t(!(1&e.ka)),0>=i||0>=n?0:(i=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,i),r.Dc+=i,1)}function ef(e){e.ma.memory=null}function eg(e,t,r,i){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,r[0]=b(e,14)+1,i[0]=b(e,1),0!=b(e,3)?0:!e.h)}function em(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+b(t,r)+1}function ey(e,t){var r;return 120<t?t-120:1<=(r=((r=iE[t-1])>>4)*e+(8-(15&r)))?r:1}function ev(e,t,r){var i=_(r),n=e[t+=255&i].g-8;return 0<n&&(O(r,r.u+8),i=_(r),t+=e[t].value,t+=i&(1<<n)-1),O(r,r.u+e[t].g),e[t].value}function eb(e,r,i){return i.g+=e.g,i.value+=e.value<<r>>>0,t(8>=i.g),e.g}function ex(e,r,i){var n=e.xc;return t((r=0==n?0:e.vc[e.md*(i>>n)+(r>>n)])<e.Wb),e.Ya[r]}function eE(e,r,n,s){var a=e.ab,o=e.c*r,l=e.C;r=l+r;var u=n,h=s;for(s=e.Ta,n=e.Ua;0<a--;){var c=e.gc[a],d=l,p=r,f=u,g=h,m=(h=s,u=n,c.Ea);switch(t(d<p),t(p<=c.nc),c.hc){case 2:rO(f,g,(p-d)*m,h,u);break;case 0:var y=d,v=p,b=h,x=u,E=(A=c).Ea;0==y&&(r_(f,g,null,null,1,b,x),z(f,g+1,0,0,E-1,b,x+1),g+=E,x+=E,++y);for(var _=1<<A.b,S=_-1,O=D(E,A.b),R=A.K,A=A.w+(y>>A.b)*O;y<v;){var w=R,C=A,T=1;for(rS(f,g,b,x-E,1,b,x);T<E;){var L=(T&~S)+_;L>E&&(L=E),(0,rT[w[C++]>>8&15])(f,g+ +T,b,x+T-E,L-T,b,x+T),T=L}g+=E,x+=E,++y&S||(A+=O)}p!=c.nc&&i(h,u-m,h,u+(p-d-1)*m,m);break;case 1:for(m=f,v=g,E=(f=c.Ea)-(x=f&~(b=(g=1<<c.b)-1)),y=D(f,c.b),_=c.K,c=c.w+(d>>c.b)*y;d<p;){for(S=_,O=c,R=new j,A=v+x,w=v+f;v<A;)Y(S[O++],R),rL(R,m,v,g,h,u),v+=g,u+=g;v<w&&(Y(S[O++],R),rL(R,m,v,E,h,u),v+=E,u+=E),++d&b||(c+=y)}break;case 3:if(f==h&&g==u&&0<c.b){for(v=h,f=m=u+(p-d)*m-(x=(p-d)*D(c.Ea,c.b)),g=h,b=u,y=[],x=(E=x)-1;0<=x;--x)y[x]=g[b+x];for(x=E-1;0<=x;--x)v[f+x]=y[x];rR(c,d,p,h,m,h,u)}else rR(c,d,p,f,g,h,u)}u=s,h=n}h!=n&&i(s,n,u,h,o)}function e_(e,r){var i=e.V,n=e.Ba+e.c*e.C,s=r-e.C;if(t(r<=e.l.o),t(16>=s),0<s){var a=e.l,o=e.Ta,l=e.Ua,u=a.width;if(eE(e,s,i,n),s=l=[l],t((i=e.C)<(n=r)),t(a.v<a.va),n>a.o&&(n=a.o),i<a.j){var h=a.j-i;i=a.j,s[0]+=h*u}if(i>=n?i=0:(s[0]+=4*a.v,a.ka=i-a.j,a.U=a.va-a.v,a.T=n-i,i=1),i){if(l=l[0],11>(i=e.ca).S){var c=i.f.RGBA,d=(n=i.S,s=a.U,a=a.T,h=c.eb,c.A),p=a;for(c=c.fb+e.Ma*c.A;0<p--;){var f=l,g=s,m=h,y=c;switch(n){case ii:rP(o,f,g,m,y);break;case is:rI(o,f,g,m,y);break;case ic:rI(o,f,g,m,y),r0(m,y,0,g,1,0);break;case ia:rG(o,f,g,m,y);break;case io:et(o,f,g,m,y,1);break;case id:et(o,f,g,m,y,1),r0(m,y,0,g,1,0);break;case il:et(o,f,g,m,y,0);break;case ip:et(o,f,g,m,y,0),r0(m,y,1,g,1,0);break;case iu:rM(o,f,g,m,y);break;case ig:rM(o,f,g,m,y),r1(m,y,g,1,0);break;case ih:rN(o,f,g,m,y);break;default:t(0)}l+=u,c+=d}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=i.height)}}e.C=r,t(e.C<=e.i)}function eS(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,i=e.Ya[t].H;if(0<r[1][i[1]+0].g||0<r[2][i[2]+0].g||0<r[3][i[3]+0].g)return 0}return 1}function eO(e,r,i,n,s,a){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=iq[e.Z]);r<i;++r)iq[e.Z](o,l,n,s,n,s,a),o=n,l=s,s+=a;e.qd=o,e.rd=l}}function eR(e,r){var i=e.l.ma,n=0==i.Z||1==i.Z?e.l.j:e.C;if(n=e.C<n?n:e.C,t(r<=e.l.o),r>n){var s=e.l.width,a=i.ca,o=i.tb+s*n,l=e.V,u=e.Ba+e.c*n,h=e.gc;t(1==e.ab),t(3==h[0].hc),rw(h[0],n,r,l,u,a,o),eO(i,n,r,a,o,s)}e.C=e.Ma=r}function eA(e,r,i,n,s,a,o){var l=e.$/n,u=e.$%n,h=e.m,c=e.s,d=i+e.$,p=d;s=i+n*s;var f=i+n*a,g=280+c.ua,m=e.Pb?l:16777216,y=0<c.ua?c.Wa:null,v=c.wc,b=d<f?ex(c,u,l):null;t(e.C<a),t(f<=s);var x=!1;t:for(;;){for(;x||d<f;){var E=0;if(l>=m){var A=d-i;t((m=e).Pb),m.wd=m.m,m.xd=A,0<m.s.ua&&N(m.s.Wa,m.s.vb),m=l+iS}if(u&v||(b=ex(c,u,l)),t(null!=b),b.Qb&&(r[d]=b.qb,x=!0),!x){if(R(h),b.jc){E=h,A=r;var w=d,C=b.pd[_(E)&rm-1];t(b.jc),256>C.g?(O(E,E.u+C.g),A[w]=C.value,E=0):(O(E,E.u+C.g-256),t(256<=C.value),E=C.value),0==E&&(x=!0)}else E=ev(b.G[0],b.H[0],h)}if(h.h)break;if(x||256>E){if(!x){if(b.nd)r[d]=(b.qb|E<<8)>>>0;else{if(R(h),x=ev(b.G[1],b.H[1],h),R(h),A=ev(b.G[2],b.H[2],h),w=ev(b.G[3],b.H[3],h),h.h)break;r[d]=(w<<24|x<<16|E<<8|A)>>>0}}if(x=!1,++d,++u>=n&&(u=0,++l,null!=o&&l<=a&&!(l%16)&&o(e,l),null!=y))for(;p<d;)E=r[p++],y.X[(506832829*E&4294967295)>>>y.Mb]=E}else if(280>E){if(E=em(E-256,h),A=ev(b.G[4],b.H[4],h),R(h),A=ey(n,A=em(A,h)),h.h)break;if(d-i<A||s-d<E)break t;for(w=0;w<E;++w)r[d+w]=r[d+w-A];for(d+=E,u+=E;u>=n;)u-=n,++l,null!=o&&l<=a&&!(l%16)&&o(e,l);if(t(d<=s),u&v&&(b=ex(c,u,l)),null!=y)for(;p<d;)E=r[p++],y.X[(506832829*E&4294967295)>>>y.Mb]=E}else{if(!(E<g))break t;for(x=E-280,t(null!=y);p<d;)E=r[p++],y.X[(506832829*E&4294967295)>>>y.Mb]=E;E=d,t(!(x>>>(A=y).Xa)),r[E]=A.X[x],x=!0}x||t(h.h==S(h))}if(e.Pb&&h.h&&d<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&N(e.s.vb,e.s.Wa);else{if(h.h)break;null!=o&&o(e,l>a?a:l),e.a=0,e.$=d-i}return 1}return e.a=3,0}function ew(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function eC(){var t=new tX;return null==t?null:(t.a=0,t.xb=iF,er("Predictor","VP8LPredictors"),er("Predictor","VP8LPredictors_C"),er("PredictorAdd","VP8LPredictorsAdd"),er("PredictorAdd","VP8LPredictorsAdd_C"),rO=V,rL=W,rP=K,rI=J,rM=$,rN=Q,rG=ee,e.VP8LMapColor32b=rA,e.VP8LMapColor8b=rC,t)}function eT(e,r,i,o,l){for(var u=1,d=[e],f=[r],g=o.m,m=o.s,y=null,v=0;;){if(i)for(;u&&b(g,1);){var x=d,E=f,S=1,A=o.m,w=o.gc[o.ab],C=b(A,2);if(o.Oc&1<<C)u=0;else{switch(o.Oc|=1<<C,w.hc=C,w.Ea=x[0],w.nc=E[0],w.K=[null],++o.ab,t(4>=o.ab),C){case 0:case 1:w.b=b(A,3)+2,S=eT(D(w.Ea,w.b),D(w.nc,w.b),0,o,w.K),w.K=w.K[0];break;case 3:var T,L=b(A,8)+1,P=16<L?0:4<L?1:2<L?2:3;if(x[0]=D(w.Ea,P),w.b=P,T=S=eT(L,1,0,o,w.K)){var I,N=1<<(8>>w.b),G=s(N);if(null==G)T=0;else{var k=w.K[0],q=w.w;for(G[0]=w.K[0][0],I=1;I<1*L;++I)G[I]=F(k[q+I],G[I-1]);for(;I<4*N;++I)G[I]=0;w.K[0]=null,w.K[0]=G,T=1}}S=T;break;case 2:break;default:t(0)}u=S}}if(d=d[0],f=f[0],u&&b(g,1)&&!(u=1<=(v=b(g,4))&&11>=v)){o.a=3;break}if(j=u)r:{var j,U,H,B,Z=d,z=f,V=v,Y=o.m,W=o.s,X=[null],K=1,J=0,$=i_[V];i:for(;;){if(i&&b(Y,1)){var Q=b(Y,3)+2,ee=D(Z,Q),et=D(z,Q),er=ee*et;if(!eT(ee,et,0,o,X))break;for(X=X[0],W.xc=Q,U=0;U<er;++U){var ei=X[U]>>8&65535;X[U]=ei,ei>=K&&(K=ei+1)}}if(Y.h)break;for(H=0;5>H;++H){var en=iv[H];!H&&0<V&&(en+=1<<V),J<en&&(J=en)}var es=a(K*$,c),ea=K,eo=a(ea,p);if(null==eo)var el=null;else t(65536>=ea),el=eo;var eu=s(J);if(null==el||null==eu||null==es){o.a=1;break}for(U=B=0;U<K;++U){var eh,ec=el[U],ed=ec.G,ep=ec.H,ef=0,eg=1,em=0;for(H=0;5>H;++H){en=iv[H],ed[H]=es,ep[H]=B,!H&&0<V&&(en+=1<<V);n:{var ey,ev=en,ex=B,eE=0,e_=o.m,eS=b(e_,1);if(n(eu,0,0,ev),eS){var eO=b(e_,1)+1,eR=b(e_,1),eC=b(e_,0==eR?1:8);eu[eC]=1,2==eO&&(eu[eC=b(e_,8)]=1);var eL=1}else{var eP=s(19),eI=b(e_,4)+4;if(19<eI){o.a=3;var eM=0;break n}for(ey=0;ey<eI;++ey)eP[ix[ey]]=b(e_,3);var eN=void 0,eG=void 0,ek=0,eD=o.m,eF=8,eq=a(128,c);s:for(;h(eq,0,7,eP,19);){if(b(eD,1)){var ej=2+2*b(eD,3);if((eN=2+b(eD,ej))>ev)break}else eN=ev;for(eG=0;eG<ev&&eN--;){R(eD);var eU=eq[0+(127&_(eD))];O(eD,eD.u+eU.g);var eH=eU.value;if(16>eH)eu[eG++]=eH,0!=eH&&(eF=eH);else{var eB=16==eH,eZ=eH-16,ez=iy[eZ],eV=b(eD,im[eZ])+ez;if(eG+eV>ev)break s;for(var eY=eB?eF:0;0<eV--;)eu[eG++]=eY}}ek=1;break}ek||(o.a=3),eL=ek}(eL=eL&&!e_.h)&&(eE=h(es,ex,8,eu,ev)),eL&&0!=eE?eM=eE:(o.a=3,eM=0)}if(0==eM)break i;if(eg&&1==ib[H]&&(eg=0==es[B].g),ef+=es[B].g,B+=eM,3>=H){var eW,eX=eu[0];for(eW=1;eW<en;++eW)eu[eW]>eX&&(eX=eu[eW]);em+=eX}}if(ec.nd=eg,ec.Qb=0,eg&&(ec.qb=(ed[3][ep[3]+0].value<<24|ed[1][ep[1]+0].value<<16|ed[2][ep[2]+0].value)>>>0,0==ef&&256>ed[0][ep[0]+0].value&&(ec.Qb=1,ec.qb+=ed[0][ep[0]+0].value<<8)),ec.jc=!ec.Qb&&6>em,ec.jc)for(eh=0;eh<rm;++eh){var eK=eh,eJ=ec.pd[eK],e$=ec.G[0][ec.H[0]+eK];256<=e$.value?(eJ.g=e$.g+256,eJ.value=e$.value):(eJ.g=0,eJ.value=0,eK>>=eb(e$,8,eJ),eK>>=eb(ec.G[1][ec.H[1]+eK],16,eJ),eK>>=eb(ec.G[2][ec.H[2]+eK],0,eJ),eb(ec.G[3][ec.H[3]+eK],24,eJ))}}W.vc=X,W.Wb=K,W.Ya=el,W.yc=es,j=1;break r}j=0}if(!(u=j)){o.a=3;break}if(0<v){if(m.ua=1<<v,!M(m.Wa,v)){o.a=1,u=0;break}}else m.ua=0;var eQ=d,e0=f,e1=o.s,e2=e1.xc;if(o.c=eQ,o.i=e0,e1.md=D(eQ,e2),e1.wc=0==e2?-1:(1<<e2)-1,i){o.xb=iD;break}if(null==(y=s(d*f))){o.a=1,u=0;break}u=(u=eA(o,y,0,d,f,f,null))&&!g.h;break}return u?(null!=l?l[0]=y:(t(null==y),t(i)),o.$=0,i||ew(m)):ew(m),u}function eL(e,r){var i=e.c*e.i;return t(e.c<=r),e.V=s(i+r+16*r),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+i+r,1)}function eP(e,r){var i=e.C,n=r-i,s=e.V,a=e.Ba+e.c*i;for(t(r<=e.l.o);0<n;){var o=16<n?16:n,l=e.l.ma,u=e.l.width,h=u*o,c=l.ca,d=l.tb+u*i,p=e.Ta,f=e.Ua;eE(e,o,s,a),r5(p,f,c,d,h),eO(l,i,i+o,c,d,u),n-=o,s+=o*e.c,i+=o}t(i==r),e.C=e.Ma=r}function eI(){this.ub=this.yd=this.td=this.Rb=0}function eM(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function eN(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function eG(){var e;this.Yb=(function e(t,r,i){for(var n=i[r],s=0;s<n&&(t.push(i.length>r+1?[]:0),!(i.length<r+1));s++)e(t[s],r+1,i)}(e=[],0,[3,11]),e)}function ek(){this.jb=s(3),this.Wc=o([4,8],eG),this.Xc=o([4,17],eG)}function eD(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function eF(){this.ld=this.La=this.dd=this.tc=0}function eq(){this.Na=this.la=0}function ej(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function eU(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function eH(){this.uc=this.M=this.Nb=0,this.wa=Array(new eF),this.Y=0,this.ya=Array(new eU),this.aa=0,this.l=new eV}function eB(){this.y=s(16),this.f=s(8),this.ea=s(8)}function eZ(){this.cb=this.a=0,this.sc="",this.m=new x,this.Od=new eI,this.Kc=new eM,this.ed=new eD,this.Qa=new eN,this.Ic=this.$c=this.Aa=0,this.D=new eH,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,x),this.ia=0,this.pb=a(4,ej),this.Pa=new ek,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new eB),this.Hd=0,this.rb=Array(new eq),this.sb=0,this.wa=Array(new eF),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new eU),this.L=this.aa=0,this.gd=o([4,2],eF),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ez(e,t){return 0>e?0:e>t?t:e}function eV(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function eY(){var e=new eZ;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,iA||(iA=eJ)),e}function eW(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function eX(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function eK(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return eW(e,2,"null VP8Io passed to VP8GetHeaders()");var i=r.data,s=r.w,a=r.ha;if(4>a)return eW(e,7,"Truncated header.");var o=i[s+0]|i[s+1]<<8|i[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return eW(e,3,"Incorrect keyframe parameters.");if(!l.yd)return eW(e,4,"Frame not displayable.");s+=3,a-=3;var u=e.Kc;if(l.Rb){if(7>a)return eW(e,7,"cannot parse picture header");if(!eX(i,s,a))return eW(e,3,"Bad code word");u.c=16383&(i[s+4]<<8|i[s+3]),u.Td=i[s+4]>>6,u.i=16383&(i[s+6]<<8|i[s+5]),u.Ud=i[s+6]>>6,s+=7,a-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,r.width=u.c,r.height=u.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,n((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,n(o.Zb,0,0,o.Zb.length),n(o.Lb,0,0,o.Lb)}if(l.ub>a)return eW(e,7,"bad partition length");f(o=e.m,i,s,l.ub),s+=l.ub,a-=l.ub,l.Rb&&(u.Ld=w(o),u.Kd=w(o)),u=e.Qa;var h,c=e.Pa;if(t(null!=o),t(null!=u),u.Cb=w(o),u.Cb){if(u.Bb=w(o),w(o)){for(u.Fb=w(o),h=0;4>h;++h)u.Zb[h]=w(o)?m(o,7):0;for(h=0;4>h;++h)u.Lb[h]=w(o)?m(o,6):0}if(u.Bb)for(h=0;3>h;++h)c.jb[h]=w(o)?g(o,8):255}else u.Bb=0;if(o.Ka)return eW(e,3,"cannot parse segment header");if((u=e.ed).zd=w(o),u.Tb=g(o,6),u.wb=g(o,3),u.Pc=w(o),u.Pc&&w(o)){for(c=0;4>c;++c)w(o)&&(u.vd[c]=m(o,6));for(c=0;4>c;++c)w(o)&&(u.od[c]=m(o,6))}if(e.L=0==u.Tb?0:u.zd?1:2,o.Ka)return eW(e,3,"cannot parse filter header");var d=a;if(a=h=s,s=h+d,u=d,e.Xb=(1<<g(e.m,2))-1,d<3*(c=e.Xb))i=7;else{for(h+=3*c,u-=3*c,d=0;d<c;++d){var p=i[a+0]|i[a+1]<<8|i[a+2]<<16;p>u&&(p=u),f(e.Jc[+d],i,h,p),h+=p,u-=p,a+=3}f(e.Jc[+c],i,h,u),i=h<s?0:5}if(0!=i)return eW(e,i,"cannot parse partitions");for(i=g(h=e.m,7),a=w(h)?m(h,4):0,s=w(h)?m(h,4):0,u=w(h)?m(h,4):0,c=w(h)?m(h,4):0,h=w(h)?m(h,4):0,d=e.Qa,p=0;4>p;++p){if(d.Cb){var y=d.Zb[p];d.Fb||(y+=i)}else{if(0<p){e.pb[p]=e.pb[0];continue}y=i}var v=e.pb[p];v.Sc[0]=iO[ez(y+a,127)],v.Sc[1]=iR[ez(y+0,127)],v.Eb[0]=2*iO[ez(y+s,127)],v.Eb[1]=101581*iR[ez(y+u,127)]>>16,8>v.Eb[1]&&(v.Eb[1]=8),v.Qc[0]=iO[ez(y+c,117)],v.Qc[1]=iR[ez(y+h,127)],v.lc=y+h}if(!l.Rb)return eW(e,4,"Not a key frame.");for(w(o),l=e.Pa,i=0;4>i;++i){for(a=0;8>a;++a)for(s=0;3>s;++s)for(u=0;11>u;++u)c=C(o,iI[i][a][s][u])?g(o,8):iL[i][a][s][u],l.Wc[i][a].Yb[s][u]=c;for(a=0;17>a;++a)l.Xc[i][a]=l.Wc[i][iM[a]]}return e.kc=w(o),e.kc&&(e.Bd=g(o,8)),e.cb=1}function eJ(e,t,r,i,n,s,a){var o=t[n].Yb[r];for(r=0;16>n;++n){if(!C(e,o[r+0]))return n;for(;!C(e,o[r+1]);)if(o=t[++n].Yb[0],r=0,16==n)return 16;var l=t[n+1].Yb;if(C(e,o[r+2])){var u=e,h=0;if(C(u,(d=o)[(c=r)+3])){if(C(u,d[c+6])){for(o=0,c=2*(h=C(u,d[c+8]))+(d=C(u,d[c+9+h])),h=0,d=iw[c];d[o];++o)h+=h+C(u,d[o]);h+=3+(8<<c)}else h=C(u,d[c+7])?7+2*C(u,165)+C(u,145):5+C(u,159)}else h=C(u,d[c+4])?3+C(u,d[c+5]):2;o=l[2]}else h=1,o=l[1];l=a+iC[n],0>(u=e).b&&A(u);var c,d=u.b,p=(c=u.Ca>>1)-(u.I>>d)>>31;--u.b,u.Ca+=p,u.Ca|=1,u.I-=(c+1&p)<<d,s[l]=((h^p)-p)*i[(0<n)+0]}return 16}function e$(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,n(e.zc,0,0,e.zc.length),e.ja=0}function eQ(e,t,r,i,n){n=e[t+r+32*i]+(n>>3),e[t+r+32*i]=-256&n?0>n?0:255:n}function e0(e,t,r,i,n,s){eQ(e,t,0,r,i+n),eQ(e,t,1,r,i+s),eQ(e,t,2,r,i-s),eQ(e,t,3,r,i-n)}function e1(e){return(20091*e>>16)+e}function e2(e,t,r,i){var n,a=0,o=s(16);for(n=0;4>n;++n){var l=e[t+0]+e[t+8],u=e[t+0]-e[t+8],h=(35468*e[t+4]>>16)-e1(e[t+12]),c=e1(e[t+4])+(35468*e[t+12]>>16);o[a+0]=l+c,o[a+1]=u+h,o[a+2]=u-h,o[a+3]=l-c,a+=4,t++}for(n=a=0;4>n;++n)l=(e=o[a+0]+4)+o[a+8],u=e-o[a+8],h=(35468*o[a+4]>>16)-e1(o[a+12]),eQ(r,i,0,0,l+(c=e1(o[a+4])+(35468*o[a+12]>>16))),eQ(r,i,1,0,u+h),eQ(r,i,2,0,u-h),eQ(r,i,3,0,l-c),a++,i+=32}function e5(e,t,r,i){var n=e[t+0]+4,s=35468*e[t+4]>>16,a=e1(e[t+4]),o=35468*e[t+1]>>16;e0(r,i,0,n+a,e=e1(e[t+1]),o),e0(r,i,1,n+s,e,o),e0(r,i,2,n-s,e,o),e0(r,i,3,n-a,e,o)}function e3(e,t,r,i,n){e2(e,t,r,i),n&&e2(e,t+16,r,i+4)}function e4(e,t,r,i){rD(e,t+0,r,i,1),rD(e,t+32,r,i+128,1)}function e6(e,t,r,i){var n;for(e=e[t+0]+4,n=0;4>n;++n)for(t=0;4>t;++t)eQ(r,i,t,n,e)}function e8(e,t,r,i){e[t+0]&&rj(e,t+0,r,i),e[t+16]&&rj(e,t+16,r,i+4),e[t+32]&&rj(e,t+32,r,i+128),e[t+48]&&rj(e,t+48,r,i+128+4)}function e7(e,t,r,i){var n,a=s(16);for(n=0;4>n;++n){var o=e[t+0+n]+e[t+12+n],l=e[t+4+n]+e[t+8+n],u=e[t+4+n]-e[t+8+n],h=e[t+0+n]-e[t+12+n];a[0+n]=o+l,a[8+n]=o-l,a[4+n]=h+u,a[12+n]=h-u}for(n=0;4>n;++n)o=(e=a[0+4*n]+3)+a[3+4*n],l=a[1+4*n]+a[2+4*n],u=a[1+4*n]-a[2+4*n],h=e-a[3+4*n],r[i+0]=o+l>>3,r[i+16]=h+u>>3,r[i+32]=o-l>>3,r[i+48]=h-u>>3,i+=64}function e9(e,t,r){var i,n=t-32,s=255-e[n-1];for(i=0;i<r;++i){var a,o=s+e[t-1];for(a=0;a<r;++a)e[t+a]=it[o+e[n+a]];t+=32}}function te(e,t){e9(e,t,4)}function tt(e,t){e9(e,t,8)}function tr(e,t){e9(e,t,16)}function ti(e,t){var r;for(r=0;16>r;++r)i(e,t+32*r,e,t-32,16)}function tn(e,t){var r;for(r=16;0<r;--r)n(e,t,e[t-1],16),t+=32}function ts(e,t,r){var i;for(i=0;16>i;++i)n(t,r+32*i,e,16)}function ta(e,t){var r,i=16;for(r=0;16>r;++r)i+=e[t-1+32*r]+e[t+r-32];ts(i>>5,e,t)}function to(e,t){var r,i=8;for(r=0;16>r;++r)i+=e[t-1+32*r];ts(i>>4,e,t)}function tl(e,t){var r,i=8;for(r=0;16>r;++r)i+=e[t+r-32];ts(i>>4,e,t)}function tu(e,t){ts(128,e,t)}function th(e,t,r){return e+2*t+r+2>>2}function tc(e,t){var r,n=t-32;for(r=0,n=new Uint8Array([th(e[n-1],e[n+0],e[n+1]),th(e[n+0],e[n+1],e[n+2]),th(e[n+1],e[n+2],e[n+3]),th(e[n+2],e[n+3],e[n+4])]);4>r;++r)i(e,t+32*r,n,0,n.length)}function td(e,t){var r=e[t-1],i=e[t-1+32],n=e[t-1+64],s=e[t-1+96];T(e,t+0,16843009*th(e[t-1-32],r,i)),T(e,t+32,16843009*th(r,i,n)),T(e,t+64,16843009*th(i,n,s)),T(e,t+96,16843009*th(n,s,s))}function tp(e,t){var r,i=4;for(r=0;4>r;++r)i+=e[t+r-32]+e[t-1+32*r];for(i>>=3,r=0;4>r;++r)n(e,t+32*r,i,4)}function tf(e,t){var r=e[t-1+0],i=e[t-1+32],n=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],u=e[t+3-32];e[t+0+96]=th(i,n,e[t-1+96]),e[t+1+96]=e[t+0+64]=th(r,i,n),e[t+2+96]=e[t+1+64]=e[t+0+32]=th(s,r,i),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=th(a,s,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=th(o,a,s),e[t+3+32]=e[t+2+0]=th(l,o,a),e[t+3+0]=th(u,l,o)}function tg(e,t){var r=e[t+1-32],i=e[t+2-32],n=e[t+3-32],s=e[t+4-32],a=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=th(e[t+0-32],r,i),e[t+1+0]=e[t+0+32]=th(r,i,n),e[t+2+0]=e[t+1+32]=e[t+0+64]=th(i,n,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=th(n,s,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=th(s,a,o),e[t+3+64]=e[t+2+96]=th(a,o,l),e[t+3+96]=th(o,l,l)}function tm(e,t){var r=e[t-1+0],i=e[t-1+32],n=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],l=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=s+a+1>>1,e[t+1+0]=e[t+2+64]=a+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+u+1>>1,e[t+0+96]=th(n,i,r),e[t+0+64]=th(i,r,s),e[t+0+32]=e[t+1+96]=th(r,s,a),e[t+1+32]=e[t+2+96]=th(s,a,o),e[t+2+32]=e[t+3+96]=th(a,o,l),e[t+3+32]=th(o,l,u)}function ty(e,t){var r=e[t+0-32],i=e[t+1-32],n=e[t+2-32],s=e[t+3-32],a=e[t+4-32],o=e[t+5-32],l=e[t+6-32],u=e[t+7-32];e[t+0+0]=r+i+1>>1,e[t+1+0]=e[t+0+64]=i+n+1>>1,e[t+2+0]=e[t+1+64]=n+s+1>>1,e[t+3+0]=e[t+2+64]=s+a+1>>1,e[t+0+32]=th(r,i,n),e[t+1+32]=e[t+0+96]=th(i,n,s),e[t+2+32]=e[t+1+96]=th(n,s,a),e[t+3+32]=e[t+2+96]=th(s,a,o),e[t+3+64]=th(a,o,l),e[t+3+96]=th(o,l,u)}function tv(e,t){var r=e[t-1+0],i=e[t-1+32],n=e[t-1+64],s=e[t-1+96];e[t+0+0]=r+i+1>>1,e[t+2+0]=e[t+0+32]=i+n+1>>1,e[t+2+32]=e[t+0+64]=n+s+1>>1,e[t+1+0]=th(r,i,n),e[t+3+0]=e[t+1+32]=th(i,n,s),e[t+3+32]=e[t+1+64]=th(n,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function tb(e,t){var r=e[t-1+0],i=e[t-1+32],n=e[t-1+64],s=e[t-1+96],a=e[t-1-32],o=e[t+0-32],l=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=r+a+1>>1,e[t+0+32]=e[t+2+64]=i+r+1>>1,e[t+0+64]=e[t+2+96]=n+i+1>>1,e[t+0+96]=s+n+1>>1,e[t+3+0]=th(o,l,u),e[t+2+0]=th(a,o,l),e[t+1+0]=e[t+3+32]=th(r,a,o),e[t+1+32]=e[t+3+64]=th(i,r,a),e[t+1+64]=e[t+3+96]=th(n,i,r),e[t+1+96]=th(s,n,i)}function tx(e,t){var r;for(r=0;8>r;++r)i(e,t+32*r,e,t-32,8)}function tE(e,t){var r;for(r=0;8>r;++r)n(e,t,e[t-1],8),t+=32}function t_(e,t,r){var i;for(i=0;8>i;++i)n(t,r+32*i,e,8)}function tS(e,t){var r,i=8;for(r=0;8>r;++r)i+=e[t+r-32]+e[t-1+32*r];t_(i>>4,e,t)}function tO(e,t){var r,i=4;for(r=0;8>r;++r)i+=e[t+r-32];t_(i>>3,e,t)}function tR(e,t){var r,i=4;for(r=0;8>r;++r)i+=e[t-1+32*r];t_(i>>3,e,t)}function tA(e,t){t_(128,e,t)}function tw(e,t,r){var i=e[t-r],n=e[t+0],s=3*(n-i)+r9[1020+e[t-2*r]-e[t+r]],a=ie[112+(s+4>>3)];e[t-r]=it[255+i+ie[112+(s+3>>3)]],e[t+0]=it[255+n-a]}function tC(e,t,r,i){var n=e[t+0],s=e[t+r];return ir[255+e[t-2*r]-e[t-r]]>i||ir[255+s-n]>i}function tT(e,t,r,i){return 4*ir[255+e[t-r]-e[t+0]]+ir[255+e[t-2*r]-e[t+r]]<=i}function tL(e,t,r,i,n){var s=e[t-3*r],a=e[t-2*r],o=e[t-r],l=e[t+0],u=e[t+r],h=e[t+2*r],c=e[t+3*r];return 4*ir[255+o-l]+ir[255+a-u]>i?0:ir[255+e[t-4*r]-s]<=n&&ir[255+s-a]<=n&&ir[255+a-o]<=n&&ir[255+c-h]<=n&&ir[255+h-u]<=n&&ir[255+u-l]<=n}function tP(e,t,r,i){var n=2*i+1;for(i=0;16>i;++i)tT(e,t+i,r,n)&&tw(e,t+i,r)}function tI(e,t,r,i){var n=2*i+1;for(i=0;16>i;++i)tT(e,t+i*r,1,n)&&tw(e,t+i*r,1)}function tM(e,t,r,i){var n;for(n=3;0<n;--n)tP(e,t+=4*r,r,i)}function tN(e,t,r,i){var n;for(n=3;0<n;--n)tI(e,t+=4,r,i)}function tG(e,t,r,i,n,s,a,o){for(s=2*s+1;0<n--;){if(tL(e,t,r,s,a)){if(tC(e,t,r,o))tw(e,t,r);else{var l=t,u=e[l-2*r],h=e[l-r],c=e[l+0],d=e[l+r],p=e[l+2*r],f=27*(m=r9[1020+3*(c-h)+r9[1020+u-d]])+63>>7,g=18*m+63>>7,m=9*m+63>>7;e[l-3*r]=it[255+e[l-3*r]+m],e[l-2*r]=it[255+u+g],e[l-r]=it[255+h+f],e[l+0]=it[255+c-f],e[l+r]=it[255+d-g],e[l+2*r]=it[255+p-m]}}t+=i}}function tk(e,t,r,i,n,s,a,o){for(s=2*s+1;0<n--;){if(tL(e,t,r,s,a)){if(tC(e,t,r,o))tw(e,t,r);else{var l=t,u=e[l-r],h=e[l+0],c=e[l+r],d=ie[112+((p=3*(h-u))+4>>3)],p=ie[112+(p+3>>3)],f=d+1>>1;e[l-2*r]=it[255+e[l-2*r]+f],e[l-r]=it[255+u+p],e[l+0]=it[255+h-d],e[l+r]=it[255+c-f]}}t+=i}}function tD(e,t,r,i,n,s){tG(e,t,r,1,16,i,n,s)}function tF(e,t,r,i,n,s){tG(e,t,1,r,16,i,n,s)}function tq(e,t,r,i,n,s){var a;for(a=3;0<a;--a)tk(e,t+=4*r,r,1,16,i,n,s)}function tj(e,t,r,i,n,s){var a;for(a=3;0<a;--a)tk(e,t+=4,1,r,16,i,n,s)}function tU(e,t,r,i,n,s,a,o){tG(e,t,n,1,8,s,a,o),tG(r,i,n,1,8,s,a,o)}function tH(e,t,r,i,n,s,a,o){tG(e,t,1,n,8,s,a,o),tG(r,i,1,n,8,s,a,o)}function tB(e,t,r,i,n,s,a,o){tk(e,t+4*n,n,1,8,s,a,o),tk(r,i+4*n,n,1,8,s,a,o)}function tZ(e,t,r,i,n,s,a,o){tk(e,t+4,1,n,8,s,a,o),tk(r,i+4,1,n,8,s,a,o)}function tz(){this.ba=new ea,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new el,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tV(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tY(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tW(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new c}function tX(){this.xb=this.a=0,this.l=new eV,this.ca=new ea,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tW,this.ab=0,this.gc=a(4,tY),this.Oc=0}function tK(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new eV,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tJ(e,t,r,i,n,s,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)n[s+t]=e+r[i+t]&255,e=n[s+t]}function t$(e,t,r,i,n,s,a){var o;if(null==e)tJ(null,null,r,i,n,s,a);else for(o=0;o<a;++o)n[s+o]=e[t+o]+r[i+o]&255}function tQ(e,t,r,i,n,s,a){if(null==e)tJ(null,null,r,i,n,s,a);else{var o,l=e[t+0],u=l,h=l;for(o=0;o<a;++o)u=h+(l=e[t+o])-u,h=r[i+o]+(-256&u?0>u?0:255:u)&255,u=l,n[s+o]=h}}function t0(e,t,r,i,n,s){for(;0<n--;){var a,o=t+(r?1:0),l=t+(r?0:3);for(a=0;a<i;++a){var u=e[l+4*a];255!=u&&(u*=32897,e[o+4*a+0]=e[o+4*a+0]*u>>23,e[o+4*a+1]=e[o+4*a+1]*u>>23,e[o+4*a+2]=e[o+4*a+2]*u>>23)}t+=s}}function t1(e,t,r,i,n){for(;0<i--;){var s;for(s=0;s<r;++s){var a=e[t+2*s+0],o=15&(u=e[t+2*s+1]),l=4369*o,u=(240&u|u>>4)*l>>16;e[t+2*s+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,e[t+2*s+1]=240&u|o}t+=n}}function t2(e,t,r,i,n,s,a,o){var l,u,h=255;for(u=0;u<n;++u){for(l=0;l<i;++l){var c=e[t+l];s[a+4*l]=c,h&=c}t+=r,a+=o}return 255!=h}function t5(e,t,r,i,n){var s;for(s=0;s<n;++s)r[i+s]=e[t+s]>>8}function t3(){r0=t0,r1=t1,r2=t2,r5=t5}function t4(r,i,n){e[r]=function(e,r,s,a,o,l,u,h,c,d,p,f,g,m,y,v,b){var x,E=b-1>>1,_=o[l+0]|u[h+0]<<16,S=c[d+0]|p[f+0]<<16;t(null!=e);var O=3*_+S+131074>>2;for(i(e[r+0],255&O,O>>16,g,m),null!=s&&(O=3*S+_+131074>>2,i(s[a+0],255&O,O>>16,y,v)),x=1;x<=E;++x){var R=o[l+x]|u[h+x]<<16,A=c[d+x]|p[f+x]<<16,w=_+R+S+A+524296,C=w+2*(R+S)>>3;O=C+_>>1,_=(w=w+2*(_+A)>>3)+R>>1,i(e[r+2*x-1],255&O,O>>16,g,m+(2*x-1)*n),i(e[r+2*x-0],255&_,_>>16,g,m+(2*x-0)*n),null!=s&&(O=w+S>>1,_=C+A>>1,i(s[a+2*x-1],255&O,O>>16,y,v+(2*x-1)*n),i(s[a+2*x+0],255&_,_>>16,y,v+(2*x+0)*n)),_=R,S=A}1&b||(O=3*_+S+131074>>2,i(e[r+b-1],255&O,O>>16,g,m+(b-1)*n),null!=s&&(O=3*S+_+131074>>2,i(s[a+b-1],255&O,O>>16,y,v+(b-1)*n)))}}function t6(){ij[ii]=iU,ij[is]=iB,ij[ia]=iH,ij[io]=iZ,ij[il]=iz,ij[iu]=iV,ij[ih]=iY,ij[ic]=iB,ij[id]=iZ,ij[ip]=iz,ij[ig]=iV}function t8(e){return e&~iQ?0>e?0:255:e>>i$}function t7(e,t){return t8((19077*e>>8)+(26149*t>>8)-14234)}function t9(e,t,r){return t8((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function re(e,t){return t8((19077*e>>8)+(33050*t>>8)-17685)}function rt(e,t,r,i,n){i[n+0]=t7(e,r),i[n+1]=t9(e,t,r),i[n+2]=re(e,t)}function rr(e,t,r,i,n){i[n+0]=re(e,t),i[n+1]=t9(e,t,r),i[n+2]=t7(e,r)}function ri(e,t,r,i,n){var s=t9(e,t,r);t=s<<3&224|re(e,t)>>3,i[n+0]=248&t7(e,r)|s>>5,i[n+1]=t}function rn(e,t,r,i,n){var s=240&re(e,t)|15;i[n+0]=240&t7(e,r)|t9(e,t,r)>>4,i[n+1]=s}function rs(e,t,r,i,n){i[n+0]=255,rt(e,t,r,i,n+1)}function ra(e,t,r,i,n){rr(e,t,r,i,n),i[n+3]=255}function ro(e,t,r,i,n){rt(e,t,r,i,n),i[n+3]=255}function ez(e,t){return 0>e?0:e>t?t:e}function rl(t,r,i){e[t]=function(e,t,n,s,a,o,l,u,h){for(var c=u+(-2&h)*i;u!=c;)r(e[t+0],n[s+0],a[o+0],l,u),r(e[t+1],n[s+0],a[o+0],l,u+i),t+=2,++s,++o,u+=2*i;1&h&&r(e[t+0],n[s+0],a[o+0],l,u)}}function ru(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function rh(e,t,r,i,n){switch(e>>>30){case 3:rD(t,r,i,n,0);break;case 2:rF(t,r,i,n);break;case 1:rj(t,r,i,n)}}function rc(e,t){var r,s,a=t.M,o=t.Nb,l=e.oc,u=e.pc+40,h=e.oc,c=e.pc+584,d=e.oc,p=e.pc+600;for(r=0;16>r;++r)l[u+32*r-1]=129;for(r=0;8>r;++r)h[c+32*r-1]=129,d[p+32*r-1]=129;for(0<a?l[u-1-32]=h[c-1-32]=d[p-1-32]=129:(n(l,u-32-1,127,21),n(h,c-32-1,127,9),n(d,p-32-1,127,9)),s=0;s<e.za;++s){var f=t.ya[t.aa+s];if(0<s){for(r=-1;16>r;++r)i(l,u+32*r-4,l,u+32*r+12,4);for(r=-1;8>r;++r)i(h,c+32*r-4,h,c+32*r+4,4),i(d,p+32*r-4,d,p+32*r+4,4)}var g=e.Gd,m=e.Hd+s,y=f.ad,v=f.Hc;if(0<a&&(i(l,u-32,g[m].y,0,16),i(h,c-32,g[m].f,0,8),i(d,p-32,g[m].ea,0,8)),f.Za){var b=l,x=u-32+16;for(0<a&&(s>=e.za-1?n(b,x,g[m].y[15],4):i(b,x,g[m+1].y,0,4)),r=0;4>r;r++)b[x+128+r]=b[x+256+r]=b[x+384+r]=b[x+0+r];for(r=0;16>r;++r,v<<=2)b=l,x=u+i8[r],iG[f.Ob[r]](b,x),rh(v,y,16*+r,b,x)}else if(iN[b=ru(s,a,f.Ob[0])](l,u),0!=v)for(r=0;16>r;++r,v<<=2)rh(v,y,16*+r,l,u+i8[r]);for(r=f.Gc,ik[b=ru(s,a,f.Dd)](h,c),ik[b](d,p),v=y,b=h,x=c,255&(f=r>>0)&&(170&f?rq(v,256,b,x):rU(v,256,b,x)),f=d,v=p,255&(r>>=8)&&(170&r?rq(y,320,f,v):rU(y,320,f,v)),a<e.Ub-1&&(i(g[m].y,0,l,u+480,16),i(g[m].f,0,h,c+224,8),i(g[m].ea,0,d,p+224,8)),r=8*o*e.B,g=e.sa,m=e.ta+16*s+16*o*e.R,y=e.qa,f=e.ra+8*s+r,v=e.Ha,b=e.Ia+8*s+r,r=0;16>r;++r)i(g,m+r*e.R,l,u+32*r,16);for(r=0;8>r;++r)i(y,f+r*e.B,h,c+32*r,8),i(v,b+r*e.B,d,p+32*r,8)}}function rd(e,i,n,s,a,o,l,u,h){var c=[0],d=[0],p=0,f=null!=h?h.kd:0,g=null!=h?h:new tV;if(null==e||12>n)return 7;g.data=e,g.w=i,g.ha=n,i=[i],n=[n],g.gb=[g.gb];t:{var m=i,v=n,b=g.gb;if(t(null!=e),t(null!=v),t(null!=b),b[0]=0,12<=v[0]&&!r(e,m[0],"RIFF")){if(r(e,m[0]+8,"WEBP")){b=3;break t}var x=I(e,m[0]+4);if(12>x||4294967286<x){b=3;break t}if(f&&x>v[0]-8){b=7;break t}b[0]=x,m[0]+=12,v[0]-=12}b=0}if(0!=b)return b;for(x=0<g.gb[0],n=n[0];;){t:{var _=e;v=i,b=n;var S=c,O=d,R=m=[0];if((C=p=[p])[0]=0,8>b[0])b=7;else{if(!r(_,v[0],"VP8X")){if(10!=I(_,v[0]+4)){b=3;break t}if(18>b[0]){b=7;break t}var A=I(_,v[0]+8),w=1+P(_,v[0]+12);if(2147483648<=w*(_=1+P(_,v[0]+15))){b=3;break t}null!=R&&(R[0]=A),null!=S&&(S[0]=w),null!=O&&(O[0]=_),v[0]+=18,b[0]-=18,C[0]=1}b=0}}if(p=p[0],m=m[0],0!=b)return b;if(v=!!(2&m),!x&&p)return 3;if(null!=o&&(o[0]=!!(16&m)),null!=l&&(l[0]=v),null!=u&&(u[0]=0),l=0,m=0,p&&v&&null==h){b=0;break}if(4>n){b=7;break}if(x&&p||!x&&!p&&!r(e,i[0],"ALPH")){n=[n],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];t:{A=e,b=i,x=n;var C=g.gb;S=g.na,O=g.P,R=g.Sa,w=22,t(null!=A),t(null!=x),_=b[0];var T=x[0];for(t(null!=S),t(null!=R),S[0]=null,O[0]=null,R[0]=0;;){if(b[0]=_,x[0]=T,8>T){b=7;break t}var L=I(A,_+4);if(4294967286<L){b=3;break t}var M=8+L+1&-2;if(w+=M,0<C&&w>C){b=3;break t}if(!r(A,_,"VP8 ")||!r(A,_,"VP8L")){b=0;break t}if(T[0]<M){b=7;break t}r(A,_,"ALPH")||(S[0]=A,O[0]=_+8,R[0]=L),_+=M,T-=M}}if(n=n[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=b)break}n=[n],g.Ja=[g.Ja],g.xa=[g.xa];t:if(C=e,b=i,x=n,S=g.gb[0],O=g.Ja,R=g.xa,_=!r(C,A=b[0],"VP8 "),w=!r(C,A,"VP8L"),t(null!=C),t(null!=x),t(null!=O),t(null!=R),8>x[0])b=7;else{if(_||w){if(C=I(C,A+4),12<=S&&C>S-12){b=3;break t}if(f&&C>x[0]-8){b=7;break t}O[0]=C,b[0]+=8,x[0]-=8,R[0]=w}else R[0]=5<=x[0]&&47==C[A+0]&&!(C[A+4]>>5),O[0]=x[0];b=0}if(n=n[0],g.Ja=g.Ja[0],g.xa=g.xa[0],i=i[0],0!=b)break;if(4294967286<g.Ja)return 3;if(null==u||v||(u[0]=g.xa?2:1),l=[l],m=[m],g.xa){if(5>n){b=7;break}u=l,f=m,v=o,null==e||5>n?e=0:5<=n&&47==e[i+0]&&!(e[i+4]>>5)?(x=[0],C=[0],S=[0],y(O=new E,e,i,n),eg(O,x,C,S)?(null!=u&&(u[0]=x[0]),null!=f&&(f[0]=C[0]),null!=v&&(v[0]=S[0]),e=1):e=0):e=0}else{if(10>n){b=7;break}u=m,null==e||10>n||!eX(e,i+3,n-3)?e=0:(f=e[i+0]|e[i+1]<<8|e[i+2]<<16,v=16383&(e[i+7]<<8|e[i+6]),e=16383&(e[i+9]<<8|e[i+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=g.Ja||!v||!e?e=0:(l&&(l[0]=v),u&&(u[0]=e),e=1))}if(!e||(l=l[0],m=m[0],p&&(0!=l||0!=m)))return 3;null!=h&&(h[0]=g,h.offset=i-h.w,t(4294967286>i-h.w),t(h.offset==h.ha-n));break}return 0==b||7==b&&p&&null==h?(null!=o&&(o[0]|=null!=g.na&&0<g.na.length),null!=s&&(s[0]=l),null!=a&&(a[0]=m),0):b}function rp(e,t,r){var i=t.width,n=t.height,s=0,a=0,o=i,l=n;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,a=e.j,11>r||(s&=-2,a&=-2),0>s||0>a||0>=o||0>=l||s+o>i||a+l>n))return 0;if(t.v=s,t.j=a,t.va=s+o,t.o=a+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!k(o,l,r=[e.ib],s=[e.hb]))return 0;t.ib=r[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*i/4&&t.hb<3*n/4,t.Kb=0),1}function rf(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function rg(e,t,r,i){if(null==i||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var n=r.cd,a=r.bd,o=-2&r.v,l=-2&r.j;if(0>o||0>l||0>=n||0>=a||o+n>e||l+a>t)return 2;e=n,t=a}if(r.da){if(!k(e,t,n=[r.ib],a=[r.hb]))return 2;e=n[0],t=a[0]}}i.width=e,i.height=t;t:{var u=i.width,h=i.height;if(e=i.S,0>=u||0>=h||!(e>=ii&&13>e))e=2;else{if(0>=i.Rd&&null==i.sd){o=a=n=t=0;var c=(l=u*ne[e])*h;if(11>e||(a=(h+1)/2*(t=(u+1)/2),12==e&&(o=(n=u)*h)),null==(h=s(c+2*a+o))){e=1;break t}i.sd=h,11>e?((u=i.f.RGBA).eb=h,u.fb=0,u.A=l,u.size=c):((u=i.f.kb).y=h,u.O=0,u.fa=l,u.Fd=c,u.f=h,u.N=0+c,u.Ab=t,u.Cd=a,u.ea=h,u.W=0+c+a,u.Db=t,u.Ed=a,12==e&&(u.F=h,u.J=0+c+2*a),u.Tc=o,u.lb=n)}if(t=1,n=i.S,a=i.width,o=i.height,n>=ii&&13>n){if(11>n)t&=(l=Math.abs((e=i.f.RGBA).A))*(o-1)+a<=e.size,t&=l>=a*ne[n],t&=null!=e.eb;else{e=i.f.kb,l=(a+1)/2,c=(o+1)/2,u=Math.abs(e.fa),h=Math.abs(e.Ab);var d=Math.abs(e.Db),p=Math.abs(e.lb),f=p*(o-1)+a;t&=u*(o-1)+a<=e.Fd,t&=h*(c-1)+l<=e.Cd,t=(t&=d*(c-1)+l<=e.Ed)&u>=a&h>=l&d>=l&null!=e.y&null!=e.f&null!=e.ea,12==n&&(t&=p>=a,t&=f<=e.Tc,t&=null!=e.F)}}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=rf(i)),e}var rm=64,ry=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rv=24,rb=32,rx=8,rE=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];q("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return U(U(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return U(e,t[r-1])},e.Predictor7=function(e,t,r){return U(e,t[r+0])},e.Predictor8=function(e,t,r){return U(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return U(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return U(U(e,t[r-1]),U(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var i=t[r+0];return 0>=Z(i>>24&255,e>>24&255,(t=t[r-1])>>24&255)+Z(i>>16&255,e>>16&255,t>>16&255)+Z(i>>8&255,e>>8&255,t>>8&255)+Z(255&i,255&e,255&t)?i:e},e.Predictor12=function(e,t,r){var i=t[r+0];return(H((e>>24&255)+(i>>24&255)-((t=t[r-1])>>24&255))<<24|H((e>>16&255)+(i>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(i>>8&255)-(t>>8&255))<<8|H((255&e)+(255&i)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var i=t[r-1];return(B((e=U(e,t[r+0]))>>24&255,i>>24&255)<<24|B(e>>16&255,i>>16&255)<<16|B(e>>8&255,i>>8&255)<<8|B(e>>0&255,i>>0&255))>>>0};var r_=e.PredictorAdd0;e.PredictorAdd1=z,q("Predictor2","PredictorAdd2"),q("Predictor3","PredictorAdd3"),q("Predictor4","PredictorAdd4"),q("Predictor5","PredictorAdd5"),q("Predictor6","PredictorAdd6"),q("Predictor7","PredictorAdd7"),q("Predictor8","PredictorAdd8"),q("Predictor9","PredictorAdd9"),q("Predictor10","PredictorAdd10"),q("Predictor11","PredictorAdd11"),q("Predictor12","PredictorAdd12"),q("Predictor13","PredictorAdd13");var rS=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var rO,rR=e.ColorIndexInverseTransform,rA=e.MapARGB,rw=e.VP8LColorIndexInverseTransformAlpha,rC=e.MapAlpha,rT=e.VP8LPredictorsAdd=[];rT.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var rL,rP,rI,rM,rN,rG,rk,rD,rF,rq,rj,rU,rH,rB,rZ,rz,rV,rY,rW,rX,rK,rJ,r$,rQ,r0,r1,r2,r5,r3=s(511),r4=s(2041),r6=s(225),r8=s(767),r7=0,r9=r4,ie=r6,it=r8,ir=r3,ii=0,is=1,ia=2,io=3,il=4,iu=5,ih=6,ic=7,id=8,ip=9,ig=10,im=[2,3,7],iy=[3,3,11],iv=[280,256,256,256,40],ib=[0,1,1,1,0],ix=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],iE=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],i_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],iS=8,iO=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],iR=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],iA=null,iw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],iC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],iT=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iL=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],iI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],iM=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],iN=[],iG=[],ik=[],iD=1,iF=2,iq=[],ij=[];t4("UpsampleRgbLinePair",rt,3),t4("UpsampleBgrLinePair",rr,3),t4("UpsampleRgbaLinePair",ro,4),t4("UpsampleBgraLinePair",ra,4),t4("UpsampleArgbLinePair",rs,4),t4("UpsampleRgba4444LinePair",rn,2),t4("UpsampleRgb565LinePair",ri,2);var iU=e.UpsampleRgbLinePair,iH=e.UpsampleBgrLinePair,iB=e.UpsampleRgbaLinePair,iZ=e.UpsampleBgraLinePair,iz=e.UpsampleArgbLinePair,iV=e.UpsampleRgba4444LinePair,iY=e.UpsampleRgb565LinePair,iW=16,iX=32768,iK=-227,iJ=482,i$=6,iQ=16383,i0=0,i1=s(256),i2=s(256),i5=s(256),i3=s(256),i4=s(iJ-iK),i6=s(iJ-iK);rl("YuvToRgbRow",rt,3),rl("YuvToBgrRow",rr,3),rl("YuvToRgbaRow",ro,4),rl("YuvToBgraRow",ra,4),rl("YuvToArgbRow",rs,4),rl("YuvToRgba4444Row",rn,2),rl("YuvToRgb565Row",ri,2);var i8=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],i7=[0,2,8],i9=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,r,o,l,u){var h=is,c=new tz,d=new ea;c.ba=d,d.S=h,d.width=[d.width],d.height=[d.height];var p=d.width,f=d.height,g=new eo;if(null==g||null==e)var m=2;else t(null!=g),m=rd(e,r,o,g.width,g.height,g.Pd,g.Qd,g.format,null);if(0!=m?p=0:(null!=p&&(p[0]=g.width[0]),null!=f&&(f[0]=g.height[0]),p=1),p){d.width=d.width[0],d.height=d.height[0],null!=l&&(l[0]=d.width),null!=u&&(u[0]=d.height);t:{if(l=new eV,(u=new tV).data=e,u.w=r,u.ha=o,u.kd=1,r=[0],t(null!=u),(0==(e=rd(u.data,u.w,u.ha,null,null,null,r,null,u))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=c),l.data=u.data,l.w=u.w+u.offset,l.ha=u.ha-u.offset,l.put=ep,l.ac=ed,l.bc=ef,l.ma=c,u.xa){if(null==(e=eC())){c=1;break t}if(function(e,r){for(var i=[0],n=[0],s=[0];;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,y(e.m,r.data,r.w,r.ha),!eg(e.m,i,n,s)){e.a=3;break}if(e.xb=iF,r.width=i[0],r.height=n[0],!eT(i[0],n[0],1,e,null))break;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(r=rg(l.width,l.height,c.Oa,c.ba))){r:{for(l=e;;){if(null==l){l=0;break r}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(u=o.ma)),0!=l.xb){if(l.ca=u.ba,l.tb=u.tb,t(null!=l.ca),!rp(u.Oa,o,io)){l.a=2;break}if(!eL(l,o.width)||o.da)break;if((o.da||ei(l.ca.S))&&t3(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&t3()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!M(l.s.vb,l.s.Wa.Xa)){l.a=1;break}l.xb=0}if(!eA(l,l.V,l.Ba,l.c,l.i,o.o,e_))break;u.Dc=l.Ma,l=1;break r}t(0!=l.a),l=0}l=!l}l&&(r=e.a)}else r=e.a}else if((e=new eY).Fa=u.na,e.P=u.P,e.qc=u.Sa,eK(e,l)){if(0==(r=rg(l.width,l.height,c.Oa,c.ba))){if(e.Aa=0,o=c.Oa,t(null!=(u=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(f=g=0;4>f;++f)12>(m=u.pb[f]).lc&&(m.ia=p*i9[0>m.lc?0:m.lc]>>3),g|=m.ia;g&&(alert("todo:VP8InitRandom"),u.ia=1)}u.Ga=o.Id,100<u.Ga?u.Ga=100:0>u.Ga&&(u.Ga=0)}(function(e,r){if(null==e)return 0;if(null==r)return eW(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!eK(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var o=i7[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-o>>4,e.zb=r.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+o>>4,e.Hb=r.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l,u=e.ed;for(o=0;4>o;++o){if(e.Qa.Cb){var h=e.Qa.Lb[o];e.Qa.Fb||(h+=u.Tb)}else h=u.Tb;for(l=0;1>=l;++l){var c=e.gd[o][l],d=h;if(u.Pc&&(d+=u.vd[0],l&&(d+=u.od[0])),0<(d=0>d?0:63<d?63:d)){var p=d;0<u.wb&&(p=4<u.wb?p>>2:p>>1)>9-u.wb&&(p=9-u.wb),1>p&&(p=1),c.dd=p,c.tc=2*d+p,c.ld=40<=d?2:15<=d?1:0}else c.tc=0;c.La=l}}}o=0}else eW(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,u=4*(p=e.za);var f=32*p,g=p+1,m=0<e.L?p*(0<e.Aa?2:1):0,v=(2==e.Aa?2:1)*p;if((c=u+832+(l=3*(16*o+i7[e.L])/2*f)+(h=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=c)o=0;else{if(c>e.Vb){if(e.Vb=0,e.Ec=s(c),e.Fc=0,null==e.Ec){o=eW(e,1,"no memory during frame initialization.");break t}e.Vb=c}c=e.Ec,d=e.Fc,e.Ac=c,e.Bc=d,d+=u,e.Gd=a(f,eB),e.Hd=0,e.rb=a(g+1,eq),e.sb=1,e.wa=m?a(m,eF):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=c,e.pc=d,d+=832,e.ya=a(v,eU),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(f=i7[e.L])*e.R,f=f/2*e.B,e.sa=c,e.ta=d+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+f,e.$c=0,d+=l,e.mb=h?c:null,e.nb=h?d:null,t(d+h<=e.Fc+e.Vb),e$(e),n(e.Ac,e.Bc,0,u),o=1}}if(o){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!r7){for(o=-255;255>=o;++o)r3[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)r4[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)r6[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)r8[255+o]=0>o?0:255<o?255:o;r7=1}rk=e7,rD=e3,rq=e4,rj=e6,rU=e8,rF=e5,rH=tD,rB=tF,rZ=tU,rz=tH,rV=tq,rY=tj,rW=tB,rX=tZ,rK=tP,rJ=tI,r$=tM,rQ=tN,iG[0]=tp,iG[1]=te,iG[2]=tc,iG[3]=td,iG[4]=tf,iG[5]=tm,iG[6]=tg,iG[7]=ty,iG[8]=tb,iG[9]=tv,iN[0]=ta,iN[1]=tr,iN[2]=ti,iN[3]=tn,iN[4]=to,iN[5]=tl,iN[6]=tu,ik[0]=tS,ik[1]=tt,ik[2]=tx,ik[3]=tE,ik[4]=tR,ik[5]=tO,ik[6]=tA,o=1}else o=0}o&&(o=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var a,o=e.Jc[e.M&e.Xb],l=e.m,u=e;for(a=0;a<u.za;++a){var h=l,c=u,d=c.Ac,p=c.Bc+4*a,f=c.zc,g=c.ya[c.aa+a];if(c.Qa.Bb?g.$b=C(h,c.Pa.jb[0])?2+C(h,c.Pa.jb[2]):C(h,c.Pa.jb[1]):g.$b=0,c.kc&&(g.Ad=C(h,c.Bd)),g.Za=!C(h,145)+0,g.Za){var m=g.Ob,v=0;for(c=0;4>c;++c){var b,x=f[0+c];for(b=0;4>b;++b){x=iP[d[p+b]][x];for(var E=iT[C(h,x[0])];0<E;)E=iT[2*E+C(h,x[E])];x=-E,d[p+b]=x}i(m,v,d,p,4),v+=4,f[0+c]=x}}else x=C(h,156)?C(h,128)?1:3:C(h,163)?2:0,g.Ob[0]=x,n(d,p,x,4),n(f,0,x,4);g.Dd=C(h,142)?C(h,114)?C(h,183)?1:3:2:0}if(u.m.Ka)return eW(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=o,h=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],a=l.ya[l.aa+l.ja],p=l.kc?a.Ad:0)h.la=d.la=0,a.Za||(h.Na=d.Na=0),a.Hc=0,a.Gc=0,a.ia=0;else{if(h=d,d=u,p=l.Pa.Xc,f=l.ya[l.aa+l.ja],g=l.pb[f.$b],c=f.ad,m=0,v=l.rb[l.sb-1],x=b=0,n(c,m,0,384),f.Za)var _,O,A=0,w=p[3];else{E=s(16);var T=h.Na+v.Na;if(T=iA(d,p[1],T,g.Eb,0,E,0),h.Na=v.Na=(0<T)+0,1<T)rk(E,0,c,m);else{var L=E[0]+3>>3;for(E=0;256>E;E+=16)c[m+E]=L}A=1,w=p[0]}var P=15&h.la,I=15&v.la;for(E=0;4>E;++E){var M=1&I;for(L=O=0;4>L;++L)P=P>>1|(M=(T=iA(d,w,T=M+(1&P),g.Sc,A,c,m))>A)<<7,O=O<<2|(3<T?3:1<T?2:0!=c[m+0]),m+=16;P>>=4,I=I>>1|M<<7,b=(b<<8|O)>>>0}for(w=P,A=I>>4,_=0;4>_;_+=2){for(O=0,P=h.la>>4+_,I=v.la>>4+_,E=0;2>E;++E){for(M=1&I,L=0;2>L;++L)T=M+(1&P),P=P>>1|(M=0<(T=iA(d,p[2],T,g.Qc,0,c,m)))<<3,O=O<<2|(3<T?3:1<T?2:0!=c[m+0]),m+=16;P>>=2,I=I>>1|M<<5}x|=O<<4*_,w|=P<<4<<_,A|=(240&I)<<_}h.la=w,v.la=A,f.Hc=b,f.Gc=x,f.ia=43690&x?0:g.ia,p=!(b|x)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[a.$b][a.Za],l.wa[l.Y+l.ja].La|=!p),u.Ka)return eW(e,7,"Premature end-of-file encountered.")}if(e$(e),l=r,u=1,a=(o=e).D,h=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(a.M=o.M,a.uc=h,rc(o,a),u=1,a=(O=o.D).Nb,h=(x=i7[o.L])*o.R,d=x/2*o.B,E=16*a*o.R,L=8*a*o.B,p=o.sa,f=o.ta-h+E,g=o.qa,c=o.ra-d+L,m=o.Ha,v=o.Ia-d+L,I=0==(P=O.M),b=P>=o.Va-1,2==o.Aa&&rc(o,O),O.uc)for(M=(T=o).D.M,t(T.D.uc),O=T.yb;O<T.Hb;++O){A=O,w=M;var N=(G=(Z=T).D).Nb;_=Z.R;var G=G.wa[G.Y+A],k=Z.sa,D=Z.ta+16*N*_+16*A,F=G.dd,q=G.tc;if(0!=q){if(t(3<=q),1==Z.L)0<A&&rJ(k,D,_,q+4),G.La&&rQ(k,D,_,q),0<w&&rK(k,D,_,q+4),G.La&&r$(k,D,_,q);else{var j=Z.B,U=Z.qa,H=Z.ra+8*N*j+8*A,B=Z.Ha,Z=Z.Ia+8*N*j+8*A;N=G.ld,0<A&&(rB(k,D,_,q+4,F,N),rz(U,H,B,Z,j,q+4,F,N)),G.La&&(rY(k,D,_,q,F,N),rX(U,H,B,Z,j,q,F,N)),0<w&&(rH(k,D,_,q+4,F,N),rZ(U,H,B,Z,j,q+4,F,N)),G.La&&(rV(k,D,_,q,F,N),rW(U,H,B,Z,j,q,F,N))}}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(O=16*P,P=16*(P+1),I?(l.y=o.sa,l.O=o.ta+E,l.f=o.qa,l.N=o.ra+L,l.ea=o.Ha,l.W=o.Ia+L):(O-=x,l.y=p,l.O=f,l.f=g,l.N=c,l.ea=m,l.W=v),b||(P-=x),P>l.o&&(P=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&O<P&&(l.J=function(e,r,n,a){var o=r.width,l=r.o;if(t(null!=e&&null!=r),0>n||0>=a||n+a>l)return null;if(!e.Cc){if(null==e.ga){if(e.ga=new tK,(A=null==e.ga)||(A=r.width*r.o,t(0==e.Gb.length),e.Gb=s(A),e.Uc=0,null==e.Gb?A=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,A=1),A=!A),!A){A=e.ga;var u=e.Fa,h=e.P,c=e.qc,d=e.mb,p=e.nb,f=h+1,g=c-1,m=A.l;if(t(null!=u&&null!=d&&null!=r),iq[0]=null,iq[1]=tJ,iq[2]=t$,iq[3]=tQ,A.ca=d,A.tb=p,A.c=r.width,A.i=r.height,t(0<A.c&&0<A.i),1>=c)r=0;else if(A.$a=u[h+0]>>0&3,A.Z=u[h+0]>>2&3,A.Lc=u[h+0]>>4&3,h=u[h+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||h)r=0;else if(m.put=ep,m.ac=ed,m.bc=ef,m.ma=A,m.width=r.width,m.height=r.height,m.Da=r.Da,m.v=r.v,m.va=r.va,m.j=r.j,m.o=r.o,A.$a)t:{for(t(1==A.$a),r=eC();;){if(null==r){r=0;break t}if(t(null!=A),A.mc=r,r.c=A.c,r.i=A.i,r.l=A.l,r.l.ma=A,r.l.width=A.c,r.l.height=A.i,r.a=0,y(r.m,u,f,g),!eT(A.c,A.i,1,r,null)||(1==r.ab&&3==r.gc[0].hc&&eS(r.s)?(A.ic=1,u=r.c*r.i,r.Ta=null,r.Ua=0,r.V=s(u),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(A.ic=0,r=eL(r,A.c)),!r))break;r=1;break t}A.mc=null,r=0}else r=g>=A.c*A.i;A=!r}if(A)return null;1!=e.ga.Lc?e.Ga=0:a=l-n}t(null!=e.ga),t(n+a<=l);t:{if(r=(u=e.ga).c,l=u.l.o,0==u.$a){if(f=e.rc,g=e.Vc,m=e.Fa,h=e.P+1+n*r,c=e.mb,d=e.nb+n*r,t(h<=e.P+e.qc),0!=u.Z)for(t(null!=iq[u.Z]),A=0;A<a;++A)iq[u.Z](f,g,m,h,c,d,r),f=c,g=d,d+=r,h+=r;else for(A=0;A<a;++A)i(c,d,m,h,r),f=c,g=d,d+=r,h+=r;e.rc=f,e.Vc=g}else{if(t(null!=u.mc),r=n+a,t(null!=(A=u.mc)),t(r<=A.i),A.C>=r)r=1;else if(u.ic||t3(),u.ic){u=A.V,f=A.Ba,g=A.c;var v=A.i,b=(m=1,h=A.$/g,c=A.$%g,d=A.m,p=A.s,A.$),x=g*v,E=g*r,_=p.wc,O=b<E?ex(p,c,h):null;t(b<=x),t(r<=v),t(eS(p));r:for(;;){for(;!d.h&&b<E;){if(c&_||(O=ex(p,c,h)),t(null!=O),R(d),256>(v=ev(O.G[0],O.H[0],d)))u[f+b]=v,++b,++c>=g&&(c=0,++h<=r&&!(h%16)&&eR(A,h));else{if(!(280>v)){m=0;break r}v=em(v-256,d);var A,w,C=ev(O.G[4],O.H[4],d);if(R(d),!(b>=(C=ey(g,C=em(C,d)))&&x-b>=v)){m=0;break r}for(w=0;w<v;++w)u[f+b+w]=u[f+b+w-C];for(b+=v,c+=v;c>=g;)c-=g,++h<=r&&!(h%16)&&eR(A,h);b<E&&c&_&&(O=ex(p,c,h))}t(d.h==S(d))}eR(A,h>r?r:h);break}!m||d.h&&b<x?(m=0,A.a=d.h?5:3):A.$=b,r=m}else r=eA(A,A.V,A.Ba,A.c,A.i,r,eP);if(!r){a=0;break t}}n+a>=l&&(e.Cc=1),a=1}if(!a)return null;if(e.Cc&&(null!=(a=e.ga)&&(a.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+n*o}(o,l,O,P-O),l.F=o.mb,null==l.F&&0==l.F.length)){u=eW(o,3,"Could not decode alpha data.");break t}O<l.j&&(x=l.j-O,O=l.j,t(!(1&x)),l.O+=o.R*x,l.N+=o.B*(x>>1),l.W+=o.B*(x>>1),null!=l.F&&(l.J+=l.width*x)),O<P&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=O-l.j,l.U=l.va-l.v,l.T=P-O,u=l.put(l))}a+1!=o.Ic||b||(i(o.sa,o.ta-h,p,f+16*o.R,h),i(o.qa,o.ra-d,g,c+8*o.B,d),i(o.Ha,o.Ia-d,m,v+8*o.B,d))}if(!u)return eW(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),o&=1}return o?(e.cb=0,o):0})(e,l)||(r=e.a)}}else r=e.a;0==r&&null!=c.Oa&&c.Oa.fd&&(r=rf(c.ba))}c=r}h=0!=c?null:11>h?d.f.RGBA.eb:d.f.kb.y}else h=null;return h};var ne=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var c=[0],d=[0],p=[],f=new l,g=function(e,t){var r={},i=0,n=!1,s=0,a=0;if(r.frames=[],!/** @license
   * Copyright (c) 2017 Dominik Homberger
  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  https://webpjs.appspot.com
  WebPRiffParser dominikhlbg@gmail.com
  */function(e,t,r,i){for(var n=0;n<4;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}(e,t,"RIFF",0)){for(h(e,t+=4),t+=8;t<e.length;){var o,l,c,d=function(e,t){for(var r="",i=0;i<4;i++)r+=String.fromCharCode(e[t++]);return r}(e,t),p=h(e,t+=4);t+=4;var f=p+(1&p);switch(d){case"VP8 ":case"VP8L":void 0===r.frames[i]&&(r.frames[i]={}),(c=r.frames[i]).src_off=n?a:t-8,c.src_size=s+p+8,i++,n&&(n=!1,s=0,a=0);break;case"VP8X":(c=r.header={}).feature_flags=e[t];var g=t+4;c.canvas_width=1+u(e,g),g+=3,c.canvas_height=1+u(e,g),g+=3;break;case"ALPH":n=!0,s=f+8,a=t-8;break;case"ANIM":(c=r.header).bgcolor=h(e,t),g=t+4,c.loop_count=e[(o=g)+0]<<0|e[o+1]<<8,g+=2;break;case"ANMF":(c=r.frames[i]={}).offset_x=2*u(e,t),t+=3,c.offset_y=2*u(e,t),t+=3,c.width=1+u(e,t),t+=3,c.height=1+u(e,t),t+=3,c.duration=u(e,t),t+=3,l=e[t++],c.dispose=1&l,c.blend=l>>1&1}"ANMF"!=d&&(t+=f)}return r}}(e,0);g.response=e,g.rgbaoutput=!0,g.dataurl=!1;var m=g.header?g.header:null,y=g.frames?g.frames:null;if(m){m.loop_counter=m.loop_count,c=[m.canvas_height],d=[m.canvas_width];for(var v=0;v<y.length&&0!=y[v].blend;v++);}var b=y[0],x=f.WebPDecodeRGBA(e,b.src_off,b.src_size,d,c);b.rgba=x,b.imgwidth=d[0],b.imgheight=c[0];for(var E=0;E<d[0]*c[0]*4;E++)p[E]=x[E];return this.width=d,this.height=c,this.data=p,this}tj=q.API,tU=function(e,t,r,i){var n=4,s=tz;switch(i){case tj.image_compression.FAST:n=1,s=tZ;break;case tj.image_compression.MEDIUM:n=6,s=tV;break;case tj.image_compression.SLOW:n=9,s=tY}e=tH(e,t,r,s);var a=(0,o.zlibSync)(e,{level:n});return tj.__addimage__.arrayBufferToBinaryString(a)},tH=function(e,t,r,i){for(var n,s,a,o=e.length/t,l=new Uint8Array(e.length+o),u=tX(),h=0;h<o;h+=1){if(a=h*t,n=e.subarray(a,a+t),i)l.set(i(n,r,s),a+h);else{for(var c,d=u.length,p=[];c<d;c+=1)p[c]=u[c](n,r,s);var f=tK(p.concat());l.set(p[f],a+h)}s=n}return l},tB=function(e){var t=Array.apply([],e);return t.unshift(0),t},tZ=function(e,t){var r,i=[],n=e.length;i[0]=1;for(var s=0;s<n;s+=1)r=e[s-t]||0,i[s+1]=e[s]-r+256&255;return i},tz=function(e,t,r){var i,n=[],s=e.length;n[0]=2;for(var a=0;a<s;a+=1)i=r&&r[a]||0,n[a+1]=e[a]-i+256&255;return n},tV=function(e,t,r){var i,n,s=[],a=e.length;s[0]=3;for(var o=0;o<a;o+=1)i=e[o-t]||0,n=r&&r[o]||0,s[o+1]=e[o]+256-(i+n>>>1)&255;return s},tY=function(e,t,r){var i,n,s,a=[],o=e.length;a[0]=4;for(var l=0;l<o;l+=1)i=e[l-t]||0,n=r&&r[l]||0,s=tW(i,n,r&&r[l-t]||0),a[l+1]=e[l]-s+256&255;return a},tW=function(e,t,r){if(e===t&&t===r)return e;var i=Math.abs(t-r),n=Math.abs(e-r),s=Math.abs(e+t-r-r);return i<=n&&i<=s?e:n<=s?t:r},tX=function(){return[tB,tZ,tz,tV,tY]},tK=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))},tj.processPNG=function(e,t,r,i){var n,s,a,l,u,h,c,d,p,f,g,m,y,v,b,x=this.decode.FLATE_DECODE,E="";if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){if(e=(a=new tN(e)).imgData,s=a.bits,n=a.colorSpace,u=a.colors,-1!==[4,6].indexOf(a.colorType)){if(8===a.bits){p=(d=32==a.pixelBitlength?new Uint32Array(a.decodePixels().buffer):16==a.pixelBitlength?new Uint16Array(a.decodePixels().buffer):new Uint8Array(a.decodePixels().buffer)).length,g=new Uint8Array(p*a.colors),f=new Uint8Array(p);var _,S=a.pixelBitlength-a.bits;for(v=0,b=0;v<p;v++){for(y=d[v],_=0;_<S;)g[b++]=y>>>_&255,_+=a.bits;f[v]=y>>>_&255}}if(16===a.bits){p=(d=new Uint32Array(a.decodePixels().buffer)).length,g=new Uint8Array(32/a.pixelBitlength*p*a.colors),f=new Uint8Array(32/a.pixelBitlength*p),m=a.colors>1,v=0,b=0;for(var O=0;v<p;)y=d[v++],g[b++]=y>>>0&255,m&&(g[b++]=y>>>16&255,y=d[v++],g[b++]=y>>>0&255),f[O++]=y>>>16&255;s=8}i!==tj.image_compression.NONE&&"function"==typeof o.zlibSync?(e=tU(g,a.width*a.colors,a.colors,i),c=tU(f,a.width,1,i)):(e=g,c=f,x=void 0)}if(3===a.colorType&&(n=this.color_spaces.INDEXED,h=a.palette,a.transparency.indexed)){var R=a.transparency.indexed,A=0;for(v=0,p=R.length;v<p;++v)A+=R[v];if((A/=255)==p-1&&-1!==R.indexOf(0))l=[R.indexOf(0)];else if(A!==p){for(d=a.decodePixels(),f=new Uint8Array(d.length),v=0,p=d.length;v<p;v++)f[v]=R[d[v]];c=tU(f,a.width,1)}}var w=function(e){var t;switch(e){case tj.image_compression.FAST:t=11;break;case tj.image_compression.MEDIUM:t=13;break;case tj.image_compression.SLOW:t=14;break;default:t=12}return t}(i);return x===this.decode.FLATE_DECODE&&(E="/Predictor "+w+" "),E+="/Colors "+u+" /BitsPerComponent "+s+" /Columns "+a.width,(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(c&&this.__addimage__.isArrayBuffer(c)||this.__addimage__.isArrayBufferView(c))&&(c=this.__addimage__.arrayBufferToBinaryString(c)),{alias:r,data:e,index:t,filter:x,decodeParameters:E,transparency:l,palette:h,sMask:c,predictor:w,width:a.width,height:a.height,bitsPerComponent:s,colorSpace:n}}},(tJ=q.API).processGIF89A=function(e,t,r,i){var n=new tG(e),s=n.width,a=n.height,o=[];n.decodeAndBlitFrameRGBA(0,o);var l=new tD(100).encode({data:o,width:s,height:a},100);return tJ.processJPEG.call(this,l,t,r,i)},tJ.processGIF87A=tJ.processGIF89A,tF.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:i,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},tF.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){h.log("bit decode error:"+e)}},tF.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*n*4,o=0;o<8&&8*n+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}0!==r&&(this.pos+=4-r)}},tF.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*n*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*n+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}0!==t&&(this.pos+=4-t)}},tF.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*i;if(n<this.palette.length){var a=this.palette[n];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},tF.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,h=i*this.width*4+4*n;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=e}},tF.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/t*255|0,h=n*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=e}},tF.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=n,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},tF.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=n,this.data[o+2]=i,this.data[o+3]=a}},tF.prototype.getData=function(){return this.data},(t$=q.API).processBMP=function(e,t,r,i){var n=new tF(e,!1),s=n.width,a=n.height,o={data:n.getData(),width:s,height:a},l=new tD(100).encode(o,100);return t$.processJPEG.call(this,l,t,r,i)},tq.prototype.getData=function(){return this.data},(tQ=q.API).processWEBP=function(e,t,r,i){var n=new tq(e,!1),s=n.width,a=n.height,o={data:n.getData(),width:s,height:a},l=new tD(100).encode(o,100);return tQ.processJPEG.call(this,l,t,r,i)},q.API.processRGBA=function(e,t,r){for(var i=e.data,n=i.length,s=new Uint8Array(n/4*3),a=new Uint8Array(n/4),o=0,l=0,u=0;u<n;u+=4){var h=i[u],c=i[u+1],d=i[u+2],p=i[u+3];s[o++]=h,s[o++]=c,s[o++]=d,a[l++]=p}var f=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:f,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},q.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!==({af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"})[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tL=(tT=q.API).getCharWidthsArray=function(t,r){var i,n,s=(r=r||{}).font||this.internal.getFont(),o=r.fontSize||this.internal.getFontSize(),l=r.charSpace||this.internal.getCharSpace(),u=r.widths?r.widths:s.metadata.Unicode.widths,h=u.fof?u.fof:1,c=r.kerning?r.kerning:s.metadata.Unicode.kerning,d=c.fof?c.fof:1,p=!1!==r.doKerning,f=0,g=t.length,m=0,y=u[0]||h,v=[];for(i=0;i<g;i++)n=t.charCodeAt(i),"function"==typeof s.metadata.widthOfString?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+1e3/o*l||0)/1e3):(f=p&&"object"===e(a)(c[n])&&!isNaN(parseInt(c[n][m],10))?c[n][m]/d:0,v.push((u[n]||y)/h+f)),m=n;return v},tP=tT.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return tT.processArabic&&(e=tT.processArabic(e)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,r,n)/r:tL.apply(this,arguments).reduce(function(e,t){return e+t},0)},tI=function(e,t,r,i){for(var n=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<r;)o+=t[s],s++;n.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>i&&(n.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&n.push(e.slice(l,s)),n},tM=function(e,t,r){r||(r={});var i,n,s,a,o,l,u,h=[],c=[h],d=r.textIndent||0,p=0,f=0,g=e.split(" "),m=tL.apply(this,[" ",r])[0];if(l=-1===r.lineIndent?g[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),v=[];g.map(function(e){(e=e.split(/\s*\n/)).length>1?v=v.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):v.push(e[0])}),g=v,l=tP.apply(this,[y,r])}for(s=0,a=g.length;s<a;s++){var b=0;if(i=g[s],l&&"\n"==i[0]&&(i=i.substr(1),b=1),d+p+(f=(n=tL.apply(this,[i,r])).reduce(function(e,t){return e+t},0))>t||b){if(f>t){for(o=tI.apply(this,[i,n,t-(d+p),t]),h.push(o.shift()),h=[o.pop()];o.length;)c.push([o.shift()]);f=n.slice(i.length-(h[0]?h[0].length:0)).reduce(function(e,t){return e+t},0)}else h=[i];c.push(h),d=f+l,p=m}else h.push(i),d+=p+f,p=m}return u=l?function(e,t){return(t?y:"")+e.join(" ")}:function(e){return e.join(" ")},c.map(u)},tT.splitTextToSize=function(e,t,r){var i,n=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/n;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=i.length;o<l;o++)u=u.concat(tM.apply(this,[i[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",i={},n={},s=0;s<r.length;s++)i[r[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=r[s];var o=function(e){return"0x"+parseInt(e,10).toString(16)},l=t.__fontmetrics__.compress=function(t){var r,i,s,u,h=["{"];for(var c in t){if(r=t[c],i=isNaN(parseInt(c,10))?"'"+c+"'":(i=o(c=parseInt(c,10)).slice(2)).slice(0,-1)+n[i.slice(-1)],"number"==typeof r)r<0?(s=o(r).slice(3),u="-"):(s=o(r).slice(2),u=""),s=u+s.slice(0,-1)+n[s.slice(-1)];else{if("object"!==e(a)(r))throw Error("Don't know what to do with value type "+e(a)(r)+".");s=l(r)}h.push(i+s)}return h.push("}"),h.join("")},u=t.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw Error("Invalid argument passed to uncompress.");for(var t,r,n,s,a={},o=1,l=a,u=[],h="",c="",d=e.length-1,p=1;p<d;p+=1)"'"==(s=e[p])?t?(n=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(u.push([l,n]),l={},n=void 0):"}"==s?((r=u.pop())[0][r[1]]=l,n=void 0,l=r[0]):"-"==s?o=-1:void 0===n?i.hasOwnProperty(s)?(h+=i[s],n=parseInt(h,16)*o,o=1,h=""):h+=s:i.hasOwnProperty(s)?(c+=i[s],l[n]=parseInt(c,16)*o,o=1,n=void 0,c=""):c+=s;return a},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},d={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(e){var t=e.font,r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var i=c.Unicode[t.postScriptName];i&&(t.metadata.Unicode.encoding=i,t.encoding=i.codePages[0])}])}(q.API),/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),i=0;i<t;i++)r[i]=e.charCodeAt(i);return r};e.API.events.push(["addFont",function(r){var i,n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(void 0===a)throw Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(n=!1===a.existsFileInVFS(s.postScriptName)?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName)))throw Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");i=n,i=/^\x00\x01\x00\x00/.test(i)?t(i):t(f(i)),s.metadata=e.API.TTFFont.open(i),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]}}])}(q),q.API.addSvgAsImage=function(e,t,r,i,n,a,o,u){if(isNaN(t)||isNaN(r))throw h.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(n))throw h.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=n;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(l.canvg?Promise.resolve(l.canvg):s("4s1Fc")).catch(function(e){return Promise.reject(Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,p)},function(){return Promise.reject(Error("Could not load canvg."))}).then(function(e){return e.render(p)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,r,i,n,o,u)})},q.API.putTotalPages=function(e){var t,r=0;15>parseInt(this.internal.getFont().id.substr(1),10)?(t=RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(t,r);return this},q.API.viewerPreferences=function(t,r){t=t||{},r=r||!1;var i,n,s,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],c=0,d=0,p=0;function f(e,t){var r,i=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,"reset"===t||!0===r){var g=u.length;for(p=0;p<g;p+=1)i[u[p]].value=i[u[p]].defaultValue,i[u[p]].explicitSet=!1}if("object"===e(a)(t)){for(s in t)if(o=t[s],f(u,s)&&void 0!==o){if("boolean"===i[s].type&&"boolean"==typeof o)i[s].value=o;else if("name"===i[s].type&&f(i[s].valueSet,o))i[s].value=o;else if("integer"===i[s].type&&Number.isInteger(o))i[s].value=o;else if("array"===i[s].type){for(c=0;c<o.length;c+=1)if(n=!0,1===o[c].length&&"number"==typeof o[c][0])h.push(String(o[c]-1));else if(o[c].length>1){for(d=0;d<o[c].length;d+=1)"number"!=typeof o[c][d]&&(n=!1);!0===n&&h.push([o[c][0]-1,o[c][1]-1].join(" "))}i[s].value="["+h.join(" ")+"]"}else i[s].value=i[s].defaultValue;i[s].explicitSet=!0}}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in i)!0===i[e].explicitSet&&("name"===i[e].type?t.push("/"+e+" /"+i[e].value):t.push("/"+e+" "+i[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},t0=q.API,t1=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),n=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),a=r.length+i.length+n.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(t+r+i+n+s),this.internal.write("endstream"),this.internal.write("endobj")},t2=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")},t0.addMetadata=function(e,t){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:t||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t2),this.internal.events.subscribe("postPutResources",t1)),this},t3=(t5=q.API).pdfEscape16=function(e,t){for(var r,i=t.metadata.Unicode.widths,n=["","0","00","000","0000"],s=[""],a=0,o=e.length;a<o&&(r=t.metadata.characterToGlyph(e.charCodeAt(a)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(a),-1==i.indexOf(r)&&(i.push(r),i.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"!=r);++a)s.push(n[4-(r=r.toString(16)).length],r);return s.join("")},t4=function(e){var t,r,i,n,s,a,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],a=0,o=(r=Object.keys(e).sort(function(e,t){return e-t})).length;a<o;a++)t=r[a],i.length>=100&&(s+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(n=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+n+">"));return i.length&&(s+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),s+="endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},t5.events.push(["putFont",function(e){!function(e){var t=e.font,r=e.out,i=e.newObject,n=e.putStream;if(t.metadata instanceof q.API.TTFFont&&"Identity-H"===t.encoding){for(var s=t.metadata.Unicode.widths,a=t.metadata.subset.encode(t.metadata.glyIdsUsed,1),o="",l=0;l<a.length;l++)o+=String.fromCharCode(a[l]);var u=i();n({data:o,addLength1:!0,objectId:u}),r("endobj");var h=i();n({data:t4(t.metadata.toUnicode),addLength1:!0,objectId:h}),r("endobj");var c=i();r("<<"),r("/Type /FontDescriptor"),r("/FontName /"+M(t.fontName)),r("/FontFile2 "+u+" 0 R"),r("/FontBBox "+q.API.PDFObject.convert(t.metadata.bbox)),r("/Flags "+t.metadata.flags),r("/StemV "+t.metadata.stemV),r("/ItalicAngle "+t.metadata.italicAngle),r("/Ascent "+t.metadata.ascender),r("/Descent "+t.metadata.decender),r("/CapHeight "+t.metadata.capHeight),r(">>"),r("endobj");var d=i();r("<<"),r("/Type /Font"),r("/BaseFont /"+M(t.fontName)),r("/FontDescriptor "+c+" 0 R"),r("/W "+q.API.PDFObject.convert(s)),r("/CIDToGIDMap /Identity"),r("/DW 1000"),r("/Subtype /CIDFontType2"),r("/CIDSystemInfo"),r("<<"),r("/Supplement 0"),r("/Registry (Adobe)"),r("/Ordering ("+t.encoding+")"),r(">>"),r(">>"),r("endobj"),t.objectNumber=i(),r("<<"),r("/Type /Font"),r("/Subtype /Type0"),r("/ToUnicode "+h+" 0 R"),r("/BaseFont /"+M(t.fontName)),r("/Encoding /"+t.encoding),r("/DescendantFonts ["+d+" 0 R]"),r(">>"),r("endobj"),t.isAlreadyPutted=!0}}(e)}]),t5.events.push(["putFont",function(e){!function(e){var t=e.font,r=e.out,i=e.newObject,n=e.putStream;if(t.metadata instanceof q.API.TTFFont&&"WinAnsiEncoding"===t.encoding){for(var s=t.metadata.rawData,a="",o=0;o<s.length;o++)a+=String.fromCharCode(s[o]);var l=i();n({data:a,addLength1:!0,objectId:l}),r("endobj");var u=i();n({data:t4(t.metadata.toUnicode),addLength1:!0,objectId:u}),r("endobj");var h=i();r("<<"),r("/Descent "+t.metadata.decender),r("/CapHeight "+t.metadata.capHeight),r("/StemV "+t.metadata.stemV),r("/Type /FontDescriptor"),r("/FontFile2 "+l+" 0 R"),r("/Flags 96"),r("/FontBBox "+q.API.PDFObject.convert(t.metadata.bbox)),r("/FontName /"+M(t.fontName)),r("/ItalicAngle "+t.metadata.italicAngle),r("/Ascent "+t.metadata.ascender),r(">>"),r("endobj"),t.objectNumber=i();for(var c=0;c<t.metadata.hmtx.widths.length;c++)t.metadata.hmtx.widths[c]=parseInt(t.metadata.hmtx.widths[c]*(1e3/t.metadata.head.unitsPerEm));r("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+M(t.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+t.encoding+" /FirstChar 29 /LastChar 255 /Widths "+q.API.PDFObject.convert(t.metadata.hmtx.widths)+">>"),r("endobj"),t.isAlreadyPutted=!0}}(e)}]),t6=function(e){var t,r=e.text||"",i=e.x,n=e.y,s=e.options||{},a=e.mutex||{},o=a.pdfEscape,l=a.activeFontKey,u=a.fonts,h=l,c="",d=0,p="",f=u[h].encoding;if("Identity-H"!==u[h].encoding)return{text:r,x:i,y:n,options:s,mutex:a};for(p=r,h=l,Array.isArray(r)&&(p=r[0]),d=0;d<p.length;d+=1)u[h].metadata.hasOwnProperty("cmap")&&(t=u[h].metadata.cmap.unicode.codeMap[p[d].charCodeAt(0)]),t||256>p[d].charCodeAt(0)&&u[h].metadata.hasOwnProperty("Unicode")?c+=p[d]:c+="";var g="";return 14>parseInt(h.slice(1))||"WinAnsiEncoding"===f?g=o(c,h).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=t3(c,u[h])),a.isHex=!0,{text:g,x:i,y:n,options:s,mutex:a}},t5.events.push(["postProcessText",function(e){var t=e.text||"",r=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var n=0;for(n=0;n<t.length;n+=1)Array.isArray(t[n])&&3===t[n].length?r.push([t6(Object.assign({},i,{text:t[n][0]})).text,t[n][1],t[n][2]]):r.push(t6(Object.assign({},i,{text:t[n]})).text);e.text=r}else e.text=t6(Object.assign({},i,{text:t})).text}]),t8=q.API,t7=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0},t8.existsFileInVFS=function(e){return t7.call(this),void 0!==this.internal.vFS[e]},t8.addFileToVFS=function(e,t){return t7.call(this),this.internal.vFS[e]=t,this},t8.getFileFromVFS=function(e){return t7.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null},/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,i,n,s,a,o,l,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var y=function(e){var r=e.charCodeAt(),i=r>>8,n=d[i];return void 0!==n?t[256*n+(255&r)]:252===i||253===i?"AL":f.test(i)?"L":8===i?"R":"N"},v=function(e){for(var t,r=0;r<e.length&&"L"!==(t=y(e.charAt(r)));r++)if("R"===t)return!0;return!1},b=function(e,t,a,o){var l,u,h,c,d=t[o];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=a[o-1])&&"AN"!==l||"EN"!==(u=t[o+1])&&"AN"!==u?d="N":g&&(u="AN"),d=u===l?u:"N";break;case"ES":d="EN"===(l=o>0?a[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===a[o-1]){d="EN";break}if(g){d="N";break}for(h=o+1,c=t.length;h<c&&"ET"===t[h];)h++;d=h<c&&"EN"===t[h]?"EN":"N";break;case"NSM":if(n&&!s){for(c=t.length,h=o+1;h<c&&"NSM"===t[h];)h++;if(h<c){var p=e[o];if(l=t[h],(p>=1425&&p<=2303||64286===p)&&("R"===l||"AL"===l)){d="R";break}}}d=o<1||"B"===(l=t[o-1])?"N":a[o-1];break;case"B":g=!1,r=!0,d=m;break;case"S":i=!0,d="N"}return d},x=function(e,t,r){var i=e.split("");return r&&E(i,r,{hiLevel:m}),i.reverse(),t&&t.reverse(),i.join("")},E=function(e,t,n){var s,a,o,l,d,p=-1,f=e.length,v=0,x=[],E=m?h:u,_=[];for(g=!1,r=!1,i=!1,a=0;a<f;a++)_[a]=y(e[a]);for(o=0;o<f;o++){if(d=v,x[o]=b(e,_,x,o),s=240&(v=E[d][c[x[o]]]),v&=15,t[o]=l=E[v][5],s>0){if(16===s){for(a=p;a<o;a++)t[a]=1;p=-1}else p=-1}if(E[v][6])-1===p&&(p=o);else if(p>-1){for(a=p;a<o;a++)t[a]=l;p=-1}"B"===_[o]&&(t[o]=0),n.hiLevel|=l}i&&function(e,t,r){for(var i=0;i<r;i++)if("S"===e[i]){t[i]=m;for(var n=i-1;n>=0&&"WS"===e[n];n--)t[n]=m}}(_,t,f)},_=function(e,t,i,n,s){if(!(s.hiLevel<e)){if(1===e&&1===m&&!r)return t.reverse(),void(i&&i.reverse());for(var a,o,l,u,h=t.length,c=0;c<h;){if(n[c]>=e){for(l=c+1;l<h&&n[l]>=e;)l++;for(u=c,o=l-1;u<o;u++,o--)a=t[u],t[u]=t[o],t[o]=a,i&&(a=i[u],i[u]=i[o],i[o]=a);c=l}c++}}},S=function(e,t,r){var i=e.split(""),n={hiLevel:m};return r||(r=[]),E(i,r,n),function(e,t,r){if(0!==r.hiLevel&&l)for(var i,n=0;n<e.length;n++)1===t[n]&&(i=p.indexOf(e[n]))>=0&&(e[n]=p[i+1])}(i,r,n),_(2,i,t,r,n),_(1,i,t,r,n),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===s&&(s=v(e)),void 0===o&&(o=v(e))}(e,t),n||!a||o){if(n&&a&&s^o)m=s?1:0,e=x(e,t,r);else if(!n&&a&&o)m=s?1:0,e=x(e=S(e,t,r),t);else if(!n||s||a||o){if(n&&!a&&s^o)e=x(e,t),s?(m=0,e=S(e,t,r)):(m=1,e=x(e=S(e,t,r),t));else if(n&&s&&!a&&o)m=1,e=x(e=S(e,t,r),t);else if(!n&&!a&&s^o){var i=l;s?(m=1,e=S(e,t,r),m=0,l=!1,e=S(e,t,r),l=i):(m=0,e=x(e=S(e,t,r),t),m=1,l=!1,e=S(e,t,r),l=i,e=x(e,t))}}else m=0,e=S(e,t,r)}else m=s?1:0,e=S(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(n=e.isInputVisual,a=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,i=(e.x,e.y,e.options||{}),n=(e.mutex,i.lang,[]);if(i.isInputVisual="boolean"!=typeof i.isInputVisual||i.isInputVisual,r.setOptions(i),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(n=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?n.push([r.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):n.push([r.doBidiReorder(t[s])]);e.text=n}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(q),q.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new re(e),this.contents.pos=4,"ttcf"===t.readString(4))throw Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new rb(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new rt(this.contents),this.head=new rn(this),this.name=new rc(this),this.cmap=new ra(this),this.toUnicode={},this.hhea=new ro(this),this.maxp=new rd(this),this.hmtx=new rp(this),this.post=new ru(this),this.os2=new rl(this),this.loca=new rv(this),this.glyf=new rg(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,i,n;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var t,r,i,n;for(n=[],t=0,r=(i=this.bbox).length;t<r;t++)e=i[t],n.push(Math.round(e*this.scaleFactor));return n}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),0!=(32768&(t=i>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(n=this.familyClass)||2===n||3===n||4===n||5===n||7===n,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var i,n,s,a;for(s=0,n=0,a=(e=""+e).length;0<=a?n<a:n>a;n=0<=a?++n:--n)i=e.charCodeAt(n),s+=this.widthOfGlyph(this.characterToGlyph(i))+1e3/t*r||0;return t/1e3*s},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var tj,tU,tH,tB,tZ,tz,tV,tY,tW,tX,tK,tJ,t$,tQ,t0,t1,t2,t5,t3,t4,t6,t8,t7,t9,re=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,i,n,s,a,o;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^n)+65536*(255^s)+256*(255^a)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*n+65536*s+256*a+o},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,i,n;for(n=[],r=0,i=e.length;r<i;r++)t=e[r],n.push(this.writeByte(t));return n},e}(),rt=function(){var e;function t(e){var t,r,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,i=this.tableCount;0<=i?r<i:r>i;r=0<=i?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,i,n,s,a,o,l,u,h,c,d,p,f;for(f in s=Math.floor((h=16*Math.floor(Math.log(d=Object.keys(t).length)/(o=Math.log(2))))/o),u=16*d-h,(i=new re).writeInt(this.scalarType),i.writeShort(d),i.writeShort(h),i.writeShort(s),i.writeShort(u),n=16*d,l=i.pos+n,a=null,p=[],t)for(c=t[f],i.writeString(f),i.writeInt(e(c)),i.writeInt(l),i.writeInt(c.length),p=p.concat(c),"head"===f&&(a=l),l+=c.length;l%4;)p.push(0),l++;return i.write(p),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(e){var t,r,i,n;for(e=rf.call(e);e.length%4;)e.push(0);for(i=new re(e),r=0,t=0,n=e.length;t<n;t=t+=4)r+=i.readUInt32();return 4294967295&r},t}(),rr={}.hasOwnProperty,ri=function(e,t){for(var r in t)rr.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};t9=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var rn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new re).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),rs=function(){function e(e,t){var r,i,n,s,a,o,l,u,h,c,d,p,f,g,m,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(c=e.readUInt16()/2,e.pos+=6,n=function(){var t,r;for(r=[],o=t=0;0<=c?t<c:t>c;o=0<=c?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,p=function(){var t,r;for(r=[],o=t=0;0<=c?t<c:t>c;o=0<=c?++t:--t)r.push(e.readUInt16());return r}(),l=function(){var t,r;for(r=[],o=t=0;0<=c?t<c:t>c;o=0<=c?++t:--t)r.push(e.readUInt16());return r}(),u=function(){var t,r;for(r=[],o=t=0;0<=c?t<c:t>c;o=0<=c?++t:--t)r.push(e.readUInt16());return r}(),i=(this.length-e.pos+this.offset)/2,a=function(){var t,r;for(r=[],o=t=0;0<=i?t<i:t>i;o=0<=i?++t:--t)r.push(e.readUInt16());return r}(),o=g=0,y=n.length;g<y;o=++g)for(f=n[o],r=m=d=p[o];d<=f?m<=f:m>=f;r=d<=f?++m:--m)0===u[o]?s=r+l[o]:0!==(s=a[u[o]/2+(r-d)-(c-o)]||0)&&(s+=l[o]),this.codeMap[r]=65535&s}e.pos=h}return e.encode=function(e,t){var r,i,n,s,a,o,l,u,h,c,d,p,f,g,m,y,v,b,x,E,_,S,O,R,A,w,C,T,L,P,I,M,N,G,k,D,F,q,j,U,H,B,Z,z,V;switch(C=new re,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(p=0,f=function(){var e=[];for(d=0;d<256;++d)e.push(0);return e}(),m={0:0},n={},T=0,M=s.length;T<M;T++)null==m[B=e[i=s[T]]]&&(m[B]=++p),n[i]={old:e[i],new:m[e[i]]},f[i]=m[e[i]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(f),{charMap:n,subtable:C.data,maxGlyphID:p+1};case"unicode":for(A=[],h=[],y=0,m={},r={},g=l=null,L=0,N=s.length;L<N;L++)null==m[b=e[i=s[L]]]&&(m[b]=++y),r[i]={old:b,new:m[b]},a=m[b]-i,null!=g&&a===l||(g&&h.push(g),A.push(i),l=a),g=i;for(g&&h.push(g),h.push(65535),A.push(65535),O=2*(S=A.length),_=2*Math.pow(Math.log(S)/Math.LN2,2),E=2*S-_,o=[],x=[],c=[],d=P=0,G=A.length;P<G;d=++P){if(R=A[d],u=h[d],65535===R){o.push(0),x.push(0);break}if(R-(w=r[R].new)>=32768)for(o.push(0),x.push(2*(c.length+S-d)),i=I=R;R<=u?I<=u:I>=u;i=R<=u?++I:--I)c.push(r[i].new);else o.push(w-R),x.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*S+2*c.length),C.writeUInt16(0),C.writeUInt16(O),C.writeUInt16(_),C.writeUInt16(Math.log(_/2)/Math.LN2),C.writeUInt16(E),U=0,k=h.length;U<k;U++)i=h[U],C.writeUInt16(i);for(C.writeUInt16(0),H=0,D=A.length;H<D;H++)i=A[H],C.writeUInt16(i);for(Z=0,F=o.length;Z<F;Z++)a=o[Z],C.writeUInt16(a);for(z=0,q=x.length;z<q;z++)v=x[z],C.writeUInt16(v);for(V=0,j=c.length;V<j;V++)p=c[V],C.writeUInt16(p);return{charMap:r,subtable:C.data,maxGlyphID:y+1}}},e}(),ra=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new rs(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var r,i;return null==t&&(t="macroman"),r=rs.encode(e,t),(i=new re).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),ro=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),rl=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),ru=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="post",t.prototype.parse=function(e){var t,r,i,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:for(r=e.readUInt16(),this.glyphNameIndex=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var t,r,i;for(i=[],n=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;n=0<=r?++t:--t)i.push(e.readUInt32());return i}).call(this)}},t}(),rh=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},rc=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="name",t.prototype.parse=function(e){var t,r,i,n,s,a,o,l,u,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),a=e.readShort(),r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(o={},n=l=0,u=r.length;l<u;n=++l)i=r[n],e.pos=i.offset,s=new rh(e.readString(i.length),i),null==o[h=i.nameID]&&(o[h]=[]),o[i.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),rd=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),rp=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,r,i,n,s,a,o;for(e.pos=this.offset,this.metrics=[],t=0,a=this.file.hhea.numberOfMetrics;0<=a?t<a:t>a;t=0<=a?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,n;for(n=[],t=r=0;0<=i?r<i:r>i;t=0<=i?++r:--r)n.push(e.readInt16());return n}(),this.widths=(function(){var e,t,r,i;for(i=[],e=0,t=(r=this.metrics).length;e<t;e++)n=r[e],i.push(n.advance);return i}).call(this),r=this.widths[this.widths.length-1],o=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)o.push(this.widths.push(r));return o},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),rf=[].slice,rg=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,r,i,n,s,a,o,l,u,h;return e in this.cache?this.cache[e]:(n=this.file.loca,t=this.file.contents,r=n.indexOf(e),0===(i=n.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,s=(a=new re(t.read(i))).readShort(),l=a.readShort(),h=a.readShort(),o=a.readShort(),u=a.readShort(),this.cache[e]=-1===s?new ry(a,l,h,o,u):new rm(a,s,l,h,o,u),this.cache[e]))},t.prototype.encode=function(e,t,r){var i,n,s,a,o;for(s=[],n=[],a=0,o=t.length;a<o;a++)i=e[t[a]],n.push(s.length),i&&(s=s.concat(i.encode(r)));return n.push(s.length),{table:s,offsets:n}},t}(),rm=function(){function e(e,t,r,i,n,s){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=n,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),ry=function(){function e(e,t,r,i,n){var s,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=n,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new re(rf.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),rv=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ri(t,t9),t.prototype.tag="loca",t.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?(function(){var t,i;for(i=[],r=0,t=this.length;r<t;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var t,i;for(i=[],r=0,t=this.length;r<t;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,n=0,s=0;s<r.length;++s)if(r[s]=i,n<t.length&&t[n]==s){++n,r[s]=i;var a=this.offsets[s],o=this.offsets[s+1]-a;o>0&&(i+=o)}for(var l=Array(4*r.length),u=0;u<r.length;++u)l[4*u+3]=255&r[u],l[4*u+2]=(65280&r[u])>>8,l[4*u+1]=(16711680&r[u])>>16,l[4*u]=(4278190080&r[u])>>24;return l},t}(),rb=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,i,n;for(t in i=this.font.cmap.tables[0].codeMap,e={},n=this.subset)r=n[t],e[t]=i[r];return e},e.prototype.glyphsFor=function(e){var t,r,i,n,s,a,o;for(i={},s=0,a=e.length;s<a;s++)i[n=e[s]]=this.font.glyf.glyphFor(n);for(n in t=[],i)(null!=(r=i[n])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(n in o=this.glyphsFor(t))r=o[n],i[n]=r;return i},e.prototype.encode=function(e,t){var r,i,n,s,a,o,l,u,h,c,d,p,f,g,m;for(i in r=ra.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),d={0:0},m=r.charMap)d[(o=m[i]).old]=o.new;for(p in c=r.maxGlyphID,s)p in d||(d[p]=c++);return h=Object.keys(u=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(d)).sort(function(e,t){return e-t}),f=function(){var e,t,r;for(r=[],e=0,t=h.length;e<t;e++)a=h[e],r.push(u[a]);return r}(),n=this.font.glyf.encode(s,f,d),l=this.font.loca.encode(n.offsets,f),g={cmap:this.font.cmap.raw(),glyf:n.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},e}();q.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var i,n,s,a;if(Array.isArray(r))return"["+(function(){var e,n,s;for(s=[],e=0,n=r.length;e<n;e++)i=r[e],s.push(t.convert(i));return s})().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"===({}).toString.call(r)){for(n in s=["<<"],r)a=r[n],s.push("/"+n+" "+t.convert(a));return s.push(">>"),s.join("\n")}return""+r},t}()}),a("kvvuk",function(e,r){t(e.exports,"zlibSync",()=>Q),t(e.exports,"unzlibSync",()=>ee);var i={},n=function(e,t,r,n,s){var a=i[t]||(i[t]=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))),o=new Worker(a);return o.onerror=function(e){return s(e.error,null)},o.onmessage=function(e){return s(null,e.data)},o.postMessage(r,n),o},s=Uint8Array,a=Uint16Array,o=Uint32Array,l=new s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),h=new s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(e,t){for(var r=new a(31),i=0;i<31;++i)r[i]=t+=1<<e[i-1];for(var n=new o(r[30]),i=1;i<30;++i)for(var s=r[i];s<r[i+1];++s)n[s]=s-r[i]<<5|i;return[r,n]},d=c(l,2),p=d[0],f=d[1];p[28]=258,f[258]=28;for(var g=c(u,0),m=g[0],y=g[1],v=new a(32768),b=0;b<32768;++b){var x=(43690&b)>>>1|(21845&b)<<1;x=(61680&(x=(52428&x)>>>2|(13107&x)<<2))>>>4|(3855&x)<<4,v[b]=((65280&x)>>>8|(255&x)<<8)>>>1}for(var E=function(e,t,r){for(var i,n=e.length,s=0,o=new a(t);s<n;++s)++o[e[s]-1];var l=new a(t);for(s=0;s<t;++s)l[s]=l[s-1]+o[s-1]<<1;if(r){i=new a(1<<t);var u=15-t;for(s=0;s<n;++s)if(e[s])for(var h=s<<4|e[s],c=t-e[s],d=l[e[s]-1]++<<c,p=d|(1<<c)-1;d<=p;++d)i[v[d]>>>u]=h}else for(s=0,i=new a(n);s<n;++s)i[s]=v[l[e[s]-1]++]>>>15-e[s];return i},_=new s(288),b=0;b<144;++b)_[b]=8;for(var b=144;b<256;++b)_[b]=9;for(var b=256;b<280;++b)_[b]=7;for(var b=280;b<288;++b)_[b]=8;for(var S=new s(32),b=0;b<32;++b)S[b]=5;var O=E(_,9,0),R=E(_,9,1),A=E(S,5,0),w=E(S,5,1),C=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},T=function(e,t,r){var i=t/8>>0;return(e[i]|e[i+1]<<8)>>>(7&t)&r},L=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(7&t)},P=function(e){return(e/8>>0)+(7&e&&1)},I=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var i=new(e instanceof a?a:e instanceof o?o:s)(r-t);return i.set(e.subarray(t,r)),i},M=function(e,t,r){var i=e.length,n=!t||r,a=!r||r.i;r||(r={}),t||(t=new s(3*i));var o=function(e){var r=t.length;if(e>r){var i=new s(Math.max(2*r,e));i.set(t),t=i}},c=r.f||0,d=r.p||0,f=r.b||0,g=r.l,y=r.d,v=r.m,b=r.n,x=8*i;do{if(!g){r.f=c=T(e,d,1);var _=T(e,d+1,3);if(d+=3,_){if(1==_)g=R,y=w,v=9,b=5;else if(2==_){var S=T(e,d,31)+257,O=T(e,d+10,15)+4,A=S+T(e,d+5,31)+1;d+=14;for(var M=new s(A),N=new s(19),G=0;G<O;++G)N[h[G]]=T(e,d+3*G,7);d+=3*O;var k=C(N),D=(1<<k)-1;if(!a&&d+A*(k+7)>x)break;for(var F=E(N,k,1),G=0;G<A;){var q=F[T(e,d,D)];d+=15&q;var j=q>>>4;if(j<16)M[G++]=j;else{var U=0,H=0;for(16==j?(H=3+T(e,d,3),d+=2,U=M[G-1]):17==j?(H=3+T(e,d,7),d+=3):18==j&&(H=11+T(e,d,127),d+=7);H--;)M[G++]=U}}var B=M.subarray(0,S),Z=M.subarray(S);v=C(B),b=C(Z),g=E(B,v,1),y=E(Z,b,1)}else throw"invalid block type"}else{var j=P(d)+4,z=e[j-4]|e[j-3]<<8,V=j+z;if(V>i){if(a)throw"unexpected EOF";break}n&&o(f+z),t.set(e.subarray(j,V),f),r.b=f+=z,r.p=d=8*V;continue}if(d>x)throw"unexpected EOF"}n&&o(f+131072);for(var Y=(1<<v)-1,W=(1<<b)-1,X=v+b+18;a||d+X<x;){var U=g[L(e,d)&Y],K=U>>>4;if((d+=15&U)>x)throw"unexpected EOF";if(!U)throw"invalid length/literal";if(K<256)t[f++]=K;else if(256==K){g=null;break}else{var J=K-254;if(K>264){var G=K-257,$=l[G];J=T(e,d,(1<<$)-1)+p[G],d+=$}var Q=y[L(e,d)&W],ee=Q>>>4;if(!Q)throw"invalid distance";d+=15&Q;var Z=m[ee];if(ee>3){var $=u[ee];Z+=L(e,d)&(1<<$)-1,d+=$}if(d>x)throw"unexpected EOF";n&&o(f+131072);for(var et=f+J;f<et;f+=4)t[f]=t[f-Z],t[f+1]=t[f+1-Z],t[f+2]=t[f+2-Z],t[f+3]=t[f+3-Z];f=et}}r.l=g,r.p=d,r.b=f,g&&(c=1,r.m=v,r.d=y,r.n=b)}while(!c)return f==t.length?t:I(t,0,f)},N=function(e,t,r){r<<=7&t;var i=t/8>>0;e[i]|=r,e[i+1]|=r>>>8},G=function(e,t,r){r<<=7&t;var i=t/8>>0;e[i]|=r,e[i+1]|=r>>>8,e[i+2]|=r>>>16},k=function(e,t){for(var r=[],i=0;i<e.length;++i)e[i]&&r.push({s:i,f:e[i]});var n=r.length,o=r.slice();if(!n)return[new s(0),0];if(1==n){var l=new s(r[0].s+1);return l[r[0].s]=1,[l,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var u=r[0],h=r[1],c=0,d=1,p=2;for(r[0]={s:-1,f:u.f+h.f,l:u,r:h};d!=n-1;)u=r[r[c].f<r[p].f?c++:p++],h=r[c!=d&&r[c].f<r[p].f?c++:p++],r[d++]={s:-1,f:u.f+h.f,l:u,r:h};for(var f=o[0].s,i=1;i<n;++i)o[i].s>f&&(f=o[i].s);var g=new a(f+1),m=D(r[d-1],g,0);if(m>t){var i=0,y=0,v=m-t,b=1<<v;for(o.sort(function(e,t){return g[t.s]-g[e.s]||e.f-t.f});i<n;++i){var x=o[i].s;if(g[x]>t)y+=b-(1<<m-g[x]),g[x]=t;else break}for(y>>>=v;y>0;){var E=o[i].s;g[E]<t?y-=1<<t-g[E]++-1:++i}for(;i>=0&&y;--i){var _=o[i].s;g[_]==t&&(--g[_],++y)}m=t}return[new s(g),m]},D=function(e,t,r){return -1==e.s?Math.max(D(e.l,t,r+1),D(e.r,t,r+1)):t[e.s]=r},F=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new a(++t),i=0,n=e[0],s=1,o=function(e){r[i++]=e},l=1;l<=t;++l)if(e[l]==n&&l!=t)++s;else{if(!n&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(n),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(n);s=1,n=e[l]}return[r.subarray(0,i),t]},q=function(e,t){for(var r=0,i=0;i<t.length;++i)r+=e[i]*t[i];return r},j=function(e,t,r){var i=r.length,n=P(t+2);e[n]=255&i,e[n+1]=i>>>8,e[n+2]=255^e[n],e[n+3]=255^e[n+1];for(var s=0;s<i;++s)e[n+s+4]=r[s];return(n+4+i)*8},U=function(e,t,r,i,n,s,o,c,d,p,f){N(t,f++,r),++n[256];for(var g,m,y,v,b=k(n,15),x=b[0],R=b[1],w=k(s,15),C=w[0],T=w[1],L=F(x),P=L[0],I=L[1],M=F(C),D=M[0],U=M[1],H=new a(19),B=0;B<P.length;++B)H[31&P[B]]++;for(var B=0;B<D.length;++B)H[31&D[B]]++;for(var Z=k(H,7),z=Z[0],V=Z[1],Y=19;Y>4&&!z[h[Y-1]];--Y);var W=p+5<<3,X=q(n,_)+q(s,S)+o,K=q(n,x)+q(s,C)+o+14+3*Y+q(H,z)+(2*H[16]+3*H[17]+7*H[18]);if(W<=X&&W<=K)return j(t,f,e.subarray(d,d+p));if(N(t,f,1+(K<X)),f+=2,K<X){g=E(x,R,0),m=x,y=E(C,T,0),v=C;var J=E(z,V,0);N(t,f,I-257),N(t,f+5,U-1),N(t,f+10,Y-4),f+=14;for(var B=0;B<Y;++B)N(t,f+3*B,z[h[B]]);f+=3*Y;for(var $=[P,D],Q=0;Q<2;++Q)for(var ee=$[Q],B=0;B<ee.length;++B){var et=31&ee[B];N(t,f,J[et]),f+=z[et],et>15&&(N(t,f,ee[B]>>>5&127),f+=ee[B]>>>12)}}else g=O,m=_,y=A,v=S;for(var B=0;B<c;++B)if(i[B]>255){var et=i[B]>>>18&31;G(t,f,g[et+257]),f+=m[et+257],et>7&&(N(t,f,i[B]>>>23&31),f+=l[et]);var er=31&i[B];G(t,f,y[er]),f+=v[er],er>3&&(G(t,f,i[B]>>>5&8191),f+=u[er])}else G(t,f,g[i[B]]),f+=m[i[B]];return G(t,f,g[256]),f+m[256]},H=new o([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),B=new s(0),Z=function(e,t,r,i,n,h){var c=e.length,d=new s(i+c+5*(1+Math.floor(c/7e3))+n),p=d.subarray(i,d.length-n),g=0;if(!t||c<8)for(var m=0;m<=c;m+=65535){var v=m+65535;v<c?g=j(p,g,e.subarray(m,v)):(p[m]=h,g=j(p,g,e.subarray(m,c)))}else{for(var b=H[t-1],x=b>>>13,E=8191&b,_=(1<<r)-1,S=new a(32768),O=new a(_+1),R=Math.ceil(r/3),A=2*R,w=function(t){return(e[t]^e[t+1]<<R^e[t+2]<<A)&_},C=new o(25e3),T=new a(288),L=new a(32),M=0,N=0,m=0,G=0,k=0,D=0;m<c;++m){var F=w(m),q=32767&m,Z=O[F];if(S[q]=Z,O[F]=q,k<=m){var z=c-m;if((M>7e3||G>24576)&&z>423){g=U(e,p,0,C,T,L,N,G,D,m-D,g),G=M=N=0,D=m;for(var V=0;V<286;++V)T[V]=0;for(var V=0;V<30;++V)L[V]=0}var Y=2,W=0,X=E,K=q-Z&32767;if(z>2&&F==w(m-K))for(var J=Math.min(x,z)-1,$=Math.min(32767,m),Q=Math.min(258,z);K<=$&&--X&&q!=Z;){if(e[m+Y]==e[m+Y-K]){for(var ee=0;ee<Q&&e[m+ee]==e[m+ee-K];++ee);if(ee>Y){if(Y=ee,W=K,ee>J)break;for(var et=Math.min(K,ee-2),er=0,V=0;V<et;++V){var ei=m-K+V+32768&32767,en=S[ei],es=ei-en+32768&32767;es>er&&(er=es,Z=ei)}}}Z=S[q=Z],K+=q-Z+32768&32767}if(W){C[G++]=268435456|f[Y]<<18|y[W];var ea=31&f[Y],eo=31&y[W];N+=l[ea]+u[eo],++T[257+ea],++L[eo],k=m+Y,++M}else C[G++]=e[m],++T[e[m]]}}g=U(e,p,h,C,T,L,N,G,D,m-D,g),h||(g=j(p,g,B))}return I(d,0,i+P(g)+n)},z=function(){var e=1,t=0;return{p:function(r){for(var i=e,n=t,s=r.length,a=0;a!=s;){for(var o=Math.min(a+5552,s);a<o;++a)i+=r[a],n+=i;i%=65521,n%=65521}e=i,t=n},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+((255&e)<<23)*2}}},V=function(e,t){var r={};for(var i in e)r[i]=e[i];for(var i in t)r[i]=t[i];return r},Y=function(e,t,r){for(var i=e(),n=e.toString(),s=n.slice(n.indexOf("[")+1,n.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<i.length;++a){var o=i[a],l=s[a];if("function"==typeof o){t+=";"+l+"=";var u=o.toString();if(o.prototype){if(-1!=u.indexOf("[native code]")){var h=u.indexOf(" ",8)+1;t+=u.slice(h,u.indexOf("(",h))}else for(var c in t+=u,o.prototype)t+=";"+l+".prototype."+c+"="+o.prototype[c].toString()}else t+=u}else r[l]=o}return[t,r]},W=[],X=function(e){var t=[];for(var r in e)(e[r]instanceof s||e[r]instanceof a||e[r]instanceof o)&&t.push((e[r]=new e[r].constructor(e[r])).buffer);return t},K=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},J=function(e,t){var r=t.level,i=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=i<<6|(i?32-2*i:1)},$=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function Q(e,t){void 0===t&&(t={});var r,i,n,s,a,o=z();o.p(e);var l=(n=2,s=4,Z(r=e,null==(i=t).level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+i.mem,2,4,true));return J(l,t),K(l,l.length-4,o.d()),l}function ee(e,t){return M(($(e),e.subarray(2,-4)),t)}}),a("dNJ6r",function(e,t){var r=s("2ozqO");e.exports=r("cibnX").then(()=>s("9d6XQ"))}),a("2ozqO",function(e,t){e.exports=function(e){return import(s("dRo73").resolve(e))}}),a("dRo73",function(e,r){t(e.exports,"register",()=>i,e=>i=e),t(e.exports,"resolve",()=>n,e=>n=e);var i,n,s=new Map;i=function(e,t){for(var r=0;r<t.length-1;r+=2)s.set(t[r],{baseUrl:e,path:t[r+1]})},n=function(e){var t=s.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),a("cusDh",function(e,t){var r=s("2ozqO");e.exports=r("dB2vH").then(()=>s("fgoI4"))}),a("4s1Fc",function(e,t){var r=s("2ozqO");e.exports=r("jyybT").then(()=>s("hTqfs"))}),a("9BdHO",function(e,t){var r=s("4QhZh");r.default.prototype.flyTo&&console.warn("[OL-EXT] ol/View~View.flyTo redefinition"),r.default.prototype.flyTo=function(e,t){e=e||{},this.cancelAnimations();var r=e.duration||2e3,i=e.zoomAt||Math.min(e.zoom||100,this.getZoom())-2,n=e.zoom||this.getZoom(),s=e.center||this.getCenter();this.animate({center:s,duration:r,easing:e.easing,anchor:e.anchor,rotation:e.rotation}),this.animate({zoom:i,duration:r/2,easing:e.easing,anchor:e.anchor},{zoom:n,duration:r/2,easing:e.easing,anchor:e.anchor},"function"==typeof t?t:function(){})},r.default.prototype.takeTour=function(e,t){t=t||{};var r=-1,i=(function(n){if(n){var s=e[++r];if("function"==typeof t.step&&t.step(r,e),s){s instanceof Array&&(s={center:[s[0],s[1]],zoom:s[2],type:s[3]});var a=0===r?0:t.delay||750;s.easing||(s.easing=t.easing),s.type||(s.type=t.type),setTimeout((function(){"moveTo"===s.type?this.animate(s,i):this.flyTo(s,i)}).bind(this),a)}else"function"==typeof t.done&&t.done(!0)}else"function"==typeof t.done&&t.done(!1)}).bind(this);i(!0)},r.default}),a("76Eer",function(e,r){t(e.exports,"default",()=>v);var i=s("8rtB0"),n=s("jilwQ"),a=s("iQyfo"),o=s("4kBVU"),l=s("l9IGS"),u=s("h6Aha"),h=s("d5AAH"),c=s("2zf1Y"),d=s("610XN"),p=s("20LS2"),f=s("iGyOD"),g=s("j2K3b"),m=s("hvEnP");n.default.prototype.info={zmin:"Zmin ",zmax:"Zmax ",ytitle:"Altitude (m) ",xtitle:"Distance (km) ",time:"Temps ",altitude:"Altitude ",distance:"Distance ",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"};class y extends i.default{constructor(e){super({html:'<i class="fg-profile"></i>',className:"profilBt",onToggle:e=>{e&&this.showSelect()}}),this.select=e.select,this.select.on("select",()=>{this.showSelect()}),this.content=(0,a.default).create("DIV",{className:"profil",parent:this.element}),(0,a.default).create("DIV",{className:"profil-info",html:"Sélectionnez une ligne sur la carte...",parent:this.content}),(0,a.default).create("DIV",{className:"profil-error",html:"Impossible de calculer l'altitude...",parent:this.content}),this.profil=new n.default({target:this.content,style:new l.default({fill:new c.default({color:"#ccc"})}),width:400,height:200}),e.map.addControl(this.profil);let t=new d.default({source:new p.default,visible:!1,map:e.map,style:new l.default({image:new u.default({radius:10,radius2:5,points:5,stroke:new h.default({color:[255,255,255,.8],width:1.5}),fill:new c.default({color:[255,0,0,.5]})})})}),r=new f.default(new g.default([0,0]));t.getSource().addFeature(r),this.profil.on("over",e=>{r.getGeometry().setCoordinates(e.coord),t.setVisible(!0)}),this.profil.on(["out","change:active"],()=>{t.setVisible(!1)})}}y.prototype.showSelect=function(){let e;if(!this.getActive())return;let t=this.select.getFeatures().item(0);if(t&&this.feature===t){this.content.className="profil";return}if(t&&(e=t.getGeometry()).getLineString&&(e=e.getLineString()),e&&"LineString"===e.getType()){if(/Z/.test(e.getLayout()))this.content.className="profil",this.profil.setGeometry(e,{amplitude:500,zmin:0});else{let t=e.getCoordinates();if(t.length>600){let e=600/t.length,r=0,i=t;t=[],i.forEach((i,n)=>{r+1<n*e&&(t.push(i),r++)})}let r=[];if(t.length<=200)r.push(e);else for(let e=0;e<t.length/200;e++){let i=t.slice(200*e,(e+1)*200+1);i.length>1&&r.push(new m.default(i))}this.content.className="profil loading",this._alticode(r,[])}this.feature=t}else this.content.className="profil hidden"},y.prototype._alticode=function(e,t){let r=e.shift();(0,o.ol_geom_GPAltiCode)(r,{sampling:100,samplingDist:500,success:r=>{t.push(r.getCoordinates()),e.length?this._alticode(e,t):(t.length>1&&(r=new m.default(Array.prototype.concat.apply([],t))),this.content.className="profil",this.profil.setGeometry(r,{amplitude:500,zmin:0}))},error:()=>{this.content.className="profil error"}})};var v=y}),a("jilwQ",function(e,r){t(e.exports,"default",()=>m);var i=s("7qu5m"),n=s("gzr8q"),a=s("4DafG"),o=s("iGyOD"),l=s("2zf1Y"),u=s("l9IGS"),h=s("d5AAH"),c=s("kuKBR"),d=s("hvEnP"),p=s("23ytq"),f=s("iQyfo"),g=class extends a.default{constructor(e){e=e||{};var t,r,i=document.createElement("div");super({element:i,target:e.target});var n=this;if(this.info=e.info||g.prototype.info,e.target)i.classList.add(e.className||"ol-profil");else{i.className=((e.className||"ol-profil")+" ol-unselectable ol-control ol-collapsed").trim(),this.button=document.createElement("button"),this.button.title=e.title||"Profile",this.button.setAttribute("type","button");var s=function(e){n.toggle(),e.preventDefault()};this.button.addEventListener("click",s),this.button.addEventListener("touchstart",s),i.appendChild(this.button),(0,f.default).create("I",{parent:this.button})}e.style instanceof u.default?this._style=e.style:this._style=new u.default({text:new c.default,stroke:new h.default({width:1.5,color:"#369"})}),this._style.getText()||this._style.setText(new c.default),e.selectStyle instanceof u.default?this._selectStyle=e.selectStyle:this._selectStyle=new u.default({fill:new l.default({color:"#369"})});var a=document.createElement("div");a.classList.add("ol-inner"),i.appendChild(a);var o=document.createElement("div");o.style.position="relative",a.appendChild(o);var p=this.ratio=2;this.canvas_=document.createElement("canvas"),this.canvas_.width=(e.width||300)*p,this.canvas_.height=(e.height||150)*p;var m={msTransform:"scale(0.5,0.5)",msTransformOrigin:"0 0",webkitTransform:"scale(0.5,0.5)",webkitTransformOrigin:"0 0",mozTransform:"scale(0.5,0.5)",mozTransformOrigin:"0 0",transform:"scale(0.5,0.5)",transformOrigin:"0 0"};Object.keys(m).forEach(function(e){e in n.canvas_.style&&(n.canvas_.style[e]=m[e])});var y=document.createElement("div");o.appendChild(y),y.style.width=this.canvas_.width/p+"px",y.style.height=this.canvas_.height/p+"px",y.appendChild(this.canvas_),y.addEventListener("pointerdown",this.onMove.bind(this)),document.addEventListener("pointerup",this.onMove.bind(this)),y.addEventListener("mousemove",this.onMove.bind(this)),y.addEventListener("touchmove",this.onMove.bind(this)),this.set("selectable",e.selectable),this.margin_={top:10*p,left:45*p,bottom:30*p,right:10*p},this.info.ytitle||(this.margin_.left-=20*p),this.info.xtitle||(this.margin_.bottom-=20*p),this.bar_=document.createElement("div"),this.bar_.classList.add("ol-profilbar"),this.bar_.style.top=this.margin_.top/p+"px",this.bar_.style.height=(this.canvas_.height-this.margin_.top-this.margin_.bottom)/p+"px",o.appendChild(this.bar_),this.cursor_=document.createElement("div"),this.cursor_.classList.add("ol-profilcursor"),o.appendChild(this.cursor_),this.popup_=document.createElement("div"),this.popup_.classList.add("ol-profilpopup"),this.cursor_.appendChild(this.popup_);var v=document.createElement("table");v.cellPadding="0",v.cellSpacing="0",v.style.clientWidth=this.canvas_.width/p+"px",o.appendChild(v);var b=document.createElement("tr");b.classList.add("track-info"),v.appendChild(b);var x=document.createElement("td");x.innerHTML=(this.info.zmin||"Zmin")+': <span class="zmin">',b.appendChild(x);var E=document.createElement("td");E.innerHTML=(this.info.zmax||"Zmax")+': <span class="zmax">',b.appendChild(E);var _=document.createElement("td");_.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',b.appendChild(_);var S=document.createElement("td");S.innerHTML=(this.info.time||"Time")+': <span class="time">',b.appendChild(S);var O=document.createElement("tr");O.classList.add("point-info"),v.appendChild(O);var R=document.createElement("td");R.innerHTML=(this.info.altitude||"Altitude")+': <span class="z">',O.appendChild(R);var A=document.createElement("td");A.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',O.appendChild(A);var w=document.createElement("td");w.innerHTML=(this.info.time||"Time")+': <span class="time">',O.appendChild(w),this.tab_=[],e.feature&&this.setGeometry(e.feature),e.zoomable&&(this.set("selectable",!0),this.on("change:geometry",function(){r=null}),this.on("dragstart",function(e){t=e.index}),this.on("dragend",(function(e){if(Math.abs(t-e.index)>10){if(!r)var n=(0,f.default).create("BUTTON",{parent:i,className:"ol-zoom-out",click:(function(e){e.stopPropagation(),e.preventDefault(),r&&(this.dispatchEvent({type:"zoom"}),this.setGeometry(r,this._geometry[1])),i.removeChild(n)}).bind(this)});var s=r||this._geometry[0],a=new d.default(this.getSelection(t,e.index));this.setGeometry(a,this._geometry[1]),r=s,this.dispatchEvent({type:"zoom",geometry:a,start:t,end:e.index})}}).bind(this)))}popup(e){this.popup_.innerHTML=e}_drawAt(e,t){e?(this.cursor_.style.left=t+"px",this.cursor_.style.top=(this.canvas_.height-this.margin_.bottom+e[1]*this.scale_[1]+this.dy_)/this.ratio+"px",this.cursor_.style.display="block",this.bar_.parentElement.classList.add("over"),this.bar_.style.left=t+"px",this.bar_.style.display="block",this.element.querySelector(".point-info .z").textContent=e[1]+this.info.altitudeUnits,this.element.querySelector(".point-info .dist").textContent=(e[0]/1e3).toFixed(1)+this.info.distanceUnitsKM,this.element.querySelector(".point-info .time").textContent=e[2],t>this.canvas_.width/this.ratio/2?this.popup_.classList.add("ol-left"):this.popup_.classList.remove("ol-left")):(this.cursor_.style.display="none",this.bar_.style.display="none",this.cursor_.style.display="none",this.bar_.parentElement.classList.remove("over"))}showAt(e){var t,r,i,n=1/0;if(void 0===e)this.bar_.parentElement.classList.contains("over")&&this._drawAt();else if(e.length)for(t=1;r=this.tab_[t];t++){var s=(0,p.ol_coordinate_dist2d)(r[3],e);s<n&&(i=r,n=s)}else for(t=0;(r=this.tab_[t])&&(i=r,!(r[0]>=e));t++);if(i){var a=(i[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(i,a),i[3]}return null}showAtTime(e,t){var r,i,n;if(e instanceof Date?e=e.getTime()/1e3:t&&(e+=this.tab_[0][3][3]),void 0===e)this.bar_.parentElement.classList.contains("over")&&this._drawAt();else for(r=0;(i=this.tab_[r])&&(n=i,!(i[3][3]>=e));r++);if(n){var s=(n[0]*this.scale_[0]+this.margin_.left)/this.ratio;return this._drawAt(n,s),n[3]}return null}pointAtTime(e){var t,r;for(t=1;r=this.tab_[t];t++){var i=r[3][3];if(i>=e){var n=this.tab_[t-1][3];if((n[3]+i)/2<e)return n;return r}}return this.tab_[this.tab_.length-1][3]}onMove(e){if(this.tab_.length){var t=this.canvas_.getBoundingClientRect(),r={top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft},i=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX,n=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY,s=i-r.left,a=n-r.top,o=this.ratio;if(s>this.margin_.left/o-20&&s<(this.canvas_.width-this.margin_.right)/o+8&&a>this.margin_.top/o&&a<(this.canvas_.height-this.margin_.bottom)/o){var l,u,h=(s*o-this.margin_.left)/this.scale_[0],c=this.tab_[0];for(l=1;u=this.tab_[l];l++)if(u[0]>=h){h<(u[0]+c[0])/2&&(l=0,u=c);break}switch(u||(u=this.tab_[this.tab_.length-1]),s=Math.max(this.margin_.left/o,Math.min(s,(this.canvas_.width-this.margin_.right)/o)),this._drawAt(u,s),this.dispatchEvent({type:"over",click:"click"===e.type,index:l,coord:u[3],time:u[2],distance:u[0]}),e.type){case"pointerdown":this._dragging={event:{type:"dragstart",index:l,coord:u[3],time:u[2],distance:u[0]},pageX:i,pageY:n};break;case"pointerup":this._dragging&&this._dragging.pageX?3>Math.abs(this._dragging.pageX-i)&&3>Math.abs(this._dragging.pageY-n)&&(this.dispatchEvent({type:"click",index:l,coord:u[3],time:u[2],distance:u[0]}),this.refresh()):this.dispatchEvent({type:"dragend",index:l,coord:u[3],time:u[2],distance:u[0]}),this._dragging=!1;break;default:if(this._dragging){if(this._dragging.pageX)(Math.abs(this._dragging.pageX-i)>3||Math.abs(this._dragging.pageY-n)>3)&&(this._dragging.pageX=this._dragging.pageY=!1,this.dispatchEvent(this._dragging.event));else{this.dispatchEvent({type:"dragging",index:l,coord:u[3],time:u[2],distance:u[0]});var d=Math.min(this._dragging.event.index,l),p=Math.max(this._dragging.event.index,l);this.refresh(),this.get("selectable")&&this._drawGraph(this.tab_.slice(d,p),this._selectStyle)}}}}else this.bar_.parentElement.classList.contains("over")&&(this._drawAt(),this.dispatchEvent({type:"out"})),"pointerup"===e.type&&this._dragging&&(this.dispatchEvent({type:"dragcancel"}),this._dragging=!1)}}show(){this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"show",show:!0})}hide(){this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"show",show:!1})}toggle(){this.element.classList.toggle("ol-collapsed");var e=this.element.classList.contains("ol-collapsed");this.dispatchEvent({type:"show",show:!e})}isShown(){return!this.element.classList.contains("ol-collapsed")}getSelection(e,t){for(var r=[],i=Math.max(Math.min(e,t),0),n=Math.min(Math.max(e,t),this.tab_.length-1),s=i;s<=n;s++)r.push(this.tab_[s][3]);return r}_drawGraph(e,t){if(e.length){var r,i,n=this.canvas_.getContext("2d"),s=this.scale_[0],a=this.scale_[1],o=this.dy_,l=this.ratio;for(n.beginPath(),r=0;i=e[r];r++)0==r?n.moveTo(i[0]*s,i[1]*a+o):n.lineTo(i[0]*s,i[1]*a+o);t.getStroke()&&(n.strokeStyle=t.getStroke().getColor()||"#000",n.lineWidth=t.getStroke().getWidth()*l,n.setLineDash([]),n.stroke()),t.getFill()&&(n.fillStyle=t.getFill().getColor()||"#000",n.Style=t.getFill().getColor()||"#000",n.lineTo(e[e.length-1][0]*s,0),n.lineTo(e[0][0]*s,0),n.fill())}}setGeometry(e,t){if(t||(t={}),e instanceof o.default&&(e=e.getGeometry()),this._geometry=[e,t],/Z/.test(e.getLayout())){/M/.test(e.getLayout())?this.element.querySelector(".time").parentElement.style.display="block":this.element.querySelector(".time").parentElement.style.display="none";var r,s,a=e.getCoordinates();switch(e.getType()){case"LineString":break;case"MultiLineString":a=a[0];break;default:return}var l,u,h,c,d,p=t.projection||this.getMap().getView().getProjection(),f=1/0,g=-1/0,m=this.tab_=[];for(l=0;u=a[l];l++)(c=u[2])<f&&(f=c),c>g&&(g=c),0==l?h=0:h+=(r=a[l-1],s=u,(0,i.getDistance)((0,n.transform)(r,p,"EPSG:4326"),(0,n.transform)(s,p,"EPSG:4326"))),d=function(e,t){if(!e||!t)return"-";var r=(t-e)/60,i=Math.trunc(r/60),n=Math.trunc(r-60*i);return i+"h"+(n<10?"0":"")+n+"mn"}(a[0][3],u[3]),m.push([h,c,d,u]);this._z=[f,g],this.set("graduation",t.graduation||100),this.set("zmin",t.zmin),this.set("zmax",t.zmax),this.set("amplitude",t.amplitude),this.set("unit",t.unit),this.set("zunit",t.zunit),this.set("zDigits",t.zDigits),this.set("zMaxChars",t.zMaxChars),this.dispatchEvent({type:"change:geometry",geometry:e}),this.refresh()}}refresh(){var e,t,r,i=this.canvas_,n=i.getContext("2d"),s=i.width,a=i.height;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,s,a);var o=this._z[0],l=this._z[1],u=this.tab_,h=u[u.length-1][0],c=u[u.length-1][2];if(!h){console.error("[ol/control/Profil] no data...",u);return}n.setTransform(1,0,0,1,this.margin_.left,a-this.margin_.bottom);var d=this.ratio;s-=this.margin_.right+this.margin_.left,a-=this.margin_.top+this.margin_.bottom,n.strokeStyle=this._style.getText().getFill().getColor()||"#000",n.lineWidth=.5*d,n.beginPath(),n.moveTo(0,0),n.lineTo(0,-a),n.moveTo(0,0),n.lineTo(s,0),n.stroke(),this.element.querySelector(".track-info .zmin").textContent=o.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .zmax").textContent=l.toFixed(2)+this.info.altitudeUnits,h>1e3?this.element.querySelector(".track-info .dist").textContent=(h/1e3).toFixed(1)+this.info.distanceUnitsKM:this.element.querySelector(".track-info .dist").textContent=h.toFixed(1)+this.info.distanceUnitsM,this.element.querySelector(".track-info .time").textContent=c;for(var p=this.get("graduation");;)if(a/(((l=Math.ceil(l/p)*p)-(o=Math.floor(o/p)*p))/p)<15*d)p*=2;else break;"number"==typeof this.get("zmin")&&o>this.get("zmin")&&(o=this.get("zmin")),"number"==typeof this.get("zmax")&&l<this.get("zmax")&&(l=this.get("zmax"));var f=this.get("amplitude");f&&(l=Math.max(o+f,l));var g=s/h,m=-a/(l-o),y=this.dy_=-o*m;this.scale_=[g,m],this._drawGraph(u,this._style),n.textAlign="right",n.textBaseline="top",n.fillStyle=this._style.getText().getFill().getColor()||"#000",n.beginPath();var v=this.get("zDigits")||0,b=null;if("number"==typeof this.get("zMaxChars")&&(t="km"!=this.get("zunit")?Math.max(o.toFixed(v).length,l.toFixed(v).length):Math.max((o/1e3).toFixed(1).length,(l/1e3).toFixed(1).length),this.get("zMaxChars")<t)){b=Math.floor(Math.log10(Math.max(Math.abs(o),Math.abs(l),Number.MIN_VALUE))),n.font="bold "+9*d+"px arial",n.fillText(b.toString(),-8*d,8*d);var x=n.measureText(b.toString()),E=x.width,_=x.actualBoundingBoxAscent+x.actualBoundingBoxDescent;n.font="bold "+12*d+"px arial",n.fillText("10",-8*d-E,8*d+.5*_)}for(n.font=10*d+"px arial",n.textBaseline="middle",e=o;e<=l;e+=p){if(null!==b){var S=e/Math.pow(10,b);"km"==this.get("zunit")&&(S/=1e3);var O=this.get("zMaxChars")-Math.floor(Math.log10(Math.max(Math.abs(S),1))+1)-1;S<0&&(O-=1),this.get("zunit"),n.fillText(S.toFixed(Math.max(O,0)),-4*d,e*m+y)}else"km"!=this.get("zunit")?n.fillText(e.toFixed(v),-4*d,e*m+y):n.fillText((e/1e3).toFixed(1),-4*d,e*m+y);n.moveTo(-2*d,e*m+y),0!=e?n.lineTo(h*g,e*m+y):n.lineTo(0,e*m+y)}n.textAlign="center",n.textBaseline="top",n.setLineDash([d,3*d]);var R=this.get("unit")||"km";for(h>1e3?(r=100*Math.round(h/1e3))>1e3&&(r=1e3*Math.ceil(r/1e3)):(R="m",r=h>100?10*Math.round(h/100):h>10?Math.round(h/10):h>1?Math.round(h)/10:h),e=0;e<=h;e+=r){var A="m"==R?e:e/1e3;n.fillText(Math.round(10*A)/10,e*g,4*d),n.moveTo(e*g,2*d),n.lineTo(e*g,0)}n.font=12*d+"px arial",n.fillText(this.info.xtitle.replace("(km)","("+R+")"),s/2,18*d),n.save(),n.rotate(-Math.PI/2),n.fillText(this.info.ytitle,a/2,-this.margin_.left),n.restore(),n.stroke()}getImage(e,t){return"canvas"===e?this.canvas_:this.canvas_.toDataURL(e,t)}};g.prototype.info={zmin:"Zmin",zmax:"Zmax",ytitle:"Altitude (m)",xtitle:"Distance (km)",time:"Time",altitude:"Altitude",distance:"Distance",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"};var m=g}),a("4kBVU",function(e,r){t(e.exports,"ol_geom_GPAltiCode",()=>a);var i=s("fkmMz"),n=s("23ytq");s("j2K3b"),s("hvEnP");var a=function(e,t){t=t||{};var r=e.getType();if("Point"!==r&&"LineString"!==r){console.warn("[GPAltiCode] "+r+" not supported...");return}var s=t.projection||"EPSG:3857",a=void 0===t.minZ?-99:t.minZ,o=t.sampling||0;if(t.samplingDist){var l=e.getLength();o=Math.max(o,Math.round(l/t.samplingDist))}o>5e3&&(o=5e3),o<2&&(o=0),e=e.clone().transform(s,"EPSG:4326");var u,h=[],c=[];switch(r){case"Point":u=[e.getCoordinates()];break;case"LineString":u=e.getCoordinates();break;default:return}o<=u.length&&(o=0),u.forEach(function(e){h.push(Math.round(1e6*e[0])/1e6),c.push(Math.round(1e6*e[1])/1e6)});var d="lon="+h.join("|")+"&lat="+c.join("|");d+="&resource=ign_rge_alti_wld",o&&(d+="&sampling="+o),(0,i.default).get({url:"https://data.geopf.fr/altimetrie/1.0/calcul/alti/rest/"+(h.length>1?"elevationLine":"elevation")+".json?"+d,success:function(e){var i=[];e.elevations.forEach(function(e,t){o?i.push([e.lon,e.lat,Math.max(a,e.z)]):i.push([u[t][0],u[t][1],Math.max(a,e.z)])}),"Point"===r&&(i=i[0]);var l=(0,n.ol_geom_createFromType)(r,i);l.transform("EPSG:4326",s),"function"==typeof t.success&&t.success(l)},error:function(e){"function"==typeof t.error&&t.error(e)}})}}),a("66krt",function(e,t){var r,i;r=e.exports,i=function(){for(var e=[null,[[10,7,17,13],[1,1,1,1],[]],[[16,10,28,22],[1,1,1,1],[4,16]],[[26,15,22,18],[1,1,2,2],[4,20]],[[18,20,16,26],[2,1,4,2],[4,24]],[[24,26,22,18],[2,1,4,4],[4,28]],[[16,18,28,24],[4,2,4,4],[4,32]],[[18,20,26,18],[4,2,5,6],[4,20,36]],[[22,24,26,22],[4,2,6,6],[4,22,40]],[[22,30,24,20],[5,2,8,8],[4,24,44]],[[26,18,28,24],[5,4,8,8],[4,26,48]],[[30,20,24,28],[5,4,11,8],[4,28,52]],[[22,24,28,26],[8,4,11,10],[4,30,56]],[[22,26,22,24],[9,4,16,12],[4,32,60]],[[24,30,24,20],[9,4,16,16],[4,24,44,64]],[[24,22,24,30],[10,6,18,12],[4,24,46,68]],[[28,24,30,24],[10,6,16,17],[4,24,48,72]],[[28,28,28,28],[11,6,19,16],[4,28,52,76]],[[26,30,28,28],[13,6,21,18],[4,28,54,80]],[[26,28,26,26],[14,7,25,21],[4,28,56,84]],[[26,28,28,30],[16,8,25,20],[4,32,60,88]],[[26,28,30,28],[17,8,25,23],[4,26,48,70,92]],[[28,28,24,30],[17,9,34,23],[4,24,48,72,96]],[[28,30,30,30],[18,9,30,25],[4,28,52,76,100]],[[28,30,30,30],[20,10,32,27],[4,26,52,78,104]],[[28,26,30,30],[21,12,35,29],[4,30,56,82,108]],[[28,28,30,28],[23,12,37,34],[4,28,56,84,112]],[[28,30,30,30],[25,12,40,34],[4,32,60,88,116]],[[28,30,30,30],[26,13,42,35],[4,24,48,72,96,120]],[[28,30,30,30],[28,14,45,38],[4,28,52,76,100,124]],[[28,30,30,30],[29,15,48,40],[4,24,50,76,102,128]],[[28,30,30,30],[31,16,51,43],[4,28,54,80,106,132]],[[28,30,30,30],[33,17,54,45],[4,32,58,84,110,136]],[[28,30,30,30],[35,18,57,48],[4,28,56,84,112,140]],[[28,30,30,30],[37,19,60,51],[4,32,60,88,116,144]],[[28,30,30,30],[38,19,63,53],[4,28,52,76,100,124,148]],[[28,30,30,30],[40,20,66,56],[4,22,48,74,100,126,152]],[[28,30,30,30],[43,21,70,59],[4,26,52,78,104,130,156]],[[28,30,30,30],[45,22,74,62],[4,30,56,82,108,134,160]],[[28,30,30,30],[47,24,77,65],[4,24,52,80,108,136,164]],[[28,30,30,30],[49,25,81,68],[4,28,56,84,112,140,168]]],t=/^\d*$/,r=/^[A-Za-z0-9 $%*+\-./:]*$/,i=/^[A-Z0-9 $%*+\-./:]*$/,n=[],s=[-1],a=0,o=1;a<255;++a)n.push(o),s[o]=a,o=2*o^(o>=128?285:0);for(var l=[[]],a=0;a<30;++a){for(var u=l[a],h=[],c=0;c<=a;++c){var d=c<a?n[u[c]]:0,p=n[(a+(u[c-1]||0))%255];h.push(s[d^p])}l.push(h)}for(var f={},a=0;a<45;++a)f["0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".charAt(a)]=a;var g=[function(e,t){return(e+t)%2==0},function(e,t){return e%2==0},function(e,t){return t%3==0},function(e,t){return(e+t)%3==0},function(e,t){return((e/2|0)+(t/3|0))%2==0},function(e,t){return e*t%2+e*t%3==0},function(e,t){return(e*t%2+e*t%3)%2==0},function(e,t){return((e+t)%2+e*t%3)%2==0}],m=function(e){return e>6},y=function(t){var r=e[t],i=16*t*t+128*t+64;return m(t)&&(i-=36),r[2].length&&(i-=25*r[2].length*r[2].length-10*r[2].length-55),i},v=function(t,r){var i=-8&y(t),n=e[t];return i-8*n[0][r]*n[1][r]},b=function(e,t){switch(t){case 1:return e<10?10:e<27?12:14;case 2:return e<10?9:e<27?11:13;case 4:return e<10?8:16;case 8:return e<10?8:e<27?10:12}},x=function(e,t,r){var i=v(e,r)-4-b(e,t);switch(t){case 1:return(i/10|0)*3+(i%10<4?0:i%10<7?1:2);case 2:return(i/11|0)*2+(i%11<6?0:1);case 4:return i/8|0;case 8:return i/13|0}},E=function(e,i){switch(e){case 1:if(!i.match(t))return null;return i;case 2:if(!i.match(r))return null;return i.toUpperCase();case 4:if("string"!=typeof i)return i;for(var n=[],s=0;s<i.length;++s){var a=i.charCodeAt(s);a<128?n.push(a):a<2048?n.push(192|a>>6,128|63&a):a<65536?n.push(224|a>>12,128|a>>6&63,128|63&a):n.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a)}return n}},_=function(e,t,r,i){var n=[],s=0,a=8,o=r.length,l=function(e,t){if(t>=a){for(n.push(s|e>>(t-=a));t>=8;)n.push(e>>(t-=8)&255);s=0,a=8}t>0&&(s|=(e&(1<<t)-1)<<(a-=t))},u=b(e,t);switch(l(t,4),l(o,u),t){case 1:for(var h=2;h<o;h+=3)l(parseInt(r.substring(h-2,h+1),10),10);l(parseInt(r.substring(h-2),10),[0,4,7][o%3]);break;case 2:for(var h=1;h<o;h+=2)l(45*f[r.charAt(h-1)]+f[r.charAt(h)],11);o%2==1&&l(f[r.charAt(h-1)],6);break;case 4:for(var h=0;h<o;++h)l(r[h],8)}for(l(0,4),a<8&&n.push(s);n.length+1<i;)n.push(236,17);return n.length<i&&n.push(236),n},S=function(e,t){for(var r=e.slice(0),i=e.length,a=t.length,o=0;o<a;++o)r.push(0);for(var o=0;o<i;){var l=s[r[o++]];if(l>=0)for(var u=0;u<a;++u)r[o+u]^=n[(l+t[u])%255]}return r.slice(i)},O=function(e,t,r){for(var i=[],n=e.length/t|0,s=0,a=t-e.length%t,o=0;o<a;++o)i.push(s),s+=n;for(var o=a;o<t;++o)i.push(s),s+=n+1;i.push(s);for(var l=[],o=0;o<t;++o)l.push(S(e.slice(i[o],i[o+1]),r));for(var u=[],h=e.length/t|0,o=0;o<h;++o)for(var c=0;c<t;++c)u.push(e[i[c]+o]);for(var c=a;c<t;++c)u.push(e[i[c+1]-1]);for(var o=0;o<r.length;++o)for(var c=0;c<t;++c)u.push(l[c][o]);return u},R=function(e,t,r,i){for(var n=e<<i,s=t-1;s>=0;--s)n>>i+s&1&&(n^=r<<s);return e<<i|n},A=function(t){for(var r=e[t],i=4*t+17,n=[],s=[],a=0;a<i;++a)n.push([]),s.push([]);var o=function(e,t,r,i,a){for(var o=0;o<r;++o)for(var l=0;l<i;++l)n[e+o][t+l]=a[o]>>l&1,s[e+o][t+l]=1};o(0,0,9,9,[127,65,93,93,93,65,383,0,64]),o(i-8,0,8,9,[256,127,65,93,93,93,65,127]),o(0,i-8,9,8,[254,130,186,186,186,130,254,0,0]);for(var a=9;a<i-8;++a)n[6][a]=n[a][6]=1&~a,s[6][a]=s[a][6]=1;for(var l=r[2],u=l.length,a=0;a<u;++a)for(var h=0==a||a==u-1?1:0,c=0==a?u-1:u,d=h;d<c;++d)o(l[a],l[d],5,5,[31,17,21,17,31]);if(m(t))for(var p=R(t,6,7973,12),f=0,a=0;a<6;++a)for(var d=0;d<3;++d)n[a][i-11+d]=n[i-11+d][a]=p>>f++&1,s[a][i-11+d]=s[i-11+d][a]=1;return{matrix:n,reserved:s}},w=function(e,t,r){for(var i=e.length,n=0,s=-1,a=i-1;a>=0;a-=2){6==a&&--a;for(var o=s<0?i-1:0,l=0;l<i;++l){for(var u=a;u>a-2;--u)!t[o][u]&&(e[o][u]=r[n>>3]>>(7&~n)&1,++n);o+=s}s=-s}return e},C=function(e,t,r){for(var i=g[r],n=e.length,s=0;s<n;++s)for(var a=0;a<n;++a)t[s][a]||(e[s][a]^=i(s,a));return e},T=function(e,t,r,i){for(var n=e.length,s=21522^R(r<<3|i,5,1335,10),a=0;a<15;++a){var o=[0,1,2,3,4,5,7,8,n-7,n-6,n-5,n-4,n-3,n-2,n-1][a],l=[n-1,n-2,n-3,n-4,n-5,n-6,n-7,n-8,7,5,4,3,2,1,0][a];e[o][8]=e[8][l]=s>>a&1}return e},L=function(e){for(var t=function(e){for(var t=0,r=0;r<e.length;++r)e[r]>=5&&(t+=3+(e[r]-5));for(var r=5;r<e.length;r+=2){var i=e[r];e[r-1]==i&&e[r-2]==3*i&&e[r-3]==i&&e[r-4]==i&&(e[r-5]>=4*i||e[r+1]>=4*i)&&(t+=40)}return t},r=e.length,i=0,n=0,s=0;s<r;++s){var a,o,l=e[s];a=[0];for(var u=0;u<r;){for(o=0;u<r&&l[u];++o)++u;for(a.push(o),o=0;u<r&&!l[u];++o)++u;a.push(o)}i+=t(a),a=[0];for(var u=0;u<r;){for(o=0;u<r&&e[u][s];++o)++u;for(a.push(o),o=0;u<r&&!e[u][s];++o)++u;a.push(o)}i+=t(a);var h=e[s+1]||[];n+=l[0];for(var u=1;u<r;++u){var c=l[u];n+=c,l[u-1]==c&&h[u]===c&&h[u-1]===c&&(i+=3)}}return i+10*(Math.abs(n/r/r-.5)/.05|0)},P=function(t,r,i,n,s){var a=e[r],o=_(r,i,t,v(r,n)>>3);o=O(o,a[1][n],l[a[0][n]]);var u=A(r),h=u.matrix,c=u.reserved;if(w(h,c,o),s<0){C(h,c,0),T(h,c,n,0);var d=0,p=L(h);for(C(h,c,0),s=1;s<8;++s){C(h,c,s),T(h,c,n,s);var f=L(h);p>f&&(p=f,d=s),C(h,c,s)}s=d}return C(h,c,s),T(h,c,n,s),h},I={generate:function(e,r){var n=(r=r||{}).version||-1,s={L:1,M:0,Q:3,H:2}[(r.ecclevel||"L").toUpperCase()],a=r.mode?({numeric:1,alphanumeric:2,octet:4})[r.mode.toLowerCase()]:-1,o="mask"in r?r.mask:-1;if(a<0)a="string"==typeof e?e.match(t)?1:e.match(i)?2:4:4;else if(!(1==a||2==a||4==a))throw"invalid or unsupported mode";if(null===(e=E(a,e)))throw"invalid data format";if(s<0||s>3)throw"invalid ECC level";if(n<0){for(n=1;n<=40&&!(e.length<=x(n,a,s));++n);if(n>40)throw"too large data"}else if(n<1||n>40)throw"invalid version";if(-1!=o&&(o<0||o>8))throw"invalid mask";return P(e,n,a,s,o)},generateHTML:function(e,t){t=t||{};for(var r=I.generate(e,t),i=Math.max(t.modulesize||5,.5),n=Math.max(null!==t.margin?t.margin:4,0),s=document.createElement("div"),a=r.length,o=['<table border="0" cellspacing="0" cellpadding="0" style="border:'+i*n+'px solid #fff;background:#fff">'],l=0;l<a;++l){o.push("<tr>");for(var u=0;u<a;++u)o.push('<td style="width:'+i+"px;height:"+i+"px"+(r[l][u]?";background:#000":"")+'" part="'+(r[l][u]?"module-fg":"module-bg")+'" ></td>');o.push("</tr>")}return s.className="qrcode",s.innerHTML=o.join("")+"</table>",s},generateSVG:function(e,t){t=t||{};var r=I.generate(e,t),i=r.length,n=Math.max(t.modulesize||5,.5),s=Math.max(null!==t.margin?t.margin:4,0),a=n*(i+2*s),o=' class= "fg" width="'+n+'" height="'+n+'"/>',l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("viewBox","0 0 "+a+" "+a),l.setAttribute("style","shape-rendering:crispEdges"),t.modulesize&&(l.setAttribute("width",a),l.setAttribute("height",a));for(var u=["<style scoped>.bg{fill:#FFF}.fg{fill:#000}</style>",'<rect class="bg" x="0" y="0"','width="'+a+'" height="'+a+'"/>'],h=s*n,c=0;c<i;++c){for(var d=s*n,p=0;p<i;++p)r[c][p]&&u.push('<rect x="'+d+'" y="'+h+'"',o),d+=n;h+=n}return l.innerHTML=u.join(""),l},generatePNG:function(e,t){t=t||{};var r,i=I.generate(e,t),n=Math.max(t.modulesize||5,.5),s=Math.max(null!==t.margin?t.margin:4,0),a=i.length,o=n*(a+2*s),l=document.createElement("canvas");if(l.width=l.height=o,!(r=l.getContext("2d")))throw"canvas support is needed for PNG output";r.fillStyle="#fff",r.fillRect(0,0,o,o),r.fillStyle="#000";for(var u=0;u<a;++u)for(var h=0;h<a;++h)i[u][h]&&r.fillRect(n*(s+h),n*(s+u),n,n);return l.toDataURL()}};return I},"function"==typeof define&&define.amd?define([],i):e.exports?e.exports=i():r.QRCode=i()}),a("ofMCX",function(e,t){var r=s("k7cyy"),i=s("gAUZM"),n=s("3SMVV"),a=s("fkmMz");i.default.prototype.getFeatureInfoUrl=r.default.prototype.getFeatureInfoUrl,i.default.prototype.getFeatureInfo=r.default.prototype.getFeatureInfo,n.default.prototype.getFeatureInfo=function(e,t,r){let i=this.getFeatureInfoUrl(e,t,"EPSG:3857",{INFO_FORMAT:r.INFO_FORMAT});(0,a.default).get({url:i,dataType:r.format||"text/plain",options:{encode:!1},success:function(e){r.callback&&r.callback(e)},error:r.error||function(){}})}});